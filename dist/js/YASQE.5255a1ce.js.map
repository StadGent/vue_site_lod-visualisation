{"version":3,"sources":["webpack:///./node_modules/yasgui-yasqe/dist/yasqe.bundled.min.js"],"names":["module","exports","f","define","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","$","deparam","params","coerce","obj","coerce_types","true","false","null","each","replace","split","j","v","val","param","key","decodeURIComponent","cur","keys","keys_last","test","shift","concat","isNaN","undefined","isArray","push","2","table","AS","OPTIONAL","MINUS","GRAPH","SERVICE","FILTER","BIND","VALUES","VAR1","VAR2","NIL","IRI_REF","TRUE","FALSE","BLANK_NODE_LABEL","ANON","PNAME_LN","PNAME_NS","STRING_LITERAL1","STRING_LITERAL2","STRING_LITERAL_LONG1","STRING_LITERAL_LONG2","INTEGER","DECIMAL","DOUBLE","INTEGER_POSITIVE","DECIMAL_POSITIVE","DOUBLE_POSITIVE","INTEGER_NEGATIVE","DECIMAL_NEGATIVE","DOUBLE_NEGATIVE","UNION","UNDEF","FROM","WHERE","ORDER","HAVING","GROUP","LIMIT","OFFSET","STR","LANG","LANGMATCHES","DATATYPE","BOUND","IRI","URI","BNODE","RAND","ABS","CEIL","FLOOR","ROUND","CONCAT","STRLEN","UCASE","LCASE","ENCODE_FOR_URI","CONTAINS","STRSTARTS","STRENDS","STRBEFORE","STRAFTER","YEAR","MONTH","DAY","HOURS","MINUTES","SECONDS","TIMEZONE","TZ","NOW","UUID","STRUUID","MD5","SHA1","SHA256","SHA384","SHA512","COALESCE","IF","STRLANG","STRDT","SAMETERM","ISIRI","ISURI","ISBLANK","ISLITERAL","ISNUMERIC","SUBSTR","REPLACE","REGEX","EXISTS","NOT","IN","BASE","PREFIX","CONSTRUCT","DESCRIBE","ASK","INSERT","DELETE","SELECT","LOAD","CLEAR","DROP","ADD","MOVE","COPY","CREATE","WITH","ASC","DESC","USING","DISTINCT","COUNT","SUM","MIN","MAX","AVG","SAMPLE","GROUP_CONCAT","SILENT","DEFAULT","NAMED","ALL","INTO","REDUCED","LANGTAG","add","additiveExpression","aggregate","allowBnodes","allowVars","argList","askQuery","baseDecl","bind","blankNode","blankNodePropertyList","blankNodePropertyListPath","booleanLiteral","brackettedExpression","builtInCall","clear","collection","collectionPath","conditionalAndExpression","conditionalOrExpression","constraint","constructQuery","constructTemplate","constructTriples","copy","create","dataBlock","dataBlockValue","datasetClause","defaultGraphClause","delete1","DATA","deleteClause","describeDatasetClause","describeQuery","disallowBnodes","disallowVars","drop","existsFunc","expression","expressionList","filter","functionCall","graphGraphPattern","graphNode","graphNodePath","graphOrDefault","graphPatternNotTriples","graphRef","graphRefAll","graphTerm","groupClause","groupCondition","groupGraphPattern","groupGraphPatternSub","groupOrUnionGraphPattern","havingClause","havingCondition","inlineData","inlineDataFull","inlineDataOneVar","insert1","insertClause","integer","iriRef","iriRefOrFunction","limitClause","limitOffsetClauses","load","minusGraphPattern","modify","move","multiplicativeExpression","namedGraphClause","notExistsFunc","numericExpression","numericLiteral","numericLiteralNegative","numericLiteralPositive","numericLiteralUnsigned","object","objectList","objectListPath","objectPath","offsetClause","optionalGraphPattern","orderClause","orderCondition","path","pathAlternative","pathElt","pathEltOrInverse","pathMod","pathNegatedPropertySet","pathOneInPropertySet","pathPrimary","pathSequence","prefixDecl","prefixedName","primaryExpression","prologue","propertyList","propertyListNotEmpty","propertyListPath","propertyListPathNotEmpty","quadData","quadDataNoBnodes","quadPattern","quadPatternNoBnodes","quads","quadsNotTriples","queryAll","rdfLiteral","regexExpression","relationalExpression","selectClause","selectQuery","serviceGraphPattern","solutionModifier","sourceSelector","sparql11","storeProperty","strReplaceExpression","string","subSelect","substringExpression","triplesBlock","triplesNode","triplesNodePath","triplesSameSubject","triplesSameSubjectPath","triplesTemplate","unaryExpression","update","update1","updateAll","usingClause","valueLogical","valuesClause","var","varOrIRIref","varOrTerm","verb","verbPath","verbSimple","whereClause","keywords","punct","startSymbol","acceptEmpty","3","CodeMirror","defineMode","config","parserConfig","indentUnit","grammar","ll1_table","PN_CHARS_BASE","PN_CHARS_U","PN_CHARS","VARNAME","PN_PREFIX","HEX","PERCENT","PN_LOCAL_ESC","PLX","PN_LOCAL","EXPONENT","ECHAR","hex4","unicode","STRING_LITERAL_LONG","SINGLE","CAT","QUOTES","CONTENTS","COMPLETE","stringLiteralLongRegex","complete","name","regex","RegExp","style","contents","closing","quotes","WS","COMMENT","WS_OR_COMMENT_STAR","terminals","getPossibles","symbol","possibles","possiblesOb","property","toString","tokenBase","stream","state","nextToken","consumed","inLiteral","closingQuotes","match","returnObj","quotePos","cat","text","start","quoteType","current","toUpperCase","recordFailurePos","col","column","errorStartPos","errorEndPos","tokenOb","setQueryType","queryType","setSideConditions","topSymbol","inPrefixDecl","checkSideConditions","pos","possibleCurrent","possibleNext","OK","finished","token","stack","pop","variables","nextSymbols","currentPnameNs","slice","prefixes","allNillable","sp","item","lastProperty","colonIndex","indexOf","prefNs","errorMsg","lastPredicateOffset","indentTop","indentTable","indent","textAfter","closeBracket","substr","dn","startState","base","tokenize","electricChars","defineMIME","4","Trie","this","words","children","prototype","insert","str","k","child","T","remove","strOld","strNew","countWord","ret","countPrefix","find","getAllWords","hasOwnProperty","autoComplete","5","mod","amd","setFullscreen","cm","wrap","getWrapperElement","fullScreenRestore","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","width","height","className","document","documentElement","overflow","refresh","setNormal","info","scrollTo","defineOption","old","Init","6","ie_lt8","navigator","userAgent","documentMode","Pos","matching","findMatchingBracket","where","strict","line","getLineHandle","ch","charAt","dir","getTokenTypeAt","found","scanForBracket","from","to","forward","maxScanLen","maxScanLineLength","maxScanLines","re","bracketRegex","lineEnd","Math","min","lastLine","max","firstLine","lineNo","getLine","end","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","marks","ranges","listSelections","empty","head","markText","focused","focus","operation","setTimeout","currentlyHighlighted","doMatchBrackets","off","on","defineExtension","7","registerHelper","tokenType","lineText","findOpening","openCh","at","pass","lastIndexOf","startToken","endToken","startCh","endCh","count","outer","nextOpen","nextClose","hasImport","getTokenAt","type","semi","prev","startLine","has","next","clipPos","hasInclude","8","doFold","options","force","finder","getOption","minSize","getRange","allowFolded","range","findMarksAt","__isFold","cleared","myWidget","makeWidget","myRange","e_preventDefault","replacedWith","clearOnEnter","signal","widget","createTextNode","createElement","appendChild","newFoldFunction","rangeFinder","commands","toggleFold","foldCode","getCursor","fold","unfold","foldAll","unfoldAll","funcs","Array","arguments","helpers","getHelpers","defaultOptions","auto","minFoldSize","scanUp","editorOptions","foldOptions","9","clearGutter","foldGutter","gutter","onGutterClick","onChange","onViewportChange","onFold","State","parseOptions","updateInViewport","opts","indicatorOpen","indicatorFolded","isFolded","findMarks","marker","spec","elt","cloneNode","updateFoldInfo","foldOption","func","eachLine","mark","setGutterMarker","vp","getViewport","folded","clearTimeout","changeUpdate","foldOnChangeTimeSpan","updateViewportTimeSpan","10","cmp","b","nameStartChar","nameChar","xmlTagStart","Iter","tagAt","iter","nextLine","prevLine","toTagEnd","gt","lastSlash","selfClose","toTagStart","lt","lastIndex","exec","index","toNextTag","toPrevTag","findMatchingClose","tag","findMatchingOpen","endLine","openTag","startPos","endPos","findMatchingTag","here","open","close","findEnclosingTag","scanForClosingTag","11","HINT_ELEMENT_CLASS","ACTIVE_HINT_ELEMENT_CLASS","Completion","debounce","tick","startLen","getSelection","self","activityFunc","cursorActivity","showHint","getHints","async","newOpts","hint","prop","selections","somethingSelected","supportsSelection","anchor","completionActive","completion","requestAnimationFrame","fn","cancelAnimationFrame","isNewCompletion","nw","moved","cmpPos","editor","hintOptions","out","resolve","getText","buildKeyMap","handle","baseMap","Up","moveFocus","Down","PageUp","menuSize","PageDown","Home","setFocus","End","Enter","pick","Tab","Esc","custom","customKeys","ourMap","addBinding","bound","extra","extraKeys","getHintElement","hintsElement","el","nodeName","parentNode","Widget","data","picked","hints","selectedHint","completions","list","render","displayText","hintId","cursorCoords","alignWithWord","left","top","bottom","below","winW","innerWidth","body","offsetWidth","winH","innerHeight","offsetHeight","container","box","getBoundingClientRect","overlapY","scrolls","scrollHeight","clientHeight","startScroll","getScrollInfo","curTop","cursor","closingOnBlur","overlapX","right","node","firstChild","nextSibling","paddingRight","display","nativeBarWidth","addKeyMap","keyMap","avoidWrap","changeActive","screenAmount","closeOnUnfocus","onBlur","onFocus","onScroll","curScroll","newTop","point","target","srcElement","completeOnSingleClick","applicableHelpers","result","fetchHints","callback","then","resolveAutoHints","resolved","app","run","getHelper","fromList","anyword","active","replaceRange","closeCharacters","disable","first","myTick","finishUpdate","completeSingle","removeChild","removeKeyMap","childNodes","offsetTop","floor","term","word","autocomplete","12","runMode","modespec","mode","getMode","defaults","ie","ie_lt9","tabSize","innerHTML","content","idx","size","lines","splitLines","StringStream","blankLine","eol","13","SearchCursor","doc","query","caseFold","atOccurrence","global","source","ignoreCase","matches","reverse","cutOff","newMatch","matchLen","origQuery","toLowerCase","orig","adjustPos","origTarget","last","ln","cut","pos1","len1","findNext","findPrevious","savePosAndFail","maxLine","lineCount","newText","origin","defineDocExtension","getSearchCursor","setSelections","14","platform","gecko","ie_upto10","ie_11up","ie_version","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","mobile","mac","chromeOS","windows","presto_version","Number","flipCtrlCmd","captureRightClick","sawReadOnlySpans","sawCollapsedSpans","place","copyObj","setGuttersForLineNumbers","value","Doc","lineSeparator","input","inputStyles","inputStyle","Display","wrapper","updateGutters","themeChanged","lineWrapping","autofocus","initScrollbars","keyMaps","overlays","modeGen","overwrite","delayingBlurEvent","suppressEdits","pasteIncoming","cutIncoming","selectingText","draggingText","highlight","Delayed","keySeq","specialChars","opt","reset","registerEventHandlers","ensureGlobalHandlers","startOperation","curOp","forceUpdate","attachDoc","hasFocus","optionHandlers","maybeUpdateLineNumberWidth","finishInit","initHooks","endOperation","getComputedStyle","lineDiv","textRendering","d","scrollbarFiller","setAttribute","gutterFiller","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","mover","sizer","sizerWidth","heightForcer","scrollerGap","gutters","lineGutter","scroller","zIndex","draggable","viewFrom","viewTo","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","selForContextMenu","activeTouch","init","loadMode","modeOption","resetModeState","stateAfter","styles","frontier","startWorker","regChange","wrappingChanged","addClass","minWidth","rmClass","findMaxLine","estimateLineHeights","clearCaches","updateScrollbars","estimateHeight","th","textHeight","wrapping","perLine","clientWidth","charWidth","lineIsHidden","widgetsHeight","widgets","ceil","est","estHeight","updateLineHeight","theme","guttersChanged","alignHorizontally","specs","removeChildren","gutterClass","gElt","updateGutterSpace","marginLeft","lineLength","merged","len","collapsedSpanAtStart","collapsedSpanAtEnd","lineNumbers","splice","measureForScrollbars","gutterW","docH","round","paddingVert","viewHeight","scrollWidth","viewWidth","barLeft","fixedGutter","docHeight","scrollGap","gutterWidth","NativeScrollbars","scroll","vert","horiz","checkedZeroWidth","minHeight","NullScrollbars","scrollbars","scrollbarModel","scrollbarStyle","insertBefore","axis","setScrollLeft","setScrollTop","startWidth","startHeight","updateScrollbarsInner","updateHeightsInViewport","sizes","paddingBottom","borderBottom","coverGutterNextToScrollbar","visibleLines","viewport","paddingTop","lineAtHeight","ensure","ensureFrom","ensureTo","heightAtLine","comp","compensateForHScroll","hidden","align","alignable","lineNumberFor","innerW","padding","String","lineNumberFormatter","firstLineNumber","DisplayUpdate","visible","editorIsHidden","wrapperHeight","wrapperWidth","oldDisplayWidth","displayWidth","dims","getDimensions","events","maybeClipScrollbars","marginBottom","borderRightWidth","updateDisplayIfNeeded","resetView","countDirtyView","viewportMargin","visualLineNo","visualLineEndNo","different","adjustView","toUpdate","activeElt","patchDisplay","postUpdateDisplay","displayHeight","barMeasure","updateSelection","setDocumentHeight","updateDisplaySimple","finish","prevBottom","bot","diff","updateWidgetHeight","rest","gutterLeft","clientLeft","offsetLeft","fixedPos","gutterTotalWidth","updateNumbersFrom","rm","currentWheelTarget","lineN","lineView","updateNumber","lineNumber","changes","updateLineForChanges","buildLineElement","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","cls","bgClass","background","getLineContent","ext","built","buildLineContent","pre","textClass","wrapClass","gutterBackground","markers","gutterMarkers","gutterWrap","setUneditable","id","insertLineWidgets","insertLineWidgetsFor","allowAbove","ws","handleMouseEvents","positionLineWidget","above","signalLater","noHScroll","coverGutter","paddingLeft","position","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","w","pointerEvents","bar","delay","maybeDisable","elementFromPoint","set","parent","emitter","hasHandler","apply","copyPos","x","maxPos","minPos","ensureFocus","lastCopied","applyTextInput","inserted","deleted","sel","paste","textLines","multiPaste","join","map","lst","lineWise","updateInput","changeEvent","makeChange","triggerElectric","ensureCursorVisible","typing","handlePaste","pasted","clipboardData","getData","preventDefault","isReadOnly","disableInput","runInOp","smartIndent","getModeAt","indented","indentLine","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","TextareaInput","prevInput","pollingFast","polling","inaccurateSelection","hasSelection","composing","hiddenTextarea","te","div","border","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","gracePeriod","posToDOM","findViewForLine","mapFromLineView","order","getOrder","side","partPos","getBidiPartAt","nodeAndOffsetInLineMap","offset","collapse","badPos","bad","domToPos","lineNode","locateNodeInLineView","contains","textNode","nodeType","topNode","nodeValue","maps","curNode","after","dist","textContent","before","previousSibling","domTextBetween","fromLine","toLine","lineSep","recognizeMarker","walk","cmText","getAttribute","markerID","getBetween","Selection","primIndex","Range","normalizeSelection","prim","sort","inv","simpleSelection","clipLine","clipToLen","linelen","isLine","clipPosArray","array","extendRange","other","extend","posBefore","extendSelection","setSelection","primary","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","done","history","setSelectionNoUndo","addSelectionToHistory","NaN","bias","setSelectionInner","skipAtomicInSelection","equals","selectionChanged","signalCursorActivity","reCheckSelection","sel_dontScroll","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","markedSpans","m","inclusiveLeft","inclusiveRight","explicitlyCleared","atomic","near","movePos","far","cantEdit","showSelection","prepareSelection","curFragment","cursors","createDocumentFragment","selFragment","selection","collapsed","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","output","singleCursorHeightPerLine","cursorHeight","otherCursor","fragment","paddingH","leftSide","rightSide","drawForLine","fromArg","toArg","lineObj","lineLen","coords","charCoords","iterateBidiSections","rightPos","leftPos","tmp","sFrom","sTo","singleVLine","visualLine","leftEnd","rightStart","restartBlink","clearInterval","blinker","visibility","cursorBlinkRate","setInterval","time","highlightWorker","Date","workTime","copyState","getStateBefore","changedLines","oldStyles","tooLong","maxHighlightLength","highlighted","highlightLine","oldCls","styleClasses","newCls","classes","ischange","processLine","workDelay","regLineChange","findStartLine","precise","minindent","minline","lim","innerMode","search","countColumn","save","removeChildrenAndAdd","currentStyle","parseInt","ensureLineHeights","rect","curWidth","heights","rects","getClientRects","abs","cache","caches","updateExternalMeasurement","LineView","measureChar","measureCharPrepared","prepareMeasureForLine","findViewIndex","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","textarea","prepareCopyCut","signalDOMEvent","getSelections","selectInput","lineWiseCopyCut","poll","fastPoll","eventInWidget","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","minimal","selected","hasCopyEvent","getField","supportsTouch","readOnly","blur","resetPosition","receivedFocus","slowPoll","pollInterval","missed","p","changed","charCodeAt","execCommand","same","ensurePolled","onKeyPress","onContextMenu","posFromMouse","scrollPos","resetSelectionOnContextMenu","oldCSS","cssText","oldWrapperCSS","wrapperBox","clientY","clientX","oldScrollY","scrollY","detectingSelectAll","prepareSelectAllHack","e_stop","mouseup","rehide","selectionStart","extval","selectionEnd","selectAll","readOnlyChanged","nothing","needsContentAttribute","onCopyCut","replaceSelection","clearData","setData","kludge","hadFocus","activeElement","startData","ours","handled","applyComposition","forceCompositionEnd","pollContent","takeFocus","showPrimarySelection","showMultipleSelections","curAnchor","anchorNode","anchorOffset","curFocus","focusNode","focusOffset","rangeCount","getRangeAt","rng","addRange","removeAllRanges","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","fromIndex","fromNode","toIndex","toNode","lastChild","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","fromCharCode","charCode","keyCode","there","deepCopy","measureText","nullRect","mStart","mEnd","insertLeft","coverStart","coverEnd","getUsefulRect","isExtendingChar","maybeUpdateRectForZooming","rSpan","rbot","mid","screen","logicalXDPI","deviceXDPI","hasBadZoomedRects","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","pageScrollX","pageScrollY","intoCoordSystem","context","widgetHeight","yOff","lOff","xOff","fromCoordSystem","localBox","lineSpaceBox","preparedMeasure","get","getBidi","part","level","bidiLeft","bidiRight","bidiOther","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","mergedPos","innerOff","wrongLine","adjust","getX","bidi","lineLeft","lineRight","fromX","fromOutside","toX","toOutside","moveVisually","xDiff","charSize","step","middle","middleX","lastClick","lastDoubleClick","operationGroup","nextOpId","viewChanged","changeObjs","cursorActivityHandlers","cursorActivityCalled","updateMaxLine","scrollToPos","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","op","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","mustUpdate","updatedDisplay","adjustWidthTo","maxScrollLeft","preparedSelection","forceScroll","scrollPosIntoView","margin","isCursor","maybeScrollWindow","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","methodOp","docMethodOp","visualLineContinued","buildViewArray","nextPos","lendiff","viewCuttingPoint","cutTop","cutBot","arr","oldN","newN","dirty","onMouseDown","clickInGutter","findWordAt","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touches","touch","radiusX","radiusY","farAway","dx","dy","now","pageX","pageY","onScrollWheel","dragFunctions","enter","over","onDragOver","onDragStart","onDrop","leave","clearDragCursor","inp","onKeyUp","onKeyDown","dragDropChanged","wasOn","toggle","onResize","setSize","e_target","liberal","forRect","space","colDiff","shiftKey","e_button","leftButtonDown","lastMiddleDown","delayBlurEvent","contained","modifier","metaKey","ctrlKey","dragDrop","dragAndDrop","leftButtonStartDrag","leftButtonSelect","startTime","dragEnd","e2","altKey","addNew","ourRange","ourIndex","startSel","sel_mouse","lastPos","extendTo","startCol","posCol","findColumn","scrollIntoView","oldRange","editorSize","counter","curCount","Infinity","up","lastSelOrigin","gutterEvent","prevent","mX","mY","lineBox","e_defaultPrevented","g","lastDrop","files","dataTransfer","FileReader","File","read","loadFile","file","allowDropFileTypes","reader","onload","change","changeEnd","readAsText","effectAllowed","setDragImage","img","src","_top","frag","dragCursor","isScroller","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","wheelDeltaX","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","delta","canScrollX","canScrollY","pixels","movedX","movedY","sample","doHandleBinding","dropShift","prevShift","Pass","lookupKeyForEditor","lookupKey","wheelEventPixels","stopSeq","dispatchKey","seq","isModifierKey","handleKeyBinding","keyName","motion","handleCharBinding","lastStoppedKey","returnValue","showCrossHair","which","contextMenuInGutter","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","oldPrev","newPrev","filterChange","canceled","cancel","ignoreReadOnly","removeReadOnlyRanges","makeChangeInner","selAfter","addChangeToHistory","makeChangeSingleDoc","stretchSpansOverChange","rebased","linkedDocs","sharedHist","rebaseHist","makeChangeFromHistory","allowSelectionOnly","event","hist","undone","dest","lastOrigin","pushSelectionToHistory","clearRedo","antiChanges","generation","maxGeneration","historyChangeFromChange","mergeOldSpans","shiftDoc","distance","spans","removed","makeChangeSingleDocInEditor","updateDoc","recomputeMaxLength","checkWidthStart","full","isWholeLineUpdate","changesHandler","changeHandler","doScroll","scrollNode","limit","endCoords","calculateScrollPos","startTop","startLeft","x1","y1","x2","y2","snapMargin","screentop","docBottom","atTop","atBottom","screenleft","screenw","tooWide","addToScrollPos","resolveScrollToPos","cursorScrollMargin","sPos","how","aggressive","curSpace","indentation","curSpaceString","indentString","indentWithTabs","spaceStr","changeLine","changeType","no","deleteNearSelection","compute","kill","toKill","replaced","findPosH","unit","visually","origDir","findNextLine","moveOnce","boundToLine","moveLogically","sawType","helper","isWordChar","hitSide","findPosV","pageSize","constructor","setOption","option","getDoc","getKeyMap","addOverlay","modeSpec","opaque","removeOverlay","indentSelection","newRanges","takeToken","getLineTokens","getLineStyles","help","helperType","_global","pred","getStateAfter","defaultTextHeight","defaultCharWidth","gutterID","isEmpty","lineInfo","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","cmd","amount","moveH","extendSelectionsBy","rtlMoveVisually","sel_move","deleteH","goalColumn","moveV","goals","startChar","check","toggleOverwrite","interpret","oldHeight","swapDoc","getInputField","getScrollerElement","getGutterElement","eventMixin","deflt","notOnInit","setValue","newBreaks","defaultSpecialCharPlaceholder","detach","attach","disabled","undoDepth","tabIndex","modes","mimeModes","dependencies","mime","resolveMode","createObj","mfactory","modeObj","modeExtensions","exts","modeProps","skipToEnd","extendMode","properties","defineInitHook","registerGlobalHelper","predicate","nstate","a1","a2","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","undo","redo","undoSelection","redoSelection","goDocStart","goDocEnd","goLineStart","lineStart","goLineStartSmart","lineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","goLineDown","goPageUp","goPageDown","goCharLeft","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentMore","indentLess","insertTab","insertSoftTab","spaces","replaceSelections","defaultTab","transposeChars","newlineAndIndent","openLine","normalizeKeyName","alt","ctrl","parts","basic","pcDefault","fallthrough","emacsy","macDefault","normalizeKeyMap","keymap","keyname","Object","keyNames","noShift","altGraphKey","fromTextArea","tabindex","placeholder","getValue","form","leaveSubmitMethodAlone","realSubmit","submit","wrappedSubmit","getTextArea","toTextArea","lastColumnPos","lastColumnValue","sol","peek","eat","ok","eatWhile","eatSpace","skipTo","backUp","pattern","consume","caseInsensitive","cased","hideFirstChars","inner","nextMarkerId","TextMarker","withOp","span","getMarkedSpanFor","removeMarkedSpan","visual","dHeight","attachLine","detachLine","shared","markTextShared","clearWhenEmpty","widgetNode","conflictingCollapsedRange","addToHistory","curLine","addMarkedSpan","MarkedSpan","clearHistory","title","startStyle","endStyle","css","SharedTextMarker","linked","isParent","findSharedMarkers","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","markedSpansBefore","isInsert","startsBefore","endsAfter","markedSpansAfter","oldFirst","oldLast","sameLine","clearEmptySpans","newMarkers","gapMarkers","gap","getOldSpans","stretched","oldCur","stretchCur","mk","newParts","dfrom","dto","detachMarkedSpans","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","vis","lineIsHiddenInner","LineWidget","adjustScrollWhenAboveVisible","parentStyle","addLineWidget","insertAt","aboveVisible","oldH","Line","updateLine","cleanUpLine","extractLineClasses","lineClass","callBlankLine","readToken","asArray","getObj","tokens","lineClasses","forceToEnd","flattenSpans","curStart","curStyle","addModeClass","mName","st","overlay","i_end","updateFrontier","startAt","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","builder","trailingSpace","splitSpaces","addToken","buildToken","hasBadBidiRects","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","joinClasses","zeroWidthElement","querySelector","special","mustWrap","skipped","txt","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","endStyles","foundBookmarks","upto","tokenText","wholeLineUpdateBefore","spansFor","linesFor","lastText","lastSpans","nlines","added","LeafChunk","BranchChunk","chunkSize","removeInner","insertInner","iterN","sz","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","nextDocId","cleanGeneration","History","getLines","getLineNumber","getLineHandleVisualStart","setCursor","addSelection","dup","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","lastOp","lastSelOp","isClean","gen","getHistory","copyHistoryArray","setHistory","histData","addLineClass","classTest","removeLineClass","removeLineWidget","setBookmark","realOpts","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","splitLinesAuto","dontDelegate","method","sharedHistOnly","propagate","skip","rel","chunk","h","lh","bidiOrdering","startGen","lastModTime","lastSelTime","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","opId","historyEventDelay","selectionEventCanBeMerged","existing","removeClearedSpans","newGroup","instantiateSel","newChanges","rebaseHistSelSingle","rebaseHistArray","sub","copied","e_stopPropagation","stopPropagation","cancelBubble","defaultPrevented","button","addEventListener","attachEvent","_handlers","noHandlers","getHandlers","removeEventListener","detachEvent","handlers","args","orphanDelayedCallbacks","fireOrphanDelayed","bnd","delayed","override","codemirrorIgnore","ctor","ms","startIndex","startValue","nextTab","goal","spaceStrs","select","props","inst","_e","nonASCIISingleCaseWordChar","isWordCharBasic","extendingChars","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","moveEnd","moveStart","host","root","as","forEachCodeMirror","getElementsByClassName","byClass","globalsRegistered","registerGlobalHandlers","resizeTimer","zwspSupported","badBidiRects","r0","r1","nl","rt","ownerDocument","parentElement","compareEndPoints","oncopy","badZoomedRects","normal","fromRange","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","127","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","firstNonWS","inWS","compareBidiLevel","linedir","moveInLine","byUnit","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","BidiSpan","types","nstart","unshift","version","15","factory","noGlobal","class2type","hasOwn","support","jQuery","selector","rtrim","rmsPrefix","rdashAlpha","fcamelCase","all","letter","isArrayLike","isWindow","jquery","toArray","num","pushStack","elems","merge","prevObject","elem","eq","copyIsArray","clone","deep","isFunction","isPlainObject","expando","random","isReady","error","msg","noop","isNumeric","realStringObj","parseFloat","isEmptyObject","globalEval","script","indirect","eval","trim","camelCase","makeArray","results","inArray","second","grep","invert","callbackInverse","callbackExpect","arg","guid","proxy","Symbol","iterator","Sizzle","Expr","isXML","compile","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","MAX_NEGATIVE","push_native","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","rinputs","rheader","rnative","rquickExpr","rsibling","rescape","runescape","funescape","_","escaped","escapedWhitespace","high","unloadHandler","els","seed","nid","nidselect","groups","newSelector","newContext","getElementById","getElementsByTagName","qsa","toSelector","testContext","querySelectorAll","qsaError","removeAttribute","cacheLength","markFunction","assert","addHandle","attrs","handler","attrHandle","siblingCheck","sourceIndex","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","hasCompare","defaultView","createComment","getById","getElementsByName","attrId","getAttributeNode","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","expr","elements","attr","specified","uniqueSort","duplicates","detectDuplicates","sortStable","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","operator","what","simple","ofType","xml","uniqueCache","outerCache","nodeIndex","useCache","uniqueID","pseudo","setFilters","matched","matcher","unmatched","innerText","lang","elemLang","hash","location","href","checked","selectedIndex","radio","checkbox","password","image","addCombinator","combinator","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","filters","parseOnly","soFar","preFilters","cached","compiled","div1","defaultValue","unique","isXMLDoc","until","truncate","is","siblings","rneedsContext","needsContext","rsingleTag","risSimple","winnow","qualifier","not","rootjQuery","parseHTML","ready","rparentsprev","guaranteedUnique","targets","closest","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","readyList","rnotwhite","createOptions","flag","completed","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","lock","fireWith","Deferred","tuples","promise","always","deferred","fail","fns","newDefer","tuple","returned","progress","notify","reject","pipe","stateString","when","subordinate","progressValues","progressContexts","resolveContexts","resolveValues","updateFunc","values","notifyWith","resolveWith","readyWait","holdReady","hold","wait","triggerHandler","readyState","access","chainable","emptyGet","raw","bulk","acceptData","owner","Data","uid","register","initial","defineProperty","writable","configurable","stored","camel","hasData","dataPriv","dataUser","rbrace","rmultiDash","dataAttr","parseJSON","removeData","_data","_removeData","camelKey","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","defer","pnum","rcssNum","cssExpand","isHidden","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","cssNumber","initialInUnit","rcheckableType","rtagName","rscriptType","wrapMap","thead","tr","td","_default","getAll","setGlobalEval","refElements","optgroup","tbody","tfoot","colgroup","caption","rhtml","buildFragment","scripts","ignored","nodes","htmlPrefilter","checkClone","noCloneChecked","rkeyEvent","rmouseEvent","rtypenamespace","returnTrue","returnFalse","safeActiveElement","err","one","origFn","handleObjIn","eventHandle","handleObj","namespaces","origType","elemData","triggered","dispatch","delegateType","bindType","namespace","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","fix","handlerQueue","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","postDispatch","fixHooks","keyHooks","original","mouseHooks","eventDoc","clientTop","originalEvent","fixHook","Event","noBubble","trigger","click","beforeunload","isDefaultPrevented","timeStamp","isSimulated","stopImmediatePropagation","mouseenter","mouseleave","pointerenter","pointerleave","related","relatedTarget","rxhtmlTag","rnoInnerhtml","rchecked","rscriptTypeMasked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","pdataOld","pdataCur","udataOld","udataCur","fixInput","domManip","hasScripts","iNoClone","html","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","append","prepend","replaceWith","appendTo","prependTo","insertAfter","replaceAll","iframe","elemdisplay","HTML","BODY","actualDisplay","defaultDisplay","write","rmargin","rnumnonpx","getStyles","opener","swap","curCSS","computed","maxWidth","getPropertyValue","pixelMarginRight","addGetHookIf","conditionFn","hookFn","pixelPositionVal","boxSizingReliableVal","pixelMarginRightVal","reliableMarginLeftVal","computeStyleTests","divStyle","marginRight","backgroundClip","clearCloneStyle","pixelPosition","boxSizingReliable","reliableMarginLeft","reliableMarginRight","marginDiv","rdisplayswap","cssShow","cssNormalTransform","letterSpacing","fontWeight","cssPrefixes","emptyStyle","vendorPropName","capName","setPositiveNumber","subtract","augmentWidthOrHeight","isBorderBox","getWidthOrHeight","valueIsBorderBox","showHide","show","Tween","easing","cssHooks","opacity","cssProps","origName","isFinite","prefix","suffix","expand","expanded","hide","propHooks","percent","eased","duration","fx","linear","swing","cos","PI","fxNow","timerId","rfxtypes","rrun","createFxNow","genFx","includeWidth","createTween","animation","Animation","tweeners","defaultPrefilter","oldfire","checkDisplay","anim","dataShow","unqueued","overflowX","overflowY","propFilter","specialEasing","stopped","prefilters","currentTime","tweens","originalProperties","originalOptions","gotoEnd","rejectWith","timer","tweener","prefilter","speed","speeds","fadeTo","animate","optall","doAnimation","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","interval","slow","fast","timeout","checkOn","optSelected","optDisabled","radioValue","boolHook","removeAttr","nType","attrHooks","bool","propName","attrNames","propFix","getter","rfocusable","rclickable","removeProp","rclass","getClass","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","classNames","hasClass","rreturn","rspaces","valHooks","optionSet","rfocusMorph","onlyHandlers","bubbleType","ontype","eventPath","isTrigger","parentWindow","simulate","hover","fnOver","fnOut","focusin","attaches","nonce","rquery","JSON","parse","parseXML","DOMParser","parseFromString","rhash","rts","rheaders","rlocalProtocol","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","conv","responseFields","dataFilter","throws","lastModified","etag","url","isLocal","protocol","processData","contentType","accepts","json","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","lname","overrideMimeType","status","abort","statusText","finalText","success","crossDomain","traditional","hasContent","ifModified","headers","beforeSend","send","nativeStatusText","modified","getJSON","getScript","wrapAll","firstElementChild","wrapInner","unwrap","r20","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","encodeURIComponent","serialize","serializeArray","xhr","XMLHttpRequest","xhrSuccessStatus","0","1223","xhrSupported","cors","errorCallback","username","xhrFields","onerror","onabort","onreadystatechange","responseType","responseText","binary","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","keepScripts","parsed","_load","getWindow","animated","setOffset","curPosition","curLeft","curCSSTop","curOffset","curCSSLeft","calculatePosition","curElem","using","win","offsetParent","parentOffset","Height","Width","defaultExtra","funcName","unbind","delegate","undelegate","andSelf","_jQuery","_$","noConflict","engine","storages","plugins","createStore","json2Plugin","rx_one","rx_two","rx_three","rx_four","rx_escapable","rx_dangerous","meta","rep","this_value","valueOf","quote","c","holder","partial","mind","toJSON","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","Boolean","stringify","\"","replacer","reviver","SyntaxError","util","pluck","isList","isObject","storeAPI","enabled","optionalDefaultValue","storage","_namespacePrefix","_deserialize","_serialize","namespacedKey","_namespaceRegexp","clearAll","hasNamespace","addPlugin","plugin","_addPlugin","_warn","_console","console","warn","log","namespacePrefix","namespaceRegexp","legalNamespaces","_privateStoreProps","_testStorage","testStr","_assignPluginFnProp","pluginFnProp","oldFn","super_fn","newFnArgs","strVal","defaultVal","_addStorage","seenPlugin","pluginProperties","addStorage","store","assign","make_assign","make_create","make_trim","Global","props1","props2","etc","assignProps1","assignProps2","assignArgsList","F","res","21","22","_has","regexpStr","escape","unescape","cookie","cookies","kvp","23","localStorage","getItem","setItem","removeItem","24","memoryStorage","25","globalStorage","26","storageName","_withStorageEl","_makeIEStorageElFunction","unfixedKey","fixedKey","fixKey","storageEl","XMLDocument","forbiddenCharsRegex","addBehavior","storageOwner","storageContainer","scriptTag","ActiveXObject","frames","storeFunction","sessionStorage","28","29","svg","nestedExists","30","times","day","month","year","isQuotaExceeded","quotaExceeded","number","exp","onQuotaExceeded","XMLSerializer","serializeToString","getTime","removeAll","31","draw","svgString","getElement","parser","dom","svgContainer","utils","yutils","YASQE","yasqe","completionNotifications","completers","tries","eventInfo","needPossibleAdjustment","notificationName","scrollBar","outerWidth","forEach","notification","storeBulkCompletions","completer","storageId","getPersistencyId","persistent","initCompleter","completionInit","storeArrayAsBulk","suggestions","completionsFromStorage","persistencyIdentifier","Function","fromAutoShow","tryHintType","autoShow","hintConfig","wrappedHintCallback","getCompletionHintsObject","completerName","autocompleters","isValidCompletionPosition","validPosition","invalidPosition","getSuggestionsFromToken","partialToken","stringToAutocomplete","autocompletionString","partialTokenLength","getSuggestionsAsHintObject","getCompleteToken","preProcessToken","wrappedCallback","hintList","suggestedString","postProcessToken","selectHint","completionToken","notifications","getEl","autoshow","getTrie","fetchFromLov","previousToken","getPreviousNonWsToken","preprocessResourceTokenForCompletion","postprocessResourceTokenForCompletion","tokenTypes","atom","appendPrefixIfNeeded","fetchFrom","prefixArray","completeString","preprocessPrefixTokenForCompletion","collapsePrefixes","lastNonWsTokenString","currentPrefix","substring","queryPrefixes","getPrefixesFromQuery","addPrefixes","tokenPrefix","tokenPrefixUri","reqProtocol","maxResults","q","page","updateUrl","increasePage","doRequests","uri","total_results","textStatus","errorThrown","loader","distinctVars","variable","nextEl","nextElClass","sparql","createCurlString","ajaxConfig","getAjaxConfig","pathname","cmds","requestMethod","header","highlightSelectionMatches","showToken","tabMode","backdrop","combine","brace","collapsePrefixesOnLoad","syntaxErrorCheck","commentLines","copyLineDown","copyLineUp","doAutoFormat","storeQuery","executeQuery","F11","createShareLink","createShortLink","consumeShareLink","queryName","getQueryMode","showQueryButton","endpoint","acceptHeaderGraph","acceptHeaderSelect","acceptHeaderUpdate","namedGraphs","defaultGraphs","getQueryForAjax","41","42","queryInvalid","download","share","warning","fullscreen","smallscreen","43","imgs","rootEl","class","extendConfig","extendCmInstance","postProcessCmElement","extendedConfig","Autocompleters","emit","lastQueryDuration","getNextNonWsToken","charNumber","findFirstPrefixLine","animateSpeed","setBackdrop","callbackOrConfig","getUrlArguments","removePrefixes","getVariablesFromQuery","getQueryWithValues","injectString","reduce","vars","valueObj","varArray","newQuery","injected","gotSelect","stringVal","row","getValueWithoutComments","cleanedQuery","getQueryType","setCheckSyntaxErrors","isEnabled","checkSyntax","enableCompleter","addCompleterToSettings","disableCompleter","removeCompleterFromSettings","valueFromStorage","drawButtons","updateQueryButton","positionButtons","updateButtonsTransparency","prevQueryValid","matchText","getUrlParams","urlParams","buttons","elementsOverlap","deepcheck","queryValid","warningEl","expectedEncoded","expected","marginTop","registerAutocompleter","getAsCurl","curl","svgShare","popup","$input","$this","errString","shortLink","positions","outerHeight","toggleFullscreen","queryButtonIds","busy","valid","queryButton","queryStatus","textAreaEl","linesAreCommented","autoFormatRange","absStart","absEnd","autoFormatLineBreaks","breakAfterArray","breakAfterCharacters","breakBeforeCharacters","getBreakType","stackTrace","currentLine","formattedQuery","breakType","tokenUtils","lookFor","findFirstPrefix","hasPreviousPrefix","getLastPrefixPos","prefixKeywordToken","prefixShortname","prefixUri","prefixStart","stopAt","stopAtNextLine","prefixEndChar","prefixEndLine","nextPrefixDeclaration","existingPrefixes","addPrefixAsString","pref","prefixString","escapeRegex","queryMode","Accept","getAcceptHeader","handlerDefined","queryStart","updateYasqe","completeCallbacks","getString","argName","acceptHeader","qType","47","prevToken","48","tooltip","repositionTooltip","49","keyExists","objectToTest","exists","persistentIdCreator","persistencyId","getPositions","comparePositions","p1","p2","r2","pos2"],"mappings":"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","file":"js/YASQE.5255a1ce.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.YASQE = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n/*\n  jQuery deparam is an extraction of the deparam method from Ben Alman's jQuery BBQ\n  http://benalman.com/projects/jquery-bbq-plugin/\n*/\nvar $ = require(\"jquery\");\n$.deparam = function(params, coerce) {\n  var obj = {}, coerce_types = { true: !0, false: !1, null: null };\n\n  // Iterate over all name=value pairs.\n  $.each(params.replace(/\\+/g, \" \").split(\"&\"), function(j, v) {\n    var param = v.split(\"=\"),\n      key = decodeURIComponent(param[0]),\n      val,\n      cur = obj,\n      i = 0,\n      // If key is more complex than 'foo', like 'a[]' or 'a[b][c]', split it\n      // into its component parts.\n      keys = key.split(\"][\"),\n      keys_last = keys.length - 1;\n\n    // If the first keys part contains [ and the last ends with ], then []\n    // are correctly balanced.\n    if (/\\[/.test(keys[0]) && /\\]$/.test(keys[keys_last])) {\n      // Remove the trailing ] from the last keys part.\n      keys[keys_last] = keys[keys_last].replace(/\\]$/, \"\");\n\n      // Split first keys part into two parts on the [ and add them back onto\n      // the beginning of the keys array.\n      keys = keys.shift().split(\"[\").concat(keys);\n\n      keys_last = keys.length - 1;\n    } else {\n      // Basic 'foo' style key.\n      keys_last = 0;\n    }\n\n    // Are we dealing with a name=value pair, or just a name?\n    if (param.length === 2) {\n      val = decodeURIComponent(param[1]);\n\n      // Coerce values.\n      if (coerce) {\n        val = val && !isNaN(val)\n          ? +val // number\n          : val === \"undefined\"\n              ? undefined // undefined\n              : coerce_types[val] !== undefined\n                  ? coerce_types[val] // true, false, null\n                  : val; // string\n      }\n\n      if (keys_last) {\n        // Complex key, build deep object structure based on a few rules:\n        // * The 'cur' pointer starts at the object top-level.\n        // * [] = array push (n is set to array length), [n] = array if n is\n        //   numeric, otherwise object.\n        // * If at the last keys part, set the value.\n        // * For each keys part, if the current level is undefined create an\n        //   object or array based on the type of the next keys part.\n        // * Move the 'cur' pointer to the next level.\n        // * Rinse & repeat.\n        for (; i <= keys_last; i++) {\n          key = keys[i] === \"\" ? cur.length : keys[i];\n          cur = cur[key] = i < keys_last ? cur[key] || (keys[i + 1] && isNaN(keys[i + 1]) ? {} : []) : val;\n        }\n      } else {\n        // Simple key, even simpler rules, since only scalars and shallow\n        // arrays are allowed.\n\n        if ($.isArray(obj[key])) {\n          // val is already an array, so push on the next value.\n          obj[key].push(val);\n        } else if (obj[key] !== undefined) {\n          // val isn't an array, but since a second value has been specified,\n          // convert val into an array.\n          obj[key] = [obj[key], val];\n        } else {\n          // val is a scalar.\n          obj[key] = val;\n        }\n      }\n    } else if (key) {\n      // No value was defined, so set something meaningful.\n      obj[key] = coerce ? undefined : \"\";\n    }\n  });\n\n  return obj;\n};\n\n},{\"jquery\":15}],2:[function(require,module,exports){\nmodule.exports = {\n  table: {\n    \"*[&&,valueLogical]\": {\n      \"&&\": [\"[&&,valueLogical]\", \"*[&&,valueLogical]\"],\n      AS: [],\n      \")\": [],\n      \",\": [],\n      \"||\": [],\n      \";\": []\n    },\n    \"*[,,expression]\": {\n      \",\": [\"[,,expression]\", \"*[,,expression]\"],\n      \")\": []\n    },\n    \"*[,,objectPath]\": {\n      \",\": [\"[,,objectPath]\", \"*[,,objectPath]\"],\n      \".\": [],\n      \";\": [],\n      \"]\": [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      GRAPH: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: [],\n      \"}\": []\n    },\n    \"*[,,object]\": {\n      \",\": [\"[,,object]\", \"*[,,object]\"],\n      \".\": [],\n      \";\": [],\n      \"]\": [],\n      \"}\": [],\n      GRAPH: [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: []\n    },\n    \"*[/,pathEltOrInverse]\": {\n      \"/\": [\"[/,pathEltOrInverse]\", \"*[/,pathEltOrInverse]\"],\n      \"|\": [],\n      \")\": [],\n      \"(\": [],\n      \"[\": [],\n      VAR1: [],\n      VAR2: [],\n      NIL: [],\n      IRI_REF: [],\n      TRUE: [],\n      FALSE: [],\n      BLANK_NODE_LABEL: [],\n      ANON: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      STRING_LITERAL1: [],\n      STRING_LITERAL2: [],\n      STRING_LITERAL_LONG1: [],\n      STRING_LITERAL_LONG2: [],\n      INTEGER: [],\n      DECIMAL: [],\n      DOUBLE: [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: []\n    },\n    \"*[;,?[or([verbPath,verbSimple]),objectList]]\": {\n      \";\": [\n        \"[;,?[or([verbPath,verbSimple]),objectList]]\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ],\n      \".\": [],\n      \"]\": [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      GRAPH: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: [],\n      \"}\": []\n    },\n    \"*[;,?[verb,objectList]]\": {\n      \";\": [\"[;,?[verb,objectList]]\", \"*[;,?[verb,objectList]]\"],\n      \".\": [],\n      \"]\": [],\n      \"}\": [],\n      GRAPH: [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: []\n    },\n    \"*[UNION,groupGraphPattern]\": {\n      UNION: [\"[UNION,groupGraphPattern]\", \"*[UNION,groupGraphPattern]\"],\n      VAR1: [],\n      VAR2: [],\n      NIL: [],\n      \"(\": [],\n      \"[\": [],\n      IRI_REF: [],\n      TRUE: [],\n      FALSE: [],\n      BLANK_NODE_LABEL: [],\n      ANON: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      STRING_LITERAL1: [],\n      STRING_LITERAL2: [],\n      STRING_LITERAL_LONG1: [],\n      STRING_LITERAL_LONG2: [],\n      INTEGER: [],\n      DECIMAL: [],\n      DOUBLE: [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: [],\n      \".\": [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      GRAPH: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: [],\n      \"}\": []\n    },\n    \"*[graphPatternNotTriples,?.,?triplesBlock]\": {\n      \"{\": [\n        \"[graphPatternNotTriples,?.,?triplesBlock]\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      OPTIONAL: [\n        \"[graphPatternNotTriples,?.,?triplesBlock]\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      MINUS: [\n        \"[graphPatternNotTriples,?.,?triplesBlock]\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      GRAPH: [\n        \"[graphPatternNotTriples,?.,?triplesBlock]\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      SERVICE: [\n        \"[graphPatternNotTriples,?.,?triplesBlock]\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      FILTER: [\n        \"[graphPatternNotTriples,?.,?triplesBlock]\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      BIND: [\n        \"[graphPatternNotTriples,?.,?triplesBlock]\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      VALUES: [\n        \"[graphPatternNotTriples,?.,?triplesBlock]\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      \"}\": []\n    },\n    \"*[quadsNotTriples,?.,?triplesTemplate]\": {\n      GRAPH: [\n        \"[quadsNotTriples,?.,?triplesTemplate]\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      \"}\": []\n    },\n    \"*[|,pathOneInPropertySet]\": {\n      \"|\": [\"[|,pathOneInPropertySet]\", \"*[|,pathOneInPropertySet]\"],\n      \")\": []\n    },\n    \"*[|,pathSequence]\": {\n      \"|\": [\"[|,pathSequence]\", \"*[|,pathSequence]\"],\n      \")\": [],\n      \"(\": [],\n      \"[\": [],\n      VAR1: [],\n      VAR2: [],\n      NIL: [],\n      IRI_REF: [],\n      TRUE: [],\n      FALSE: [],\n      BLANK_NODE_LABEL: [],\n      ANON: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      STRING_LITERAL1: [],\n      STRING_LITERAL2: [],\n      STRING_LITERAL_LONG1: [],\n      STRING_LITERAL_LONG2: [],\n      INTEGER: [],\n      DECIMAL: [],\n      DOUBLE: [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: []\n    },\n    \"*[||,conditionalAndExpression]\": {\n      \"||\": [\"[||,conditionalAndExpression]\", \"*[||,conditionalAndExpression]\"],\n      AS: [],\n      \")\": [],\n      \",\": [],\n      \";\": []\n    },\n    \"*dataBlockValue\": {\n      UNDEF: [\"dataBlockValue\", \"*dataBlockValue\"],\n      IRI_REF: [\"dataBlockValue\", \"*dataBlockValue\"],\n      TRUE: [\"dataBlockValue\", \"*dataBlockValue\"],\n      FALSE: [\"dataBlockValue\", \"*dataBlockValue\"],\n      PNAME_LN: [\"dataBlockValue\", \"*dataBlockValue\"],\n      PNAME_NS: [\"dataBlockValue\", \"*dataBlockValue\"],\n      STRING_LITERAL1: [\"dataBlockValue\", \"*dataBlockValue\"],\n      STRING_LITERAL2: [\"dataBlockValue\", \"*dataBlockValue\"],\n      STRING_LITERAL_LONG1: [\"dataBlockValue\", \"*dataBlockValue\"],\n      STRING_LITERAL_LONG2: [\"dataBlockValue\", \"*dataBlockValue\"],\n      INTEGER: [\"dataBlockValue\", \"*dataBlockValue\"],\n      DECIMAL: [\"dataBlockValue\", \"*dataBlockValue\"],\n      DOUBLE: [\"dataBlockValue\", \"*dataBlockValue\"],\n      INTEGER_POSITIVE: [\"dataBlockValue\", \"*dataBlockValue\"],\n      DECIMAL_POSITIVE: [\"dataBlockValue\", \"*dataBlockValue\"],\n      DOUBLE_POSITIVE: [\"dataBlockValue\", \"*dataBlockValue\"],\n      INTEGER_NEGATIVE: [\"dataBlockValue\", \"*dataBlockValue\"],\n      DECIMAL_NEGATIVE: [\"dataBlockValue\", \"*dataBlockValue\"],\n      DOUBLE_NEGATIVE: [\"dataBlockValue\", \"*dataBlockValue\"],\n      \"}\": [],\n      \")\": []\n    },\n    \"*datasetClause\": {\n      FROM: [\"datasetClause\", \"*datasetClause\"],\n      WHERE: [],\n      \"{\": []\n    },\n    \"*describeDatasetClause\": {\n      FROM: [\"describeDatasetClause\", \"*describeDatasetClause\"],\n      ORDER: [],\n      HAVING: [],\n      GROUP: [],\n      LIMIT: [],\n      OFFSET: [],\n      WHERE: [],\n      \"{\": [],\n      VALUES: [],\n      $: []\n    },\n    \"*graphNode\": {\n      \"(\": [\"graphNode\", \"*graphNode\"],\n      \"[\": [\"graphNode\", \"*graphNode\"],\n      VAR1: [\"graphNode\", \"*graphNode\"],\n      VAR2: [\"graphNode\", \"*graphNode\"],\n      NIL: [\"graphNode\", \"*graphNode\"],\n      IRI_REF: [\"graphNode\", \"*graphNode\"],\n      TRUE: [\"graphNode\", \"*graphNode\"],\n      FALSE: [\"graphNode\", \"*graphNode\"],\n      BLANK_NODE_LABEL: [\"graphNode\", \"*graphNode\"],\n      ANON: [\"graphNode\", \"*graphNode\"],\n      PNAME_LN: [\"graphNode\", \"*graphNode\"],\n      PNAME_NS: [\"graphNode\", \"*graphNode\"],\n      STRING_LITERAL1: [\"graphNode\", \"*graphNode\"],\n      STRING_LITERAL2: [\"graphNode\", \"*graphNode\"],\n      STRING_LITERAL_LONG1: [\"graphNode\", \"*graphNode\"],\n      STRING_LITERAL_LONG2: [\"graphNode\", \"*graphNode\"],\n      INTEGER: [\"graphNode\", \"*graphNode\"],\n      DECIMAL: [\"graphNode\", \"*graphNode\"],\n      DOUBLE: [\"graphNode\", \"*graphNode\"],\n      INTEGER_POSITIVE: [\"graphNode\", \"*graphNode\"],\n      DECIMAL_POSITIVE: [\"graphNode\", \"*graphNode\"],\n      DOUBLE_POSITIVE: [\"graphNode\", \"*graphNode\"],\n      INTEGER_NEGATIVE: [\"graphNode\", \"*graphNode\"],\n      DECIMAL_NEGATIVE: [\"graphNode\", \"*graphNode\"],\n      DOUBLE_NEGATIVE: [\"graphNode\", \"*graphNode\"],\n      \")\": []\n    },\n    \"*graphNodePath\": {\n      \"(\": [\"graphNodePath\", \"*graphNodePath\"],\n      \"[\": [\"graphNodePath\", \"*graphNodePath\"],\n      VAR1: [\"graphNodePath\", \"*graphNodePath\"],\n      VAR2: [\"graphNodePath\", \"*graphNodePath\"],\n      NIL: [\"graphNodePath\", \"*graphNodePath\"],\n      IRI_REF: [\"graphNodePath\", \"*graphNodePath\"],\n      TRUE: [\"graphNodePath\", \"*graphNodePath\"],\n      FALSE: [\"graphNodePath\", \"*graphNodePath\"],\n      BLANK_NODE_LABEL: [\"graphNodePath\", \"*graphNodePath\"],\n      ANON: [\"graphNodePath\", \"*graphNodePath\"],\n      PNAME_LN: [\"graphNodePath\", \"*graphNodePath\"],\n      PNAME_NS: [\"graphNodePath\", \"*graphNodePath\"],\n      STRING_LITERAL1: [\"graphNodePath\", \"*graphNodePath\"],\n      STRING_LITERAL2: [\"graphNodePath\", \"*graphNodePath\"],\n      STRING_LITERAL_LONG1: [\"graphNodePath\", \"*graphNodePath\"],\n      STRING_LITERAL_LONG2: [\"graphNodePath\", \"*graphNodePath\"],\n      INTEGER: [\"graphNodePath\", \"*graphNodePath\"],\n      DECIMAL: [\"graphNodePath\", \"*graphNodePath\"],\n      DOUBLE: [\"graphNodePath\", \"*graphNodePath\"],\n      INTEGER_POSITIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      DECIMAL_POSITIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      DOUBLE_POSITIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      INTEGER_NEGATIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      DECIMAL_NEGATIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      DOUBLE_NEGATIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      \")\": []\n    },\n    \"*groupCondition\": {\n      \"(\": [\"groupCondition\", \"*groupCondition\"],\n      STR: [\"groupCondition\", \"*groupCondition\"],\n      LANG: [\"groupCondition\", \"*groupCondition\"],\n      LANGMATCHES: [\"groupCondition\", \"*groupCondition\"],\n      DATATYPE: [\"groupCondition\", \"*groupCondition\"],\n      BOUND: [\"groupCondition\", \"*groupCondition\"],\n      IRI: [\"groupCondition\", \"*groupCondition\"],\n      URI: [\"groupCondition\", \"*groupCondition\"],\n      BNODE: [\"groupCondition\", \"*groupCondition\"],\n      RAND: [\"groupCondition\", \"*groupCondition\"],\n      ABS: [\"groupCondition\", \"*groupCondition\"],\n      CEIL: [\"groupCondition\", \"*groupCondition\"],\n      FLOOR: [\"groupCondition\", \"*groupCondition\"],\n      ROUND: [\"groupCondition\", \"*groupCondition\"],\n      CONCAT: [\"groupCondition\", \"*groupCondition\"],\n      STRLEN: [\"groupCondition\", \"*groupCondition\"],\n      UCASE: [\"groupCondition\", \"*groupCondition\"],\n      LCASE: [\"groupCondition\", \"*groupCondition\"],\n      ENCODE_FOR_URI: [\"groupCondition\", \"*groupCondition\"],\n      CONTAINS: [\"groupCondition\", \"*groupCondition\"],\n      STRSTARTS: [\"groupCondition\", \"*groupCondition\"],\n      STRENDS: [\"groupCondition\", \"*groupCondition\"],\n      STRBEFORE: [\"groupCondition\", \"*groupCondition\"],\n      STRAFTER: [\"groupCondition\", \"*groupCondition\"],\n      YEAR: [\"groupCondition\", \"*groupCondition\"],\n      MONTH: [\"groupCondition\", \"*groupCondition\"],\n      DAY: [\"groupCondition\", \"*groupCondition\"],\n      HOURS: [\"groupCondition\", \"*groupCondition\"],\n      MINUTES: [\"groupCondition\", \"*groupCondition\"],\n      SECONDS: [\"groupCondition\", \"*groupCondition\"],\n      TIMEZONE: [\"groupCondition\", \"*groupCondition\"],\n      TZ: [\"groupCondition\", \"*groupCondition\"],\n      NOW: [\"groupCondition\", \"*groupCondition\"],\n      UUID: [\"groupCondition\", \"*groupCondition\"],\n      STRUUID: [\"groupCondition\", \"*groupCondition\"],\n      MD5: [\"groupCondition\", \"*groupCondition\"],\n      SHA1: [\"groupCondition\", \"*groupCondition\"],\n      SHA256: [\"groupCondition\", \"*groupCondition\"],\n      SHA384: [\"groupCondition\", \"*groupCondition\"],\n      SHA512: [\"groupCondition\", \"*groupCondition\"],\n      COALESCE: [\"groupCondition\", \"*groupCondition\"],\n      IF: [\"groupCondition\", \"*groupCondition\"],\n      STRLANG: [\"groupCondition\", \"*groupCondition\"],\n      STRDT: [\"groupCondition\", \"*groupCondition\"],\n      SAMETERM: [\"groupCondition\", \"*groupCondition\"],\n      ISIRI: [\"groupCondition\", \"*groupCondition\"],\n      ISURI: [\"groupCondition\", \"*groupCondition\"],\n      ISBLANK: [\"groupCondition\", \"*groupCondition\"],\n      ISLITERAL: [\"groupCondition\", \"*groupCondition\"],\n      ISNUMERIC: [\"groupCondition\", \"*groupCondition\"],\n      VAR1: [\"groupCondition\", \"*groupCondition\"],\n      VAR2: [\"groupCondition\", \"*groupCondition\"],\n      SUBSTR: [\"groupCondition\", \"*groupCondition\"],\n      REPLACE: [\"groupCondition\", \"*groupCondition\"],\n      REGEX: [\"groupCondition\", \"*groupCondition\"],\n      EXISTS: [\"groupCondition\", \"*groupCondition\"],\n      NOT: [\"groupCondition\", \"*groupCondition\"],\n      IRI_REF: [\"groupCondition\", \"*groupCondition\"],\n      PNAME_LN: [\"groupCondition\", \"*groupCondition\"],\n      PNAME_NS: [\"groupCondition\", \"*groupCondition\"],\n      VALUES: [],\n      LIMIT: [],\n      OFFSET: [],\n      ORDER: [],\n      HAVING: [],\n      $: [],\n      \"}\": []\n    },\n    \"*havingCondition\": {\n      \"(\": [\"havingCondition\", \"*havingCondition\"],\n      STR: [\"havingCondition\", \"*havingCondition\"],\n      LANG: [\"havingCondition\", \"*havingCondition\"],\n      LANGMATCHES: [\"havingCondition\", \"*havingCondition\"],\n      DATATYPE: [\"havingCondition\", \"*havingCondition\"],\n      BOUND: [\"havingCondition\", \"*havingCondition\"],\n      IRI: [\"havingCondition\", \"*havingCondition\"],\n      URI: [\"havingCondition\", \"*havingCondition\"],\n      BNODE: [\"havingCondition\", \"*havingCondition\"],\n      RAND: [\"havingCondition\", \"*havingCondition\"],\n      ABS: [\"havingCondition\", \"*havingCondition\"],\n      CEIL: [\"havingCondition\", \"*havingCondition\"],\n      FLOOR: [\"havingCondition\", \"*havingCondition\"],\n      ROUND: [\"havingCondition\", \"*havingCondition\"],\n      CONCAT: [\"havingCondition\", \"*havingCondition\"],\n      STRLEN: [\"havingCondition\", \"*havingCondition\"],\n      UCASE: [\"havingCondition\", \"*havingCondition\"],\n      LCASE: [\"havingCondition\", \"*havingCondition\"],\n      ENCODE_FOR_URI: [\"havingCondition\", \"*havingCondition\"],\n      CONTAINS: [\"havingCondition\", \"*havingCondition\"],\n      STRSTARTS: [\"havingCondition\", \"*havingCondition\"],\n      STRENDS: [\"havingCondition\", \"*havingCondition\"],\n      STRBEFORE: [\"havingCondition\", \"*havingCondition\"],\n      STRAFTER: [\"havingCondition\", \"*havingCondition\"],\n      YEAR: [\"havingCondition\", \"*havingCondition\"],\n      MONTH: [\"havingCondition\", \"*havingCondition\"],\n      DAY: [\"havingCondition\", \"*havingCondition\"],\n      HOURS: [\"havingCondition\", \"*havingCondition\"],\n      MINUTES: [\"havingCondition\", \"*havingCondition\"],\n      SECONDS: [\"havingCondition\", \"*havingCondition\"],\n      TIMEZONE: [\"havingCondition\", \"*havingCondition\"],\n      TZ: [\"havingCondition\", \"*havingCondition\"],\n      NOW: [\"havingCondition\", \"*havingCondition\"],\n      UUID: [\"havingCondition\", \"*havingCondition\"],\n      STRUUID: [\"havingCondition\", \"*havingCondition\"],\n      MD5: [\"havingCondition\", \"*havingCondition\"],\n      SHA1: [\"havingCondition\", \"*havingCondition\"],\n      SHA256: [\"havingCondition\", \"*havingCondition\"],\n      SHA384: [\"havingCondition\", \"*havingCondition\"],\n      SHA512: [\"havingCondition\", \"*havingCondition\"],\n      COALESCE: [\"havingCondition\", \"*havingCondition\"],\n      IF: [\"havingCondition\", \"*havingCondition\"],\n      STRLANG: [\"havingCondition\", \"*havingCondition\"],\n      STRDT: [\"havingCondition\", \"*havingCondition\"],\n      SAMETERM: [\"havingCondition\", \"*havingCondition\"],\n      ISIRI: [\"havingCondition\", \"*havingCondition\"],\n      ISURI: [\"havingCondition\", \"*havingCondition\"],\n      ISBLANK: [\"havingCondition\", \"*havingCondition\"],\n      ISLITERAL: [\"havingCondition\", \"*havingCondition\"],\n      ISNUMERIC: [\"havingCondition\", \"*havingCondition\"],\n      SUBSTR: [\"havingCondition\", \"*havingCondition\"],\n      REPLACE: [\"havingCondition\", \"*havingCondition\"],\n      REGEX: [\"havingCondition\", \"*havingCondition\"],\n      EXISTS: [\"havingCondition\", \"*havingCondition\"],\n      NOT: [\"havingCondition\", \"*havingCondition\"],\n      IRI_REF: [\"havingCondition\", \"*havingCondition\"],\n      PNAME_LN: [\"havingCondition\", \"*havingCondition\"],\n      PNAME_NS: [\"havingCondition\", \"*havingCondition\"],\n      VALUES: [],\n      LIMIT: [],\n      OFFSET: [],\n      ORDER: [],\n      $: [],\n      \"}\": []\n    },\n    \"*or([[(,*dataBlockValue,)],NIL])\": {\n      \"(\": [\n        \"or([[(,*dataBlockValue,)],NIL])\",\n        \"*or([[(,*dataBlockValue,)],NIL])\"\n      ],\n      NIL: [\n        \"or([[(,*dataBlockValue,)],NIL])\",\n        \"*or([[(,*dataBlockValue,)],NIL])\"\n      ],\n      \"}\": []\n    },\n    \"*or([[*,unaryExpression],[/,unaryExpression]])\": {\n      \"*\": [\n        \"or([[*,unaryExpression],[/,unaryExpression]])\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      \"/\": [\n        \"or([[*,unaryExpression],[/,unaryExpression]])\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      AS: [],\n      \")\": [],\n      \",\": [],\n      \"||\": [],\n      \"&&\": [],\n      \"=\": [],\n      \"!=\": [],\n      \"<\": [],\n      \">\": [],\n      \"<=\": [],\n      \">=\": [],\n      IN: [],\n      NOT: [],\n      \"+\": [],\n      \"-\": [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: [],\n      \";\": []\n    },\n    \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\": {\n      \"+\": [\n        \"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      \"-\": [\n        \"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      INTEGER_POSITIVE: [\n        \"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DECIMAL_POSITIVE: [\n        \"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DOUBLE_POSITIVE: [\n        \"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      INTEGER_NEGATIVE: [\n        \"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DECIMAL_NEGATIVE: [\n        \"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DOUBLE_NEGATIVE: [\n        \"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      AS: [],\n      \")\": [],\n      \",\": [],\n      \"||\": [],\n      \"&&\": [],\n      \"=\": [],\n      \"!=\": [],\n      \"<\": [],\n      \">\": [],\n      \"<=\": [],\n      \">=\": [],\n      IN: [],\n      NOT: [],\n      \";\": []\n    },\n    \"*or([baseDecl,prefixDecl])\": {\n      BASE: [\"or([baseDecl,prefixDecl])\", \"*or([baseDecl,prefixDecl])\"],\n      PREFIX: [\"or([baseDecl,prefixDecl])\", \"*or([baseDecl,prefixDecl])\"],\n      $: [],\n      CONSTRUCT: [],\n      DESCRIBE: [],\n      ASK: [],\n      INSERT: [],\n      DELETE: [],\n      SELECT: [],\n      LOAD: [],\n      CLEAR: [],\n      DROP: [],\n      ADD: [],\n      MOVE: [],\n      COPY: [],\n      CREATE: [],\n      WITH: []\n    },\n    \"*or([var,[(,expression,AS,var,)]])\": {\n      \"(\": [\n        \"or([var,[(,expression,AS,var,)]])\",\n        \"*or([var,[(,expression,AS,var,)]])\"\n      ],\n      VAR1: [\n        \"or([var,[(,expression,AS,var,)]])\",\n        \"*or([var,[(,expression,AS,var,)]])\"\n      ],\n      VAR2: [\n        \"or([var,[(,expression,AS,var,)]])\",\n        \"*or([var,[(,expression,AS,var,)]])\"\n      ],\n      WHERE: [],\n      \"{\": [],\n      FROM: []\n    },\n    \"*orderCondition\": {\n      ASC: [\"orderCondition\", \"*orderCondition\"],\n      DESC: [\"orderCondition\", \"*orderCondition\"],\n      VAR1: [\"orderCondition\", \"*orderCondition\"],\n      VAR2: [\"orderCondition\", \"*orderCondition\"],\n      \"(\": [\"orderCondition\", \"*orderCondition\"],\n      STR: [\"orderCondition\", \"*orderCondition\"],\n      LANG: [\"orderCondition\", \"*orderCondition\"],\n      LANGMATCHES: [\"orderCondition\", \"*orderCondition\"],\n      DATATYPE: [\"orderCondition\", \"*orderCondition\"],\n      BOUND: [\"orderCondition\", \"*orderCondition\"],\n      IRI: [\"orderCondition\", \"*orderCondition\"],\n      URI: [\"orderCondition\", \"*orderCondition\"],\n      BNODE: [\"orderCondition\", \"*orderCondition\"],\n      RAND: [\"orderCondition\", \"*orderCondition\"],\n      ABS: [\"orderCondition\", \"*orderCondition\"],\n      CEIL: [\"orderCondition\", \"*orderCondition\"],\n      FLOOR: [\"orderCondition\", \"*orderCondition\"],\n      ROUND: [\"orderCondition\", \"*orderCondition\"],\n      CONCAT: [\"orderCondition\", \"*orderCondition\"],\n      STRLEN: [\"orderCondition\", \"*orderCondition\"],\n      UCASE: [\"orderCondition\", \"*orderCondition\"],\n      LCASE: [\"orderCondition\", \"*orderCondition\"],\n      ENCODE_FOR_URI: [\"orderCondition\", \"*orderCondition\"],\n      CONTAINS: [\"orderCondition\", \"*orderCondition\"],\n      STRSTARTS: [\"orderCondition\", \"*orderCondition\"],\n      STRENDS: [\"orderCondition\", \"*orderCondition\"],\n      STRBEFORE: [\"orderCondition\", \"*orderCondition\"],\n      STRAFTER: [\"orderCondition\", \"*orderCondition\"],\n      YEAR: [\"orderCondition\", \"*orderCondition\"],\n      MONTH: [\"orderCondition\", \"*orderCondition\"],\n      DAY: [\"orderCondition\", \"*orderCondition\"],\n      HOURS: [\"orderCondition\", \"*orderCondition\"],\n      MINUTES: [\"orderCondition\", \"*orderCondition\"],\n      SECONDS: [\"orderCondition\", \"*orderCondition\"],\n      TIMEZONE: [\"orderCondition\", \"*orderCondition\"],\n      TZ: [\"orderCondition\", \"*orderCondition\"],\n      NOW: [\"orderCondition\", \"*orderCondition\"],\n      UUID: [\"orderCondition\", \"*orderCondition\"],\n      STRUUID: [\"orderCondition\", \"*orderCondition\"],\n      MD5: [\"orderCondition\", \"*orderCondition\"],\n      SHA1: [\"orderCondition\", \"*orderCondition\"],\n      SHA256: [\"orderCondition\", \"*orderCondition\"],\n      SHA384: [\"orderCondition\", \"*orderCondition\"],\n      SHA512: [\"orderCondition\", \"*orderCondition\"],\n      COALESCE: [\"orderCondition\", \"*orderCondition\"],\n      IF: [\"orderCondition\", \"*orderCondition\"],\n      STRLANG: [\"orderCondition\", \"*orderCondition\"],\n      STRDT: [\"orderCondition\", \"*orderCondition\"],\n      SAMETERM: [\"orderCondition\", \"*orderCondition\"],\n      ISIRI: [\"orderCondition\", \"*orderCondition\"],\n      ISURI: [\"orderCondition\", \"*orderCondition\"],\n      ISBLANK: [\"orderCondition\", \"*orderCondition\"],\n      ISLITERAL: [\"orderCondition\", \"*orderCondition\"],\n      ISNUMERIC: [\"orderCondition\", \"*orderCondition\"],\n      SUBSTR: [\"orderCondition\", \"*orderCondition\"],\n      REPLACE: [\"orderCondition\", \"*orderCondition\"],\n      REGEX: [\"orderCondition\", \"*orderCondition\"],\n      EXISTS: [\"orderCondition\", \"*orderCondition\"],\n      NOT: [\"orderCondition\", \"*orderCondition\"],\n      IRI_REF: [\"orderCondition\", \"*orderCondition\"],\n      PNAME_LN: [\"orderCondition\", \"*orderCondition\"],\n      PNAME_NS: [\"orderCondition\", \"*orderCondition\"],\n      VALUES: [],\n      LIMIT: [],\n      OFFSET: [],\n      $: [],\n      \"}\": []\n    },\n    \"*usingClause\": {\n      USING: [\"usingClause\", \"*usingClause\"],\n      WHERE: []\n    },\n    \"*var\": {\n      VAR1: [\"var\", \"*var\"],\n      VAR2: [\"var\", \"*var\"],\n      \")\": []\n    },\n    \"*varOrIRIref\": {\n      VAR1: [\"varOrIRIref\", \"*varOrIRIref\"],\n      VAR2: [\"varOrIRIref\", \"*varOrIRIref\"],\n      IRI_REF: [\"varOrIRIref\", \"*varOrIRIref\"],\n      PNAME_LN: [\"varOrIRIref\", \"*varOrIRIref\"],\n      PNAME_NS: [\"varOrIRIref\", \"*varOrIRIref\"],\n      ORDER: [],\n      HAVING: [],\n      GROUP: [],\n      LIMIT: [],\n      OFFSET: [],\n      WHERE: [],\n      \"{\": [],\n      FROM: [],\n      VALUES: [],\n      $: []\n    },\n    \"+graphNode\": {\n      \"(\": [\"graphNode\", \"*graphNode\"],\n      \"[\": [\"graphNode\", \"*graphNode\"],\n      VAR1: [\"graphNode\", \"*graphNode\"],\n      VAR2: [\"graphNode\", \"*graphNode\"],\n      NIL: [\"graphNode\", \"*graphNode\"],\n      IRI_REF: [\"graphNode\", \"*graphNode\"],\n      TRUE: [\"graphNode\", \"*graphNode\"],\n      FALSE: [\"graphNode\", \"*graphNode\"],\n      BLANK_NODE_LABEL: [\"graphNode\", \"*graphNode\"],\n      ANON: [\"graphNode\", \"*graphNode\"],\n      PNAME_LN: [\"graphNode\", \"*graphNode\"],\n      PNAME_NS: [\"graphNode\", \"*graphNode\"],\n      STRING_LITERAL1: [\"graphNode\", \"*graphNode\"],\n      STRING_LITERAL2: [\"graphNode\", \"*graphNode\"],\n      STRING_LITERAL_LONG1: [\"graphNode\", \"*graphNode\"],\n      STRING_LITERAL_LONG2: [\"graphNode\", \"*graphNode\"],\n      INTEGER: [\"graphNode\", \"*graphNode\"],\n      DECIMAL: [\"graphNode\", \"*graphNode\"],\n      DOUBLE: [\"graphNode\", \"*graphNode\"],\n      INTEGER_POSITIVE: [\"graphNode\", \"*graphNode\"],\n      DECIMAL_POSITIVE: [\"graphNode\", \"*graphNode\"],\n      DOUBLE_POSITIVE: [\"graphNode\", \"*graphNode\"],\n      INTEGER_NEGATIVE: [\"graphNode\", \"*graphNode\"],\n      DECIMAL_NEGATIVE: [\"graphNode\", \"*graphNode\"],\n      DOUBLE_NEGATIVE: [\"graphNode\", \"*graphNode\"]\n    },\n    \"+graphNodePath\": {\n      \"(\": [\"graphNodePath\", \"*graphNodePath\"],\n      \"[\": [\"graphNodePath\", \"*graphNodePath\"],\n      VAR1: [\"graphNodePath\", \"*graphNodePath\"],\n      VAR2: [\"graphNodePath\", \"*graphNodePath\"],\n      NIL: [\"graphNodePath\", \"*graphNodePath\"],\n      IRI_REF: [\"graphNodePath\", \"*graphNodePath\"],\n      TRUE: [\"graphNodePath\", \"*graphNodePath\"],\n      FALSE: [\"graphNodePath\", \"*graphNodePath\"],\n      BLANK_NODE_LABEL: [\"graphNodePath\", \"*graphNodePath\"],\n      ANON: [\"graphNodePath\", \"*graphNodePath\"],\n      PNAME_LN: [\"graphNodePath\", \"*graphNodePath\"],\n      PNAME_NS: [\"graphNodePath\", \"*graphNodePath\"],\n      STRING_LITERAL1: [\"graphNodePath\", \"*graphNodePath\"],\n      STRING_LITERAL2: [\"graphNodePath\", \"*graphNodePath\"],\n      STRING_LITERAL_LONG1: [\"graphNodePath\", \"*graphNodePath\"],\n      STRING_LITERAL_LONG2: [\"graphNodePath\", \"*graphNodePath\"],\n      INTEGER: [\"graphNodePath\", \"*graphNodePath\"],\n      DECIMAL: [\"graphNodePath\", \"*graphNodePath\"],\n      DOUBLE: [\"graphNodePath\", \"*graphNodePath\"],\n      INTEGER_POSITIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      DECIMAL_POSITIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      DOUBLE_POSITIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      INTEGER_NEGATIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      DECIMAL_NEGATIVE: [\"graphNodePath\", \"*graphNodePath\"],\n      DOUBLE_NEGATIVE: [\"graphNodePath\", \"*graphNodePath\"]\n    },\n    \"+groupCondition\": {\n      \"(\": [\"groupCondition\", \"*groupCondition\"],\n      STR: [\"groupCondition\", \"*groupCondition\"],\n      LANG: [\"groupCondition\", \"*groupCondition\"],\n      LANGMATCHES: [\"groupCondition\", \"*groupCondition\"],\n      DATATYPE: [\"groupCondition\", \"*groupCondition\"],\n      BOUND: [\"groupCondition\", \"*groupCondition\"],\n      IRI: [\"groupCondition\", \"*groupCondition\"],\n      URI: [\"groupCondition\", \"*groupCondition\"],\n      BNODE: [\"groupCondition\", \"*groupCondition\"],\n      RAND: [\"groupCondition\", \"*groupCondition\"],\n      ABS: [\"groupCondition\", \"*groupCondition\"],\n      CEIL: [\"groupCondition\", \"*groupCondition\"],\n      FLOOR: [\"groupCondition\", \"*groupCondition\"],\n      ROUND: [\"groupCondition\", \"*groupCondition\"],\n      CONCAT: [\"groupCondition\", \"*groupCondition\"],\n      STRLEN: [\"groupCondition\", \"*groupCondition\"],\n      UCASE: [\"groupCondition\", \"*groupCondition\"],\n      LCASE: [\"groupCondition\", \"*groupCondition\"],\n      ENCODE_FOR_URI: [\"groupCondition\", \"*groupCondition\"],\n      CONTAINS: [\"groupCondition\", \"*groupCondition\"],\n      STRSTARTS: [\"groupCondition\", \"*groupCondition\"],\n      STRENDS: [\"groupCondition\", \"*groupCondition\"],\n      STRBEFORE: [\"groupCondition\", \"*groupCondition\"],\n      STRAFTER: [\"groupCondition\", \"*groupCondition\"],\n      YEAR: [\"groupCondition\", \"*groupCondition\"],\n      MONTH: [\"groupCondition\", \"*groupCondition\"],\n      DAY: [\"groupCondition\", \"*groupCondition\"],\n      HOURS: [\"groupCondition\", \"*groupCondition\"],\n      MINUTES: [\"groupCondition\", \"*groupCondition\"],\n      SECONDS: [\"groupCondition\", \"*groupCondition\"],\n      TIMEZONE: [\"groupCondition\", \"*groupCondition\"],\n      TZ: [\"groupCondition\", \"*groupCondition\"],\n      NOW: [\"groupCondition\", \"*groupCondition\"],\n      UUID: [\"groupCondition\", \"*groupCondition\"],\n      STRUUID: [\"groupCondition\", \"*groupCondition\"],\n      MD5: [\"groupCondition\", \"*groupCondition\"],\n      SHA1: [\"groupCondition\", \"*groupCondition\"],\n      SHA256: [\"groupCondition\", \"*groupCondition\"],\n      SHA384: [\"groupCondition\", \"*groupCondition\"],\n      SHA512: [\"groupCondition\", \"*groupCondition\"],\n      COALESCE: [\"groupCondition\", \"*groupCondition\"],\n      IF: [\"groupCondition\", \"*groupCondition\"],\n      STRLANG: [\"groupCondition\", \"*groupCondition\"],\n      STRDT: [\"groupCondition\", \"*groupCondition\"],\n      SAMETERM: [\"groupCondition\", \"*groupCondition\"],\n      ISIRI: [\"groupCondition\", \"*groupCondition\"],\n      ISURI: [\"groupCondition\", \"*groupCondition\"],\n      ISBLANK: [\"groupCondition\", \"*groupCondition\"],\n      ISLITERAL: [\"groupCondition\", \"*groupCondition\"],\n      ISNUMERIC: [\"groupCondition\", \"*groupCondition\"],\n      VAR1: [\"groupCondition\", \"*groupCondition\"],\n      VAR2: [\"groupCondition\", \"*groupCondition\"],\n      SUBSTR: [\"groupCondition\", \"*groupCondition\"],\n      REPLACE: [\"groupCondition\", \"*groupCondition\"],\n      REGEX: [\"groupCondition\", \"*groupCondition\"],\n      EXISTS: [\"groupCondition\", \"*groupCondition\"],\n      NOT: [\"groupCondition\", \"*groupCondition\"],\n      IRI_REF: [\"groupCondition\", \"*groupCondition\"],\n      PNAME_LN: [\"groupCondition\", \"*groupCondition\"],\n      PNAME_NS: [\"groupCondition\", \"*groupCondition\"]\n    },\n    \"+havingCondition\": {\n      \"(\": [\"havingCondition\", \"*havingCondition\"],\n      STR: [\"havingCondition\", \"*havingCondition\"],\n      LANG: [\"havingCondition\", \"*havingCondition\"],\n      LANGMATCHES: [\"havingCondition\", \"*havingCondition\"],\n      DATATYPE: [\"havingCondition\", \"*havingCondition\"],\n      BOUND: [\"havingCondition\", \"*havingCondition\"],\n      IRI: [\"havingCondition\", \"*havingCondition\"],\n      URI: [\"havingCondition\", \"*havingCondition\"],\n      BNODE: [\"havingCondition\", \"*havingCondition\"],\n      RAND: [\"havingCondition\", \"*havingCondition\"],\n      ABS: [\"havingCondition\", \"*havingCondition\"],\n      CEIL: [\"havingCondition\", \"*havingCondition\"],\n      FLOOR: [\"havingCondition\", \"*havingCondition\"],\n      ROUND: [\"havingCondition\", \"*havingCondition\"],\n      CONCAT: [\"havingCondition\", \"*havingCondition\"],\n      STRLEN: [\"havingCondition\", \"*havingCondition\"],\n      UCASE: [\"havingCondition\", \"*havingCondition\"],\n      LCASE: [\"havingCondition\", \"*havingCondition\"],\n      ENCODE_FOR_URI: [\"havingCondition\", \"*havingCondition\"],\n      CONTAINS: [\"havingCondition\", \"*havingCondition\"],\n      STRSTARTS: [\"havingCondition\", \"*havingCondition\"],\n      STRENDS: [\"havingCondition\", \"*havingCondition\"],\n      STRBEFORE: [\"havingCondition\", \"*havingCondition\"],\n      STRAFTER: [\"havingCondition\", \"*havingCondition\"],\n      YEAR: [\"havingCondition\", \"*havingCondition\"],\n      MONTH: [\"havingCondition\", \"*havingCondition\"],\n      DAY: [\"havingCondition\", \"*havingCondition\"],\n      HOURS: [\"havingCondition\", \"*havingCondition\"],\n      MINUTES: [\"havingCondition\", \"*havingCondition\"],\n      SECONDS: [\"havingCondition\", \"*havingCondition\"],\n      TIMEZONE: [\"havingCondition\", \"*havingCondition\"],\n      TZ: [\"havingCondition\", \"*havingCondition\"],\n      NOW: [\"havingCondition\", \"*havingCondition\"],\n      UUID: [\"havingCondition\", \"*havingCondition\"],\n      STRUUID: [\"havingCondition\", \"*havingCondition\"],\n      MD5: [\"havingCondition\", \"*havingCondition\"],\n      SHA1: [\"havingCondition\", \"*havingCondition\"],\n      SHA256: [\"havingCondition\", \"*havingCondition\"],\n      SHA384: [\"havingCondition\", \"*havingCondition\"],\n      SHA512: [\"havingCondition\", \"*havingCondition\"],\n      COALESCE: [\"havingCondition\", \"*havingCondition\"],\n      IF: [\"havingCondition\", \"*havingCondition\"],\n      STRLANG: [\"havingCondition\", \"*havingCondition\"],\n      STRDT: [\"havingCondition\", \"*havingCondition\"],\n      SAMETERM: [\"havingCondition\", \"*havingCondition\"],\n      ISIRI: [\"havingCondition\", \"*havingCondition\"],\n      ISURI: [\"havingCondition\", \"*havingCondition\"],\n      ISBLANK: [\"havingCondition\", \"*havingCondition\"],\n      ISLITERAL: [\"havingCondition\", \"*havingCondition\"],\n      ISNUMERIC: [\"havingCondition\", \"*havingCondition\"],\n      SUBSTR: [\"havingCondition\", \"*havingCondition\"],\n      REPLACE: [\"havingCondition\", \"*havingCondition\"],\n      REGEX: [\"havingCondition\", \"*havingCondition\"],\n      EXISTS: [\"havingCondition\", \"*havingCondition\"],\n      NOT: [\"havingCondition\", \"*havingCondition\"],\n      IRI_REF: [\"havingCondition\", \"*havingCondition\"],\n      PNAME_LN: [\"havingCondition\", \"*havingCondition\"],\n      PNAME_NS: [\"havingCondition\", \"*havingCondition\"]\n    },\n    \"+or([var,[(,expression,AS,var,)]])\": {\n      \"(\": [\n        \"or([var,[(,expression,AS,var,)]])\",\n        \"*or([var,[(,expression,AS,var,)]])\"\n      ],\n      VAR1: [\n        \"or([var,[(,expression,AS,var,)]])\",\n        \"*or([var,[(,expression,AS,var,)]])\"\n      ],\n      VAR2: [\n        \"or([var,[(,expression,AS,var,)]])\",\n        \"*or([var,[(,expression,AS,var,)]])\"\n      ]\n    },\n    \"+orderCondition\": {\n      ASC: [\"orderCondition\", \"*orderCondition\"],\n      DESC: [\"orderCondition\", \"*orderCondition\"],\n      VAR1: [\"orderCondition\", \"*orderCondition\"],\n      VAR2: [\"orderCondition\", \"*orderCondition\"],\n      \"(\": [\"orderCondition\", \"*orderCondition\"],\n      STR: [\"orderCondition\", \"*orderCondition\"],\n      LANG: [\"orderCondition\", \"*orderCondition\"],\n      LANGMATCHES: [\"orderCondition\", \"*orderCondition\"],\n      DATATYPE: [\"orderCondition\", \"*orderCondition\"],\n      BOUND: [\"orderCondition\", \"*orderCondition\"],\n      IRI: [\"orderCondition\", \"*orderCondition\"],\n      URI: [\"orderCondition\", \"*orderCondition\"],\n      BNODE: [\"orderCondition\", \"*orderCondition\"],\n      RAND: [\"orderCondition\", \"*orderCondition\"],\n      ABS: [\"orderCondition\", \"*orderCondition\"],\n      CEIL: [\"orderCondition\", \"*orderCondition\"],\n      FLOOR: [\"orderCondition\", \"*orderCondition\"],\n      ROUND: [\"orderCondition\", \"*orderCondition\"],\n      CONCAT: [\"orderCondition\", \"*orderCondition\"],\n      STRLEN: [\"orderCondition\", \"*orderCondition\"],\n      UCASE: [\"orderCondition\", \"*orderCondition\"],\n      LCASE: [\"orderCondition\", \"*orderCondition\"],\n      ENCODE_FOR_URI: [\"orderCondition\", \"*orderCondition\"],\n      CONTAINS: [\"orderCondition\", \"*orderCondition\"],\n      STRSTARTS: [\"orderCondition\", \"*orderCondition\"],\n      STRENDS: [\"orderCondition\", \"*orderCondition\"],\n      STRBEFORE: [\"orderCondition\", \"*orderCondition\"],\n      STRAFTER: [\"orderCondition\", \"*orderCondition\"],\n      YEAR: [\"orderCondition\", \"*orderCondition\"],\n      MONTH: [\"orderCondition\", \"*orderCondition\"],\n      DAY: [\"orderCondition\", \"*orderCondition\"],\n      HOURS: [\"orderCondition\", \"*orderCondition\"],\n      MINUTES: [\"orderCondition\", \"*orderCondition\"],\n      SECONDS: [\"orderCondition\", \"*orderCondition\"],\n      TIMEZONE: [\"orderCondition\", \"*orderCondition\"],\n      TZ: [\"orderCondition\", \"*orderCondition\"],\n      NOW: [\"orderCondition\", \"*orderCondition\"],\n      UUID: [\"orderCondition\", \"*orderCondition\"],\n      STRUUID: [\"orderCondition\", \"*orderCondition\"],\n      MD5: [\"orderCondition\", \"*orderCondition\"],\n      SHA1: [\"orderCondition\", \"*orderCondition\"],\n      SHA256: [\"orderCondition\", \"*orderCondition\"],\n      SHA384: [\"orderCondition\", \"*orderCondition\"],\n      SHA512: [\"orderCondition\", \"*orderCondition\"],\n      COALESCE: [\"orderCondition\", \"*orderCondition\"],\n      IF: [\"orderCondition\", \"*orderCondition\"],\n      STRLANG: [\"orderCondition\", \"*orderCondition\"],\n      STRDT: [\"orderCondition\", \"*orderCondition\"],\n      SAMETERM: [\"orderCondition\", \"*orderCondition\"],\n      ISIRI: [\"orderCondition\", \"*orderCondition\"],\n      ISURI: [\"orderCondition\", \"*orderCondition\"],\n      ISBLANK: [\"orderCondition\", \"*orderCondition\"],\n      ISLITERAL: [\"orderCondition\", \"*orderCondition\"],\n      ISNUMERIC: [\"orderCondition\", \"*orderCondition\"],\n      SUBSTR: [\"orderCondition\", \"*orderCondition\"],\n      REPLACE: [\"orderCondition\", \"*orderCondition\"],\n      REGEX: [\"orderCondition\", \"*orderCondition\"],\n      EXISTS: [\"orderCondition\", \"*orderCondition\"],\n      NOT: [\"orderCondition\", \"*orderCondition\"],\n      IRI_REF: [\"orderCondition\", \"*orderCondition\"],\n      PNAME_LN: [\"orderCondition\", \"*orderCondition\"],\n      PNAME_NS: [\"orderCondition\", \"*orderCondition\"]\n    },\n    \"+varOrIRIref\": {\n      VAR1: [\"varOrIRIref\", \"*varOrIRIref\"],\n      VAR2: [\"varOrIRIref\", \"*varOrIRIref\"],\n      IRI_REF: [\"varOrIRIref\", \"*varOrIRIref\"],\n      PNAME_LN: [\"varOrIRIref\", \"*varOrIRIref\"],\n      PNAME_NS: [\"varOrIRIref\", \"*varOrIRIref\"]\n    },\n    \"?.\": {\n      \".\": [\".\"],\n      VAR1: [],\n      VAR2: [],\n      NIL: [],\n      \"(\": [],\n      \"[\": [],\n      IRI_REF: [],\n      TRUE: [],\n      FALSE: [],\n      BLANK_NODE_LABEL: [],\n      ANON: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      STRING_LITERAL1: [],\n      STRING_LITERAL2: [],\n      STRING_LITERAL_LONG1: [],\n      STRING_LITERAL_LONG2: [],\n      INTEGER: [],\n      DECIMAL: [],\n      DOUBLE: [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: [],\n      GRAPH: [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: [],\n      \"}\": []\n    },\n    \"?DISTINCT\": {\n      DISTINCT: [\"DISTINCT\"],\n      \"!\": [],\n      \"+\": [],\n      \"-\": [],\n      VAR1: [],\n      VAR2: [],\n      \"(\": [],\n      STR: [],\n      LANG: [],\n      LANGMATCHES: [],\n      DATATYPE: [],\n      BOUND: [],\n      IRI: [],\n      URI: [],\n      BNODE: [],\n      RAND: [],\n      ABS: [],\n      CEIL: [],\n      FLOOR: [],\n      ROUND: [],\n      CONCAT: [],\n      STRLEN: [],\n      UCASE: [],\n      LCASE: [],\n      ENCODE_FOR_URI: [],\n      CONTAINS: [],\n      STRSTARTS: [],\n      STRENDS: [],\n      STRBEFORE: [],\n      STRAFTER: [],\n      YEAR: [],\n      MONTH: [],\n      DAY: [],\n      HOURS: [],\n      MINUTES: [],\n      SECONDS: [],\n      TIMEZONE: [],\n      TZ: [],\n      NOW: [],\n      UUID: [],\n      STRUUID: [],\n      MD5: [],\n      SHA1: [],\n      SHA256: [],\n      SHA384: [],\n      SHA512: [],\n      COALESCE: [],\n      IF: [],\n      STRLANG: [],\n      STRDT: [],\n      SAMETERM: [],\n      ISIRI: [],\n      ISURI: [],\n      ISBLANK: [],\n      ISLITERAL: [],\n      ISNUMERIC: [],\n      TRUE: [],\n      FALSE: [],\n      COUNT: [],\n      SUM: [],\n      MIN: [],\n      MAX: [],\n      AVG: [],\n      SAMPLE: [],\n      GROUP_CONCAT: [],\n      SUBSTR: [],\n      REPLACE: [],\n      REGEX: [],\n      EXISTS: [],\n      NOT: [],\n      IRI_REF: [],\n      STRING_LITERAL1: [],\n      STRING_LITERAL2: [],\n      STRING_LITERAL_LONG1: [],\n      STRING_LITERAL_LONG2: [],\n      INTEGER: [],\n      DECIMAL: [],\n      DOUBLE: [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      \"*\": []\n    },\n    \"?GRAPH\": {\n      GRAPH: [\"GRAPH\"],\n      IRI_REF: [],\n      PNAME_LN: [],\n      PNAME_NS: []\n    },\n    \"?SILENT\": {\n      SILENT: [\"SILENT\"],\n      VAR1: [],\n      VAR2: [],\n      IRI_REF: [],\n      PNAME_LN: [],\n      PNAME_NS: []\n    },\n    \"?SILENT_1\": {\n      SILENT: [\"SILENT\"],\n      IRI_REF: [],\n      PNAME_LN: [],\n      PNAME_NS: []\n    },\n    \"?SILENT_2\": {\n      SILENT: [\"SILENT\"],\n      GRAPH: [],\n      DEFAULT: [],\n      NAMED: [],\n      ALL: []\n    },\n    \"?SILENT_3\": {\n      SILENT: [\"SILENT\"],\n      GRAPH: []\n    },\n    \"?SILENT_4\": {\n      SILENT: [\"SILENT\"],\n      DEFAULT: [],\n      GRAPH: [],\n      IRI_REF: [],\n      PNAME_LN: [],\n      PNAME_NS: []\n    },\n    \"?WHERE\": {\n      WHERE: [\"WHERE\"],\n      \"{\": []\n    },\n    \"?[,,expression]\": {\n      \",\": [\"[,,expression]\"],\n      \")\": []\n    },\n    \"?[.,?constructTriples]\": {\n      \".\": [\"[.,?constructTriples]\"],\n      \"}\": []\n    },\n    \"?[.,?triplesBlock]\": {\n      \".\": [\"[.,?triplesBlock]\"],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      GRAPH: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: [],\n      \"}\": []\n    },\n    \"?[.,?triplesTemplate]\": {\n      \".\": [\"[.,?triplesTemplate]\"],\n      \"}\": [],\n      GRAPH: []\n    },\n    \"?[;,SEPARATOR,=,string]\": {\n      \";\": [\"[;,SEPARATOR,=,string]\"],\n      \")\": []\n    },\n    \"?[;,update]\": {\n      \";\": [\"[;,update]\"],\n      $: []\n    },\n    \"?[AS,var]\": {\n      AS: [\"[AS,var]\"],\n      \")\": []\n    },\n    \"?[INTO,graphRef]\": {\n      INTO: [\"[INTO,graphRef]\"],\n      \";\": [],\n      $: []\n    },\n    \"?[or([verbPath,verbSimple]),objectList]\": {\n      VAR1: [\"[or([verbPath,verbSimple]),objectList]\"],\n      VAR2: [\"[or([verbPath,verbSimple]),objectList]\"],\n      \"^\": [\"[or([verbPath,verbSimple]),objectList]\"],\n      a: [\"[or([verbPath,verbSimple]),objectList]\"],\n      \"!\": [\"[or([verbPath,verbSimple]),objectList]\"],\n      \"(\": [\"[or([verbPath,verbSimple]),objectList]\"],\n      IRI_REF: [\"[or([verbPath,verbSimple]),objectList]\"],\n      PNAME_LN: [\"[or([verbPath,verbSimple]),objectList]\"],\n      PNAME_NS: [\"[or([verbPath,verbSimple]),objectList]\"],\n      \";\": [],\n      \".\": [],\n      \"]\": [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      GRAPH: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: [],\n      \"}\": []\n    },\n    \"?[pathOneInPropertySet,*[|,pathOneInPropertySet]]\": {\n      a: [\"[pathOneInPropertySet,*[|,pathOneInPropertySet]]\"],\n      \"^\": [\"[pathOneInPropertySet,*[|,pathOneInPropertySet]]\"],\n      IRI_REF: [\"[pathOneInPropertySet,*[|,pathOneInPropertySet]]\"],\n      PNAME_LN: [\"[pathOneInPropertySet,*[|,pathOneInPropertySet]]\"],\n      PNAME_NS: [\"[pathOneInPropertySet,*[|,pathOneInPropertySet]]\"],\n      \")\": []\n    },\n    \"?[update1,?[;,update]]\": {\n      INSERT: [\"[update1,?[;,update]]\"],\n      DELETE: [\"[update1,?[;,update]]\"],\n      LOAD: [\"[update1,?[;,update]]\"],\n      CLEAR: [\"[update1,?[;,update]]\"],\n      DROP: [\"[update1,?[;,update]]\"],\n      ADD: [\"[update1,?[;,update]]\"],\n      MOVE: [\"[update1,?[;,update]]\"],\n      COPY: [\"[update1,?[;,update]]\"],\n      CREATE: [\"[update1,?[;,update]]\"],\n      WITH: [\"[update1,?[;,update]]\"],\n      $: []\n    },\n    \"?[verb,objectList]\": {\n      a: [\"[verb,objectList]\"],\n      VAR1: [\"[verb,objectList]\"],\n      VAR2: [\"[verb,objectList]\"],\n      IRI_REF: [\"[verb,objectList]\"],\n      PNAME_LN: [\"[verb,objectList]\"],\n      PNAME_NS: [\"[verb,objectList]\"],\n      \";\": [],\n      \".\": [],\n      \"]\": [],\n      \"}\": [],\n      GRAPH: [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: []\n    },\n    \"?argList\": {\n      NIL: [\"argList\"],\n      \"(\": [\"argList\"],\n      AS: [],\n      \")\": [],\n      \",\": [],\n      \"||\": [],\n      \"&&\": [],\n      \"=\": [],\n      \"!=\": [],\n      \"<\": [],\n      \">\": [],\n      \"<=\": [],\n      \">=\": [],\n      IN: [],\n      NOT: [],\n      \"+\": [],\n      \"-\": [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: [],\n      \"*\": [],\n      \"/\": [],\n      \";\": []\n    },\n    \"?constructTriples\": {\n      VAR1: [\"constructTriples\"],\n      VAR2: [\"constructTriples\"],\n      NIL: [\"constructTriples\"],\n      \"(\": [\"constructTriples\"],\n      \"[\": [\"constructTriples\"],\n      IRI_REF: [\"constructTriples\"],\n      TRUE: [\"constructTriples\"],\n      FALSE: [\"constructTriples\"],\n      BLANK_NODE_LABEL: [\"constructTriples\"],\n      ANON: [\"constructTriples\"],\n      PNAME_LN: [\"constructTriples\"],\n      PNAME_NS: [\"constructTriples\"],\n      STRING_LITERAL1: [\"constructTriples\"],\n      STRING_LITERAL2: [\"constructTriples\"],\n      STRING_LITERAL_LONG1: [\"constructTriples\"],\n      STRING_LITERAL_LONG2: [\"constructTriples\"],\n      INTEGER: [\"constructTriples\"],\n      DECIMAL: [\"constructTriples\"],\n      DOUBLE: [\"constructTriples\"],\n      INTEGER_POSITIVE: [\"constructTriples\"],\n      DECIMAL_POSITIVE: [\"constructTriples\"],\n      DOUBLE_POSITIVE: [\"constructTriples\"],\n      INTEGER_NEGATIVE: [\"constructTriples\"],\n      DECIMAL_NEGATIVE: [\"constructTriples\"],\n      DOUBLE_NEGATIVE: [\"constructTriples\"],\n      \"}\": []\n    },\n    \"?groupClause\": {\n      GROUP: [\"groupClause\"],\n      VALUES: [],\n      LIMIT: [],\n      OFFSET: [],\n      ORDER: [],\n      HAVING: [],\n      $: [],\n      \"}\": []\n    },\n    \"?havingClause\": {\n      HAVING: [\"havingClause\"],\n      VALUES: [],\n      LIMIT: [],\n      OFFSET: [],\n      ORDER: [],\n      $: [],\n      \"}\": []\n    },\n    \"?insertClause\": {\n      INSERT: [\"insertClause\"],\n      WHERE: [],\n      USING: []\n    },\n    \"?limitClause\": {\n      LIMIT: [\"limitClause\"],\n      VALUES: [],\n      $: [],\n      \"}\": []\n    },\n    \"?limitOffsetClauses\": {\n      LIMIT: [\"limitOffsetClauses\"],\n      OFFSET: [\"limitOffsetClauses\"],\n      VALUES: [],\n      $: [],\n      \"}\": []\n    },\n    \"?offsetClause\": {\n      OFFSET: [\"offsetClause\"],\n      VALUES: [],\n      $: [],\n      \"}\": []\n    },\n    \"?or([DISTINCT,REDUCED])\": {\n      DISTINCT: [\"or([DISTINCT,REDUCED])\"],\n      REDUCED: [\"or([DISTINCT,REDUCED])\"],\n      \"*\": [],\n      \"(\": [],\n      VAR1: [],\n      VAR2: []\n    },\n    \"?or([LANGTAG,[^^,iriRef]])\": {\n      LANGTAG: [\"or([LANGTAG,[^^,iriRef]])\"],\n      \"^^\": [\"or([LANGTAG,[^^,iriRef]])\"],\n      UNDEF: [],\n      IRI_REF: [],\n      TRUE: [],\n      FALSE: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      STRING_LITERAL1: [],\n      STRING_LITERAL2: [],\n      STRING_LITERAL_LONG1: [],\n      STRING_LITERAL_LONG2: [],\n      INTEGER: [],\n      DECIMAL: [],\n      DOUBLE: [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: [],\n      a: [],\n      VAR1: [],\n      VAR2: [],\n      \"^\": [],\n      \"!\": [],\n      \"(\": [],\n      \".\": [],\n      \";\": [],\n      \",\": [],\n      AS: [],\n      \")\": [],\n      \"||\": [],\n      \"&&\": [],\n      \"=\": [],\n      \"!=\": [],\n      \"<\": [],\n      \">\": [],\n      \"<=\": [],\n      \">=\": [],\n      IN: [],\n      NOT: [],\n      \"+\": [],\n      \"-\": [],\n      \"*\": [],\n      \"/\": [],\n      \"}\": [],\n      \"[\": [],\n      NIL: [],\n      BLANK_NODE_LABEL: [],\n      ANON: [],\n      \"]\": [],\n      GRAPH: [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: []\n    },\n    \"?or([[*,unaryExpression],[/,unaryExpression]])\": {\n      \"*\": [\"or([[*,unaryExpression],[/,unaryExpression]])\"],\n      \"/\": [\"or([[*,unaryExpression],[/,unaryExpression]])\"],\n      \"+\": [],\n      \"-\": [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: [],\n      AS: [],\n      \")\": [],\n      \",\": [],\n      \"||\": [],\n      \"&&\": [],\n      \"=\": [],\n      \"!=\": [],\n      \"<\": [],\n      \">\": [],\n      \"<=\": [],\n      \">=\": [],\n      IN: [],\n      NOT: [],\n      \";\": []\n    },\n    \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\": {\n      \"=\": [\n        \"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      \"!=\": [\n        \"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      \"<\": [\n        \"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      \">\": [\n        \"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      \"<=\": [\n        \"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      \">=\": [\n        \"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      IN: [\n        \"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      NOT: [\n        \"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      AS: [],\n      \")\": [],\n      \",\": [],\n      \"||\": [],\n      \"&&\": [],\n      \";\": []\n    },\n    \"?orderClause\": {\n      ORDER: [\"orderClause\"],\n      VALUES: [],\n      LIMIT: [],\n      OFFSET: [],\n      $: [],\n      \"}\": []\n    },\n    \"?pathMod\": {\n      \"*\": [\"pathMod\"],\n      \"?\": [\"pathMod\"],\n      \"+\": [\"pathMod\"],\n      \"{\": [\"pathMod\"],\n      \"|\": [],\n      \"/\": [],\n      \")\": [],\n      \"(\": [],\n      \"[\": [],\n      VAR1: [],\n      VAR2: [],\n      NIL: [],\n      IRI_REF: [],\n      TRUE: [],\n      FALSE: [],\n      BLANK_NODE_LABEL: [],\n      ANON: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      STRING_LITERAL1: [],\n      STRING_LITERAL2: [],\n      STRING_LITERAL_LONG1: [],\n      STRING_LITERAL_LONG2: [],\n      INTEGER: [],\n      DECIMAL: [],\n      DOUBLE: [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: []\n    },\n    \"?triplesBlock\": {\n      VAR1: [\"triplesBlock\"],\n      VAR2: [\"triplesBlock\"],\n      NIL: [\"triplesBlock\"],\n      \"(\": [\"triplesBlock\"],\n      \"[\": [\"triplesBlock\"],\n      IRI_REF: [\"triplesBlock\"],\n      TRUE: [\"triplesBlock\"],\n      FALSE: [\"triplesBlock\"],\n      BLANK_NODE_LABEL: [\"triplesBlock\"],\n      ANON: [\"triplesBlock\"],\n      PNAME_LN: [\"triplesBlock\"],\n      PNAME_NS: [\"triplesBlock\"],\n      STRING_LITERAL1: [\"triplesBlock\"],\n      STRING_LITERAL2: [\"triplesBlock\"],\n      STRING_LITERAL_LONG1: [\"triplesBlock\"],\n      STRING_LITERAL_LONG2: [\"triplesBlock\"],\n      INTEGER: [\"triplesBlock\"],\n      DECIMAL: [\"triplesBlock\"],\n      DOUBLE: [\"triplesBlock\"],\n      INTEGER_POSITIVE: [\"triplesBlock\"],\n      DECIMAL_POSITIVE: [\"triplesBlock\"],\n      DOUBLE_POSITIVE: [\"triplesBlock\"],\n      INTEGER_NEGATIVE: [\"triplesBlock\"],\n      DECIMAL_NEGATIVE: [\"triplesBlock\"],\n      DOUBLE_NEGATIVE: [\"triplesBlock\"],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      GRAPH: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: [],\n      \"}\": []\n    },\n    \"?triplesTemplate\": {\n      VAR1: [\"triplesTemplate\"],\n      VAR2: [\"triplesTemplate\"],\n      NIL: [\"triplesTemplate\"],\n      \"(\": [\"triplesTemplate\"],\n      \"[\": [\"triplesTemplate\"],\n      IRI_REF: [\"triplesTemplate\"],\n      TRUE: [\"triplesTemplate\"],\n      FALSE: [\"triplesTemplate\"],\n      BLANK_NODE_LABEL: [\"triplesTemplate\"],\n      ANON: [\"triplesTemplate\"],\n      PNAME_LN: [\"triplesTemplate\"],\n      PNAME_NS: [\"triplesTemplate\"],\n      STRING_LITERAL1: [\"triplesTemplate\"],\n      STRING_LITERAL2: [\"triplesTemplate\"],\n      STRING_LITERAL_LONG1: [\"triplesTemplate\"],\n      STRING_LITERAL_LONG2: [\"triplesTemplate\"],\n      INTEGER: [\"triplesTemplate\"],\n      DECIMAL: [\"triplesTemplate\"],\n      DOUBLE: [\"triplesTemplate\"],\n      INTEGER_POSITIVE: [\"triplesTemplate\"],\n      DECIMAL_POSITIVE: [\"triplesTemplate\"],\n      DOUBLE_POSITIVE: [\"triplesTemplate\"],\n      INTEGER_NEGATIVE: [\"triplesTemplate\"],\n      DECIMAL_NEGATIVE: [\"triplesTemplate\"],\n      DOUBLE_NEGATIVE: [\"triplesTemplate\"],\n      \"}\": [],\n      GRAPH: []\n    },\n    \"?whereClause\": {\n      WHERE: [\"whereClause\"],\n      \"{\": [\"whereClause\"],\n      ORDER: [],\n      HAVING: [],\n      GROUP: [],\n      LIMIT: [],\n      OFFSET: [],\n      VALUES: [],\n      $: []\n    },\n    \"[!=,numericExpression]\": {\n      \"!=\": [\"!=\", \"numericExpression\"]\n    },\n    \"[&&,valueLogical]\": {\n      \"&&\": [\"&&\", \"valueLogical\"]\n    },\n    \"[(,*dataBlockValue,)]\": {\n      \"(\": [\"(\", \"*dataBlockValue\", \")\"]\n    },\n    \"[(,*var,)]\": {\n      \"(\": [\"(\", \"*var\", \")\"]\n    },\n    \"[(,expression,)]\": {\n      \"(\": [\"(\", \"expression\", \")\"]\n    },\n    \"[(,expression,AS,var,)]\": {\n      \"(\": [\"(\", \"expression\", \"AS\", \"var\", \")\"]\n    },\n    \"[*,unaryExpression]\": {\n      \"*\": [\"*\", \"unaryExpression\"]\n    },\n    \"[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]\": {\n      WHERE: [\n        \"*datasetClause\",\n        \"WHERE\",\n        \"{\",\n        \"?triplesTemplate\",\n        \"}\",\n        \"solutionModifier\"\n      ],\n      FROM: [\n        \"*datasetClause\",\n        \"WHERE\",\n        \"{\",\n        \"?triplesTemplate\",\n        \"}\",\n        \"solutionModifier\"\n      ]\n    },\n    \"[+,multiplicativeExpression]\": {\n      \"+\": [\"+\", \"multiplicativeExpression\"]\n    },\n    \"[,,expression]\": {\n      \",\": [\",\", \"expression\"]\n    },\n    \"[,,integer,}]\": {\n      \",\": [\",\", \"integer\", \"}\"]\n    },\n    \"[,,objectPath]\": {\n      \",\": [\",\", \"objectPath\"]\n    },\n    \"[,,object]\": {\n      \",\": [\",\", \"object\"]\n    },\n    \"[,,or([},[integer,}]])]\": {\n      \",\": [\",\", \"or([},[integer,}]])\"]\n    },\n    \"[-,multiplicativeExpression]\": {\n      \"-\": [\"-\", \"multiplicativeExpression\"]\n    },\n    \"[.,?constructTriples]\": {\n      \".\": [\".\", \"?constructTriples\"]\n    },\n    \"[.,?triplesBlock]\": {\n      \".\": [\".\", \"?triplesBlock\"]\n    },\n    \"[.,?triplesTemplate]\": {\n      \".\": [\".\", \"?triplesTemplate\"]\n    },\n    \"[/,pathEltOrInverse]\": {\n      \"/\": [\"/\", \"pathEltOrInverse\"]\n    },\n    \"[/,unaryExpression]\": {\n      \"/\": [\"/\", \"unaryExpression\"]\n    },\n    \"[;,?[or([verbPath,verbSimple]),objectList]]\": {\n      \";\": [\";\", \"?[or([verbPath,verbSimple]),objectList]\"]\n    },\n    \"[;,?[verb,objectList]]\": {\n      \";\": [\";\", \"?[verb,objectList]\"]\n    },\n    \"[;,SEPARATOR,=,string]\": {\n      \";\": [\";\", \"SEPARATOR\", \"=\", \"string\"]\n    },\n    \"[;,update]\": {\n      \";\": [\";\", \"update\"]\n    },\n    \"[<,numericExpression]\": {\n      \"<\": [\"<\", \"numericExpression\"]\n    },\n    \"[<=,numericExpression]\": {\n      \"<=\": [\"<=\", \"numericExpression\"]\n    },\n    \"[=,numericExpression]\": {\n      \"=\": [\"=\", \"numericExpression\"]\n    },\n    \"[>,numericExpression]\": {\n      \">\": [\">\", \"numericExpression\"]\n    },\n    \"[>=,numericExpression]\": {\n      \">=\": [\">=\", \"numericExpression\"]\n    },\n    \"[AS,var]\": {\n      AS: [\"AS\", \"var\"]\n    },\n    \"[IN,expressionList]\": {\n      IN: [\"IN\", \"expressionList\"]\n    },\n    \"[INTO,graphRef]\": {\n      INTO: [\"INTO\", \"graphRef\"]\n    },\n    \"[NAMED,iriRef]\": {\n      NAMED: [\"NAMED\", \"iriRef\"]\n    },\n    \"[NOT,IN,expressionList]\": {\n      NOT: [\"NOT\", \"IN\", \"expressionList\"]\n    },\n    \"[UNION,groupGraphPattern]\": {\n      UNION: [\"UNION\", \"groupGraphPattern\"]\n    },\n    \"[^^,iriRef]\": {\n      \"^^\": [\"^^\", \"iriRef\"]\n    },\n    \"[constructTemplate,*datasetClause,whereClause,solutionModifier]\": {\n      \"{\": [\n        \"constructTemplate\",\n        \"*datasetClause\",\n        \"whereClause\",\n        \"solutionModifier\"\n      ]\n    },\n    \"[deleteClause,?insertClause]\": {\n      DELETE: [\"deleteClause\", \"?insertClause\"]\n    },\n    \"[graphPatternNotTriples,?.,?triplesBlock]\": {\n      \"{\": [\"graphPatternNotTriples\", \"?.\", \"?triplesBlock\"],\n      OPTIONAL: [\"graphPatternNotTriples\", \"?.\", \"?triplesBlock\"],\n      MINUS: [\"graphPatternNotTriples\", \"?.\", \"?triplesBlock\"],\n      GRAPH: [\"graphPatternNotTriples\", \"?.\", \"?triplesBlock\"],\n      SERVICE: [\"graphPatternNotTriples\", \"?.\", \"?triplesBlock\"],\n      FILTER: [\"graphPatternNotTriples\", \"?.\", \"?triplesBlock\"],\n      BIND: [\"graphPatternNotTriples\", \"?.\", \"?triplesBlock\"],\n      VALUES: [\"graphPatternNotTriples\", \"?.\", \"?triplesBlock\"]\n    },\n    \"[integer,or([[,,or([},[integer,}]])],}])]\": {\n      INTEGER: [\"integer\", \"or([[,,or([},[integer,}]])],}])\"]\n    },\n    \"[integer,}]\": {\n      INTEGER: [\"integer\", \"}\"]\n    },\n    \"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]\": {\n      INTEGER_POSITIVE: [\n        \"or([numericLiteralPositive,numericLiteralNegative])\",\n        \"?or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DECIMAL_POSITIVE: [\n        \"or([numericLiteralPositive,numericLiteralNegative])\",\n        \"?or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DOUBLE_POSITIVE: [\n        \"or([numericLiteralPositive,numericLiteralNegative])\",\n        \"?or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      INTEGER_NEGATIVE: [\n        \"or([numericLiteralPositive,numericLiteralNegative])\",\n        \"?or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DECIMAL_NEGATIVE: [\n        \"or([numericLiteralPositive,numericLiteralNegative])\",\n        \"?or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DOUBLE_NEGATIVE: [\n        \"or([numericLiteralPositive,numericLiteralNegative])\",\n        \"?or([[*,unaryExpression],[/,unaryExpression]])\"\n      ]\n    },\n    \"[or([verbPath,verbSimple]),objectList]\": {\n      VAR1: [\"or([verbPath,verbSimple])\", \"objectList\"],\n      VAR2: [\"or([verbPath,verbSimple])\", \"objectList\"],\n      \"^\": [\"or([verbPath,verbSimple])\", \"objectList\"],\n      a: [\"or([verbPath,verbSimple])\", \"objectList\"],\n      \"!\": [\"or([verbPath,verbSimple])\", \"objectList\"],\n      \"(\": [\"or([verbPath,verbSimple])\", \"objectList\"],\n      IRI_REF: [\"or([verbPath,verbSimple])\", \"objectList\"],\n      PNAME_LN: [\"or([verbPath,verbSimple])\", \"objectList\"],\n      PNAME_NS: [\"or([verbPath,verbSimple])\", \"objectList\"]\n    },\n    \"[pathOneInPropertySet,*[|,pathOneInPropertySet]]\": {\n      a: [\"pathOneInPropertySet\", \"*[|,pathOneInPropertySet]\"],\n      \"^\": [\"pathOneInPropertySet\", \"*[|,pathOneInPropertySet]\"],\n      IRI_REF: [\"pathOneInPropertySet\", \"*[|,pathOneInPropertySet]\"],\n      PNAME_LN: [\"pathOneInPropertySet\", \"*[|,pathOneInPropertySet]\"],\n      PNAME_NS: [\"pathOneInPropertySet\", \"*[|,pathOneInPropertySet]\"]\n    },\n    \"[quadsNotTriples,?.,?triplesTemplate]\": {\n      GRAPH: [\"quadsNotTriples\", \"?.\", \"?triplesTemplate\"]\n    },\n    \"[update1,?[;,update]]\": {\n      INSERT: [\"update1\", \"?[;,update]\"],\n      DELETE: [\"update1\", \"?[;,update]\"],\n      LOAD: [\"update1\", \"?[;,update]\"],\n      CLEAR: [\"update1\", \"?[;,update]\"],\n      DROP: [\"update1\", \"?[;,update]\"],\n      ADD: [\"update1\", \"?[;,update]\"],\n      MOVE: [\"update1\", \"?[;,update]\"],\n      COPY: [\"update1\", \"?[;,update]\"],\n      CREATE: [\"update1\", \"?[;,update]\"],\n      WITH: [\"update1\", \"?[;,update]\"]\n    },\n    \"[verb,objectList]\": {\n      a: [\"verb\", \"objectList\"],\n      VAR1: [\"verb\", \"objectList\"],\n      VAR2: [\"verb\", \"objectList\"],\n      IRI_REF: [\"verb\", \"objectList\"],\n      PNAME_LN: [\"verb\", \"objectList\"],\n      PNAME_NS: [\"verb\", \"objectList\"]\n    },\n    \"[|,pathOneInPropertySet]\": {\n      \"|\": [\"|\", \"pathOneInPropertySet\"]\n    },\n    \"[|,pathSequence]\": {\n      \"|\": [\"|\", \"pathSequence\"]\n    },\n    \"[||,conditionalAndExpression]\": {\n      \"||\": [\"||\", \"conditionalAndExpression\"]\n    },\n    add: {\n      ADD: [\"ADD\", \"?SILENT_4\", \"graphOrDefault\", \"TO\", \"graphOrDefault\"]\n    },\n    additiveExpression: {\n      \"!\": [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      \"+\": [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      \"-\": [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      VAR1: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      VAR2: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      \"(\": [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STR: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      LANG: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      LANGMATCHES: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DATATYPE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      BOUND: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      IRI: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      URI: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      BNODE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      RAND: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      ABS: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      CEIL: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      FLOOR: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      ROUND: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      CONCAT: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRLEN: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      UCASE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      LCASE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      ENCODE_FOR_URI: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      CONTAINS: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRSTARTS: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRENDS: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRBEFORE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRAFTER: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      YEAR: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      MONTH: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DAY: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      HOURS: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      MINUTES: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      SECONDS: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      TIMEZONE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      TZ: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      NOW: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      UUID: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRUUID: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      MD5: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      SHA1: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      SHA256: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      SHA384: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      SHA512: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      COALESCE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      IF: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRLANG: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRDT: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      SAMETERM: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      ISIRI: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      ISURI: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      ISBLANK: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      ISLITERAL: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      ISNUMERIC: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      TRUE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      FALSE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      COUNT: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      SUM: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      MIN: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      MAX: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      AVG: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      SAMPLE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      GROUP_CONCAT: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      SUBSTR: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      REPLACE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      REGEX: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      EXISTS: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      NOT: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      IRI_REF: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRING_LITERAL1: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRING_LITERAL2: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRING_LITERAL_LONG1: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      STRING_LITERAL_LONG2: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      INTEGER: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DECIMAL: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DOUBLE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      INTEGER_POSITIVE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DECIMAL_POSITIVE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DOUBLE_POSITIVE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      INTEGER_NEGATIVE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DECIMAL_NEGATIVE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      DOUBLE_NEGATIVE: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      PNAME_LN: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ],\n      PNAME_NS: [\n        \"multiplicativeExpression\",\n        \"*or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\"\n      ]\n    },\n    aggregate: {\n      COUNT: [\"COUNT\", \"(\", \"?DISTINCT\", \"or([*,expression])\", \")\"],\n      SUM: [\"SUM\", \"(\", \"?DISTINCT\", \"expression\", \")\"],\n      MIN: [\"MIN\", \"(\", \"?DISTINCT\", \"expression\", \")\"],\n      MAX: [\"MAX\", \"(\", \"?DISTINCT\", \"expression\", \")\"],\n      AVG: [\"AVG\", \"(\", \"?DISTINCT\", \"expression\", \")\"],\n      SAMPLE: [\"SAMPLE\", \"(\", \"?DISTINCT\", \"expression\", \")\"],\n      GROUP_CONCAT: [\n        \"GROUP_CONCAT\",\n        \"(\",\n        \"?DISTINCT\",\n        \"expression\",\n        \"?[;,SEPARATOR,=,string]\",\n        \")\"\n      ]\n    },\n    allowBnodes: {\n      \"}\": []\n    },\n    allowVars: {\n      \"}\": []\n    },\n    argList: {\n      NIL: [\"NIL\"],\n      \"(\": [\"(\", \"?DISTINCT\", \"expression\", \"*[,,expression]\", \")\"]\n    },\n    askQuery: {\n      ASK: [\"ASK\", \"*datasetClause\", \"whereClause\", \"solutionModifier\"]\n    },\n    baseDecl: {\n      BASE: [\"BASE\", \"IRI_REF\"]\n    },\n    bind: {\n      BIND: [\"BIND\", \"(\", \"expression\", \"AS\", \"var\", \")\"]\n    },\n    blankNode: {\n      BLANK_NODE_LABEL: [\"BLANK_NODE_LABEL\"],\n      ANON: [\"ANON\"]\n    },\n    blankNodePropertyList: {\n      \"[\": [\"[\", \"propertyListNotEmpty\", \"]\"]\n    },\n    blankNodePropertyListPath: {\n      \"[\": [\"[\", \"propertyListPathNotEmpty\", \"]\"]\n    },\n    booleanLiteral: {\n      TRUE: [\"TRUE\"],\n      FALSE: [\"FALSE\"]\n    },\n    brackettedExpression: {\n      \"(\": [\"(\", \"expression\", \")\"]\n    },\n    builtInCall: {\n      STR: [\"STR\", \"(\", \"expression\", \")\"],\n      LANG: [\"LANG\", \"(\", \"expression\", \")\"],\n      LANGMATCHES: [\"LANGMATCHES\", \"(\", \"expression\", \",\", \"expression\", \")\"],\n      DATATYPE: [\"DATATYPE\", \"(\", \"expression\", \")\"],\n      BOUND: [\"BOUND\", \"(\", \"var\", \")\"],\n      IRI: [\"IRI\", \"(\", \"expression\", \")\"],\n      URI: [\"URI\", \"(\", \"expression\", \")\"],\n      BNODE: [\"BNODE\", \"or([[(,expression,)],NIL])\"],\n      RAND: [\"RAND\", \"NIL\"],\n      ABS: [\"ABS\", \"(\", \"expression\", \")\"],\n      CEIL: [\"CEIL\", \"(\", \"expression\", \")\"],\n      FLOOR: [\"FLOOR\", \"(\", \"expression\", \")\"],\n      ROUND: [\"ROUND\", \"(\", \"expression\", \")\"],\n      CONCAT: [\"CONCAT\", \"expressionList\"],\n      SUBSTR: [\"substringExpression\"],\n      STRLEN: [\"STRLEN\", \"(\", \"expression\", \")\"],\n      REPLACE: [\"strReplaceExpression\"],\n      UCASE: [\"UCASE\", \"(\", \"expression\", \")\"],\n      LCASE: [\"LCASE\", \"(\", \"expression\", \")\"],\n      ENCODE_FOR_URI: [\"ENCODE_FOR_URI\", \"(\", \"expression\", \")\"],\n      CONTAINS: [\"CONTAINS\", \"(\", \"expression\", \",\", \"expression\", \")\"],\n      STRSTARTS: [\"STRSTARTS\", \"(\", \"expression\", \",\", \"expression\", \")\"],\n      STRENDS: [\"STRENDS\", \"(\", \"expression\", \",\", \"expression\", \")\"],\n      STRBEFORE: [\"STRBEFORE\", \"(\", \"expression\", \",\", \"expression\", \")\"],\n      STRAFTER: [\"STRAFTER\", \"(\", \"expression\", \",\", \"expression\", \")\"],\n      YEAR: [\"YEAR\", \"(\", \"expression\", \")\"],\n      MONTH: [\"MONTH\", \"(\", \"expression\", \")\"],\n      DAY: [\"DAY\", \"(\", \"expression\", \")\"],\n      HOURS: [\"HOURS\", \"(\", \"expression\", \")\"],\n      MINUTES: [\"MINUTES\", \"(\", \"expression\", \")\"],\n      SECONDS: [\"SECONDS\", \"(\", \"expression\", \")\"],\n      TIMEZONE: [\"TIMEZONE\", \"(\", \"expression\", \")\"],\n      TZ: [\"TZ\", \"(\", \"expression\", \")\"],\n      NOW: [\"NOW\", \"NIL\"],\n      UUID: [\"UUID\", \"NIL\"],\n      STRUUID: [\"STRUUID\", \"NIL\"],\n      MD5: [\"MD5\", \"(\", \"expression\", \")\"],\n      SHA1: [\"SHA1\", \"(\", \"expression\", \")\"],\n      SHA256: [\"SHA256\", \"(\", \"expression\", \")\"],\n      SHA384: [\"SHA384\", \"(\", \"expression\", \")\"],\n      SHA512: [\"SHA512\", \"(\", \"expression\", \")\"],\n      COALESCE: [\"COALESCE\", \"expressionList\"],\n      IF: [\"IF\", \"(\", \"expression\", \",\", \"expression\", \",\", \"expression\", \")\"],\n      STRLANG: [\"STRLANG\", \"(\", \"expression\", \",\", \"expression\", \")\"],\n      STRDT: [\"STRDT\", \"(\", \"expression\", \",\", \"expression\", \")\"],\n      SAMETERM: [\"SAMETERM\", \"(\", \"expression\", \",\", \"expression\", \")\"],\n      ISIRI: [\"ISIRI\", \"(\", \"expression\", \")\"],\n      ISURI: [\"ISURI\", \"(\", \"expression\", \")\"],\n      ISBLANK: [\"ISBLANK\", \"(\", \"expression\", \")\"],\n      ISLITERAL: [\"ISLITERAL\", \"(\", \"expression\", \")\"],\n      ISNUMERIC: [\"ISNUMERIC\", \"(\", \"expression\", \")\"],\n      REGEX: [\"regexExpression\"],\n      EXISTS: [\"existsFunc\"],\n      NOT: [\"notExistsFunc\"]\n    },\n    clear: {\n      CLEAR: [\"CLEAR\", \"?SILENT_2\", \"graphRefAll\"]\n    },\n    collection: {\n      \"(\": [\"(\", \"+graphNode\", \")\"]\n    },\n    collectionPath: {\n      \"(\": [\"(\", \"+graphNodePath\", \")\"]\n    },\n    conditionalAndExpression: {\n      \"!\": [\"valueLogical\", \"*[&&,valueLogical]\"],\n      \"+\": [\"valueLogical\", \"*[&&,valueLogical]\"],\n      \"-\": [\"valueLogical\", \"*[&&,valueLogical]\"],\n      VAR1: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      VAR2: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      \"(\": [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STR: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      LANG: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      LANGMATCHES: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      DATATYPE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      BOUND: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      IRI: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      URI: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      BNODE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      RAND: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      ABS: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      CEIL: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      FLOOR: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      ROUND: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      CONCAT: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRLEN: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      UCASE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      LCASE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      ENCODE_FOR_URI: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      CONTAINS: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRSTARTS: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRENDS: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRBEFORE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRAFTER: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      YEAR: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      MONTH: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      DAY: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      HOURS: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      MINUTES: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      SECONDS: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      TIMEZONE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      TZ: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      NOW: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      UUID: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRUUID: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      MD5: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      SHA1: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      SHA256: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      SHA384: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      SHA512: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      COALESCE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      IF: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRLANG: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRDT: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      SAMETERM: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      ISIRI: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      ISURI: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      ISBLANK: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      ISLITERAL: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      ISNUMERIC: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      TRUE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      FALSE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      COUNT: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      SUM: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      MIN: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      MAX: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      AVG: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      SAMPLE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      GROUP_CONCAT: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      SUBSTR: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      REPLACE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      REGEX: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      EXISTS: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      NOT: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      IRI_REF: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRING_LITERAL1: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRING_LITERAL2: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRING_LITERAL_LONG1: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      STRING_LITERAL_LONG2: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      INTEGER: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      DECIMAL: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      DOUBLE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      INTEGER_POSITIVE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      DECIMAL_POSITIVE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      DOUBLE_POSITIVE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      INTEGER_NEGATIVE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      DECIMAL_NEGATIVE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      DOUBLE_NEGATIVE: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      PNAME_LN: [\"valueLogical\", \"*[&&,valueLogical]\"],\n      PNAME_NS: [\"valueLogical\", \"*[&&,valueLogical]\"]\n    },\n    conditionalOrExpression: {\n      \"!\": [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      \"+\": [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      \"-\": [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      VAR1: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      VAR2: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      \"(\": [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STR: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      LANG: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      LANGMATCHES: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      DATATYPE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      BOUND: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      IRI: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      URI: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      BNODE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      RAND: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      ABS: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      CEIL: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      FLOOR: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      ROUND: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      CONCAT: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STRLEN: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      UCASE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      LCASE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      ENCODE_FOR_URI: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      CONTAINS: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STRSTARTS: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STRENDS: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STRBEFORE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STRAFTER: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      YEAR: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      MONTH: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      DAY: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      HOURS: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      MINUTES: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      SECONDS: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      TIMEZONE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      TZ: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      NOW: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      UUID: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STRUUID: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      MD5: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      SHA1: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      SHA256: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      SHA384: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      SHA512: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      COALESCE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      IF: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STRLANG: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STRDT: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      SAMETERM: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      ISIRI: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      ISURI: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      ISBLANK: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      ISLITERAL: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      ISNUMERIC: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      TRUE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      FALSE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      COUNT: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      SUM: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      MIN: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      MAX: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      AVG: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      SAMPLE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      GROUP_CONCAT: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      SUBSTR: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      REPLACE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      REGEX: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      EXISTS: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      NOT: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      IRI_REF: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      STRING_LITERAL1: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      STRING_LITERAL2: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      STRING_LITERAL_LONG1: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      STRING_LITERAL_LONG2: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      INTEGER: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      DECIMAL: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      DOUBLE: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      INTEGER_POSITIVE: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      DECIMAL_POSITIVE: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      DOUBLE_POSITIVE: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      INTEGER_NEGATIVE: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      DECIMAL_NEGATIVE: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      DOUBLE_NEGATIVE: [\n        \"conditionalAndExpression\",\n        \"*[||,conditionalAndExpression]\"\n      ],\n      PNAME_LN: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"],\n      PNAME_NS: [\"conditionalAndExpression\", \"*[||,conditionalAndExpression]\"]\n    },\n    constraint: {\n      \"(\": [\"brackettedExpression\"],\n      STR: [\"builtInCall\"],\n      LANG: [\"builtInCall\"],\n      LANGMATCHES: [\"builtInCall\"],\n      DATATYPE: [\"builtInCall\"],\n      BOUND: [\"builtInCall\"],\n      IRI: [\"builtInCall\"],\n      URI: [\"builtInCall\"],\n      BNODE: [\"builtInCall\"],\n      RAND: [\"builtInCall\"],\n      ABS: [\"builtInCall\"],\n      CEIL: [\"builtInCall\"],\n      FLOOR: [\"builtInCall\"],\n      ROUND: [\"builtInCall\"],\n      CONCAT: [\"builtInCall\"],\n      STRLEN: [\"builtInCall\"],\n      UCASE: [\"builtInCall\"],\n      LCASE: [\"builtInCall\"],\n      ENCODE_FOR_URI: [\"builtInCall\"],\n      CONTAINS: [\"builtInCall\"],\n      STRSTARTS: [\"builtInCall\"],\n      STRENDS: [\"builtInCall\"],\n      STRBEFORE: [\"builtInCall\"],\n      STRAFTER: [\"builtInCall\"],\n      YEAR: [\"builtInCall\"],\n      MONTH: [\"builtInCall\"],\n      DAY: [\"builtInCall\"],\n      HOURS: [\"builtInCall\"],\n      MINUTES: [\"builtInCall\"],\n      SECONDS: [\"builtInCall\"],\n      TIMEZONE: [\"builtInCall\"],\n      TZ: [\"builtInCall\"],\n      NOW: [\"builtInCall\"],\n      UUID: [\"builtInCall\"],\n      STRUUID: [\"builtInCall\"],\n      MD5: [\"builtInCall\"],\n      SHA1: [\"builtInCall\"],\n      SHA256: [\"builtInCall\"],\n      SHA384: [\"builtInCall\"],\n      SHA512: [\"builtInCall\"],\n      COALESCE: [\"builtInCall\"],\n      IF: [\"builtInCall\"],\n      STRLANG: [\"builtInCall\"],\n      STRDT: [\"builtInCall\"],\n      SAMETERM: [\"builtInCall\"],\n      ISIRI: [\"builtInCall\"],\n      ISURI: [\"builtInCall\"],\n      ISBLANK: [\"builtInCall\"],\n      ISLITERAL: [\"builtInCall\"],\n      ISNUMERIC: [\"builtInCall\"],\n      SUBSTR: [\"builtInCall\"],\n      REPLACE: [\"builtInCall\"],\n      REGEX: [\"builtInCall\"],\n      EXISTS: [\"builtInCall\"],\n      NOT: [\"builtInCall\"],\n      IRI_REF: [\"functionCall\"],\n      PNAME_LN: [\"functionCall\"],\n      PNAME_NS: [\"functionCall\"]\n    },\n    constructQuery: {\n      CONSTRUCT: [\n        \"CONSTRUCT\",\n        \"or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])\"\n      ]\n    },\n    constructTemplate: {\n      \"{\": [\"{\", \"?constructTriples\", \"}\"]\n    },\n    constructTriples: {\n      VAR1: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      VAR2: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      NIL: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      \"(\": [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      \"[\": [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      IRI_REF: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      TRUE: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      FALSE: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      BLANK_NODE_LABEL: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      ANON: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      PNAME_LN: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      PNAME_NS: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      STRING_LITERAL1: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      STRING_LITERAL2: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      STRING_LITERAL_LONG1: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      STRING_LITERAL_LONG2: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      INTEGER: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      DECIMAL: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      DOUBLE: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      INTEGER_POSITIVE: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      DECIMAL_POSITIVE: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      DOUBLE_POSITIVE: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      INTEGER_NEGATIVE: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      DECIMAL_NEGATIVE: [\"triplesSameSubject\", \"?[.,?constructTriples]\"],\n      DOUBLE_NEGATIVE: [\"triplesSameSubject\", \"?[.,?constructTriples]\"]\n    },\n    copy: {\n      COPY: [\"COPY\", \"?SILENT_4\", \"graphOrDefault\", \"TO\", \"graphOrDefault\"]\n    },\n    create: {\n      CREATE: [\"CREATE\", \"?SILENT_3\", \"graphRef\"]\n    },\n    dataBlock: {\n      NIL: [\"or([inlineDataOneVar,inlineDataFull])\"],\n      \"(\": [\"or([inlineDataOneVar,inlineDataFull])\"],\n      VAR1: [\"or([inlineDataOneVar,inlineDataFull])\"],\n      VAR2: [\"or([inlineDataOneVar,inlineDataFull])\"]\n    },\n    dataBlockValue: {\n      IRI_REF: [\"iriRef\"],\n      PNAME_LN: [\"iriRef\"],\n      PNAME_NS: [\"iriRef\"],\n      STRING_LITERAL1: [\"rdfLiteral\"],\n      STRING_LITERAL2: [\"rdfLiteral\"],\n      STRING_LITERAL_LONG1: [\"rdfLiteral\"],\n      STRING_LITERAL_LONG2: [\"rdfLiteral\"],\n      INTEGER: [\"numericLiteral\"],\n      DECIMAL: [\"numericLiteral\"],\n      DOUBLE: [\"numericLiteral\"],\n      INTEGER_POSITIVE: [\"numericLiteral\"],\n      DECIMAL_POSITIVE: [\"numericLiteral\"],\n      DOUBLE_POSITIVE: [\"numericLiteral\"],\n      INTEGER_NEGATIVE: [\"numericLiteral\"],\n      DECIMAL_NEGATIVE: [\"numericLiteral\"],\n      DOUBLE_NEGATIVE: [\"numericLiteral\"],\n      TRUE: [\"booleanLiteral\"],\n      FALSE: [\"booleanLiteral\"],\n      UNDEF: [\"UNDEF\"]\n    },\n    datasetClause: {\n      FROM: [\"FROM\", \"or([defaultGraphClause,namedGraphClause])\"]\n    },\n    defaultGraphClause: {\n      IRI_REF: [\"sourceSelector\"],\n      PNAME_LN: [\"sourceSelector\"],\n      PNAME_NS: [\"sourceSelector\"]\n    },\n    delete1: {\n      DATA: [\"DATA\", \"quadDataNoBnodes\"],\n      WHERE: [\"WHERE\", \"quadPatternNoBnodes\"],\n      \"{\": [\n        \"quadPatternNoBnodes\",\n        \"?insertClause\",\n        \"*usingClause\",\n        \"WHERE\",\n        \"groupGraphPattern\"\n      ]\n    },\n    deleteClause: {\n      DELETE: [\"DELETE\", \"quadPattern\"]\n    },\n    describeDatasetClause: {\n      FROM: [\"FROM\", \"or([defaultGraphClause,namedGraphClause])\"]\n    },\n    describeQuery: {\n      DESCRIBE: [\n        \"DESCRIBE\",\n        \"or([+varOrIRIref,*])\",\n        \"*describeDatasetClause\",\n        \"?whereClause\",\n        \"solutionModifier\"\n      ]\n    },\n    disallowBnodes: {\n      \"}\": [],\n      GRAPH: [],\n      VAR1: [],\n      VAR2: [],\n      NIL: [],\n      \"(\": [],\n      \"[\": [],\n      IRI_REF: [],\n      TRUE: [],\n      FALSE: [],\n      BLANK_NODE_LABEL: [],\n      ANON: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      STRING_LITERAL1: [],\n      STRING_LITERAL2: [],\n      STRING_LITERAL_LONG1: [],\n      STRING_LITERAL_LONG2: [],\n      INTEGER: [],\n      DECIMAL: [],\n      DOUBLE: [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: []\n    },\n    disallowVars: {\n      \"}\": [],\n      GRAPH: [],\n      VAR1: [],\n      VAR2: [],\n      NIL: [],\n      \"(\": [],\n      \"[\": [],\n      IRI_REF: [],\n      TRUE: [],\n      FALSE: [],\n      BLANK_NODE_LABEL: [],\n      ANON: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      STRING_LITERAL1: [],\n      STRING_LITERAL2: [],\n      STRING_LITERAL_LONG1: [],\n      STRING_LITERAL_LONG2: [],\n      INTEGER: [],\n      DECIMAL: [],\n      DOUBLE: [],\n      INTEGER_POSITIVE: [],\n      DECIMAL_POSITIVE: [],\n      DOUBLE_POSITIVE: [],\n      INTEGER_NEGATIVE: [],\n      DECIMAL_NEGATIVE: [],\n      DOUBLE_NEGATIVE: []\n    },\n    drop: {\n      DROP: [\"DROP\", \"?SILENT_2\", \"graphRefAll\"]\n    },\n    existsFunc: {\n      EXISTS: [\"EXISTS\", \"groupGraphPattern\"]\n    },\n    expression: {\n      \"!\": [\"conditionalOrExpression\"],\n      \"+\": [\"conditionalOrExpression\"],\n      \"-\": [\"conditionalOrExpression\"],\n      VAR1: [\"conditionalOrExpression\"],\n      VAR2: [\"conditionalOrExpression\"],\n      \"(\": [\"conditionalOrExpression\"],\n      STR: [\"conditionalOrExpression\"],\n      LANG: [\"conditionalOrExpression\"],\n      LANGMATCHES: [\"conditionalOrExpression\"],\n      DATATYPE: [\"conditionalOrExpression\"],\n      BOUND: [\"conditionalOrExpression\"],\n      IRI: [\"conditionalOrExpression\"],\n      URI: [\"conditionalOrExpression\"],\n      BNODE: [\"conditionalOrExpression\"],\n      RAND: [\"conditionalOrExpression\"],\n      ABS: [\"conditionalOrExpression\"],\n      CEIL: [\"conditionalOrExpression\"],\n      FLOOR: [\"conditionalOrExpression\"],\n      ROUND: [\"conditionalOrExpression\"],\n      CONCAT: [\"conditionalOrExpression\"],\n      STRLEN: [\"conditionalOrExpression\"],\n      UCASE: [\"conditionalOrExpression\"],\n      LCASE: [\"conditionalOrExpression\"],\n      ENCODE_FOR_URI: [\"conditionalOrExpression\"],\n      CONTAINS: [\"conditionalOrExpression\"],\n      STRSTARTS: [\"conditionalOrExpression\"],\n      STRENDS: [\"conditionalOrExpression\"],\n      STRBEFORE: [\"conditionalOrExpression\"],\n      STRAFTER: [\"conditionalOrExpression\"],\n      YEAR: [\"conditionalOrExpression\"],\n      MONTH: [\"conditionalOrExpression\"],\n      DAY: [\"conditionalOrExpression\"],\n      HOURS: [\"conditionalOrExpression\"],\n      MINUTES: [\"conditionalOrExpression\"],\n      SECONDS: [\"conditionalOrExpression\"],\n      TIMEZONE: [\"conditionalOrExpression\"],\n      TZ: [\"conditionalOrExpression\"],\n      NOW: [\"conditionalOrExpression\"],\n      UUID: [\"conditionalOrExpression\"],\n      STRUUID: [\"conditionalOrExpression\"],\n      MD5: [\"conditionalOrExpression\"],\n      SHA1: [\"conditionalOrExpression\"],\n      SHA256: [\"conditionalOrExpression\"],\n      SHA384: [\"conditionalOrExpression\"],\n      SHA512: [\"conditionalOrExpression\"],\n      COALESCE: [\"conditionalOrExpression\"],\n      IF: [\"conditionalOrExpression\"],\n      STRLANG: [\"conditionalOrExpression\"],\n      STRDT: [\"conditionalOrExpression\"],\n      SAMETERM: [\"conditionalOrExpression\"],\n      ISIRI: [\"conditionalOrExpression\"],\n      ISURI: [\"conditionalOrExpression\"],\n      ISBLANK: [\"conditionalOrExpression\"],\n      ISLITERAL: [\"conditionalOrExpression\"],\n      ISNUMERIC: [\"conditionalOrExpression\"],\n      TRUE: [\"conditionalOrExpression\"],\n      FALSE: [\"conditionalOrExpression\"],\n      COUNT: [\"conditionalOrExpression\"],\n      SUM: [\"conditionalOrExpression\"],\n      MIN: [\"conditionalOrExpression\"],\n      MAX: [\"conditionalOrExpression\"],\n      AVG: [\"conditionalOrExpression\"],\n      SAMPLE: [\"conditionalOrExpression\"],\n      GROUP_CONCAT: [\"conditionalOrExpression\"],\n      SUBSTR: [\"conditionalOrExpression\"],\n      REPLACE: [\"conditionalOrExpression\"],\n      REGEX: [\"conditionalOrExpression\"],\n      EXISTS: [\"conditionalOrExpression\"],\n      NOT: [\"conditionalOrExpression\"],\n      IRI_REF: [\"conditionalOrExpression\"],\n      STRING_LITERAL1: [\"conditionalOrExpression\"],\n      STRING_LITERAL2: [\"conditionalOrExpression\"],\n      STRING_LITERAL_LONG1: [\"conditionalOrExpression\"],\n      STRING_LITERAL_LONG2: [\"conditionalOrExpression\"],\n      INTEGER: [\"conditionalOrExpression\"],\n      DECIMAL: [\"conditionalOrExpression\"],\n      DOUBLE: [\"conditionalOrExpression\"],\n      INTEGER_POSITIVE: [\"conditionalOrExpression\"],\n      DECIMAL_POSITIVE: [\"conditionalOrExpression\"],\n      DOUBLE_POSITIVE: [\"conditionalOrExpression\"],\n      INTEGER_NEGATIVE: [\"conditionalOrExpression\"],\n      DECIMAL_NEGATIVE: [\"conditionalOrExpression\"],\n      DOUBLE_NEGATIVE: [\"conditionalOrExpression\"],\n      PNAME_LN: [\"conditionalOrExpression\"],\n      PNAME_NS: [\"conditionalOrExpression\"]\n    },\n    expressionList: {\n      NIL: [\"NIL\"],\n      \"(\": [\"(\", \"expression\", \"*[,,expression]\", \")\"]\n    },\n    filter: {\n      FILTER: [\"FILTER\", \"constraint\"]\n    },\n    functionCall: {\n      IRI_REF: [\"iriRef\", \"argList\"],\n      PNAME_LN: [\"iriRef\", \"argList\"],\n      PNAME_NS: [\"iriRef\", \"argList\"]\n    },\n    graphGraphPattern: {\n      GRAPH: [\"GRAPH\", \"varOrIRIref\", \"groupGraphPattern\"]\n    },\n    graphNode: {\n      VAR1: [\"varOrTerm\"],\n      VAR2: [\"varOrTerm\"],\n      NIL: [\"varOrTerm\"],\n      IRI_REF: [\"varOrTerm\"],\n      TRUE: [\"varOrTerm\"],\n      FALSE: [\"varOrTerm\"],\n      BLANK_NODE_LABEL: [\"varOrTerm\"],\n      ANON: [\"varOrTerm\"],\n      PNAME_LN: [\"varOrTerm\"],\n      PNAME_NS: [\"varOrTerm\"],\n      STRING_LITERAL1: [\"varOrTerm\"],\n      STRING_LITERAL2: [\"varOrTerm\"],\n      STRING_LITERAL_LONG1: [\"varOrTerm\"],\n      STRING_LITERAL_LONG2: [\"varOrTerm\"],\n      INTEGER: [\"varOrTerm\"],\n      DECIMAL: [\"varOrTerm\"],\n      DOUBLE: [\"varOrTerm\"],\n      INTEGER_POSITIVE: [\"varOrTerm\"],\n      DECIMAL_POSITIVE: [\"varOrTerm\"],\n      DOUBLE_POSITIVE: [\"varOrTerm\"],\n      INTEGER_NEGATIVE: [\"varOrTerm\"],\n      DECIMAL_NEGATIVE: [\"varOrTerm\"],\n      DOUBLE_NEGATIVE: [\"varOrTerm\"],\n      \"(\": [\"triplesNode\"],\n      \"[\": [\"triplesNode\"]\n    },\n    graphNodePath: {\n      VAR1: [\"varOrTerm\"],\n      VAR2: [\"varOrTerm\"],\n      NIL: [\"varOrTerm\"],\n      IRI_REF: [\"varOrTerm\"],\n      TRUE: [\"varOrTerm\"],\n      FALSE: [\"varOrTerm\"],\n      BLANK_NODE_LABEL: [\"varOrTerm\"],\n      ANON: [\"varOrTerm\"],\n      PNAME_LN: [\"varOrTerm\"],\n      PNAME_NS: [\"varOrTerm\"],\n      STRING_LITERAL1: [\"varOrTerm\"],\n      STRING_LITERAL2: [\"varOrTerm\"],\n      STRING_LITERAL_LONG1: [\"varOrTerm\"],\n      STRING_LITERAL_LONG2: [\"varOrTerm\"],\n      INTEGER: [\"varOrTerm\"],\n      DECIMAL: [\"varOrTerm\"],\n      DOUBLE: [\"varOrTerm\"],\n      INTEGER_POSITIVE: [\"varOrTerm\"],\n      DECIMAL_POSITIVE: [\"varOrTerm\"],\n      DOUBLE_POSITIVE: [\"varOrTerm\"],\n      INTEGER_NEGATIVE: [\"varOrTerm\"],\n      DECIMAL_NEGATIVE: [\"varOrTerm\"],\n      DOUBLE_NEGATIVE: [\"varOrTerm\"],\n      \"(\": [\"triplesNodePath\"],\n      \"[\": [\"triplesNodePath\"]\n    },\n    graphOrDefault: {\n      DEFAULT: [\"DEFAULT\"],\n      IRI_REF: [\"?GRAPH\", \"iriRef\"],\n      PNAME_LN: [\"?GRAPH\", \"iriRef\"],\n      PNAME_NS: [\"?GRAPH\", \"iriRef\"],\n      GRAPH: [\"?GRAPH\", \"iriRef\"]\n    },\n    graphPatternNotTriples: {\n      \"{\": [\"groupOrUnionGraphPattern\"],\n      OPTIONAL: [\"optionalGraphPattern\"],\n      MINUS: [\"minusGraphPattern\"],\n      GRAPH: [\"graphGraphPattern\"],\n      SERVICE: [\"serviceGraphPattern\"],\n      FILTER: [\"filter\"],\n      BIND: [\"bind\"],\n      VALUES: [\"inlineData\"]\n    },\n    graphRef: {\n      GRAPH: [\"GRAPH\", \"iriRef\"]\n    },\n    graphRefAll: {\n      GRAPH: [\"graphRef\"],\n      DEFAULT: [\"DEFAULT\"],\n      NAMED: [\"NAMED\"],\n      ALL: [\"ALL\"]\n    },\n    graphTerm: {\n      IRI_REF: [\"iriRef\"],\n      PNAME_LN: [\"iriRef\"],\n      PNAME_NS: [\"iriRef\"],\n      STRING_LITERAL1: [\"rdfLiteral\"],\n      STRING_LITERAL2: [\"rdfLiteral\"],\n      STRING_LITERAL_LONG1: [\"rdfLiteral\"],\n      STRING_LITERAL_LONG2: [\"rdfLiteral\"],\n      INTEGER: [\"numericLiteral\"],\n      DECIMAL: [\"numericLiteral\"],\n      DOUBLE: [\"numericLiteral\"],\n      INTEGER_POSITIVE: [\"numericLiteral\"],\n      DECIMAL_POSITIVE: [\"numericLiteral\"],\n      DOUBLE_POSITIVE: [\"numericLiteral\"],\n      INTEGER_NEGATIVE: [\"numericLiteral\"],\n      DECIMAL_NEGATIVE: [\"numericLiteral\"],\n      DOUBLE_NEGATIVE: [\"numericLiteral\"],\n      TRUE: [\"booleanLiteral\"],\n      FALSE: [\"booleanLiteral\"],\n      BLANK_NODE_LABEL: [\"blankNode\"],\n      ANON: [\"blankNode\"],\n      NIL: [\"NIL\"]\n    },\n    groupClause: {\n      GROUP: [\"GROUP\", \"BY\", \"+groupCondition\"]\n    },\n    groupCondition: {\n      STR: [\"builtInCall\"],\n      LANG: [\"builtInCall\"],\n      LANGMATCHES: [\"builtInCall\"],\n      DATATYPE: [\"builtInCall\"],\n      BOUND: [\"builtInCall\"],\n      IRI: [\"builtInCall\"],\n      URI: [\"builtInCall\"],\n      BNODE: [\"builtInCall\"],\n      RAND: [\"builtInCall\"],\n      ABS: [\"builtInCall\"],\n      CEIL: [\"builtInCall\"],\n      FLOOR: [\"builtInCall\"],\n      ROUND: [\"builtInCall\"],\n      CONCAT: [\"builtInCall\"],\n      STRLEN: [\"builtInCall\"],\n      UCASE: [\"builtInCall\"],\n      LCASE: [\"builtInCall\"],\n      ENCODE_FOR_URI: [\"builtInCall\"],\n      CONTAINS: [\"builtInCall\"],\n      STRSTARTS: [\"builtInCall\"],\n      STRENDS: [\"builtInCall\"],\n      STRBEFORE: [\"builtInCall\"],\n      STRAFTER: [\"builtInCall\"],\n      YEAR: [\"builtInCall\"],\n      MONTH: [\"builtInCall\"],\n      DAY: [\"builtInCall\"],\n      HOURS: [\"builtInCall\"],\n      MINUTES: [\"builtInCall\"],\n      SECONDS: [\"builtInCall\"],\n      TIMEZONE: [\"builtInCall\"],\n      TZ: [\"builtInCall\"],\n      NOW: [\"builtInCall\"],\n      UUID: [\"builtInCall\"],\n      STRUUID: [\"builtInCall\"],\n      MD5: [\"builtInCall\"],\n      SHA1: [\"builtInCall\"],\n      SHA256: [\"builtInCall\"],\n      SHA384: [\"builtInCall\"],\n      SHA512: [\"builtInCall\"],\n      COALESCE: [\"builtInCall\"],\n      IF: [\"builtInCall\"],\n      STRLANG: [\"builtInCall\"],\n      STRDT: [\"builtInCall\"],\n      SAMETERM: [\"builtInCall\"],\n      ISIRI: [\"builtInCall\"],\n      ISURI: [\"builtInCall\"],\n      ISBLANK: [\"builtInCall\"],\n      ISLITERAL: [\"builtInCall\"],\n      ISNUMERIC: [\"builtInCall\"],\n      SUBSTR: [\"builtInCall\"],\n      REPLACE: [\"builtInCall\"],\n      REGEX: [\"builtInCall\"],\n      EXISTS: [\"builtInCall\"],\n      NOT: [\"builtInCall\"],\n      IRI_REF: [\"functionCall\"],\n      PNAME_LN: [\"functionCall\"],\n      PNAME_NS: [\"functionCall\"],\n      \"(\": [\"(\", \"expression\", \"?[AS,var]\", \")\"],\n      VAR1: [\"var\"],\n      VAR2: [\"var\"]\n    },\n    groupGraphPattern: {\n      \"{\": [\"{\", \"or([subSelect,groupGraphPatternSub])\", \"}\"]\n    },\n    groupGraphPatternSub: {\n      \"{\": [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      OPTIONAL: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      MINUS: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      GRAPH: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      SERVICE: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      FILTER: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      BIND: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      VALUES: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      VAR1: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      VAR2: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      NIL: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      \"(\": [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      \"[\": [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      IRI_REF: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      TRUE: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      FALSE: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      BLANK_NODE_LABEL: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      ANON: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      PNAME_LN: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      PNAME_NS: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      STRING_LITERAL1: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      STRING_LITERAL2: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      STRING_LITERAL_LONG1: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      STRING_LITERAL_LONG2: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      INTEGER: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      DECIMAL: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      DOUBLE: [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"],\n      INTEGER_POSITIVE: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      DECIMAL_POSITIVE: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      DOUBLE_POSITIVE: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      INTEGER_NEGATIVE: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      DECIMAL_NEGATIVE: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      DOUBLE_NEGATIVE: [\n        \"?triplesBlock\",\n        \"*[graphPatternNotTriples,?.,?triplesBlock]\"\n      ],\n      \"}\": [\"?triplesBlock\", \"*[graphPatternNotTriples,?.,?triplesBlock]\"]\n    },\n    groupOrUnionGraphPattern: {\n      \"{\": [\"groupGraphPattern\", \"*[UNION,groupGraphPattern]\"]\n    },\n    havingClause: {\n      HAVING: [\"HAVING\", \"+havingCondition\"]\n    },\n    havingCondition: {\n      \"(\": [\"constraint\"],\n      STR: [\"constraint\"],\n      LANG: [\"constraint\"],\n      LANGMATCHES: [\"constraint\"],\n      DATATYPE: [\"constraint\"],\n      BOUND: [\"constraint\"],\n      IRI: [\"constraint\"],\n      URI: [\"constraint\"],\n      BNODE: [\"constraint\"],\n      RAND: [\"constraint\"],\n      ABS: [\"constraint\"],\n      CEIL: [\"constraint\"],\n      FLOOR: [\"constraint\"],\n      ROUND: [\"constraint\"],\n      CONCAT: [\"constraint\"],\n      STRLEN: [\"constraint\"],\n      UCASE: [\"constraint\"],\n      LCASE: [\"constraint\"],\n      ENCODE_FOR_URI: [\"constraint\"],\n      CONTAINS: [\"constraint\"],\n      STRSTARTS: [\"constraint\"],\n      STRENDS: [\"constraint\"],\n      STRBEFORE: [\"constraint\"],\n      STRAFTER: [\"constraint\"],\n      YEAR: [\"constraint\"],\n      MONTH: [\"constraint\"],\n      DAY: [\"constraint\"],\n      HOURS: [\"constraint\"],\n      MINUTES: [\"constraint\"],\n      SECONDS: [\"constraint\"],\n      TIMEZONE: [\"constraint\"],\n      TZ: [\"constraint\"],\n      NOW: [\"constraint\"],\n      UUID: [\"constraint\"],\n      STRUUID: [\"constraint\"],\n      MD5: [\"constraint\"],\n      SHA1: [\"constraint\"],\n      SHA256: [\"constraint\"],\n      SHA384: [\"constraint\"],\n      SHA512: [\"constraint\"],\n      COALESCE: [\"constraint\"],\n      IF: [\"constraint\"],\n      STRLANG: [\"constraint\"],\n      STRDT: [\"constraint\"],\n      SAMETERM: [\"constraint\"],\n      ISIRI: [\"constraint\"],\n      ISURI: [\"constraint\"],\n      ISBLANK: [\"constraint\"],\n      ISLITERAL: [\"constraint\"],\n      ISNUMERIC: [\"constraint\"],\n      SUBSTR: [\"constraint\"],\n      REPLACE: [\"constraint\"],\n      REGEX: [\"constraint\"],\n      EXISTS: [\"constraint\"],\n      NOT: [\"constraint\"],\n      IRI_REF: [\"constraint\"],\n      PNAME_LN: [\"constraint\"],\n      PNAME_NS: [\"constraint\"]\n    },\n    inlineData: {\n      VALUES: [\"VALUES\", \"dataBlock\"]\n    },\n    inlineDataFull: {\n      NIL: [\n        \"or([NIL,[(,*var,)]])\",\n        \"{\",\n        \"*or([[(,*dataBlockValue,)],NIL])\",\n        \"}\"\n      ],\n      \"(\": [\n        \"or([NIL,[(,*var,)]])\",\n        \"{\",\n        \"*or([[(,*dataBlockValue,)],NIL])\",\n        \"}\"\n      ]\n    },\n    inlineDataOneVar: {\n      VAR1: [\"var\", \"{\", \"*dataBlockValue\", \"}\"],\n      VAR2: [\"var\", \"{\", \"*dataBlockValue\", \"}\"]\n    },\n    insert1: {\n      DATA: [\"DATA\", \"quadData\"],\n      \"{\": [\"quadPattern\", \"*usingClause\", \"WHERE\", \"groupGraphPattern\"]\n    },\n    insertClause: {\n      INSERT: [\"INSERT\", \"quadPattern\"]\n    },\n    integer: {\n      INTEGER: [\"INTEGER\"]\n    },\n    iriRef: {\n      IRI_REF: [\"IRI_REF\"],\n      PNAME_LN: [\"prefixedName\"],\n      PNAME_NS: [\"prefixedName\"]\n    },\n    iriRefOrFunction: {\n      IRI_REF: [\"iriRef\", \"?argList\"],\n      PNAME_LN: [\"iriRef\", \"?argList\"],\n      PNAME_NS: [\"iriRef\", \"?argList\"]\n    },\n    limitClause: {\n      LIMIT: [\"LIMIT\", \"INTEGER\"]\n    },\n    limitOffsetClauses: {\n      LIMIT: [\"limitClause\", \"?offsetClause\"],\n      OFFSET: [\"offsetClause\", \"?limitClause\"]\n    },\n    load: {\n      LOAD: [\"LOAD\", \"?SILENT_1\", \"iriRef\", \"?[INTO,graphRef]\"]\n    },\n    minusGraphPattern: {\n      MINUS: [\"MINUS\", \"groupGraphPattern\"]\n    },\n    modify: {\n      WITH: [\n        \"WITH\",\n        \"iriRef\",\n        \"or([[deleteClause,?insertClause],insertClause])\",\n        \"*usingClause\",\n        \"WHERE\",\n        \"groupGraphPattern\"\n      ]\n    },\n    move: {\n      MOVE: [\"MOVE\", \"?SILENT_4\", \"graphOrDefault\", \"TO\", \"graphOrDefault\"]\n    },\n    multiplicativeExpression: {\n      \"!\": [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      \"+\": [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      \"-\": [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      VAR1: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      VAR2: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      \"(\": [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STR: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      LANG: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      LANGMATCHES: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DATATYPE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      BOUND: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      IRI: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      URI: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      BNODE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      RAND: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      ABS: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      CEIL: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      FLOOR: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      ROUND: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      CONCAT: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRLEN: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      UCASE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      LCASE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      ENCODE_FOR_URI: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      CONTAINS: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRSTARTS: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRENDS: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRBEFORE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRAFTER: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      YEAR: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      MONTH: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DAY: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      HOURS: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      MINUTES: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      SECONDS: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      TIMEZONE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      TZ: [\"unaryExpression\", \"*or([[*,unaryExpression],[/,unaryExpression]])\"],\n      NOW: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      UUID: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRUUID: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      MD5: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      SHA1: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      SHA256: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      SHA384: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      SHA512: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      COALESCE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      IF: [\"unaryExpression\", \"*or([[*,unaryExpression],[/,unaryExpression]])\"],\n      STRLANG: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRDT: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      SAMETERM: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      ISIRI: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      ISURI: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      ISBLANK: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      ISLITERAL: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      ISNUMERIC: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      TRUE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      FALSE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      COUNT: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      SUM: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      MIN: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      MAX: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      AVG: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      SAMPLE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      GROUP_CONCAT: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      SUBSTR: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      REPLACE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      REGEX: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      EXISTS: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      NOT: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      IRI_REF: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRING_LITERAL1: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRING_LITERAL2: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRING_LITERAL_LONG1: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      STRING_LITERAL_LONG2: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      INTEGER: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DECIMAL: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DOUBLE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      INTEGER_POSITIVE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DECIMAL_POSITIVE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DOUBLE_POSITIVE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      INTEGER_NEGATIVE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DECIMAL_NEGATIVE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      DOUBLE_NEGATIVE: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      PNAME_LN: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ],\n      PNAME_NS: [\n        \"unaryExpression\",\n        \"*or([[*,unaryExpression],[/,unaryExpression]])\"\n      ]\n    },\n    namedGraphClause: {\n      NAMED: [\"NAMED\", \"sourceSelector\"]\n    },\n    notExistsFunc: {\n      NOT: [\"NOT\", \"EXISTS\", \"groupGraphPattern\"]\n    },\n    numericExpression: {\n      \"!\": [\"additiveExpression\"],\n      \"+\": [\"additiveExpression\"],\n      \"-\": [\"additiveExpression\"],\n      VAR1: [\"additiveExpression\"],\n      VAR2: [\"additiveExpression\"],\n      \"(\": [\"additiveExpression\"],\n      STR: [\"additiveExpression\"],\n      LANG: [\"additiveExpression\"],\n      LANGMATCHES: [\"additiveExpression\"],\n      DATATYPE: [\"additiveExpression\"],\n      BOUND: [\"additiveExpression\"],\n      IRI: [\"additiveExpression\"],\n      URI: [\"additiveExpression\"],\n      BNODE: [\"additiveExpression\"],\n      RAND: [\"additiveExpression\"],\n      ABS: [\"additiveExpression\"],\n      CEIL: [\"additiveExpression\"],\n      FLOOR: [\"additiveExpression\"],\n      ROUND: [\"additiveExpression\"],\n      CONCAT: [\"additiveExpression\"],\n      STRLEN: [\"additiveExpression\"],\n      UCASE: [\"additiveExpression\"],\n      LCASE: [\"additiveExpression\"],\n      ENCODE_FOR_URI: [\"additiveExpression\"],\n      CONTAINS: [\"additiveExpression\"],\n      STRSTARTS: [\"additiveExpression\"],\n      STRENDS: [\"additiveExpression\"],\n      STRBEFORE: [\"additiveExpression\"],\n      STRAFTER: [\"additiveExpression\"],\n      YEAR: [\"additiveExpression\"],\n      MONTH: [\"additiveExpression\"],\n      DAY: [\"additiveExpression\"],\n      HOURS: [\"additiveExpression\"],\n      MINUTES: [\"additiveExpression\"],\n      SECONDS: [\"additiveExpression\"],\n      TIMEZONE: [\"additiveExpression\"],\n      TZ: [\"additiveExpression\"],\n      NOW: [\"additiveExpression\"],\n      UUID: [\"additiveExpression\"],\n      STRUUID: [\"additiveExpression\"],\n      MD5: [\"additiveExpression\"],\n      SHA1: [\"additiveExpression\"],\n      SHA256: [\"additiveExpression\"],\n      SHA384: [\"additiveExpression\"],\n      SHA512: [\"additiveExpression\"],\n      COALESCE: [\"additiveExpression\"],\n      IF: [\"additiveExpression\"],\n      STRLANG: [\"additiveExpression\"],\n      STRDT: [\"additiveExpression\"],\n      SAMETERM: [\"additiveExpression\"],\n      ISIRI: [\"additiveExpression\"],\n      ISURI: [\"additiveExpression\"],\n      ISBLANK: [\"additiveExpression\"],\n      ISLITERAL: [\"additiveExpression\"],\n      ISNUMERIC: [\"additiveExpression\"],\n      TRUE: [\"additiveExpression\"],\n      FALSE: [\"additiveExpression\"],\n      COUNT: [\"additiveExpression\"],\n      SUM: [\"additiveExpression\"],\n      MIN: [\"additiveExpression\"],\n      MAX: [\"additiveExpression\"],\n      AVG: [\"additiveExpression\"],\n      SAMPLE: [\"additiveExpression\"],\n      GROUP_CONCAT: [\"additiveExpression\"],\n      SUBSTR: [\"additiveExpression\"],\n      REPLACE: [\"additiveExpression\"],\n      REGEX: [\"additiveExpression\"],\n      EXISTS: [\"additiveExpression\"],\n      NOT: [\"additiveExpression\"],\n      IRI_REF: [\"additiveExpression\"],\n      STRING_LITERAL1: [\"additiveExpression\"],\n      STRING_LITERAL2: [\"additiveExpression\"],\n      STRING_LITERAL_LONG1: [\"additiveExpression\"],\n      STRING_LITERAL_LONG2: [\"additiveExpression\"],\n      INTEGER: [\"additiveExpression\"],\n      DECIMAL: [\"additiveExpression\"],\n      DOUBLE: [\"additiveExpression\"],\n      INTEGER_POSITIVE: [\"additiveExpression\"],\n      DECIMAL_POSITIVE: [\"additiveExpression\"],\n      DOUBLE_POSITIVE: [\"additiveExpression\"],\n      INTEGER_NEGATIVE: [\"additiveExpression\"],\n      DECIMAL_NEGATIVE: [\"additiveExpression\"],\n      DOUBLE_NEGATIVE: [\"additiveExpression\"],\n      PNAME_LN: [\"additiveExpression\"],\n      PNAME_NS: [\"additiveExpression\"]\n    },\n    numericLiteral: {\n      INTEGER: [\"numericLiteralUnsigned\"],\n      DECIMAL: [\"numericLiteralUnsigned\"],\n      DOUBLE: [\"numericLiteralUnsigned\"],\n      INTEGER_POSITIVE: [\"numericLiteralPositive\"],\n      DECIMAL_POSITIVE: [\"numericLiteralPositive\"],\n      DOUBLE_POSITIVE: [\"numericLiteralPositive\"],\n      INTEGER_NEGATIVE: [\"numericLiteralNegative\"],\n      DECIMAL_NEGATIVE: [\"numericLiteralNegative\"],\n      DOUBLE_NEGATIVE: [\"numericLiteralNegative\"]\n    },\n    numericLiteralNegative: {\n      INTEGER_NEGATIVE: [\"INTEGER_NEGATIVE\"],\n      DECIMAL_NEGATIVE: [\"DECIMAL_NEGATIVE\"],\n      DOUBLE_NEGATIVE: [\"DOUBLE_NEGATIVE\"]\n    },\n    numericLiteralPositive: {\n      INTEGER_POSITIVE: [\"INTEGER_POSITIVE\"],\n      DECIMAL_POSITIVE: [\"DECIMAL_POSITIVE\"],\n      DOUBLE_POSITIVE: [\"DOUBLE_POSITIVE\"]\n    },\n    numericLiteralUnsigned: {\n      INTEGER: [\"INTEGER\"],\n      DECIMAL: [\"DECIMAL\"],\n      DOUBLE: [\"DOUBLE\"]\n    },\n    object: {\n      \"(\": [\"graphNode\"],\n      \"[\": [\"graphNode\"],\n      VAR1: [\"graphNode\"],\n      VAR2: [\"graphNode\"],\n      NIL: [\"graphNode\"],\n      IRI_REF: [\"graphNode\"],\n      TRUE: [\"graphNode\"],\n      FALSE: [\"graphNode\"],\n      BLANK_NODE_LABEL: [\"graphNode\"],\n      ANON: [\"graphNode\"],\n      PNAME_LN: [\"graphNode\"],\n      PNAME_NS: [\"graphNode\"],\n      STRING_LITERAL1: [\"graphNode\"],\n      STRING_LITERAL2: [\"graphNode\"],\n      STRING_LITERAL_LONG1: [\"graphNode\"],\n      STRING_LITERAL_LONG2: [\"graphNode\"],\n      INTEGER: [\"graphNode\"],\n      DECIMAL: [\"graphNode\"],\n      DOUBLE: [\"graphNode\"],\n      INTEGER_POSITIVE: [\"graphNode\"],\n      DECIMAL_POSITIVE: [\"graphNode\"],\n      DOUBLE_POSITIVE: [\"graphNode\"],\n      INTEGER_NEGATIVE: [\"graphNode\"],\n      DECIMAL_NEGATIVE: [\"graphNode\"],\n      DOUBLE_NEGATIVE: [\"graphNode\"]\n    },\n    objectList: {\n      \"(\": [\"object\", \"*[,,object]\"],\n      \"[\": [\"object\", \"*[,,object]\"],\n      VAR1: [\"object\", \"*[,,object]\"],\n      VAR2: [\"object\", \"*[,,object]\"],\n      NIL: [\"object\", \"*[,,object]\"],\n      IRI_REF: [\"object\", \"*[,,object]\"],\n      TRUE: [\"object\", \"*[,,object]\"],\n      FALSE: [\"object\", \"*[,,object]\"],\n      BLANK_NODE_LABEL: [\"object\", \"*[,,object]\"],\n      ANON: [\"object\", \"*[,,object]\"],\n      PNAME_LN: [\"object\", \"*[,,object]\"],\n      PNAME_NS: [\"object\", \"*[,,object]\"],\n      STRING_LITERAL1: [\"object\", \"*[,,object]\"],\n      STRING_LITERAL2: [\"object\", \"*[,,object]\"],\n      STRING_LITERAL_LONG1: [\"object\", \"*[,,object]\"],\n      STRING_LITERAL_LONG2: [\"object\", \"*[,,object]\"],\n      INTEGER: [\"object\", \"*[,,object]\"],\n      DECIMAL: [\"object\", \"*[,,object]\"],\n      DOUBLE: [\"object\", \"*[,,object]\"],\n      INTEGER_POSITIVE: [\"object\", \"*[,,object]\"],\n      DECIMAL_POSITIVE: [\"object\", \"*[,,object]\"],\n      DOUBLE_POSITIVE: [\"object\", \"*[,,object]\"],\n      INTEGER_NEGATIVE: [\"object\", \"*[,,object]\"],\n      DECIMAL_NEGATIVE: [\"object\", \"*[,,object]\"],\n      DOUBLE_NEGATIVE: [\"object\", \"*[,,object]\"]\n    },\n    objectListPath: {\n      \"(\": [\"objectPath\", \"*[,,objectPath]\"],\n      \"[\": [\"objectPath\", \"*[,,objectPath]\"],\n      VAR1: [\"objectPath\", \"*[,,objectPath]\"],\n      VAR2: [\"objectPath\", \"*[,,objectPath]\"],\n      NIL: [\"objectPath\", \"*[,,objectPath]\"],\n      IRI_REF: [\"objectPath\", \"*[,,objectPath]\"],\n      TRUE: [\"objectPath\", \"*[,,objectPath]\"],\n      FALSE: [\"objectPath\", \"*[,,objectPath]\"],\n      BLANK_NODE_LABEL: [\"objectPath\", \"*[,,objectPath]\"],\n      ANON: [\"objectPath\", \"*[,,objectPath]\"],\n      PNAME_LN: [\"objectPath\", \"*[,,objectPath]\"],\n      PNAME_NS: [\"objectPath\", \"*[,,objectPath]\"],\n      STRING_LITERAL1: [\"objectPath\", \"*[,,objectPath]\"],\n      STRING_LITERAL2: [\"objectPath\", \"*[,,objectPath]\"],\n      STRING_LITERAL_LONG1: [\"objectPath\", \"*[,,objectPath]\"],\n      STRING_LITERAL_LONG2: [\"objectPath\", \"*[,,objectPath]\"],\n      INTEGER: [\"objectPath\", \"*[,,objectPath]\"],\n      DECIMAL: [\"objectPath\", \"*[,,objectPath]\"],\n      DOUBLE: [\"objectPath\", \"*[,,objectPath]\"],\n      INTEGER_POSITIVE: [\"objectPath\", \"*[,,objectPath]\"],\n      DECIMAL_POSITIVE: [\"objectPath\", \"*[,,objectPath]\"],\n      DOUBLE_POSITIVE: [\"objectPath\", \"*[,,objectPath]\"],\n      INTEGER_NEGATIVE: [\"objectPath\", \"*[,,objectPath]\"],\n      DECIMAL_NEGATIVE: [\"objectPath\", \"*[,,objectPath]\"],\n      DOUBLE_NEGATIVE: [\"objectPath\", \"*[,,objectPath]\"]\n    },\n    objectPath: {\n      \"(\": [\"graphNodePath\"],\n      \"[\": [\"graphNodePath\"],\n      VAR1: [\"graphNodePath\"],\n      VAR2: [\"graphNodePath\"],\n      NIL: [\"graphNodePath\"],\n      IRI_REF: [\"graphNodePath\"],\n      TRUE: [\"graphNodePath\"],\n      FALSE: [\"graphNodePath\"],\n      BLANK_NODE_LABEL: [\"graphNodePath\"],\n      ANON: [\"graphNodePath\"],\n      PNAME_LN: [\"graphNodePath\"],\n      PNAME_NS: [\"graphNodePath\"],\n      STRING_LITERAL1: [\"graphNodePath\"],\n      STRING_LITERAL2: [\"graphNodePath\"],\n      STRING_LITERAL_LONG1: [\"graphNodePath\"],\n      STRING_LITERAL_LONG2: [\"graphNodePath\"],\n      INTEGER: [\"graphNodePath\"],\n      DECIMAL: [\"graphNodePath\"],\n      DOUBLE: [\"graphNodePath\"],\n      INTEGER_POSITIVE: [\"graphNodePath\"],\n      DECIMAL_POSITIVE: [\"graphNodePath\"],\n      DOUBLE_POSITIVE: [\"graphNodePath\"],\n      INTEGER_NEGATIVE: [\"graphNodePath\"],\n      DECIMAL_NEGATIVE: [\"graphNodePath\"],\n      DOUBLE_NEGATIVE: [\"graphNodePath\"]\n    },\n    offsetClause: {\n      OFFSET: [\"OFFSET\", \"INTEGER\"]\n    },\n    optionalGraphPattern: {\n      OPTIONAL: [\"OPTIONAL\", \"groupGraphPattern\"]\n    },\n    \"or([*,expression])\": {\n      \"*\": [\"*\"],\n      \"!\": [\"expression\"],\n      \"+\": [\"expression\"],\n      \"-\": [\"expression\"],\n      VAR1: [\"expression\"],\n      VAR2: [\"expression\"],\n      \"(\": [\"expression\"],\n      STR: [\"expression\"],\n      LANG: [\"expression\"],\n      LANGMATCHES: [\"expression\"],\n      DATATYPE: [\"expression\"],\n      BOUND: [\"expression\"],\n      IRI: [\"expression\"],\n      URI: [\"expression\"],\n      BNODE: [\"expression\"],\n      RAND: [\"expression\"],\n      ABS: [\"expression\"],\n      CEIL: [\"expression\"],\n      FLOOR: [\"expression\"],\n      ROUND: [\"expression\"],\n      CONCAT: [\"expression\"],\n      STRLEN: [\"expression\"],\n      UCASE: [\"expression\"],\n      LCASE: [\"expression\"],\n      ENCODE_FOR_URI: [\"expression\"],\n      CONTAINS: [\"expression\"],\n      STRSTARTS: [\"expression\"],\n      STRENDS: [\"expression\"],\n      STRBEFORE: [\"expression\"],\n      STRAFTER: [\"expression\"],\n      YEAR: [\"expression\"],\n      MONTH: [\"expression\"],\n      DAY: [\"expression\"],\n      HOURS: [\"expression\"],\n      MINUTES: [\"expression\"],\n      SECONDS: [\"expression\"],\n      TIMEZONE: [\"expression\"],\n      TZ: [\"expression\"],\n      NOW: [\"expression\"],\n      UUID: [\"expression\"],\n      STRUUID: [\"expression\"],\n      MD5: [\"expression\"],\n      SHA1: [\"expression\"],\n      SHA256: [\"expression\"],\n      SHA384: [\"expression\"],\n      SHA512: [\"expression\"],\n      COALESCE: [\"expression\"],\n      IF: [\"expression\"],\n      STRLANG: [\"expression\"],\n      STRDT: [\"expression\"],\n      SAMETERM: [\"expression\"],\n      ISIRI: [\"expression\"],\n      ISURI: [\"expression\"],\n      ISBLANK: [\"expression\"],\n      ISLITERAL: [\"expression\"],\n      ISNUMERIC: [\"expression\"],\n      TRUE: [\"expression\"],\n      FALSE: [\"expression\"],\n      COUNT: [\"expression\"],\n      SUM: [\"expression\"],\n      MIN: [\"expression\"],\n      MAX: [\"expression\"],\n      AVG: [\"expression\"],\n      SAMPLE: [\"expression\"],\n      GROUP_CONCAT: [\"expression\"],\n      SUBSTR: [\"expression\"],\n      REPLACE: [\"expression\"],\n      REGEX: [\"expression\"],\n      EXISTS: [\"expression\"],\n      NOT: [\"expression\"],\n      IRI_REF: [\"expression\"],\n      STRING_LITERAL1: [\"expression\"],\n      STRING_LITERAL2: [\"expression\"],\n      STRING_LITERAL_LONG1: [\"expression\"],\n      STRING_LITERAL_LONG2: [\"expression\"],\n      INTEGER: [\"expression\"],\n      DECIMAL: [\"expression\"],\n      DOUBLE: [\"expression\"],\n      INTEGER_POSITIVE: [\"expression\"],\n      DECIMAL_POSITIVE: [\"expression\"],\n      DOUBLE_POSITIVE: [\"expression\"],\n      INTEGER_NEGATIVE: [\"expression\"],\n      DECIMAL_NEGATIVE: [\"expression\"],\n      DOUBLE_NEGATIVE: [\"expression\"],\n      PNAME_LN: [\"expression\"],\n      PNAME_NS: [\"expression\"]\n    },\n    \"or([+or([var,[(,expression,AS,var,)]]),*])\": {\n      \"(\": [\"+or([var,[(,expression,AS,var,)]])\"],\n      VAR1: [\"+or([var,[(,expression,AS,var,)]])\"],\n      VAR2: [\"+or([var,[(,expression,AS,var,)]])\"],\n      \"*\": [\"*\"]\n    },\n    \"or([+varOrIRIref,*])\": {\n      VAR1: [\"+varOrIRIref\"],\n      VAR2: [\"+varOrIRIref\"],\n      IRI_REF: [\"+varOrIRIref\"],\n      PNAME_LN: [\"+varOrIRIref\"],\n      PNAME_NS: [\"+varOrIRIref\"],\n      \"*\": [\"*\"]\n    },\n    \"or([ASC,DESC])\": {\n      ASC: [\"ASC\"],\n      DESC: [\"DESC\"]\n    },\n    \"or([DISTINCT,REDUCED])\": {\n      DISTINCT: [\"DISTINCT\"],\n      REDUCED: [\"REDUCED\"]\n    },\n    \"or([LANGTAG,[^^,iriRef]])\": {\n      LANGTAG: [\"LANGTAG\"],\n      \"^^\": [\"[^^,iriRef]\"]\n    },\n    \"or([NIL,[(,*var,)]])\": {\n      NIL: [\"NIL\"],\n      \"(\": [\"[(,*var,)]\"]\n    },\n    \"or([[(,*dataBlockValue,)],NIL])\": {\n      \"(\": [\"[(,*dataBlockValue,)]\"],\n      NIL: [\"NIL\"]\n    },\n    \"or([[(,expression,)],NIL])\": {\n      \"(\": [\"[(,expression,)]\"],\n      NIL: [\"NIL\"]\n    },\n    \"or([[*,unaryExpression],[/,unaryExpression]])\": {\n      \"*\": [\"[*,unaryExpression]\"],\n      \"/\": [\"[/,unaryExpression]\"]\n    },\n    \"or([[+,multiplicativeExpression],[-,multiplicativeExpression],[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]])\": {\n      \"+\": [\"[+,multiplicativeExpression]\"],\n      \"-\": [\"[-,multiplicativeExpression]\"],\n      INTEGER_POSITIVE: [\n        \"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]\"\n      ],\n      DECIMAL_POSITIVE: [\n        \"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]\"\n      ],\n      DOUBLE_POSITIVE: [\n        \"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]\"\n      ],\n      INTEGER_NEGATIVE: [\n        \"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]\"\n      ],\n      DECIMAL_NEGATIVE: [\n        \"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]\"\n      ],\n      DOUBLE_NEGATIVE: [\n        \"[or([numericLiteralPositive,numericLiteralNegative]),?or([[*,unaryExpression],[/,unaryExpression]])]\"\n      ]\n    },\n    \"or([[,,or([},[integer,}]])],}])\": {\n      \",\": [\"[,,or([},[integer,}]])]\"],\n      \"}\": [\"}\"]\n    },\n    \"or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\": {\n      \"=\": [\"[=,numericExpression]\"],\n      \"!=\": [\"[!=,numericExpression]\"],\n      \"<\": [\"[<,numericExpression]\"],\n      \">\": [\"[>,numericExpression]\"],\n      \"<=\": [\"[<=,numericExpression]\"],\n      \">=\": [\"[>=,numericExpression]\"],\n      IN: [\"[IN,expressionList]\"],\n      NOT: [\"[NOT,IN,expressionList]\"]\n    },\n    \"or([[constructTemplate,*datasetClause,whereClause,solutionModifier],[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]])\": {\n      \"{\": [\"[constructTemplate,*datasetClause,whereClause,solutionModifier]\"],\n      WHERE: [\"[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]\"],\n      FROM: [\"[*datasetClause,WHERE,{,?triplesTemplate,},solutionModifier]\"]\n    },\n    \"or([[deleteClause,?insertClause],insertClause])\": {\n      DELETE: [\"[deleteClause,?insertClause]\"],\n      INSERT: [\"insertClause\"]\n    },\n    \"or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])\": {\n      INTEGER: [\"[integer,or([[,,or([},[integer,}]])],}])]\"],\n      \",\": [\"[,,integer,}]\"]\n    },\n    \"or([baseDecl,prefixDecl])\": {\n      BASE: [\"baseDecl\"],\n      PREFIX: [\"prefixDecl\"]\n    },\n    \"or([defaultGraphClause,namedGraphClause])\": {\n      IRI_REF: [\"defaultGraphClause\"],\n      PNAME_LN: [\"defaultGraphClause\"],\n      PNAME_NS: [\"defaultGraphClause\"],\n      NAMED: [\"namedGraphClause\"]\n    },\n    \"or([inlineDataOneVar,inlineDataFull])\": {\n      VAR1: [\"inlineDataOneVar\"],\n      VAR2: [\"inlineDataOneVar\"],\n      NIL: [\"inlineDataFull\"],\n      \"(\": [\"inlineDataFull\"]\n    },\n    \"or([iriRef,[NAMED,iriRef]])\": {\n      IRI_REF: [\"iriRef\"],\n      PNAME_LN: [\"iriRef\"],\n      PNAME_NS: [\"iriRef\"],\n      NAMED: [\"[NAMED,iriRef]\"]\n    },\n    \"or([iriRef,a])\": {\n      IRI_REF: [\"iriRef\"],\n      PNAME_LN: [\"iriRef\"],\n      PNAME_NS: [\"iriRef\"],\n      a: [\"a\"]\n    },\n    \"or([numericLiteralPositive,numericLiteralNegative])\": {\n      INTEGER_POSITIVE: [\"numericLiteralPositive\"],\n      DECIMAL_POSITIVE: [\"numericLiteralPositive\"],\n      DOUBLE_POSITIVE: [\"numericLiteralPositive\"],\n      INTEGER_NEGATIVE: [\"numericLiteralNegative\"],\n      DECIMAL_NEGATIVE: [\"numericLiteralNegative\"],\n      DOUBLE_NEGATIVE: [\"numericLiteralNegative\"]\n    },\n    \"or([queryAll,updateAll])\": {\n      CONSTRUCT: [\"queryAll\"],\n      DESCRIBE: [\"queryAll\"],\n      ASK: [\"queryAll\"],\n      SELECT: [\"queryAll\"],\n      INSERT: [\"updateAll\"],\n      DELETE: [\"updateAll\"],\n      LOAD: [\"updateAll\"],\n      CLEAR: [\"updateAll\"],\n      DROP: [\"updateAll\"],\n      ADD: [\"updateAll\"],\n      MOVE: [\"updateAll\"],\n      COPY: [\"updateAll\"],\n      CREATE: [\"updateAll\"],\n      WITH: [\"updateAll\"],\n      $: [\"updateAll\"]\n    },\n    \"or([selectQuery,constructQuery,describeQuery,askQuery])\": {\n      SELECT: [\"selectQuery\"],\n      CONSTRUCT: [\"constructQuery\"],\n      DESCRIBE: [\"describeQuery\"],\n      ASK: [\"askQuery\"]\n    },\n    \"or([subSelect,groupGraphPatternSub])\": {\n      SELECT: [\"subSelect\"],\n      \"{\": [\"groupGraphPatternSub\"],\n      OPTIONAL: [\"groupGraphPatternSub\"],\n      MINUS: [\"groupGraphPatternSub\"],\n      GRAPH: [\"groupGraphPatternSub\"],\n      SERVICE: [\"groupGraphPatternSub\"],\n      FILTER: [\"groupGraphPatternSub\"],\n      BIND: [\"groupGraphPatternSub\"],\n      VALUES: [\"groupGraphPatternSub\"],\n      VAR1: [\"groupGraphPatternSub\"],\n      VAR2: [\"groupGraphPatternSub\"],\n      NIL: [\"groupGraphPatternSub\"],\n      \"(\": [\"groupGraphPatternSub\"],\n      \"[\": [\"groupGraphPatternSub\"],\n      IRI_REF: [\"groupGraphPatternSub\"],\n      TRUE: [\"groupGraphPatternSub\"],\n      FALSE: [\"groupGraphPatternSub\"],\n      BLANK_NODE_LABEL: [\"groupGraphPatternSub\"],\n      ANON: [\"groupGraphPatternSub\"],\n      PNAME_LN: [\"groupGraphPatternSub\"],\n      PNAME_NS: [\"groupGraphPatternSub\"],\n      STRING_LITERAL1: [\"groupGraphPatternSub\"],\n      STRING_LITERAL2: [\"groupGraphPatternSub\"],\n      STRING_LITERAL_LONG1: [\"groupGraphPatternSub\"],\n      STRING_LITERAL_LONG2: [\"groupGraphPatternSub\"],\n      INTEGER: [\"groupGraphPatternSub\"],\n      DECIMAL: [\"groupGraphPatternSub\"],\n      DOUBLE: [\"groupGraphPatternSub\"],\n      INTEGER_POSITIVE: [\"groupGraphPatternSub\"],\n      DECIMAL_POSITIVE: [\"groupGraphPatternSub\"],\n      DOUBLE_POSITIVE: [\"groupGraphPatternSub\"],\n      INTEGER_NEGATIVE: [\"groupGraphPatternSub\"],\n      DECIMAL_NEGATIVE: [\"groupGraphPatternSub\"],\n      DOUBLE_NEGATIVE: [\"groupGraphPatternSub\"],\n      \"}\": [\"groupGraphPatternSub\"]\n    },\n    \"or([var,[(,expression,AS,var,)]])\": {\n      VAR1: [\"var\"],\n      VAR2: [\"var\"],\n      \"(\": [\"[(,expression,AS,var,)]\"]\n    },\n    \"or([verbPath,verbSimple])\": {\n      \"^\": [\"verbPath\"],\n      a: [\"verbPath\"],\n      \"!\": [\"verbPath\"],\n      \"(\": [\"verbPath\"],\n      IRI_REF: [\"verbPath\"],\n      PNAME_LN: [\"verbPath\"],\n      PNAME_NS: [\"verbPath\"],\n      VAR1: [\"verbSimple\"],\n      VAR2: [\"verbSimple\"]\n    },\n    \"or([},[integer,}]])\": {\n      \"}\": [\"}\"],\n      INTEGER: [\"[integer,}]\"]\n    },\n    orderClause: {\n      ORDER: [\"ORDER\", \"BY\", \"+orderCondition\"]\n    },\n    orderCondition: {\n      ASC: [\"or([ASC,DESC])\", \"brackettedExpression\"],\n      DESC: [\"or([ASC,DESC])\", \"brackettedExpression\"],\n      \"(\": [\"constraint\"],\n      STR: [\"constraint\"],\n      LANG: [\"constraint\"],\n      LANGMATCHES: [\"constraint\"],\n      DATATYPE: [\"constraint\"],\n      BOUND: [\"constraint\"],\n      IRI: [\"constraint\"],\n      URI: [\"constraint\"],\n      BNODE: [\"constraint\"],\n      RAND: [\"constraint\"],\n      ABS: [\"constraint\"],\n      CEIL: [\"constraint\"],\n      FLOOR: [\"constraint\"],\n      ROUND: [\"constraint\"],\n      CONCAT: [\"constraint\"],\n      STRLEN: [\"constraint\"],\n      UCASE: [\"constraint\"],\n      LCASE: [\"constraint\"],\n      ENCODE_FOR_URI: [\"constraint\"],\n      CONTAINS: [\"constraint\"],\n      STRSTARTS: [\"constraint\"],\n      STRENDS: [\"constraint\"],\n      STRBEFORE: [\"constraint\"],\n      STRAFTER: [\"constraint\"],\n      YEAR: [\"constraint\"],\n      MONTH: [\"constraint\"],\n      DAY: [\"constraint\"],\n      HOURS: [\"constraint\"],\n      MINUTES: [\"constraint\"],\n      SECONDS: [\"constraint\"],\n      TIMEZONE: [\"constraint\"],\n      TZ: [\"constraint\"],\n      NOW: [\"constraint\"],\n      UUID: [\"constraint\"],\n      STRUUID: [\"constraint\"],\n      MD5: [\"constraint\"],\n      SHA1: [\"constraint\"],\n      SHA256: [\"constraint\"],\n      SHA384: [\"constraint\"],\n      SHA512: [\"constraint\"],\n      COALESCE: [\"constraint\"],\n      IF: [\"constraint\"],\n      STRLANG: [\"constraint\"],\n      STRDT: [\"constraint\"],\n      SAMETERM: [\"constraint\"],\n      ISIRI: [\"constraint\"],\n      ISURI: [\"constraint\"],\n      ISBLANK: [\"constraint\"],\n      ISLITERAL: [\"constraint\"],\n      ISNUMERIC: [\"constraint\"],\n      SUBSTR: [\"constraint\"],\n      REPLACE: [\"constraint\"],\n      REGEX: [\"constraint\"],\n      EXISTS: [\"constraint\"],\n      NOT: [\"constraint\"],\n      IRI_REF: [\"constraint\"],\n      PNAME_LN: [\"constraint\"],\n      PNAME_NS: [\"constraint\"],\n      VAR1: [\"var\"],\n      VAR2: [\"var\"]\n    },\n    path: {\n      \"^\": [\"pathAlternative\"],\n      a: [\"pathAlternative\"],\n      \"!\": [\"pathAlternative\"],\n      \"(\": [\"pathAlternative\"],\n      IRI_REF: [\"pathAlternative\"],\n      PNAME_LN: [\"pathAlternative\"],\n      PNAME_NS: [\"pathAlternative\"]\n    },\n    pathAlternative: {\n      \"^\": [\"pathSequence\", \"*[|,pathSequence]\"],\n      a: [\"pathSequence\", \"*[|,pathSequence]\"],\n      \"!\": [\"pathSequence\", \"*[|,pathSequence]\"],\n      \"(\": [\"pathSequence\", \"*[|,pathSequence]\"],\n      IRI_REF: [\"pathSequence\", \"*[|,pathSequence]\"],\n      PNAME_LN: [\"pathSequence\", \"*[|,pathSequence]\"],\n      PNAME_NS: [\"pathSequence\", \"*[|,pathSequence]\"]\n    },\n    pathElt: {\n      a: [\"pathPrimary\", \"?pathMod\"],\n      \"!\": [\"pathPrimary\", \"?pathMod\"],\n      \"(\": [\"pathPrimary\", \"?pathMod\"],\n      IRI_REF: [\"pathPrimary\", \"?pathMod\"],\n      PNAME_LN: [\"pathPrimary\", \"?pathMod\"],\n      PNAME_NS: [\"pathPrimary\", \"?pathMod\"]\n    },\n    pathEltOrInverse: {\n      a: [\"pathElt\"],\n      \"!\": [\"pathElt\"],\n      \"(\": [\"pathElt\"],\n      IRI_REF: [\"pathElt\"],\n      PNAME_LN: [\"pathElt\"],\n      PNAME_NS: [\"pathElt\"],\n      \"^\": [\"^\", \"pathElt\"]\n    },\n    pathMod: {\n      \"*\": [\"*\"],\n      \"?\": [\"?\"],\n      \"+\": [\"+\"],\n      \"{\": [\n        \"{\",\n        \"or([[integer,or([[,,or([},[integer,}]])],}])],[,,integer,}]])\"\n      ]\n    },\n    pathNegatedPropertySet: {\n      a: [\"pathOneInPropertySet\"],\n      \"^\": [\"pathOneInPropertySet\"],\n      IRI_REF: [\"pathOneInPropertySet\"],\n      PNAME_LN: [\"pathOneInPropertySet\"],\n      PNAME_NS: [\"pathOneInPropertySet\"],\n      \"(\": [\"(\", \"?[pathOneInPropertySet,*[|,pathOneInPropertySet]]\", \")\"]\n    },\n    pathOneInPropertySet: {\n      IRI_REF: [\"iriRef\"],\n      PNAME_LN: [\"iriRef\"],\n      PNAME_NS: [\"iriRef\"],\n      a: [\"a\"],\n      \"^\": [\"^\", \"or([iriRef,a])\"]\n    },\n    pathPrimary: {\n      IRI_REF: [\"storeProperty\", \"iriRef\"],\n      PNAME_LN: [\"storeProperty\", \"iriRef\"],\n      PNAME_NS: [\"storeProperty\", \"iriRef\"],\n      a: [\"storeProperty\", \"a\"],\n      \"!\": [\"!\", \"pathNegatedPropertySet\"],\n      \"(\": [\"(\", \"path\", \")\"]\n    },\n    pathSequence: {\n      \"^\": [\"pathEltOrInverse\", \"*[/,pathEltOrInverse]\"],\n      a: [\"pathEltOrInverse\", \"*[/,pathEltOrInverse]\"],\n      \"!\": [\"pathEltOrInverse\", \"*[/,pathEltOrInverse]\"],\n      \"(\": [\"pathEltOrInverse\", \"*[/,pathEltOrInverse]\"],\n      IRI_REF: [\"pathEltOrInverse\", \"*[/,pathEltOrInverse]\"],\n      PNAME_LN: [\"pathEltOrInverse\", \"*[/,pathEltOrInverse]\"],\n      PNAME_NS: [\"pathEltOrInverse\", \"*[/,pathEltOrInverse]\"]\n    },\n    prefixDecl: {\n      PREFIX: [\"PREFIX\", \"PNAME_NS\", \"IRI_REF\"]\n    },\n    prefixedName: {\n      PNAME_LN: [\"PNAME_LN\"],\n      PNAME_NS: [\"PNAME_NS\"]\n    },\n    primaryExpression: {\n      \"(\": [\"brackettedExpression\"],\n      STR: [\"builtInCall\"],\n      LANG: [\"builtInCall\"],\n      LANGMATCHES: [\"builtInCall\"],\n      DATATYPE: [\"builtInCall\"],\n      BOUND: [\"builtInCall\"],\n      IRI: [\"builtInCall\"],\n      URI: [\"builtInCall\"],\n      BNODE: [\"builtInCall\"],\n      RAND: [\"builtInCall\"],\n      ABS: [\"builtInCall\"],\n      CEIL: [\"builtInCall\"],\n      FLOOR: [\"builtInCall\"],\n      ROUND: [\"builtInCall\"],\n      CONCAT: [\"builtInCall\"],\n      STRLEN: [\"builtInCall\"],\n      UCASE: [\"builtInCall\"],\n      LCASE: [\"builtInCall\"],\n      ENCODE_FOR_URI: [\"builtInCall\"],\n      CONTAINS: [\"builtInCall\"],\n      STRSTARTS: [\"builtInCall\"],\n      STRENDS: [\"builtInCall\"],\n      STRBEFORE: [\"builtInCall\"],\n      STRAFTER: [\"builtInCall\"],\n      YEAR: [\"builtInCall\"],\n      MONTH: [\"builtInCall\"],\n      DAY: [\"builtInCall\"],\n      HOURS: [\"builtInCall\"],\n      MINUTES: [\"builtInCall\"],\n      SECONDS: [\"builtInCall\"],\n      TIMEZONE: [\"builtInCall\"],\n      TZ: [\"builtInCall\"],\n      NOW: [\"builtInCall\"],\n      UUID: [\"builtInCall\"],\n      STRUUID: [\"builtInCall\"],\n      MD5: [\"builtInCall\"],\n      SHA1: [\"builtInCall\"],\n      SHA256: [\"builtInCall\"],\n      SHA384: [\"builtInCall\"],\n      SHA512: [\"builtInCall\"],\n      COALESCE: [\"builtInCall\"],\n      IF: [\"builtInCall\"],\n      STRLANG: [\"builtInCall\"],\n      STRDT: [\"builtInCall\"],\n      SAMETERM: [\"builtInCall\"],\n      ISIRI: [\"builtInCall\"],\n      ISURI: [\"builtInCall\"],\n      ISBLANK: [\"builtInCall\"],\n      ISLITERAL: [\"builtInCall\"],\n      ISNUMERIC: [\"builtInCall\"],\n      SUBSTR: [\"builtInCall\"],\n      REPLACE: [\"builtInCall\"],\n      REGEX: [\"builtInCall\"],\n      EXISTS: [\"builtInCall\"],\n      NOT: [\"builtInCall\"],\n      IRI_REF: [\"iriRefOrFunction\"],\n      PNAME_LN: [\"iriRefOrFunction\"],\n      PNAME_NS: [\"iriRefOrFunction\"],\n      STRING_LITERAL1: [\"rdfLiteral\"],\n      STRING_LITERAL2: [\"rdfLiteral\"],\n      STRING_LITERAL_LONG1: [\"rdfLiteral\"],\n      STRING_LITERAL_LONG2: [\"rdfLiteral\"],\n      INTEGER: [\"numericLiteral\"],\n      DECIMAL: [\"numericLiteral\"],\n      DOUBLE: [\"numericLiteral\"],\n      INTEGER_POSITIVE: [\"numericLiteral\"],\n      DECIMAL_POSITIVE: [\"numericLiteral\"],\n      DOUBLE_POSITIVE: [\"numericLiteral\"],\n      INTEGER_NEGATIVE: [\"numericLiteral\"],\n      DECIMAL_NEGATIVE: [\"numericLiteral\"],\n      DOUBLE_NEGATIVE: [\"numericLiteral\"],\n      TRUE: [\"booleanLiteral\"],\n      FALSE: [\"booleanLiteral\"],\n      VAR1: [\"var\"],\n      VAR2: [\"var\"],\n      COUNT: [\"aggregate\"],\n      SUM: [\"aggregate\"],\n      MIN: [\"aggregate\"],\n      MAX: [\"aggregate\"],\n      AVG: [\"aggregate\"],\n      SAMPLE: [\"aggregate\"],\n      GROUP_CONCAT: [\"aggregate\"]\n    },\n    prologue: {\n      BASE: [\"*or([baseDecl,prefixDecl])\"],\n      PREFIX: [\"*or([baseDecl,prefixDecl])\"],\n      $: [\"*or([baseDecl,prefixDecl])\"],\n      CONSTRUCT: [\"*or([baseDecl,prefixDecl])\"],\n      DESCRIBE: [\"*or([baseDecl,prefixDecl])\"],\n      ASK: [\"*or([baseDecl,prefixDecl])\"],\n      INSERT: [\"*or([baseDecl,prefixDecl])\"],\n      DELETE: [\"*or([baseDecl,prefixDecl])\"],\n      SELECT: [\"*or([baseDecl,prefixDecl])\"],\n      LOAD: [\"*or([baseDecl,prefixDecl])\"],\n      CLEAR: [\"*or([baseDecl,prefixDecl])\"],\n      DROP: [\"*or([baseDecl,prefixDecl])\"],\n      ADD: [\"*or([baseDecl,prefixDecl])\"],\n      MOVE: [\"*or([baseDecl,prefixDecl])\"],\n      COPY: [\"*or([baseDecl,prefixDecl])\"],\n      CREATE: [\"*or([baseDecl,prefixDecl])\"],\n      WITH: [\"*or([baseDecl,prefixDecl])\"]\n    },\n    propertyList: {\n      a: [\"propertyListNotEmpty\"],\n      VAR1: [\"propertyListNotEmpty\"],\n      VAR2: [\"propertyListNotEmpty\"],\n      IRI_REF: [\"propertyListNotEmpty\"],\n      PNAME_LN: [\"propertyListNotEmpty\"],\n      PNAME_NS: [\"propertyListNotEmpty\"],\n      \".\": [],\n      \"}\": [],\n      GRAPH: []\n    },\n    propertyListNotEmpty: {\n      a: [\"verb\", \"objectList\", \"*[;,?[verb,objectList]]\"],\n      VAR1: [\"verb\", \"objectList\", \"*[;,?[verb,objectList]]\"],\n      VAR2: [\"verb\", \"objectList\", \"*[;,?[verb,objectList]]\"],\n      IRI_REF: [\"verb\", \"objectList\", \"*[;,?[verb,objectList]]\"],\n      PNAME_LN: [\"verb\", \"objectList\", \"*[;,?[verb,objectList]]\"],\n      PNAME_NS: [\"verb\", \"objectList\", \"*[;,?[verb,objectList]]\"]\n    },\n    propertyListPath: {\n      a: [\"propertyListNotEmpty\"],\n      VAR1: [\"propertyListNotEmpty\"],\n      VAR2: [\"propertyListNotEmpty\"],\n      IRI_REF: [\"propertyListNotEmpty\"],\n      PNAME_LN: [\"propertyListNotEmpty\"],\n      PNAME_NS: [\"propertyListNotEmpty\"],\n      \".\": [],\n      \"{\": [],\n      OPTIONAL: [],\n      MINUS: [],\n      GRAPH: [],\n      SERVICE: [],\n      FILTER: [],\n      BIND: [],\n      VALUES: [],\n      \"}\": []\n    },\n    propertyListPathNotEmpty: {\n      VAR1: [\n        \"or([verbPath,verbSimple])\",\n        \"objectListPath\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ],\n      VAR2: [\n        \"or([verbPath,verbSimple])\",\n        \"objectListPath\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ],\n      \"^\": [\n        \"or([verbPath,verbSimple])\",\n        \"objectListPath\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ],\n      a: [\n        \"or([verbPath,verbSimple])\",\n        \"objectListPath\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ],\n      \"!\": [\n        \"or([verbPath,verbSimple])\",\n        \"objectListPath\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ],\n      \"(\": [\n        \"or([verbPath,verbSimple])\",\n        \"objectListPath\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ],\n      IRI_REF: [\n        \"or([verbPath,verbSimple])\",\n        \"objectListPath\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ],\n      PNAME_LN: [\n        \"or([verbPath,verbSimple])\",\n        \"objectListPath\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ],\n      PNAME_NS: [\n        \"or([verbPath,verbSimple])\",\n        \"objectListPath\",\n        \"*[;,?[or([verbPath,verbSimple]),objectList]]\"\n      ]\n    },\n    quadData: {\n      \"{\": [\"{\", \"disallowVars\", \"quads\", \"allowVars\", \"}\"]\n    },\n    quadDataNoBnodes: {\n      \"{\": [\n        \"{\",\n        \"disallowBnodes\",\n        \"disallowVars\",\n        \"quads\",\n        \"allowVars\",\n        \"allowBnodes\",\n        \"}\"\n      ]\n    },\n    quadPattern: {\n      \"{\": [\"{\", \"quads\", \"}\"]\n    },\n    quadPatternNoBnodes: {\n      \"{\": [\"{\", \"disallowBnodes\", \"quads\", \"allowBnodes\", \"}\"]\n    },\n    quads: {\n      GRAPH: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      VAR1: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      VAR2: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      NIL: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      \"(\": [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      \"[\": [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      IRI_REF: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      TRUE: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      FALSE: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      BLANK_NODE_LABEL: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      ANON: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      PNAME_LN: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      PNAME_NS: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      STRING_LITERAL1: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      STRING_LITERAL2: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      STRING_LITERAL_LONG1: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      STRING_LITERAL_LONG2: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      INTEGER: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      DECIMAL: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      DOUBLE: [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"],\n      INTEGER_POSITIVE: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      DECIMAL_POSITIVE: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      DOUBLE_POSITIVE: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      INTEGER_NEGATIVE: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      DECIMAL_NEGATIVE: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      DOUBLE_NEGATIVE: [\n        \"?triplesTemplate\",\n        \"*[quadsNotTriples,?.,?triplesTemplate]\"\n      ],\n      \"}\": [\"?triplesTemplate\", \"*[quadsNotTriples,?.,?triplesTemplate]\"]\n    },\n    quadsNotTriples: {\n      GRAPH: [\"GRAPH\", \"varOrIRIref\", \"{\", \"?triplesTemplate\", \"}\"]\n    },\n    queryAll: {\n      CONSTRUCT: [\n        \"or([selectQuery,constructQuery,describeQuery,askQuery])\",\n        \"valuesClause\"\n      ],\n      DESCRIBE: [\n        \"or([selectQuery,constructQuery,describeQuery,askQuery])\",\n        \"valuesClause\"\n      ],\n      ASK: [\n        \"or([selectQuery,constructQuery,describeQuery,askQuery])\",\n        \"valuesClause\"\n      ],\n      SELECT: [\n        \"or([selectQuery,constructQuery,describeQuery,askQuery])\",\n        \"valuesClause\"\n      ]\n    },\n    rdfLiteral: {\n      STRING_LITERAL1: [\"string\", \"?or([LANGTAG,[^^,iriRef]])\"],\n      STRING_LITERAL2: [\"string\", \"?or([LANGTAG,[^^,iriRef]])\"],\n      STRING_LITERAL_LONG1: [\"string\", \"?or([LANGTAG,[^^,iriRef]])\"],\n      STRING_LITERAL_LONG2: [\"string\", \"?or([LANGTAG,[^^,iriRef]])\"]\n    },\n    regexExpression: {\n      REGEX: [\n        \"REGEX\",\n        \"(\",\n        \"expression\",\n        \",\",\n        \"expression\",\n        \"?[,,expression]\",\n        \")\"\n      ]\n    },\n    relationalExpression: {\n      \"!\": [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      \"+\": [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      \"-\": [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      VAR1: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      VAR2: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      \"(\": [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STR: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      LANG: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      LANGMATCHES: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      DATATYPE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      BOUND: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      IRI: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      URI: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      BNODE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      RAND: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      ABS: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      CEIL: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      FLOOR: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      ROUND: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      CONCAT: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRLEN: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      UCASE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      LCASE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      ENCODE_FOR_URI: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      CONTAINS: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRSTARTS: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRENDS: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRBEFORE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRAFTER: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      YEAR: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      MONTH: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      DAY: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      HOURS: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      MINUTES: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      SECONDS: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      TIMEZONE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      TZ: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      NOW: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      UUID: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRUUID: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      MD5: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      SHA1: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      SHA256: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      SHA384: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      SHA512: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      COALESCE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      IF: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRLANG: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRDT: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      SAMETERM: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      ISIRI: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      ISURI: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      ISBLANK: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      ISLITERAL: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      ISNUMERIC: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      TRUE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      FALSE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      COUNT: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      SUM: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      MIN: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      MAX: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      AVG: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      SAMPLE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      GROUP_CONCAT: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      SUBSTR: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      REPLACE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      REGEX: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      EXISTS: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      NOT: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      IRI_REF: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRING_LITERAL1: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRING_LITERAL2: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRING_LITERAL_LONG1: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      STRING_LITERAL_LONG2: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      INTEGER: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      DECIMAL: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      DOUBLE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      INTEGER_POSITIVE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      DECIMAL_POSITIVE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      DOUBLE_POSITIVE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      INTEGER_NEGATIVE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      DECIMAL_NEGATIVE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      DOUBLE_NEGATIVE: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      PNAME_LN: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ],\n      PNAME_NS: [\n        \"numericExpression\",\n        \"?or([[=,numericExpression],[!=,numericExpression],[<,numericExpression],[>,numericExpression],[<=,numericExpression],[>=,numericExpression],[IN,expressionList],[NOT,IN,expressionList]])\"\n      ]\n    },\n    selectClause: {\n      SELECT: [\n        \"SELECT\",\n        \"?or([DISTINCT,REDUCED])\",\n        \"or([+or([var,[(,expression,AS,var,)]]),*])\"\n      ]\n    },\n    selectQuery: {\n      SELECT: [\n        \"selectClause\",\n        \"*datasetClause\",\n        \"whereClause\",\n        \"solutionModifier\"\n      ]\n    },\n    serviceGraphPattern: {\n      SERVICE: [\"SERVICE\", \"?SILENT\", \"varOrIRIref\", \"groupGraphPattern\"]\n    },\n    solutionModifier: {\n      LIMIT: [\n        \"?groupClause\",\n        \"?havingClause\",\n        \"?orderClause\",\n        \"?limitOffsetClauses\"\n      ],\n      OFFSET: [\n        \"?groupClause\",\n        \"?havingClause\",\n        \"?orderClause\",\n        \"?limitOffsetClauses\"\n      ],\n      ORDER: [\n        \"?groupClause\",\n        \"?havingClause\",\n        \"?orderClause\",\n        \"?limitOffsetClauses\"\n      ],\n      HAVING: [\n        \"?groupClause\",\n        \"?havingClause\",\n        \"?orderClause\",\n        \"?limitOffsetClauses\"\n      ],\n      GROUP: [\n        \"?groupClause\",\n        \"?havingClause\",\n        \"?orderClause\",\n        \"?limitOffsetClauses\"\n      ],\n      VALUES: [\n        \"?groupClause\",\n        \"?havingClause\",\n        \"?orderClause\",\n        \"?limitOffsetClauses\"\n      ],\n      $: [\n        \"?groupClause\",\n        \"?havingClause\",\n        \"?orderClause\",\n        \"?limitOffsetClauses\"\n      ],\n      \"}\": [\n        \"?groupClause\",\n        \"?havingClause\",\n        \"?orderClause\",\n        \"?limitOffsetClauses\"\n      ]\n    },\n    sourceSelector: {\n      IRI_REF: [\"iriRef\"],\n      PNAME_LN: [\"iriRef\"],\n      PNAME_NS: [\"iriRef\"]\n    },\n    sparql11: {\n      $: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      CONSTRUCT: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      DESCRIBE: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      ASK: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      INSERT: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      DELETE: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      SELECT: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      LOAD: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      CLEAR: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      DROP: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      ADD: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      MOVE: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      COPY: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      CREATE: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      WITH: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      BASE: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"],\n      PREFIX: [\"prologue\", \"or([queryAll,updateAll])\", \"$\"]\n    },\n    storeProperty: {\n      VAR1: [],\n      VAR2: [],\n      IRI_REF: [],\n      PNAME_LN: [],\n      PNAME_NS: [],\n      a: []\n    },\n    strReplaceExpression: {\n      REPLACE: [\n        \"REPLACE\",\n        \"(\",\n        \"expression\",\n        \",\",\n        \"expression\",\n        \",\",\n        \"expression\",\n        \"?[,,expression]\",\n        \")\"\n      ]\n    },\n    string: {\n      STRING_LITERAL1: [\"STRING_LITERAL1\"],\n      STRING_LITERAL2: [\"STRING_LITERAL2\"],\n      STRING_LITERAL_LONG1: [\"STRING_LITERAL_LONG1\"],\n      STRING_LITERAL_LONG2: [\"STRING_LITERAL_LONG2\"]\n    },\n    subSelect: {\n      SELECT: [\n        \"selectClause\",\n        \"whereClause\",\n        \"solutionModifier\",\n        \"valuesClause\"\n      ]\n    },\n    substringExpression: {\n      SUBSTR: [\n        \"SUBSTR\",\n        \"(\",\n        \"expression\",\n        \",\",\n        \"expression\",\n        \"?[,,expression]\",\n        \")\"\n      ]\n    },\n    triplesBlock: {\n      VAR1: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      VAR2: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      NIL: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      \"(\": [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      \"[\": [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      IRI_REF: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      TRUE: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      FALSE: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      BLANK_NODE_LABEL: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      ANON: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      PNAME_LN: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      PNAME_NS: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      STRING_LITERAL1: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      STRING_LITERAL2: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      STRING_LITERAL_LONG1: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      STRING_LITERAL_LONG2: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      INTEGER: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      DECIMAL: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      DOUBLE: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      INTEGER_POSITIVE: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      DECIMAL_POSITIVE: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      DOUBLE_POSITIVE: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      INTEGER_NEGATIVE: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      DECIMAL_NEGATIVE: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"],\n      DOUBLE_NEGATIVE: [\"triplesSameSubjectPath\", \"?[.,?triplesBlock]\"]\n    },\n    triplesNode: {\n      \"(\": [\"collection\"],\n      \"[\": [\"blankNodePropertyList\"]\n    },\n    triplesNodePath: {\n      \"(\": [\"collectionPath\"],\n      \"[\": [\"blankNodePropertyListPath\"]\n    },\n    triplesSameSubject: {\n      VAR1: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      VAR2: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      NIL: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      IRI_REF: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      TRUE: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      FALSE: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      BLANK_NODE_LABEL: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      ANON: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      PNAME_LN: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      PNAME_NS: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      STRING_LITERAL1: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      STRING_LITERAL2: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      STRING_LITERAL_LONG1: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      STRING_LITERAL_LONG2: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      INTEGER: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      DECIMAL: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      DOUBLE: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      INTEGER_POSITIVE: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      DECIMAL_POSITIVE: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      DOUBLE_POSITIVE: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      INTEGER_NEGATIVE: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      DECIMAL_NEGATIVE: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      DOUBLE_NEGATIVE: [\"varOrTerm\", \"propertyListNotEmpty\"],\n      \"(\": [\"triplesNode\", \"propertyList\"],\n      \"[\": [\"triplesNode\", \"propertyList\"]\n    },\n    triplesSameSubjectPath: {\n      VAR1: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      VAR2: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      NIL: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      IRI_REF: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      TRUE: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      FALSE: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      BLANK_NODE_LABEL: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      ANON: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      PNAME_LN: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      PNAME_NS: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      STRING_LITERAL1: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      STRING_LITERAL2: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      STRING_LITERAL_LONG1: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      STRING_LITERAL_LONG2: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      INTEGER: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      DECIMAL: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      DOUBLE: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      INTEGER_POSITIVE: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      DECIMAL_POSITIVE: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      DOUBLE_POSITIVE: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      INTEGER_NEGATIVE: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      DECIMAL_NEGATIVE: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      DOUBLE_NEGATIVE: [\"varOrTerm\", \"propertyListPathNotEmpty\"],\n      \"(\": [\"triplesNodePath\", \"propertyListPath\"],\n      \"[\": [\"triplesNodePath\", \"propertyListPath\"]\n    },\n    triplesTemplate: {\n      VAR1: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      VAR2: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      NIL: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      \"(\": [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      \"[\": [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      IRI_REF: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      TRUE: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      FALSE: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      BLANK_NODE_LABEL: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      ANON: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      PNAME_LN: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      PNAME_NS: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      STRING_LITERAL1: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      STRING_LITERAL2: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      STRING_LITERAL_LONG1: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      STRING_LITERAL_LONG2: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      INTEGER: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      DECIMAL: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      DOUBLE: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      INTEGER_POSITIVE: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      DECIMAL_POSITIVE: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      DOUBLE_POSITIVE: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      INTEGER_NEGATIVE: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      DECIMAL_NEGATIVE: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"],\n      DOUBLE_NEGATIVE: [\"triplesSameSubject\", \"?[.,?triplesTemplate]\"]\n    },\n    unaryExpression: {\n      \"!\": [\"!\", \"primaryExpression\"],\n      \"+\": [\"+\", \"primaryExpression\"],\n      \"-\": [\"-\", \"primaryExpression\"],\n      VAR1: [\"primaryExpression\"],\n      VAR2: [\"primaryExpression\"],\n      \"(\": [\"primaryExpression\"],\n      STR: [\"primaryExpression\"],\n      LANG: [\"primaryExpression\"],\n      LANGMATCHES: [\"primaryExpression\"],\n      DATATYPE: [\"primaryExpression\"],\n      BOUND: [\"primaryExpression\"],\n      IRI: [\"primaryExpression\"],\n      URI: [\"primaryExpression\"],\n      BNODE: [\"primaryExpression\"],\n      RAND: [\"primaryExpression\"],\n      ABS: [\"primaryExpression\"],\n      CEIL: [\"primaryExpression\"],\n      FLOOR: [\"primaryExpression\"],\n      ROUND: [\"primaryExpression\"],\n      CONCAT: [\"primaryExpression\"],\n      STRLEN: [\"primaryExpression\"],\n      UCASE: [\"primaryExpression\"],\n      LCASE: [\"primaryExpression\"],\n      ENCODE_FOR_URI: [\"primaryExpression\"],\n      CONTAINS: [\"primaryExpression\"],\n      STRSTARTS: [\"primaryExpression\"],\n      STRENDS: [\"primaryExpression\"],\n      STRBEFORE: [\"primaryExpression\"],\n      STRAFTER: [\"primaryExpression\"],\n      YEAR: [\"primaryExpression\"],\n      MONTH: [\"primaryExpression\"],\n      DAY: [\"primaryExpression\"],\n      HOURS: [\"primaryExpression\"],\n      MINUTES: [\"primaryExpression\"],\n      SECONDS: [\"primaryExpression\"],\n      TIMEZONE: [\"primaryExpression\"],\n      TZ: [\"primaryExpression\"],\n      NOW: [\"primaryExpression\"],\n      UUID: [\"primaryExpression\"],\n      STRUUID: [\"primaryExpression\"],\n      MD5: [\"primaryExpression\"],\n      SHA1: [\"primaryExpression\"],\n      SHA256: [\"primaryExpression\"],\n      SHA384: [\"primaryExpression\"],\n      SHA512: [\"primaryExpression\"],\n      COALESCE: [\"primaryExpression\"],\n      IF: [\"primaryExpression\"],\n      STRLANG: [\"primaryExpression\"],\n      STRDT: [\"primaryExpression\"],\n      SAMETERM: [\"primaryExpression\"],\n      ISIRI: [\"primaryExpression\"],\n      ISURI: [\"primaryExpression\"],\n      ISBLANK: [\"primaryExpression\"],\n      ISLITERAL: [\"primaryExpression\"],\n      ISNUMERIC: [\"primaryExpression\"],\n      TRUE: [\"primaryExpression\"],\n      FALSE: [\"primaryExpression\"],\n      COUNT: [\"primaryExpression\"],\n      SUM: [\"primaryExpression\"],\n      MIN: [\"primaryExpression\"],\n      MAX: [\"primaryExpression\"],\n      AVG: [\"primaryExpression\"],\n      SAMPLE: [\"primaryExpression\"],\n      GROUP_CONCAT: [\"primaryExpression\"],\n      SUBSTR: [\"primaryExpression\"],\n      REPLACE: [\"primaryExpression\"],\n      REGEX: [\"primaryExpression\"],\n      EXISTS: [\"primaryExpression\"],\n      NOT: [\"primaryExpression\"],\n      IRI_REF: [\"primaryExpression\"],\n      STRING_LITERAL1: [\"primaryExpression\"],\n      STRING_LITERAL2: [\"primaryExpression\"],\n      STRING_LITERAL_LONG1: [\"primaryExpression\"],\n      STRING_LITERAL_LONG2: [\"primaryExpression\"],\n      INTEGER: [\"primaryExpression\"],\n      DECIMAL: [\"primaryExpression\"],\n      DOUBLE: [\"primaryExpression\"],\n      INTEGER_POSITIVE: [\"primaryExpression\"],\n      DECIMAL_POSITIVE: [\"primaryExpression\"],\n      DOUBLE_POSITIVE: [\"primaryExpression\"],\n      INTEGER_NEGATIVE: [\"primaryExpression\"],\n      DECIMAL_NEGATIVE: [\"primaryExpression\"],\n      DOUBLE_NEGATIVE: [\"primaryExpression\"],\n      PNAME_LN: [\"primaryExpression\"],\n      PNAME_NS: [\"primaryExpression\"]\n    },\n    update: {\n      INSERT: [\"prologue\", \"?[update1,?[;,update]]\"],\n      DELETE: [\"prologue\", \"?[update1,?[;,update]]\"],\n      LOAD: [\"prologue\", \"?[update1,?[;,update]]\"],\n      CLEAR: [\"prologue\", \"?[update1,?[;,update]]\"],\n      DROP: [\"prologue\", \"?[update1,?[;,update]]\"],\n      ADD: [\"prologue\", \"?[update1,?[;,update]]\"],\n      MOVE: [\"prologue\", \"?[update1,?[;,update]]\"],\n      COPY: [\"prologue\", \"?[update1,?[;,update]]\"],\n      CREATE: [\"prologue\", \"?[update1,?[;,update]]\"],\n      WITH: [\"prologue\", \"?[update1,?[;,update]]\"],\n      BASE: [\"prologue\", \"?[update1,?[;,update]]\"],\n      PREFIX: [\"prologue\", \"?[update1,?[;,update]]\"],\n      $: [\"prologue\", \"?[update1,?[;,update]]\"]\n    },\n    update1: {\n      LOAD: [\"load\"],\n      CLEAR: [\"clear\"],\n      DROP: [\"drop\"],\n      ADD: [\"add\"],\n      MOVE: [\"move\"],\n      COPY: [\"copy\"],\n      CREATE: [\"create\"],\n      INSERT: [\"INSERT\", \"insert1\"],\n      DELETE: [\"DELETE\", \"delete1\"],\n      WITH: [\"modify\"]\n    },\n    updateAll: {\n      INSERT: [\"?[update1,?[;,update]]\"],\n      DELETE: [\"?[update1,?[;,update]]\"],\n      LOAD: [\"?[update1,?[;,update]]\"],\n      CLEAR: [\"?[update1,?[;,update]]\"],\n      DROP: [\"?[update1,?[;,update]]\"],\n      ADD: [\"?[update1,?[;,update]]\"],\n      MOVE: [\"?[update1,?[;,update]]\"],\n      COPY: [\"?[update1,?[;,update]]\"],\n      CREATE: [\"?[update1,?[;,update]]\"],\n      WITH: [\"?[update1,?[;,update]]\"],\n      $: [\"?[update1,?[;,update]]\"]\n    },\n    usingClause: {\n      USING: [\"USING\", \"or([iriRef,[NAMED,iriRef]])\"]\n    },\n    valueLogical: {\n      \"!\": [\"relationalExpression\"],\n      \"+\": [\"relationalExpression\"],\n      \"-\": [\"relationalExpression\"],\n      VAR1: [\"relationalExpression\"],\n      VAR2: [\"relationalExpression\"],\n      \"(\": [\"relationalExpression\"],\n      STR: [\"relationalExpression\"],\n      LANG: [\"relationalExpression\"],\n      LANGMATCHES: [\"relationalExpression\"],\n      DATATYPE: [\"relationalExpression\"],\n      BOUND: [\"relationalExpression\"],\n      IRI: [\"relationalExpression\"],\n      URI: [\"relationalExpression\"],\n      BNODE: [\"relationalExpression\"],\n      RAND: [\"relationalExpression\"],\n      ABS: [\"relationalExpression\"],\n      CEIL: [\"relationalExpression\"],\n      FLOOR: [\"relationalExpression\"],\n      ROUND: [\"relationalExpression\"],\n      CONCAT: [\"relationalExpression\"],\n      STRLEN: [\"relationalExpression\"],\n      UCASE: [\"relationalExpression\"],\n      LCASE: [\"relationalExpression\"],\n      ENCODE_FOR_URI: [\"relationalExpression\"],\n      CONTAINS: [\"relationalExpression\"],\n      STRSTARTS: [\"relationalExpression\"],\n      STRENDS: [\"relationalExpression\"],\n      STRBEFORE: [\"relationalExpression\"],\n      STRAFTER: [\"relationalExpression\"],\n      YEAR: [\"relationalExpression\"],\n      MONTH: [\"relationalExpression\"],\n      DAY: [\"relationalExpression\"],\n      HOURS: [\"relationalExpression\"],\n      MINUTES: [\"relationalExpression\"],\n      SECONDS: [\"relationalExpression\"],\n      TIMEZONE: [\"relationalExpression\"],\n      TZ: [\"relationalExpression\"],\n      NOW: [\"relationalExpression\"],\n      UUID: [\"relationalExpression\"],\n      STRUUID: [\"relationalExpression\"],\n      MD5: [\"relationalExpression\"],\n      SHA1: [\"relationalExpression\"],\n      SHA256: [\"relationalExpression\"],\n      SHA384: [\"relationalExpression\"],\n      SHA512: [\"relationalExpression\"],\n      COALESCE: [\"relationalExpression\"],\n      IF: [\"relationalExpression\"],\n      STRLANG: [\"relationalExpression\"],\n      STRDT: [\"relationalExpression\"],\n      SAMETERM: [\"relationalExpression\"],\n      ISIRI: [\"relationalExpression\"],\n      ISURI: [\"relationalExpression\"],\n      ISBLANK: [\"relationalExpression\"],\n      ISLITERAL: [\"relationalExpression\"],\n      ISNUMERIC: [\"relationalExpression\"],\n      TRUE: [\"relationalExpression\"],\n      FALSE: [\"relationalExpression\"],\n      COUNT: [\"relationalExpression\"],\n      SUM: [\"relationalExpression\"],\n      MIN: [\"relationalExpression\"],\n      MAX: [\"relationalExpression\"],\n      AVG: [\"relationalExpression\"],\n      SAMPLE: [\"relationalExpression\"],\n      GROUP_CONCAT: [\"relationalExpression\"],\n      SUBSTR: [\"relationalExpression\"],\n      REPLACE: [\"relationalExpression\"],\n      REGEX: [\"relationalExpression\"],\n      EXISTS: [\"relationalExpression\"],\n      NOT: [\"relationalExpression\"],\n      IRI_REF: [\"relationalExpression\"],\n      STRING_LITERAL1: [\"relationalExpression\"],\n      STRING_LITERAL2: [\"relationalExpression\"],\n      STRING_LITERAL_LONG1: [\"relationalExpression\"],\n      STRING_LITERAL_LONG2: [\"relationalExpression\"],\n      INTEGER: [\"relationalExpression\"],\n      DECIMAL: [\"relationalExpression\"],\n      DOUBLE: [\"relationalExpression\"],\n      INTEGER_POSITIVE: [\"relationalExpression\"],\n      DECIMAL_POSITIVE: [\"relationalExpression\"],\n      DOUBLE_POSITIVE: [\"relationalExpression\"],\n      INTEGER_NEGATIVE: [\"relationalExpression\"],\n      DECIMAL_NEGATIVE: [\"relationalExpression\"],\n      DOUBLE_NEGATIVE: [\"relationalExpression\"],\n      PNAME_LN: [\"relationalExpression\"],\n      PNAME_NS: [\"relationalExpression\"]\n    },\n    valuesClause: {\n      VALUES: [\"VALUES\", \"dataBlock\"],\n      $: [],\n      \"}\": []\n    },\n    var: {\n      VAR1: [\"VAR1\"],\n      VAR2: [\"VAR2\"]\n    },\n    varOrIRIref: {\n      VAR1: [\"var\"],\n      VAR2: [\"var\"],\n      IRI_REF: [\"iriRef\"],\n      PNAME_LN: [\"iriRef\"],\n      PNAME_NS: [\"iriRef\"]\n    },\n    varOrTerm: {\n      VAR1: [\"var\"],\n      VAR2: [\"var\"],\n      NIL: [\"graphTerm\"],\n      IRI_REF: [\"graphTerm\"],\n      TRUE: [\"graphTerm\"],\n      FALSE: [\"graphTerm\"],\n      BLANK_NODE_LABEL: [\"graphTerm\"],\n      ANON: [\"graphTerm\"],\n      PNAME_LN: [\"graphTerm\"],\n      PNAME_NS: [\"graphTerm\"],\n      STRING_LITERAL1: [\"graphTerm\"],\n      STRING_LITERAL2: [\"graphTerm\"],\n      STRING_LITERAL_LONG1: [\"graphTerm\"],\n      STRING_LITERAL_LONG2: [\"graphTerm\"],\n      INTEGER: [\"graphTerm\"],\n      DECIMAL: [\"graphTerm\"],\n      DOUBLE: [\"graphTerm\"],\n      INTEGER_POSITIVE: [\"graphTerm\"],\n      DECIMAL_POSITIVE: [\"graphTerm\"],\n      DOUBLE_POSITIVE: [\"graphTerm\"],\n      INTEGER_NEGATIVE: [\"graphTerm\"],\n      DECIMAL_NEGATIVE: [\"graphTerm\"],\n      DOUBLE_NEGATIVE: [\"graphTerm\"]\n    },\n    verb: {\n      VAR1: [\"storeProperty\", \"varOrIRIref\"],\n      VAR2: [\"storeProperty\", \"varOrIRIref\"],\n      IRI_REF: [\"storeProperty\", \"varOrIRIref\"],\n      PNAME_LN: [\"storeProperty\", \"varOrIRIref\"],\n      PNAME_NS: [\"storeProperty\", \"varOrIRIref\"],\n      a: [\"storeProperty\", \"a\"]\n    },\n    verbPath: {\n      \"^\": [\"path\"],\n      a: [\"path\"],\n      \"!\": [\"path\"],\n      \"(\": [\"path\"],\n      IRI_REF: [\"path\"],\n      PNAME_LN: [\"path\"],\n      PNAME_NS: [\"path\"]\n    },\n    verbSimple: {\n      VAR1: [\"var\"],\n      VAR2: [\"var\"]\n    },\n    whereClause: {\n      \"{\": [\"?WHERE\", \"groupGraphPattern\"],\n      WHERE: [\"?WHERE\", \"groupGraphPattern\"]\n    }\n  },\n\n  keywords: /^(GROUP_CONCAT|DATATYPE|BASE|PREFIX|SELECT|CONSTRUCT|DESCRIBE|ASK|FROM|NAMED|ORDER|BY|LIMIT|ASC|DESC|OFFSET|DISTINCT|REDUCED|WHERE|GRAPH|OPTIONAL|UNION|FILTER|GROUP|HAVING|AS|VALUES|LOAD|CLEAR|DROP|CREATE|MOVE|COPY|SILENT|INSERT|DELETE|DATA|WITH|TO|USING|NAMED|MINUS|BIND|LANGMATCHES|LANG|BOUND|SAMETERM|ISIRI|ISURI|ISBLANK|ISLITERAL|REGEX|TRUE|FALSE|UNDEF|ADD|DEFAULT|ALL|SERVICE|INTO|IN|NOT|IRI|URI|BNODE|RAND|ABS|CEIL|FLOOR|ROUND|CONCAT|STRLEN|UCASE|LCASE|ENCODE_FOR_URI|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|NOW|UUID|STRUUID|MD5|SHA1|SHA256|SHA384|SHA512|COALESCE|IF|STRLANG|STRDT|ISNUMERIC|SUBSTR|REPLACE|EXISTS|COUNT|SUM|MIN|MAX|AVG|SAMPLE|SEPARATOR|STR)/i,\n\n  punct: /^(\\*|a|\\.|\\{|\\}|,|\\(|\\)|;|\\[|\\]|\\|\\||&&|=|!=|!|<=|>=|<|>|\\+|-|\\/|\\^\\^|\\?|\\||\\^)/,\n\n  startSymbol: \"sparql11\",\n  acceptEmpty: true\n};\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\nvar CodeMirror = require(\"codemirror\");\nCodeMirror.defineMode(\"sparql11\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n\n  var grammar = require(\"./_tokenizer-table.js\");\n  var ll1_table = grammar.table;\n\n  var IRI_REF = '<[^<>\"`\\|\\{\\}\\^\\\\\\x00-\\x20]*>';\n  /*\n\t * PN_CHARS_BASE =\n\t * '[A-Z]|[a-z]|[\\\\u00C0-\\\\u00D6]|[\\\\u00D8-\\\\u00F6]|[\\\\u00F8-\\\\u02FF]|[\\\\u0370-\\\\u037D]|[\\\\u037F-\\\\u1FFF]|[\\\\u200C-\\\\u200D]|[\\\\u2070-\\\\u218F]|[\\\\u2C00-\\\\u2FEF]|[\\\\u3001-\\\\uD7FF]|[\\\\uF900-\\\\uFDCF]|[\\\\uFDF0-\\\\uFFFD]|[\\\\u10000-\\\\uEFFFF]';\n\t */\n\n  var PN_CHARS_BASE = \"[A-Za-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD]\";\n  var PN_CHARS_U = PN_CHARS_BASE + \"|_\";\n\n  var PN_CHARS = \"(\" + PN_CHARS_U + \"|-|[0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040])\";\n  var VARNAME = \"(\" + PN_CHARS_U + \"|[0-9])\" + \"(\" + PN_CHARS_U + \"|[0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040])*\";\n  var VAR1 = \"\\\\?\" + VARNAME;\n  var VAR2 = \"\\\\$\" + VARNAME;\n\n  var PN_PREFIX = \"(\" + PN_CHARS_BASE + \")(((\" + PN_CHARS + \")|\\\\.)*(\" + PN_CHARS + \"))?\";\n\n  var HEX = \"[0-9A-Fa-f]\";\n  var PERCENT = \"(%\" + HEX + HEX + \")\";\n  var PN_LOCAL_ESC = \"(\\\\\\\\[_~\\\\.\\\\-!\\\\$&'\\\\(\\\\)\\\\*\\\\+,;=/\\\\?#@%])\";\n  var PLX = \"(\" + PERCENT + \"|\" + PN_LOCAL_ESC + \")\";\n  var PN_LOCAL = \"(\" +\n    PN_CHARS_U +\n    \"|:|[0-9]|\" +\n    PLX +\n    \")((\" +\n    PN_CHARS +\n    \"|\\\\.|:|\" +\n    PLX +\n    \")*(\" +\n    PN_CHARS +\n    \"|:|\" +\n    PLX +\n    \"))?\";\n  var BLANK_NODE_LABEL = \"_:(\" + PN_CHARS_U + \"|[0-9])((\" + PN_CHARS + \"|\\\\.)*\" + PN_CHARS + \")?\";\n  var PNAME_NS = \"(\" + PN_PREFIX + \")?:\";\n  var PNAME_LN = PNAME_NS + PN_LOCAL;\n  var LANGTAG = \"@[a-zA-Z]+(-[a-zA-Z0-9]+)*\";\n\n  var EXPONENT = \"[eE][\\\\+-]?[0-9]+\";\n  var INTEGER = \"[0-9]+\";\n  var DECIMAL = \"(([0-9]+\\\\.[0-9]*)|(\\\\.[0-9]+))\";\n  var DOUBLE = \"(([0-9]+\\\\.[0-9]*\" + EXPONENT + \")|\" + \"(\\\\.[0-9]+\" + EXPONENT + \")|\" + \"([0-9]+\" + EXPONENT + \"))\";\n\n  var INTEGER_POSITIVE = \"\\\\+\" + INTEGER;\n  var DECIMAL_POSITIVE = \"\\\\+\" + DECIMAL;\n  var DOUBLE_POSITIVE = \"\\\\+\" + DOUBLE;\n  var INTEGER_NEGATIVE = \"-\" + INTEGER;\n  var DECIMAL_NEGATIVE = \"-\" + DECIMAL;\n  var DOUBLE_NEGATIVE = \"-\" + DOUBLE;\n\n  var ECHAR = \"\\\\\\\\[tbnrf\\\\\\\\\\\"']\";\n\n  //IMPORTANT: this unicode rule is not in the official grammar.\n  //Reason: https://github.com/YASGUI/YASQE/issues/49\n  //unicode escape sequences (which the sparql spec considers part of the pre-processing of sparql queries)\n  //are marked as invalid. We have little choice (other than adding a layer of complixity) than to modify the grammar accordingly\n  //however, for now only allow these escape sequences in literals (where actually, this should be allows in e.g. prefixes as well)\n  var hex4 = HEX + \"{4}\";\n  var unicode = \"(\\\\\\\\u\" + hex4 + \"|\\\\\\\\U00(10|0\" + HEX + \")\" + hex4 + \")\";\n  var LINE_BREAK = \"\\n\";\n  var STRING_LITERAL1 = \"'(([^\\\\x27\\\\x5C\\\\x0A\\\\x0D])|\" + ECHAR + \"|\" + unicode + \")*'\";\n  var STRING_LITERAL2 = '\"(([^\\\\x22\\\\x5C\\\\x0A\\\\x0D])|' + ECHAR + \"|\" + unicode + ')*\"';\n\n  var STRING_LITERAL_LONG = {\n    SINGLE: {\n      CAT: \"STRING_LITERAL_LONG1\",\n      QUOTES: \"'''\",\n      CONTENTS: \"(('|'')?([^'\\\\\\\\]|\" + ECHAR + \"|\" + unicode + \"))*\"\n    },\n    DOUBLE: {\n      CAT: \"STRING_LITERAL_LONG2\",\n      QUOTES: '\"\"\"',\n      CONTENTS: '((\"|\"\")?([^\"\\\\\\\\]|' + ECHAR + \"|\" + unicode + \"))*\"\n    }\n  };\n  for (var key in STRING_LITERAL_LONG) {\n    STRING_LITERAL_LONG[key].COMPLETE = STRING_LITERAL_LONG[key].QUOTES +\n      STRING_LITERAL_LONG[key].CONTENTS +\n      STRING_LITERAL_LONG[key].QUOTES;\n  }\n  //\tvar STRING_LITERAL_LONG_QUOTES = {\n  //\t\t\"STRING_LITERAL_LONG_QUOTES1\": \"'''\",\n  //\t\t\"STRING_LITERAL_LONG_QUOTES2\": '\"\"\"',\n  //\t}\n  //\tvar STRING_LITERAL_LONG_CONTENTS = {\n  //\t\t\"STRING_LITERAL_LONG_QUOTES1\": \"(('|'')?([^'\\\\\\\\]|\"+ECHAR+\"|\"+unicode+\"))*\",\n  //\t\t\"STRING_LITERAL_LONG_QUOTES2\": '((\"|\"\")?([^\"\\\\\\\\]|'+ECHAR+'|'+unicode+'))*'\n  //\t};\n  //\tvar STRING_LITERAL_LONG1 = STRING_LITERAL_LONG['SINGLE'].QUOTES + STRING_LITERAL_LONG['SINGLE'].CONTENTS + STRING_LITERAL_LONG['SINGLE'].QUOTES;\n  //\tvar STRING_LITERAL_LONG2 = STRING_LITERAL_LONG['DOUBLE'].QUOTES + STRING_LITERAL_LONG['DOUBLE'].CONTENTS + STRING_LITERAL_LONG['DOUBLE'].QUOTES;\n\n  //\tvar stringLiteralLongContentTerminals = {};\n  //\tfor (var key in STRING_LITERAL_LONG) {\n  //\t\tstringLiteralLongContentTerminals[key] = {\n  //\t\t\tname: key,\n  //\t\t\tregex:new RegExp(\"^\"+STRING_LITERAL_LONG_CONTENTS[key]),\n  //\t\t\tstyle:\"string\"\n  //\t\t};\n  //\t}\n  //some regular expressions not used in regular terminals, because this is used accross lines\n  var stringLiteralLongRegex = {};\n  for (var key in STRING_LITERAL_LONG) {\n    stringLiteralLongRegex[key] = {\n      complete: {\n        name: \"STRING_LITERAL_LONG_\" + key,\n        regex: new RegExp(\"^\" + STRING_LITERAL_LONG[key].COMPLETE),\n        style: \"string\"\n      },\n      contents: {\n        name: \"STRING_LITERAL_LONG_\" + key,\n        regex: new RegExp(\"^\" + STRING_LITERAL_LONG[key].CONTENTS),\n        style: \"string\"\n      },\n      closing: {\n        name: \"STRING_LITERAL_LONG_\" + key,\n        regex: new RegExp(\"^\" + STRING_LITERAL_LONG[key].CONTENTS + STRING_LITERAL_LONG[key].QUOTES),\n        style: \"string\"\n      },\n      quotes: {\n        name: \"STRING_LITERAL_LONG_QUOTES_\" + key,\n        regex: new RegExp(\"^\" + STRING_LITERAL_LONG[key].QUOTES),\n        style: \"string\"\n      }\n    };\n  }\n\n  var WS = \"[\\\\x20\\\\x09\\\\x0D\\\\x0A]\";\n  // Careful! Code mirror feeds one line at a time with no \\n\n  // ... but otherwise comment is terminated by \\n\n  var COMMENT = \"#([^\\\\n\\\\r]*[\\\\n\\\\r]|[^\\\\n\\\\r]*$)\";\n  var WS_OR_COMMENT_STAR = \"(\" + WS + \"|(\" + COMMENT + \"))*\";\n  var NIL = \"\\\\(\" + WS_OR_COMMENT_STAR + \"\\\\)\";\n  var ANON = \"\\\\[\" + WS_OR_COMMENT_STAR + \"\\\\]\";\n  var terminals = [\n    {\n      name: \"WS\",\n      regex: new RegExp(\"^\" + WS + \"+\"),\n      style: \"ws\"\n    },\n\n    {\n      name: \"COMMENT\",\n      regex: new RegExp(\"^\" + COMMENT),\n      style: \"comment\"\n    },\n\n    {\n      name: \"IRI_REF\",\n      regex: new RegExp(\"^\" + IRI_REF),\n      style: \"variable-3\"\n    },\n\n    {\n      name: \"VAR1\",\n      regex: new RegExp(\"^\" + VAR1),\n      style: \"atom\"\n    },\n\n    {\n      name: \"VAR2\",\n      regex: new RegExp(\"^\" + VAR2),\n      style: \"atom\"\n    },\n\n    {\n      name: \"LANGTAG\",\n      regex: new RegExp(\"^\" + LANGTAG),\n      style: \"meta\"\n    },\n\n    {\n      name: \"DOUBLE\",\n      regex: new RegExp(\"^\" + DOUBLE),\n      style: \"number\"\n    },\n\n    {\n      name: \"DECIMAL\",\n      regex: new RegExp(\"^\" + DECIMAL),\n      style: \"number\"\n    },\n\n    {\n      name: \"INTEGER\",\n      regex: new RegExp(\"^\" + INTEGER),\n      style: \"number\"\n    },\n\n    {\n      name: \"DOUBLE_POSITIVE\",\n      regex: new RegExp(\"^\" + DOUBLE_POSITIVE),\n      style: \"number\"\n    },\n\n    {\n      name: \"DECIMAL_POSITIVE\",\n      regex: new RegExp(\"^\" + DECIMAL_POSITIVE),\n      style: \"number\"\n    },\n\n    {\n      name: \"INTEGER_POSITIVE\",\n      regex: new RegExp(\"^\" + INTEGER_POSITIVE),\n      style: \"number\"\n    },\n\n    {\n      name: \"DOUBLE_NEGATIVE\",\n      regex: new RegExp(\"^\" + DOUBLE_NEGATIVE),\n      style: \"number\"\n    },\n\n    {\n      name: \"DECIMAL_NEGATIVE\",\n      regex: new RegExp(\"^\" + DECIMAL_NEGATIVE),\n      style: \"number\"\n    },\n\n    {\n      name: \"INTEGER_NEGATIVE\",\n      regex: new RegExp(\"^\" + INTEGER_NEGATIVE),\n      style: \"number\"\n    },\n    //\t\tstringLiteralLongRegex.SINGLE.complete,\n    //\t\tstringLiteralLongRegex.DOUBLE.complete,\n    //\t\tstringLiteralLongRegex.SINGLE.quotes,\n    //\t\tstringLiteralLongRegex.DOUBLE.quotes,\n\n    {\n      name: \"STRING_LITERAL1\",\n      regex: new RegExp(\"^\" + STRING_LITERAL1),\n      style: \"string\"\n    },\n\n    {\n      name: \"STRING_LITERAL2\",\n      regex: new RegExp(\"^\" + STRING_LITERAL2),\n      style: \"string\"\n    },\n\n    // Enclosed comments won't be highlighted\n    {\n      name: \"NIL\",\n      regex: new RegExp(\"^\" + NIL),\n      style: \"punc\"\n    },\n\n    // Enclosed comments won't be highlighted\n    {\n      name: \"ANON\",\n      regex: new RegExp(\"^\" + ANON),\n      style: \"punc\"\n    },\n\n    {\n      name: \"PNAME_LN\",\n      regex: new RegExp(\"^\" + PNAME_LN),\n      style: \"string-2\"\n    },\n\n    {\n      name: \"PNAME_NS\",\n      regex: new RegExp(\"^\" + PNAME_NS),\n      style: \"string-2\"\n    },\n\n    {\n      name: \"BLANK_NODE_LABEL\",\n      regex: new RegExp(\"^\" + BLANK_NODE_LABEL),\n      style: \"string-2\"\n    }\n  ];\n\n  function getPossibles(symbol) {\n    var possibles = [], possiblesOb = ll1_table[symbol];\n    if (possiblesOb != undefined) {\n      for (var property in possiblesOb) {\n        possibles.push(property.toString());\n      }\n    } else {\n      possibles.push(symbol);\n    }\n    return possibles;\n  }\n\n  function tokenBase(stream, state) {\n    function nextToken() {\n      var consumed = null;\n      if (state.inLiteral) {\n        var closingQuotes = false;\n        //multi-line literal. try to parse contents.\n        consumed = stream.match(stringLiteralLongRegex[state.inLiteral].contents.regex, true, false);\n        if (consumed && consumed[0].length == 0) {\n          //try seeing whether we can consume closing quotes, to avoid stopping\n          consumed = stream.match(stringLiteralLongRegex[state.inLiteral].closing.regex, true, false);\n          closingQuotes = true;\n        }\n\n        if (consumed && consumed[0].length > 0) {\n          //some string content here.\n          var returnObj = {\n            quotePos: closingQuotes ? \"end\" : \"content\",\n            cat: STRING_LITERAL_LONG[state.inLiteral].CAT,\n            style: stringLiteralLongRegex[state.inLiteral].complete.style,\n            text: consumed[0],\n            start: stream.start\n          };\n          if (closingQuotes) state.inLiteral = false;\n          return returnObj;\n        }\n      }\n\n      //Multiline literals\n      for (var quoteType in stringLiteralLongRegex) {\n        consumed = stream.match(stringLiteralLongRegex[quoteType].quotes.regex, true, false);\n        if (consumed) {\n          var quotePos;\n          if (state.inLiteral) {\n            //end of literal. everything is fine\n            state.inLiteral = false;\n            quotePos = \"end\";\n          } else {\n            state.inLiteral = quoteType;\n            quotePos = \"start\";\n          }\n          return {\n            cat: STRING_LITERAL_LONG[quoteType].CAT,\n            style: stringLiteralLongRegex[quoteType].quotes.style,\n            text: consumed[0],\n            quotePos: quotePos,\n            start: stream.start\n          };\n        }\n      }\n\n      // Tokens defined by individual regular expressions\n      for (var i = 0; i < terminals.length; ++i) {\n        consumed = stream.match(terminals[i].regex, true, false);\n        if (consumed) {\n          return {\n            cat: terminals[i].name,\n            style: terminals[i].style,\n            text: consumed[0],\n            start: stream.start\n          };\n        }\n      }\n\n      // Keywords\n      consumed = stream.match(grammar.keywords, true, false);\n      if (consumed)\n        return {\n          cat: stream.current().toUpperCase(),\n          style: \"keyword\",\n          text: consumed[0],\n          start: stream.start\n        };\n\n      // Punctuation\n      consumed = stream.match(grammar.punct, true, false);\n      if (consumed)\n        return {\n          cat: stream.current(),\n          style: \"punc\",\n          text: consumed[0],\n          start: stream.start\n        };\n\n      // Token is invalid\n      // better consume something anyway, or else we're stuck\n      consumed = stream.match(/^.[A-Za-z0-9]*/, true, false);\n      return {\n        cat: \"<invalid_token>\",\n        style: \"error\",\n        text: consumed[0],\n        start: stream.start\n      };\n    }\n\n    function recordFailurePos() {\n      // tokenOb.style= \"sp-invalid\";\n      var col = stream.column();\n      state.errorStartPos = col;\n      state.errorEndPos = col + tokenOb.text.length;\n    }\n    function setQueryType(s) {\n      if (state.queryType == null) {\n        if (\n          s == \"SELECT\" ||\n          s == \"CONSTRUCT\" ||\n          s == \"ASK\" ||\n          s == \"DESCRIBE\" ||\n          s == \"INSERT\" ||\n          s == \"DELETE\" ||\n          s == \"LOAD\" ||\n          s == \"CLEAR\" ||\n          s == \"CREATE\" ||\n          s == \"DROP\" ||\n          s == \"COPY\" ||\n          s == \"MOVE\" ||\n          s == \"ADD\"\n        )\n          state.queryType = s;\n      }\n    }\n\n    // Some fake non-terminals are just there to have side-effect on state\n    // - i.e. allow or disallow variables and bnodes in certain non-nesting\n    // contexts\n    function setSideConditions(topSymbol) {\n      if (topSymbol === \"prefixDecl\") {\n        state.inPrefixDecl = true;\n      } else {\n        state.inPrefixDecl = false;\n      }\n      switch (topSymbol) {\n        case \"disallowVars\":\n          state.allowVars = false;\n          break;\n        case \"allowVars\":\n          state.allowVars = true;\n          break;\n        case \"disallowBnodes\":\n          state.allowBnodes = false;\n          break;\n        case \"allowBnodes\":\n          state.allowBnodes = true;\n          break;\n        case \"storeProperty\":\n          state.storeProperty = true;\n          break;\n      }\n    }\n\n    function checkSideConditions(topSymbol) {\n      return (state.allowVars || topSymbol != \"var\") &&\n        (state.allowBnodes ||\n          (topSymbol != \"blankNode\" &&\n            topSymbol != \"blankNodePropertyList\" &&\n            topSymbol != \"blankNodePropertyListPath\"));\n    }\n\n    // CodeMirror works with one line at a time,\n    // but newline should behave like whitespace\n    // - i.e. a definite break between tokens (for autocompleter)\n    if (stream.pos == 0) state.possibleCurrent = state.possibleNext;\n\n    var tokenOb = nextToken();\n\n    if (tokenOb.cat == \"<invalid_token>\") {\n      // set error state, and\n      if (state.OK == true) {\n        state.OK = false;\n        recordFailurePos();\n      }\n      state.complete = false;\n      // alert(\"Invalid:\"+tokenOb.text);\n      return tokenOb.style;\n    }\n\n    if (tokenOb.cat == \"WS\" || tokenOb.cat == \"COMMENT\" || (tokenOb.quotePos && tokenOb.quotePos != \"end\")) {\n      state.possibleCurrent = state.possibleNext;\n      return tokenOb.style;\n    }\n    // Otherwise, run the parser until the token is digested\n    // or failure\n    var finished = false;\n    var topSymbol;\n    var token = tokenOb.cat;\n\n    if (!tokenOb.quotePos || tokenOb.quotePos == \"end\") {\n      // Incremental LL1 parse\n      while (state.stack.length > 0 && token && state.OK && !finished) {\n        topSymbol = state.stack.pop();\n        if (topSymbol === 'var' && tokenOb.text) state.variables[tokenOb.text] = tokenOb.text;\n        if (!ll1_table[topSymbol]) {\n          // Top symbol is a terminal\n          if (topSymbol == token) {\n            if (state.inPrefixDecl) {\n              if (topSymbol === \"PNAME_NS\" && tokenOb.text.length > 0) {\n                state.currentPnameNs = tokenOb.text.slice(0, -1);\n              } else if (state.currentPnameNs !== undefined && tokenOb.text.length > 2) {\n                state.prefixes[state.currentPnameNs] = tokenOb.text.slice(1, -1);\n                //reset current pname ns\n                state.currentPnameNs = undefined;\n              }\n            }\n            // Matching terminals\n            // - consume token from input stream\n            finished = true;\n            setQueryType(topSymbol);\n            // Check whether $ (end of input token) is poss next\n            // for everything on stack\n            var allNillable = true;\n            for (var sp = state.stack.length; sp > 0; --sp) {\n              var item = ll1_table[state.stack[sp - 1]];\n              if (!item || !item[\"$\"]) allNillable = false;\n            }\n            state.complete = allNillable;\n            if (state.storeProperty && token.cat != \"punc\") {\n              state.lastProperty = tokenOb.text;\n              state.storeProperty = false;\n            }\n\n            //check whether a used prefix is actually defined\n            if (!state.inPrefixDecl && (token === \"PNAME_NS\" || token === \"PNAME_LN\")) {\n              var colonIndex = tokenOb.text.indexOf(\":\");\n              if (colonIndex >= 0) {\n                var prefNs = tokenOb.text.slice(0, colonIndex);\n                //avoid warnings for missing bif prefixes (yuck, virtuoso-specific)\n                if (!state.prefixes[prefNs] && [\"bif\", \"xsd\", \"sql\"].indexOf(prefNs) < 0) {\n                  state.OK = false;\n                  recordFailurePos();\n                  state.errorMsg = \"Prefix '\" + prefNs + \"' is not defined\";\n                }\n              }\n            }\n          } else {\n            state.OK = false;\n            state.complete = false;\n            recordFailurePos();\n          }\n        } else {\n          // topSymbol is nonterminal\n          // - see if there is an entry for topSymbol\n          // and nextToken in table\n          var nextSymbols = ll1_table[topSymbol][token];\n          if (nextSymbols != undefined && checkSideConditions(topSymbol)) {\n            // Match - copy RHS of rule to stack\n            for (var i = nextSymbols.length - 1; i >= 0; --i) {\n              state.stack.push(nextSymbols[i]);\n            }\n            // Peform any non-grammatical side-effects\n            setSideConditions(topSymbol);\n          } else {\n            // No match in table - fail\n            state.OK = false;\n            state.complete = false;\n            recordFailurePos();\n            state.stack.push(topSymbol); // Shove topSymbol back on stack\n          }\n        }\n      }\n    }\n    if (!finished && state.OK) {\n      state.OK = false;\n      state.complete = false;\n      recordFailurePos();\n    }\n\n    if (state.possibleCurrent.indexOf(\"a\") >= 0) {\n      state.lastPredicateOffset = tokenOb.start;\n    }\n    state.possibleCurrent = state.possibleNext;\n\n    state.possibleNext = getPossibles(state.stack[state.stack.length - 1]);\n\n    return tokenOb.style;\n  }\n\n  var indentTop = {\n    \"*[,, object]\": 3,\n    \"*[(,),object]\": 3,\n    \"*[(,),objectPath]\": 3,\n    \"*[/,pathEltOrInverse]\": 2,\n    object: 2,\n    objectPath: 2,\n    objectList: 2,\n    objectListPath: 2,\n    storeProperty: 2,\n    pathMod: 2,\n    \"?pathMod\": 2,\n    propertyListNotEmpty: 1,\n    propertyList: 1,\n    propertyListPath: 1,\n    propertyListPathNotEmpty: 1,\n    \"?[verb,objectList]\": 1\n    //\t\t\"?[or([verbPath, verbSimple]),objectList]\": 1,\n  };\n\n  var indentTable = {\n    \"}\": 1,\n    \"]\": 1,\n    \")\": 1,\n    \"{\": -1,\n    \"(\": -1,\n    \"[\": -1\n    //\t\t\"*[;,?[or([verbPath,verbSimple]),objectList]]\": 1,\n  };\n\n  function indent(state, textAfter) {\n    //just avoid we don't indent multi-line  literals\n    if (state.inLiteral) return 0;\n    if (state.stack.length && state.stack[state.stack.length - 1] == \"?[or([verbPath,verbSimple]),objectList]\") {\n      //we are after a semi-colon. I.e., nicely align this line with predicate position of previous line\n      return state.lastPredicateOffset;\n    } else {\n      var n = 0; // indent level\n      var i = state.stack.length - 1;\n      if (/^[\\}\\]\\)]/.test(textAfter)) {\n        // Skip stack items until after matching bracket\n        var closeBracket = textAfter.substr(0, 1);\n        for (; i >= 0; --i) {\n          if (state.stack[i] == closeBracket) {\n            --i;\n            break;\n          }\n        }\n      } else {\n        // Consider nullable non-terminals if at top of stack\n        var dn = indentTop[state.stack[i]];\n        if (dn) {\n          n += dn;\n          --i;\n        }\n      }\n      for (; i >= 0; --i) {\n        var dn = indentTable[state.stack[i]];\n        if (dn) {\n          n += dn;\n        }\n      }\n      return n * config.indentUnit;\n    }\n  }\n\n  return {\n    token: tokenBase,\n    startState: function(base) {\n      return {\n        tokenize: tokenBase,\n        OK: true,\n        complete: grammar.acceptEmpty,\n        errorStartPos: null,\n        errorEndPos: null,\n        queryType: null,\n        possibleCurrent: getPossibles(grammar.startSymbol),\n        possibleNext: getPossibles(grammar.startSymbol),\n        allowVars: true,\n        allowBnodes: true,\n        storeProperty: false,\n        lastProperty: \"\",\n        inLiteral: false,\n        stack: [grammar.startSymbol],\n        lastPredicateOffset: config.indentUnit,\n        prefixes: {},\n        variables: {}\n      };\n    },\n    indent: indent,\n    electricChars: \"}])\"\n  };\n});\nCodeMirror.defineMIME(\"application/x-sparql-query\", \"sparql11\");\n\n},{\"./_tokenizer-table.js\":2,\"codemirror\":14}],4:[function(require,module,exports){\n/*\n* TRIE implementation in Javascript\n* Copyright (c) 2010 Saurabh Odhyan | http://odhyan.com\n*\n* Permission is hereby granted, free of charge, to any person obtaining a copy\n* of this software and associated documentation files (the \"Software\"), to deal\n* in the Software without restriction, including without limitation the rights\n* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the Software is\n* furnished to do so, subject to the following conditions:\n*\n* The above copyright notice and this permission notice shall be included in\n* all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n* AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n* LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n* THE SOFTWARE.\n*\n* Date: Nov 7, 2010\n*/\n\n/*\n* A trie, or prefix tree, is a multi-way tree structure useful for storing strings over an alphabet.\n* It has been used to store large dictionaries of English (say) words in spell-checking programs\n* and in natural-language \"understanding\" programs.\n* @see http://en.wikipedia.org/wiki/Trie\n* @see http://www.csse.monash.edu.au/~lloyd/tildeAlgDS/Tree/Trie/\n/*\n\n* @class Trie\n* @constructor\n*/\n\nvar Trie = module.exports = function() {\n  this.words = 0;\n  this.prefixes = 0;\n  this.children = [];\n};\n\nTrie.prototype = {\n  /*\n    * Insert a word into the dictionary.\n    * Recursively traverse through the trie nodes, and create new node if does not already exist.\n    *\n    * @method insert\n    * @param {String} str Word to insert in the dictionary\n    * @param {Integer} pos Current index of the string to be inserted\n    * @return {Void}\n    */\n  insert: function(str, pos) {\n    if (str.length == 0) {\n      //blank string cannot be inserted\n      return;\n    }\n\n    var T = this, k, child;\n\n    if (pos === undefined) {\n      pos = 0;\n    }\n    if (pos === str.length) {\n      T.words++;\n      return;\n    }\n    T.prefixes++;\n    k = str[pos];\n    if (T.children[k] === undefined) {\n      //if node for this char doesn't exist, create one\n      T.children[k] = new Trie();\n    }\n    child = T.children[k];\n    child.insert(str, pos + 1);\n  },\n\n  /*\n    * Remove a word from the dictionary.\n    *\n    * @method remove\n    * @param {String} str Word to be removed\n    * @param {Integer} pos Current index of the string to be removed\n    * @return {Void}\n    */\n  remove: function(str, pos) {\n    if (str.length == 0) {\n      return;\n    }\n\n    var T = this, k, child;\n\n    if (pos === undefined) {\n      pos = 0;\n    }\n    if (T === undefined) {\n      return;\n    }\n    if (pos === str.length) {\n      T.words--;\n      return;\n    }\n    T.prefixes--;\n    k = str[pos];\n    child = T.children[k];\n    child.remove(str, pos + 1);\n  },\n\n  /*\n    * Update an existing word in the dictionary.\n    * This method removes the old word from the dictionary and inserts the new word.\n    *\n    * @method update\n    * @param {String} strOld The old word to be replaced\n    * @param {String} strNew The new word to be inserted\n    * @return {Void}\n    */\n  update: function(strOld, strNew) {\n    if (strOld.length == 0 || strNew.length == 0) {\n      return;\n    }\n    this.remove(strOld);\n    this.insert(strNew);\n  },\n\n  /*\n    * Count the number of times a given word has been inserted into the dictionary\n    *\n    * @method countWord\n    * @param {String} str Word to get count of\n    * @param {Integer} pos Current index of the given word\n    * @return {Integer} The number of times a given word exists in the dictionary\n    */\n  countWord: function(str, pos) {\n    if (str.length == 0) {\n      return 0;\n    }\n\n    var T = this, k, child, ret = 0;\n\n    if (pos === undefined) {\n      pos = 0;\n    }\n    if (pos === str.length) {\n      return T.words;\n    }\n    k = str[pos];\n    child = T.children[k];\n    if (child !== undefined) {\n      //node exists\n      ret = child.countWord(str, pos + 1);\n    }\n    return ret;\n  },\n\n  /*\n    * Count the number of times a given prefix exists in the dictionary\n    *\n    * @method countPrefix\n    * @param {String} str Prefix to get count of\n    * @param {Integer} pos Current index of the given prefix\n    * @return {Integer} The number of times a given prefix exists in the dictionary\n    */\n  countPrefix: function(str, pos) {\n    if (str.length == 0) {\n      return 0;\n    }\n\n    var T = this, k, child, ret = 0;\n\n    if (pos === undefined) {\n      pos = 0;\n    }\n    if (pos === str.length) {\n      return T.prefixes;\n    }\n    var k = str[pos];\n    child = T.children[k];\n    if (child !== undefined) {\n      //node exists\n      ret = child.countPrefix(str, pos + 1);\n    }\n    return ret;\n  },\n\n  /*\n    * Find a word in the dictionary\n    *\n    * @method find\n    * @param {String} str The word to find in the dictionary\n    * @return {Boolean} True if the word exists in the dictionary, else false\n    */\n  find: function(str) {\n    if (str.length == 0) {\n      return false;\n    }\n\n    if (this.countWord(str) > 0) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  /*\n    * Get all words in the dictionary\n    *\n    * @method getAllWords\n    * @param {String} str Prefix of current word\n    * @return {Array} Array of words in the dictionary\n    */\n  getAllWords: function(str) {\n    var T = this, k, child, ret = [];\n    if (str === undefined) {\n      str = \"\";\n    }\n    if (T === undefined) {\n      return [];\n    }\n    if (T.words > 0) {\n      ret.push(str);\n    }\n    for (k in T.children) {\n      if (T.children.hasOwnProperty(k)) {\n        child = T.children[k];\n        ret = ret.concat(child.getAllWords(str + k));\n      }\n    }\n    return ret;\n  },\n\n  /*\n    * Autocomplete a given prefix\n    *\n    * @method autoComplete\n    * @param {String} str Prefix to be completed based on dictionary entries\n    * @param {Integer} pos Current index of the prefix\n    * @return {Array} Array of possible suggestions\n    */\n  autoComplete: function(str, pos) {\n    var T = this, k, child;\n    if (str.length == 0) {\n      if (pos === undefined) {\n        return T.getAllWords(str);\n      } else {\n        return [];\n      }\n    }\n    if (pos === undefined) {\n      pos = 0;\n    }\n    k = str[pos];\n    child = T.children[k];\n    if (child === undefined) {\n      //node doesn't exist\n      return [];\n    }\n    if (pos === str.length - 1) {\n      return child.getAllWords(str);\n    }\n    return child.autoComplete(str, pos + 1);\n  }\n};\n\n},{}],5:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function(cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);\n    else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {scrollTop: window.pageYOffset, scrollLeft: window.pageXOffset,\n                                  width: wrap.style.width, height: wrap.style.height};\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width; wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});\n\n},{\"../../lib/codemirror\":14}],6:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\n\n  function findMatchingBracket(cm, where, strict, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\n          var match = matching[ch];\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, false, config);\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textare whever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  var currentlyHighlighted = null;\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\n      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init)\n      cm.off(\"cursorActivity\", doMatchBrackets);\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, strict, config){\n    return findMatchingBracket(this, pos, strict, config);\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n\n},{\"../../lib/codemirror\":14}],7:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.registerHelper(\"fold\", \"brace\", function(cm, start) {\n  var line = start.line, lineText = cm.getLine(line);\n  var tokenType;\n\n  function findOpening(openCh) {\n    for (var at = start.ch, pass = 0;;) {\n      var found = at <= 0 ? -1 : lineText.lastIndexOf(openCh, at - 1);\n      if (found == -1) {\n        if (pass == 1) break;\n        pass = 1;\n        at = lineText.length;\n        continue;\n      }\n      if (pass == 1 && found < start.ch) break;\n      tokenType = cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1));\n      if (!/^(comment|string)/.test(tokenType)) return found + 1;\n      at = found - 1;\n    }\n  }\n\n  var startToken = \"{\", endToken = \"}\", startCh = findOpening(\"{\");\n  if (startCh == null) {\n    startToken = \"[\", endToken = \"]\";\n    startCh = findOpening(\"[\");\n  }\n\n  if (startCh == null) return;\n  var count = 1, lastLine = cm.lastLine(), end, endCh;\n  outer: for (var i = line; i <= lastLine; ++i) {\n    var text = cm.getLine(i), pos = i == line ? startCh : 0;\n    for (;;) {\n      var nextOpen = text.indexOf(startToken, pos), nextClose = text.indexOf(endToken, pos);\n      if (nextOpen < 0) nextOpen = text.length;\n      if (nextClose < 0) nextClose = text.length;\n      pos = Math.min(nextOpen, nextClose);\n      if (pos == text.length) break;\n      if (cm.getTokenTypeAt(CodeMirror.Pos(i, pos + 1)) == tokenType) {\n        if (pos == nextOpen) ++count;\n        else if (!--count) { end = i; endCh = pos; break outer; }\n      }\n      ++pos;\n    }\n  }\n  if (end == null || line == end && endCh == startCh) return;\n  return {from: CodeMirror.Pos(line, startCh),\n          to: CodeMirror.Pos(end, endCh)};\n});\n\nCodeMirror.registerHelper(\"fold\", \"import\", function(cm, start) {\n  function hasImport(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type != \"keyword\" || start.string != \"import\") return null;\n    // Now find closing semicolon, return its position\n    for (var i = line, e = Math.min(cm.lastLine(), line + 10); i <= e; ++i) {\n      var text = cm.getLine(i), semi = text.indexOf(\";\");\n      if (semi != -1) return {startCh: start.end, end: CodeMirror.Pos(i, semi)};\n    }\n  }\n\n  var startLine = start.line, has = hasImport(startLine), prev;\n  if (!has || hasImport(startLine - 1) || ((prev = hasImport(startLine - 2)) && prev.end.line == startLine - 1))\n    return null;\n  for (var end = has.end;;) {\n    var next = hasImport(end.line + 1);\n    if (next == null) break;\n    end = next.end;\n  }\n  return {from: cm.clipPos(CodeMirror.Pos(startLine, has.startCh + 1)), to: end};\n});\n\nCodeMirror.registerHelper(\"fold\", \"include\", function(cm, start) {\n  function hasInclude(line) {\n    if (line < cm.firstLine() || line > cm.lastLine()) return null;\n    var start = cm.getTokenAt(CodeMirror.Pos(line, 1));\n    if (!/\\S/.test(start.string)) start = cm.getTokenAt(CodeMirror.Pos(line, start.end + 1));\n    if (start.type == \"meta\" && start.string.slice(0, 8) == \"#include\") return start.start + 8;\n  }\n\n  var startLine = start.line, has = hasInclude(startLine);\n  if (has == null || hasInclude(startLine - 1) != null) return null;\n  for (var end = startLine;;) {\n    var next = hasInclude(end + 1);\n    if (next == null) break;\n    ++end;\n  }\n  return {from: CodeMirror.Pos(startLine, has + 1),\n          to: cm.clipPos(CodeMirror.Pos(end))};\n});\n\n});\n\n},{\"../../lib/codemirror\":14}],8:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function doFold(cm, pos, options, force) {\n    if (options && options.call) {\n      var finder = options;\n      options = null;\n    } else {\n      var finder = getOption(cm, options, \"rangeFinder\");\n    }\n    if (typeof pos == \"number\") pos = CodeMirror.Pos(pos, 0);\n    var minSize = getOption(cm, options, \"minFoldSize\");\n\n    function getRange(allowFolded) {\n      var range = finder(cm, pos);\n      if (!range || range.to.line - range.from.line < minSize) return null;\n      var marks = cm.findMarksAt(range.from);\n      for (var i = 0; i < marks.length; ++i) {\n        if (marks[i].__isFold && force !== \"fold\") {\n          if (!allowFolded) return null;\n          range.cleared = true;\n          marks[i].clear();\n        }\n      }\n      return range;\n    }\n\n    var range = getRange(true);\n    if (getOption(cm, options, \"scanUp\")) while (!range && pos.line > cm.firstLine()) {\n      pos = CodeMirror.Pos(pos.line - 1, 0);\n      range = getRange(false);\n    }\n    if (!range || range.cleared || force === \"unfold\") return;\n\n    var myWidget = makeWidget(cm, options);\n    CodeMirror.on(myWidget, \"mousedown\", function(e) {\n      myRange.clear();\n      CodeMirror.e_preventDefault(e);\n    });\n    var myRange = cm.markText(range.from, range.to, {\n      replacedWith: myWidget,\n      clearOnEnter: getOption(cm, options, \"clearOnEnter\"),\n      __isFold: true\n    });\n    myRange.on(\"clear\", function(from, to) {\n      CodeMirror.signal(cm, \"unfold\", cm, from, to);\n    });\n    CodeMirror.signal(cm, \"fold\", cm, range.from, range.to);\n  }\n\n  function makeWidget(cm, options) {\n    var widget = getOption(cm, options, \"widget\");\n    if (typeof widget == \"string\") {\n      var text = document.createTextNode(widget);\n      widget = document.createElement(\"span\");\n      widget.appendChild(text);\n      widget.className = \"CodeMirror-foldmarker\";\n    }\n    return widget;\n  }\n\n  // Clumsy backwards-compatible interface\n  CodeMirror.newFoldFunction = function(rangeFinder, widget) {\n    return function(cm, pos) { doFold(cm, pos, {rangeFinder: rangeFinder, widget: widget}); };\n  };\n\n  // New-style interface\n  CodeMirror.defineExtension(\"foldCode\", function(pos, options, force) {\n    doFold(this, pos, options, force);\n  });\n\n  CodeMirror.defineExtension(\"isFolded\", function(pos) {\n    var marks = this.findMarksAt(pos);\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold) return true;\n  });\n\n  CodeMirror.commands.toggleFold = function(cm) {\n    cm.foldCode(cm.getCursor());\n  };\n  CodeMirror.commands.fold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"fold\");\n  };\n  CodeMirror.commands.unfold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"unfold\");\n  };\n  CodeMirror.commands.foldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"fold\");\n    });\n  };\n  CodeMirror.commands.unfoldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), null, \"unfold\");\n    });\n  };\n\n  CodeMirror.registerHelper(\"fold\", \"combine\", function() {\n    var funcs = Array.prototype.slice.call(arguments, 0);\n    return function(cm, start) {\n      for (var i = 0; i < funcs.length; ++i) {\n        var found = funcs[i](cm, start);\n        if (found) return found;\n      }\n    };\n  });\n\n  CodeMirror.registerHelper(\"fold\", \"auto\", function(cm, start) {\n    var helpers = cm.getHelpers(start, \"fold\");\n    for (var i = 0; i < helpers.length; i++) {\n      var cur = helpers[i](cm, start);\n      if (cur) return cur;\n    }\n  });\n\n  var defaultOptions = {\n    rangeFinder: CodeMirror.fold.auto,\n    widget: \"\\u2194\",\n    minFoldSize: 0,\n    scanUp: false,\n    clearOnEnter: true\n  };\n\n  CodeMirror.defineOption(\"foldOptions\", null);\n\n  function getOption(cm, options, name) {\n    if (options && options[name] !== undefined)\n      return options[name];\n    var editorOptions = cm.options.foldOptions;\n    if (editorOptions && editorOptions[name] !== undefined)\n      return editorOptions[name];\n    return defaultOptions[name];\n  }\n\n  CodeMirror.defineExtension(\"foldOption\", function(options, name) {\n    return getOption(this, options, name);\n  });\n});\n\n},{\"../../lib/codemirror\":14}],9:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./foldcode\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./foldcode\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"foldGutter\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.clearGutter(cm.state.foldGutter.options.gutter);\n      cm.state.foldGutter = null;\n      cm.off(\"gutterClick\", onGutterClick);\n      cm.off(\"change\", onChange);\n      cm.off(\"viewportChange\", onViewportChange);\n      cm.off(\"fold\", onFold);\n      cm.off(\"unfold\", onFold);\n      cm.off(\"swapDoc\", onChange);\n    }\n    if (val) {\n      cm.state.foldGutter = new State(parseOptions(val));\n      updateInViewport(cm);\n      cm.on(\"gutterClick\", onGutterClick);\n      cm.on(\"change\", onChange);\n      cm.on(\"viewportChange\", onViewportChange);\n      cm.on(\"fold\", onFold);\n      cm.on(\"unfold\", onFold);\n      cm.on(\"swapDoc\", onChange);\n    }\n  });\n\n  var Pos = CodeMirror.Pos;\n\n  function State(options) {\n    this.options = options;\n    this.from = this.to = 0;\n  }\n\n  function parseOptions(opts) {\n    if (opts === true) opts = {};\n    if (opts.gutter == null) opts.gutter = \"CodeMirror-foldgutter\";\n    if (opts.indicatorOpen == null) opts.indicatorOpen = \"CodeMirror-foldgutter-open\";\n    if (opts.indicatorFolded == null) opts.indicatorFolded = \"CodeMirror-foldgutter-folded\";\n    return opts;\n  }\n\n  function isFolded(cm, line) {\n    var marks = cm.findMarks(Pos(line, 0), Pos(line + 1, 0));\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold && marks[i].find().from.line == line) return marks[i];\n  }\n\n  function marker(spec) {\n    if (typeof spec == \"string\") {\n      var elt = document.createElement(\"div\");\n      elt.className = spec + \" CodeMirror-guttermarker-subtle\";\n      return elt;\n    } else {\n      return spec.cloneNode(true);\n    }\n  }\n\n  function updateFoldInfo(cm, from, to) {\n    var opts = cm.state.foldGutter.options, cur = from;\n    var minSize = cm.foldOption(opts, \"minFoldSize\");\n    var func = cm.foldOption(opts, \"rangeFinder\");\n    cm.eachLine(from, to, function(line) {\n      var mark = null;\n      if (isFolded(cm, cur)) {\n        mark = marker(opts.indicatorFolded);\n      } else {\n        var pos = Pos(cur, 0);\n        var range = func && func(cm, pos);\n        if (range && range.to.line - range.from.line >= minSize)\n          mark = marker(opts.indicatorOpen);\n      }\n      cm.setGutterMarker(line, opts.gutter, mark);\n      ++cur;\n    });\n  }\n\n  function updateInViewport(cm) {\n    var vp = cm.getViewport(), state = cm.state.foldGutter;\n    if (!state) return;\n    cm.operation(function() {\n      updateFoldInfo(cm, vp.from, vp.to);\n    });\n    state.from = vp.from; state.to = vp.to;\n  }\n\n  function onGutterClick(cm, line, gutter) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    if (gutter != opts.gutter) return;\n    var folded = isFolded(cm, line);\n    if (folded) folded.clear();\n    else cm.foldCode(Pos(line, 0), opts.rangeFinder);\n  }\n\n  function onChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    state.from = state.to = 0;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() { updateInViewport(cm); }, opts.foldOnChangeTimeSpan || 600);\n  }\n\n  function onViewportChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() {\n      var vp = cm.getViewport();\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        updateInViewport(cm);\n      } else {\n        cm.operation(function() {\n          if (vp.from < state.from) {\n            updateFoldInfo(cm, vp.from, state.from);\n            state.from = vp.from;\n          }\n          if (vp.to > state.to) {\n            updateFoldInfo(cm, state.to, vp.to);\n            state.to = vp.to;\n          }\n        });\n      }\n    }, opts.updateViewportTimeSpan || 400);\n  }\n\n  function onFold(cm, from) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var line = from.line;\n    if (line >= state.from && line < state.to)\n      updateFoldInfo(cm, line, line + 1);\n  }\n});\n\n},{\"../../lib/codemirror\":14,\"./foldcode\":8}],10:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var Pos = CodeMirror.Pos;\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch; }\n\n  var nameStartChar = \"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\n  var nameChar = nameStartChar + \"\\-\\:\\.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\n  var xmlTagStart = new RegExp(\"<(/?)([\" + nameStartChar + \"][\" + nameChar + \"]*)\", \"g\");\n\n  function Iter(cm, line, ch, range) {\n    this.line = line; this.ch = ch;\n    this.cm = cm; this.text = cm.getLine(line);\n    this.min = range ? range.from : cm.firstLine();\n    this.max = range ? range.to - 1 : cm.lastLine();\n  }\n\n  function tagAt(iter, ch) {\n    var type = iter.cm.getTokenTypeAt(Pos(iter.line, ch));\n    return type && /\\btag\\b/.test(type);\n  }\n\n  function nextLine(iter) {\n    if (iter.line >= iter.max) return;\n    iter.ch = 0;\n    iter.text = iter.cm.getLine(++iter.line);\n    return true;\n  }\n  function prevLine(iter) {\n    if (iter.line <= iter.min) return;\n    iter.text = iter.cm.getLine(--iter.line);\n    iter.ch = iter.text.length;\n    return true;\n  }\n\n  function toTagEnd(iter) {\n    for (;;) {\n      var gt = iter.text.indexOf(\">\", iter.ch);\n      if (gt == -1) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt + 1; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n  function toTagStart(iter) {\n    for (;;) {\n      var lt = iter.ch ? iter.text.lastIndexOf(\"<\", iter.ch - 1) : -1;\n      if (lt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, lt + 1)) { iter.ch = lt; continue; }\n      xmlTagStart.lastIndex = lt;\n      iter.ch = lt;\n      var match = xmlTagStart.exec(iter.text);\n      if (match && match.index == lt) return match;\n    }\n  }\n\n  function toNextTag(iter) {\n    for (;;) {\n      xmlTagStart.lastIndex = iter.ch;\n      var found = xmlTagStart.exec(iter.text);\n      if (!found) { if (nextLine(iter)) continue; else return; }\n      if (!tagAt(iter, found.index + 1)) { iter.ch = found.index + 1; continue; }\n      iter.ch = found.index + found[0].length;\n      return found;\n    }\n  }\n  function toPrevTag(iter) {\n    for (;;) {\n      var gt = iter.ch ? iter.text.lastIndexOf(\">\", iter.ch - 1) : -1;\n      if (gt == -1) { if (prevLine(iter)) continue; else return; }\n      if (!tagAt(iter, gt + 1)) { iter.ch = gt; continue; }\n      var lastSlash = iter.text.lastIndexOf(\"/\", gt);\n      var selfClose = lastSlash > -1 && !/\\S/.test(iter.text.slice(lastSlash + 1, gt));\n      iter.ch = gt + 1;\n      return selfClose ? \"selfClose\" : \"regular\";\n    }\n  }\n\n  function findMatchingClose(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var next = toNextTag(iter), end, startLine = iter.line, startCh = iter.ch - (next ? next[0].length : 0);\n      if (!next || !(end = toTagEnd(iter))) return;\n      if (end == \"selfClose\") continue;\n      if (next[1]) { // closing tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == next[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == next[2])) return {\n          tag: next[2],\n          from: Pos(startLine, startCh),\n          to: Pos(iter.line, iter.ch)\n        };\n      } else { // opening tag\n        stack.push(next[2]);\n      }\n    }\n  }\n  function findMatchingOpen(iter, tag) {\n    var stack = [];\n    for (;;) {\n      var prev = toPrevTag(iter);\n      if (!prev) return;\n      if (prev == \"selfClose\") { toTagStart(iter); continue; }\n      var endLine = iter.line, endCh = iter.ch;\n      var start = toTagStart(iter);\n      if (!start) return;\n      if (start[1]) { // closing tag\n        stack.push(start[2]);\n      } else { // opening tag\n        for (var i = stack.length - 1; i >= 0; --i) if (stack[i] == start[2]) {\n          stack.length = i;\n          break;\n        }\n        if (i < 0 && (!tag || tag == start[2])) return {\n          tag: start[2],\n          from: Pos(iter.line, iter.ch),\n          to: Pos(endLine, endCh)\n        };\n      }\n    }\n  }\n\n  CodeMirror.registerHelper(\"fold\", \"xml\", function(cm, start) {\n    var iter = new Iter(cm, start.line, 0);\n    for (;;) {\n      var openTag = toNextTag(iter), end;\n      if (!openTag || iter.line != start.line || !(end = toTagEnd(iter))) return;\n      if (!openTag[1] && end != \"selfClose\") {\n        var startPos = Pos(iter.line, iter.ch);\n        var endPos = findMatchingClose(iter, openTag[2]);\n        return endPos && {from: startPos, to: endPos.from};\n      }\n    }\n  });\n  CodeMirror.findMatchingTag = function(cm, pos, range) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    if (iter.text.indexOf(\">\") == -1 && iter.text.indexOf(\"<\") == -1) return;\n    var end = toTagEnd(iter), to = end && Pos(iter.line, iter.ch);\n    var start = end && toTagStart(iter);\n    if (!end || !start || cmp(iter, pos) > 0) return;\n    var here = {from: Pos(iter.line, iter.ch), to: to, tag: start[2]};\n    if (end == \"selfClose\") return {open: here, close: null, at: \"open\"};\n\n    if (start[1]) { // closing tag\n      return {open: findMatchingOpen(iter, start[2]), close: here, at: \"close\"};\n    } else { // opening tag\n      iter = new Iter(cm, to.line, to.ch, range);\n      return {open: here, close: findMatchingClose(iter, start[2]), at: \"open\"};\n    }\n  };\n\n  CodeMirror.findEnclosingTag = function(cm, pos, range) {\n    var iter = new Iter(cm, pos.line, pos.ch, range);\n    for (;;) {\n      var open = findMatchingOpen(iter);\n      if (!open) break;\n      var forward = new Iter(cm, pos.line, pos.ch, range);\n      var close = findMatchingClose(forward, open.tag);\n      if (close) return {open: open, close: close};\n    }\n  };\n\n  // Used by addon/edit/closetag.js\n  CodeMirror.scanForClosingTag = function(cm, pos, name, end) {\n    var iter = new Iter(cm, pos.line, pos.ch, end ? {from: 0, to: end} : null);\n    return findMatchingClose(iter, name);\n  };\n});\n\n},{\"../../lib/codemirror\":14}],11:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var HINT_ELEMENT_CLASS        = \"CodeMirror-hint\";\n  var ACTIVE_HINT_ELEMENT_CLASS = \"CodeMirror-hint-active\";\n\n  // This is the old interface, kept around for now to stay\n  // backwards-compatible.\n  CodeMirror.showHint = function(cm, getHints, options) {\n    if (!getHints) return cm.showHint(options);\n    if (options && options.async) getHints.async = true;\n    var newOpts = {hint: getHints};\n    if (options) for (var prop in options) newOpts[prop] = options[prop];\n    return cm.showHint(newOpts);\n  };\n\n  CodeMirror.defineExtension(\"showHint\", function(options) {\n    options = parseOptions(this, this.getCursor(\"start\"), options);\n    var selections = this.listSelections()\n    if (selections.length > 1) return;\n    // By default, don't allow completion when something is selected.\n    // A hint function can have a `supportsSelection` property to\n    // indicate that it can handle selections.\n    if (this.somethingSelected()) {\n      if (!options.hint.supportsSelection) return;\n      // Don't try with cross-line selections\n      for (var i = 0; i < selections.length; i++)\n        if (selections[i].head.line != selections[i].anchor.line) return;\n    }\n\n    if (this.state.completionActive) this.state.completionActive.close();\n    var completion = this.state.completionActive = new Completion(this, options);\n    if (!completion.options.hint) return;\n\n    CodeMirror.signal(this, \"startCompletion\", this);\n    completion.update(true);\n  });\n\n  function Completion(cm, options) {\n    this.cm = cm;\n    this.options = options;\n    this.widget = null;\n    this.debounce = 0;\n    this.tick = 0;\n    this.startPos = this.cm.getCursor(\"start\");\n    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;\n\n    var self = this;\n    cm.on(\"cursorActivity\", this.activityFunc = function() { self.cursorActivity(); });\n  }\n\n  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {\n    return setTimeout(fn, 1000/60);\n  };\n  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n  Completion.prototype = {\n    close: function() {\n      if (!this.active()) return;\n      this.cm.state.completionActive = null;\n      this.tick = null;\n      this.cm.off(\"cursorActivity\", this.activityFunc);\n\n      if (this.widget && this.data) CodeMirror.signal(this.data, \"close\");\n      if (this.widget) this.widget.close();\n      CodeMirror.signal(this.cm, \"endCompletion\", this.cm);\n    },\n\n    active: function() {\n      return this.cm.state.completionActive == this;\n    },\n\n    pick: function(data, i) {\n      var completion = data.list[i];\n      if (completion.hint) completion.hint(this.cm, data, completion);\n      else this.cm.replaceRange(getText(completion), completion.from || data.from,\n                                completion.to || data.to, \"complete\");\n      CodeMirror.signal(data, \"pick\", completion);\n      this.close();\n    },\n\n    cursorActivity: function() {\n      if (this.debounce) {\n        cancelAnimationFrame(this.debounce);\n        this.debounce = 0;\n      }\n\n      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);\n      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||\n          pos.ch < this.startPos.ch || this.cm.somethingSelected() ||\n          (pos.ch && this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {\n        this.close();\n      } else {\n        var self = this;\n        this.debounce = requestAnimationFrame(function() {self.update();});\n        if (this.widget) this.widget.disable();\n      }\n    },\n\n    update: function(first) {\n      if (this.tick == null) return\n      var self = this, myTick = ++this.tick\n      fetchHints(this.options.hint, this.cm, this.options, function(data) {\n        if (self.tick == myTick) self.finishUpdate(data, first)\n      })\n    },\n\n    finishUpdate: function(data, first) {\n      if (this.data) CodeMirror.signal(this.data, \"update\");\n\n      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);\n      if (this.widget) this.widget.close();\n\n      if (data && this.data && isNewCompletion(this.data, data)) return;\n      this.data = data;\n\n      if (data && data.list.length) {\n        if (picked && data.list.length == 1) {\n          this.pick(data, 0);\n        } else {\n          this.widget = new Widget(this, data);\n          CodeMirror.signal(data, \"shown\");\n        }\n      }\n    }\n  };\n\n  function isNewCompletion(old, nw) {\n    var moved = CodeMirror.cmpPos(nw.from, old.from)\n    return moved > 0 && old.to.ch - old.from.ch != nw.to.ch - nw.from.ch\n  }\n\n  function parseOptions(cm, pos, options) {\n    var editor = cm.options.hintOptions;\n    var out = {};\n    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];\n    if (editor) for (var prop in editor)\n      if (editor[prop] !== undefined) out[prop] = editor[prop];\n    if (options) for (var prop in options)\n      if (options[prop] !== undefined) out[prop] = options[prop];\n    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)\n    return out;\n  }\n\n  function getText(completion) {\n    if (typeof completion == \"string\") return completion;\n    else return completion.text;\n  }\n\n  function buildKeyMap(completion, handle) {\n    var baseMap = {\n      Up: function() {handle.moveFocus(-1);},\n      Down: function() {handle.moveFocus(1);},\n      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},\n      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},\n      Home: function() {handle.setFocus(0);},\n      End: function() {handle.setFocus(handle.length - 1);},\n      Enter: handle.pick,\n      Tab: handle.pick,\n      Esc: handle.close\n    };\n    var custom = completion.options.customKeys;\n    var ourMap = custom ? {} : baseMap;\n    function addBinding(key, val) {\n      var bound;\n      if (typeof val != \"string\")\n        bound = function(cm) { return val(cm, handle); };\n      // This mechanism is deprecated\n      else if (baseMap.hasOwnProperty(val))\n        bound = baseMap[val];\n      else\n        bound = val;\n      ourMap[key] = bound;\n    }\n    if (custom)\n      for (var key in custom) if (custom.hasOwnProperty(key))\n        addBinding(key, custom[key]);\n    var extra = completion.options.extraKeys;\n    if (extra)\n      for (var key in extra) if (extra.hasOwnProperty(key))\n        addBinding(key, extra[key]);\n    return ourMap;\n  }\n\n  function getHintElement(hintsElement, el) {\n    while (el && el != hintsElement) {\n      if (el.nodeName.toUpperCase() === \"LI\" && el.parentNode == hintsElement) return el;\n      el = el.parentNode;\n    }\n  }\n\n  function Widget(completion, data) {\n    this.completion = completion;\n    this.data = data;\n    this.picked = false;\n    var widget = this, cm = completion.cm;\n\n    var hints = this.hints = document.createElement(\"ul\");\n    hints.className = \"CodeMirror-hints\";\n    this.selectedHint = data.selectedHint || 0;\n\n    var completions = data.list;\n    for (var i = 0; i < completions.length; ++i) {\n      var elt = hints.appendChild(document.createElement(\"li\")), cur = completions[i];\n      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? \"\" : \" \" + ACTIVE_HINT_ELEMENT_CLASS);\n      if (cur.className != null) className = cur.className + \" \" + className;\n      elt.className = className;\n      if (cur.render) cur.render(elt, data, cur);\n      else elt.appendChild(document.createTextNode(cur.displayText || getText(cur)));\n      elt.hintId = i;\n    }\n\n    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);\n    var left = pos.left, top = pos.bottom, below = true;\n    hints.style.left = left + \"px\";\n    hints.style.top = top + \"px\";\n    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\n    var winW = window.innerWidth || Math.max(document.body.offsetWidth, document.documentElement.offsetWidth);\n    var winH = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight);\n    (completion.options.container || document.body).appendChild(hints);\n    var box = hints.getBoundingClientRect(), overlapY = box.bottom - winH;\n    var scrolls = hints.scrollHeight > hints.clientHeight + 1\n    var startScroll = cm.getScrollInfo();\n\n    if (overlapY > 0) {\n      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);\n      if (curTop - height > 0) { // Fits above cursor\n        hints.style.top = (top = pos.top - height) + \"px\";\n        below = false;\n      } else if (height > winH) {\n        hints.style.height = (winH - 5) + \"px\";\n        hints.style.top = (top = pos.bottom - box.top) + \"px\";\n        var cursor = cm.getCursor();\n        if (data.from.ch != cursor.ch) {\n          pos = cm.cursorCoords(cursor);\n          hints.style.left = (left = pos.left) + \"px\";\n          box = hints.getBoundingClientRect();\n        }\n      }\n    }\n    var overlapX = box.right - winW;\n    if (overlapX > 0) {\n      if (box.right - box.left > winW) {\n        hints.style.width = (winW - 5) + \"px\";\n        overlapX -= (box.right - box.left) - winW;\n      }\n      hints.style.left = (left = pos.left - overlapX) + \"px\";\n    }\n    if (scrolls) for (var node = hints.firstChild; node; node = node.nextSibling)\n      node.style.paddingRight = cm.display.nativeBarWidth + \"px\"\n\n    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {\n      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },\n      setFocus: function(n) { widget.changeActive(n); },\n      menuSize: function() { return widget.screenAmount(); },\n      length: completions.length,\n      close: function() { completion.close(); },\n      pick: function() { widget.pick(); },\n      data: data\n    }));\n\n    if (completion.options.closeOnUnfocus) {\n      var closingOnBlur;\n      cm.on(\"blur\", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });\n      cm.on(\"focus\", this.onFocus = function() { clearTimeout(closingOnBlur); });\n    }\n\n    cm.on(\"scroll\", this.onScroll = function() {\n      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();\n      var newTop = top + startScroll.top - curScroll.top;\n      var point = newTop - (window.pageYOffset || (document.documentElement || document.body).scrollTop);\n      if (!below) point += hints.offsetHeight;\n      if (point <= editor.top || point >= editor.bottom) return completion.close();\n      hints.style.top = newTop + \"px\";\n      hints.style.left = (left + startScroll.left - curScroll.left) + \"px\";\n    });\n\n    CodeMirror.on(hints, \"dblclick\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}\n    });\n\n    CodeMirror.on(hints, \"click\", function(e) {\n      var t = getHintElement(hints, e.target || e.srcElement);\n      if (t && t.hintId != null) {\n        widget.changeActive(t.hintId);\n        if (completion.options.completeOnSingleClick) widget.pick();\n      }\n    });\n\n    CodeMirror.on(hints, \"mousedown\", function() {\n      setTimeout(function(){cm.focus();}, 20);\n    });\n\n    CodeMirror.signal(data, \"select\", completions[0], hints.firstChild);\n    return true;\n  }\n\n  Widget.prototype = {\n    close: function() {\n      if (this.completion.widget != this) return;\n      this.completion.widget = null;\n      this.hints.parentNode.removeChild(this.hints);\n      this.completion.cm.removeKeyMap(this.keyMap);\n\n      var cm = this.completion.cm;\n      if (this.completion.options.closeOnUnfocus) {\n        cm.off(\"blur\", this.onBlur);\n        cm.off(\"focus\", this.onFocus);\n      }\n      cm.off(\"scroll\", this.onScroll);\n    },\n\n    disable: function() {\n      this.completion.cm.removeKeyMap(this.keyMap);\n      var widget = this;\n      this.keyMap = {Enter: function() { widget.picked = true; }};\n      this.completion.cm.addKeyMap(this.keyMap);\n    },\n\n    pick: function() {\n      this.completion.pick(this.data, this.selectedHint);\n    },\n\n    changeActive: function(i, avoidWrap) {\n      if (i >= this.data.list.length)\n        i = avoidWrap ? this.data.list.length - 1 : 0;\n      else if (i < 0)\n        i = avoidWrap ? 0  : this.data.list.length - 1;\n      if (this.selectedHint == i) return;\n      var node = this.hints.childNodes[this.selectedHint];\n      node.className = node.className.replace(\" \" + ACTIVE_HINT_ELEMENT_CLASS, \"\");\n      node = this.hints.childNodes[this.selectedHint = i];\n      node.className += \" \" + ACTIVE_HINT_ELEMENT_CLASS;\n      if (node.offsetTop < this.hints.scrollTop)\n        this.hints.scrollTop = node.offsetTop - 3;\n      else if (node.offsetTop + node.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)\n        this.hints.scrollTop = node.offsetTop + node.offsetHeight - this.hints.clientHeight + 3;\n      CodeMirror.signal(this.data, \"select\", this.data.list[this.selectedHint], node);\n    },\n\n    screenAmount: function() {\n      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;\n    }\n  };\n\n  function applicableHelpers(cm, helpers) {\n    if (!cm.somethingSelected()) return helpers\n    var result = []\n    for (var i = 0; i < helpers.length; i++)\n      if (helpers[i].supportsSelection) result.push(helpers[i])\n    return result\n  }\n\n  function fetchHints(hint, cm, options, callback) {\n    if (hint.async) {\n      hint(cm, callback, options)\n    } else {\n      var result = hint(cm, options)\n      if (result && result.then) result.then(callback)\n      else callback(result)\n    }\n  }\n\n  function resolveAutoHints(cm, pos) {\n    var helpers = cm.getHelpers(pos, \"hint\"), words\n    if (helpers.length) {\n      var resolved = function(cm, callback, options) {\n        var app = applicableHelpers(cm, helpers);\n        function run(i) {\n          if (i == app.length) return callback(null)\n          fetchHints(app[i], cm, options, function(result) {\n            if (result && result.list.length > 0) callback(result)\n            else run(i + 1)\n          })\n        }\n        run(0)\n      }\n      resolved.async = true\n      resolved.supportsSelection = true\n      return resolved\n    } else if (words = cm.getHelper(cm.getCursor(), \"hintWords\")) {\n      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }\n    } else if (CodeMirror.hint.anyword) {\n      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }\n    } else {\n      return function() {}\n    }\n  }\n\n  CodeMirror.registerHelper(\"hint\", \"auto\", {\n    resolve: resolveAutoHints\n  });\n\n  CodeMirror.registerHelper(\"hint\", \"fromList\", function(cm, options) {\n    var cur = cm.getCursor(), token = cm.getTokenAt(cur);\n    var to = CodeMirror.Pos(cur.line, token.end);\n    if (token.string && /\\w/.test(token.string[token.string.length - 1])) {\n      var term = token.string, from = CodeMirror.Pos(cur.line, token.start);\n    } else {\n      var term = \"\", from = to;\n    }\n    var found = [];\n    for (var i = 0; i < options.words.length; i++) {\n      var word = options.words[i];\n      if (word.slice(0, term.length) == term)\n        found.push(word);\n    }\n\n    if (found.length) return {list: found, from: from, to: to};\n  });\n\n  CodeMirror.commands.autocomplete = CodeMirror.showHint;\n\n  var defaultOptions = {\n    hint: CodeMirror.hint.auto,\n    completeSingle: true,\n    alignWithWord: true,\n    closeCharacters: /[\\s()\\[\\]{};:>,]/,\n    closeOnUnfocus: true,\n    completeOnSingleClick: true,\n    container: null,\n    customKeys: null,\n    extraKeys: null\n  };\n\n  CodeMirror.defineOption(\"hintOptions\", null);\n});\n\n},{\"../../lib/codemirror\":14}],12:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.runMode = function(string, modespec, callback, options) {\n  var mode = CodeMirror.getMode(CodeMirror.defaults, modespec);\n  var ie = /MSIE \\d/.test(navigator.userAgent);\n  var ie_lt9 = ie && (document.documentMode == null || document.documentMode < 9);\n\n  if (callback.appendChild) {\n    var tabSize = (options && options.tabSize) || CodeMirror.defaults.tabSize;\n    var node = callback, col = 0;\n    node.innerHTML = \"\";\n    callback = function(text, style) {\n      if (text == \"\\n\") {\n        // Emitting LF or CRLF on IE8 or earlier results in an incorrect display.\n        // Emitting a carriage return makes everything ok.\n        node.appendChild(document.createTextNode(ie_lt9 ? '\\r' : text));\n        col = 0;\n        return;\n      }\n      var content = \"\";\n      // replace tabs\n      for (var pos = 0;;) {\n        var idx = text.indexOf(\"\\t\", pos);\n        if (idx == -1) {\n          content += text.slice(pos);\n          col += text.length - pos;\n          break;\n        } else {\n          col += idx - pos;\n          content += text.slice(pos, idx);\n          var size = tabSize - col % tabSize;\n          col += size;\n          for (var i = 0; i < size; ++i) content += \" \";\n          pos = idx + 1;\n        }\n      }\n\n      if (style) {\n        var sp = node.appendChild(document.createElement(\"span\"));\n        sp.className = \"cm-\" + style.replace(/ +/g, \" cm-\");\n        sp.appendChild(document.createTextNode(content));\n      } else {\n        node.appendChild(document.createTextNode(content));\n      }\n    };\n  }\n\n  var lines = CodeMirror.splitLines(string), state = (options && options.state) || CodeMirror.startState(mode);\n  for (var i = 0, e = lines.length; i < e; ++i) {\n    if (i) callback(\"\\n\");\n    var stream = new CodeMirror.StringStream(lines[i]);\n    if (!stream.string && mode.blankLine) mode.blankLine(state);\n    while (!stream.eol()) {\n      var style = mode.token(stream, state);\n      callback(stream.current(), style, i, stream.start, state);\n      stream.start = stream.pos;\n    }\n  }\n};\n\n});\n\n},{\"../../lib/codemirror\":14}],13:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var Pos = CodeMirror.Pos;\n\n  function SearchCursor(doc, query, pos, caseFold) {\n    this.atOccurrence = false; this.doc = doc;\n    if (caseFold == null && typeof query == \"string\") caseFold = false;\n\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0);\n    this.pos = {from: pos, to: pos};\n\n    // The matches method is filled in based on the type of query.\n    // It takes a position and a direction, and returns an object\n    // describing the next occurrence of the query, or null if no\n    // more matches were found.\n    if (typeof query != \"string\") { // Regexp match\n      if (!query.global) query = new RegExp(query.source, query.ignoreCase ? \"ig\" : \"g\");\n      this.matches = function(reverse, pos) {\n        if (reverse) {\n          query.lastIndex = 0;\n          var line = doc.getLine(pos.line).slice(0, pos.ch), cutOff = 0, match, start;\n          for (;;) {\n            query.lastIndex = cutOff;\n            var newMatch = query.exec(line);\n            if (!newMatch) break;\n            match = newMatch;\n            start = match.index;\n            cutOff = match.index + (match[0].length || 1);\n            if (cutOff == line.length) break;\n          }\n          var matchLen = (match && match[0].length) || 0;\n          if (!matchLen) {\n            if (start == 0 && line.length == 0) {match = undefined;}\n            else if (start != doc.getLine(pos.line).length) {\n              matchLen++;\n            }\n          }\n        } else {\n          query.lastIndex = pos.ch;\n          var line = doc.getLine(pos.line), match = query.exec(line);\n          var matchLen = (match && match[0].length) || 0;\n          var start = match && match.index;\n          if (start + matchLen != line.length && !matchLen) matchLen = 1;\n        }\n        if (match && matchLen)\n          return {from: Pos(pos.line, start),\n                  to: Pos(pos.line, start + matchLen),\n                  match: match};\n      };\n    } else { // String query\n      var origQuery = query;\n      if (caseFold) query = query.toLowerCase();\n      var fold = caseFold ? function(str){return str.toLowerCase();} : function(str){return str;};\n      var target = query.split(\"\\n\");\n      // Different methods for single-line and multi-line queries\n      if (target.length == 1) {\n        if (!query.length) {\n          // Empty string would match anything and never progress, so\n          // we define it to match nothing instead.\n          this.matches = function() {};\n        } else {\n          this.matches = function(reverse, pos) {\n            if (reverse) {\n              var orig = doc.getLine(pos.line).slice(0, pos.ch), line = fold(orig);\n              var match = line.lastIndexOf(query);\n              if (match > -1) {\n                match = adjustPos(orig, line, match);\n                return {from: Pos(pos.line, match), to: Pos(pos.line, match + origQuery.length)};\n              }\n             } else {\n               var orig = doc.getLine(pos.line).slice(pos.ch), line = fold(orig);\n               var match = line.indexOf(query);\n               if (match > -1) {\n                 match = adjustPos(orig, line, match) + pos.ch;\n                 return {from: Pos(pos.line, match), to: Pos(pos.line, match + origQuery.length)};\n               }\n            }\n          };\n        }\n      } else {\n        var origTarget = origQuery.split(\"\\n\");\n        this.matches = function(reverse, pos) {\n          var last = target.length - 1;\n          if (reverse) {\n            if (pos.line - (target.length - 1) < doc.firstLine()) return;\n            if (fold(doc.getLine(pos.line).slice(0, origTarget[last].length)) != target[target.length - 1]) return;\n            var to = Pos(pos.line, origTarget[last].length);\n            for (var ln = pos.line - 1, i = last - 1; i >= 1; --i, --ln)\n              if (target[i] != fold(doc.getLine(ln))) return;\n            var line = doc.getLine(ln), cut = line.length - origTarget[0].length;\n            if (fold(line.slice(cut)) != target[0]) return;\n            return {from: Pos(ln, cut), to: to};\n          } else {\n            if (pos.line + (target.length - 1) > doc.lastLine()) return;\n            var line = doc.getLine(pos.line), cut = line.length - origTarget[0].length;\n            if (fold(line.slice(cut)) != target[0]) return;\n            var from = Pos(pos.line, cut);\n            for (var ln = pos.line + 1, i = 1; i < last; ++i, ++ln)\n              if (target[i] != fold(doc.getLine(ln))) return;\n            if (fold(doc.getLine(ln).slice(0, origTarget[last].length)) != target[last]) return;\n            return {from: from, to: Pos(ln, origTarget[last].length)};\n          }\n        };\n      }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false);},\n    findPrevious: function() {return this.find(true);},\n\n    find: function(reverse) {\n      var self = this, pos = this.doc.clipPos(reverse ? this.pos.from : this.pos.to);\n      function savePosAndFail(line) {\n        var pos = Pos(line, 0);\n        self.pos = {from: pos, to: pos};\n        self.atOccurrence = false;\n        return false;\n      }\n\n      for (;;) {\n        if (this.pos = this.matches(reverse, pos)) {\n          this.atOccurrence = true;\n          return this.pos.match || true;\n        }\n        if (reverse) {\n          if (!pos.line) return savePosAndFail(0);\n          pos = Pos(pos.line-1, this.doc.getLine(pos.line-1).length);\n        }\n        else {\n          var maxLine = this.doc.lineCount();\n          if (pos.line == maxLine - 1) return savePosAndFail(maxLine);\n          pos = Pos(pos.line + 1, 0);\n        }\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from;},\n    to: function() {if (this.atOccurrence) return this.pos.to;},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return;\n      var lines = CodeMirror.splitLines(newText);\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin);\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0));\n    }\n  };\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos) {\n    if (orig.length == folded.length) return pos;\n    for (var pos1 = Math.min(pos, orig.length);;) {\n      var len1 = orig.slice(0, pos1).toLowerCase().length;\n      if (len1 < pos) ++pos1;\n      else if (len1 > pos) --pos1;\n      else return pos1;\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold);\n  });\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold);\n  });\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = [];\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold);\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break;\n      ranges.push({anchor: cur.from(), head: cur.to()});\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0);\n  });\n});\n\n},{\"../../lib/codemirror\":14}],14:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// This is CodeMirror (http://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    module.exports = mod();\n  else if (typeof define == \"function\" && define.amd) // AMD\n    return define([], mod);\n  else // Plain browser env\n    (this || window).CodeMirror = mod();\n})(function() {\n  \"use strict\";\n\n  // BROWSER SNIFFING\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : ie_11up[1]);\n  var webkit = /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) presto_version = Number(presto_version[1]);\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  // EDITOR CONSTRUCTOR\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    if (!(this instanceof CodeMirror)) return new CodeMirror(place, options);\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n    setGuttersForLineNumbers(options);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") doc = new Doc(doc, options.mode, null, options.lineSeparator);\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input);\n    display.wrapper.CodeMirror = this;\n    updateGutters(this);\n    themeChanged(this);\n    if (options.lineWrapping)\n      this.display.wrapper.className += \" CodeMirror-wrap\";\n    if (options.autofocus && !mobile) display.input.focus();\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    var cm = this;\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) setTimeout(function() { cm.display.input.reset(true); }, 20);\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || cm.hasFocus())\n      setTimeout(bind(onFocus, this), 20);\n    else\n      onBlur(this);\n\n    for (var opt in optionHandlers) if (optionHandlers.hasOwnProperty(opt))\n      optionHandlers[opt](this, options[opt], Init);\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) options.finishInit(this);\n    for (var i = 0; i < initHooks.length; ++i) initHooks[i](this);\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      display.lineDiv.style.textRendering = \"auto\";\n  }\n\n  // DISPLAY CONSTRUCTOR\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = elt(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = elt(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [elt(\"div\", [d.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) d.scroller.draggable = true;\n\n    if (place) {\n      if (place.appendChild) place.appendChild(d.wrapper);\n      else place(d.wrapper);\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    input.init(d);\n  }\n\n  // STATE UPDATES\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = CodeMirror.getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function(line) {\n      if (line.stateAfter) line.stateAfter = null;\n      if (line.styles) line.styles = null;\n    });\n    cm.doc.frontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) regChange(cm);\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function(){updateScrollbars(cm);}, 100);\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function(line) {\n      if (lineIsHidden(cm.doc, line)) return 0;\n\n      var widgetsHeight = 0;\n      if (line.widgets) for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) widgetsHeight += line.widgets[i].height;\n      }\n\n      if (wrapping)\n        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;\n      else\n        return widgetsHeight + th;\n    };\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function(line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) updateLineHeight(line, estHeight);\n    });\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  function guttersChanged(cm) {\n    updateGutters(cm);\n    regChange(cm);\n    setTimeout(function(){alignHorizontally(cm);}, 20);\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function updateGutters(cm) {\n    var gutters = cm.display.gutters, specs = cm.options.gutters;\n    removeChildren(gutters);\n    for (var i = 0; i < specs.length; ++i) {\n      var gutterClass = specs[i];\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass));\n      if (gutterClass == \"CodeMirror-linenumbers\") {\n        cm.display.lineGutter = gElt;\n        gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = i ? \"\" : \"none\";\n    updateGutterSpace(cm);\n  }\n\n  function updateGutterSpace(cm) {\n    var width = cm.display.gutters.offsetWidth;\n    cm.display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) return 0;\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found = merged.find(0, true);\n      len -= cur.text.length - found.from.ch;\n      cur = found.to.line;\n      len += cur.text.length - found.to.ch;\n    }\n    return len;\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function(line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // Make sure the gutters options contains the element\n  // \"CodeMirror-linenumbers\" when the lineNumbers option is true.\n  function setGuttersForLineNumbers(options) {\n    var found = indexOf(options.gutters, \"CodeMirror-linenumbers\");\n    if (found == -1 && options.lineNumbers) {\n      options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"]);\n    } else if (found > -1 && !options.lineNumbers) {\n      options.gutters = options.gutters.slice(0);\n      options.gutters.splice(found, 1);\n    }\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    };\n  }\n\n  function NativeScrollbars(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function() {\n      if (vert.clientHeight) scroll(vert.scrollTop, \"vertical\");\n    });\n    on(horiz, \"scroll\", function() {\n      if (horiz.clientWidth) scroll(horiz.scrollLeft, \"horizontal\");\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\";\n  }\n\n  NativeScrollbars.prototype = copyObj({\n    update: function(measure) {\n      var needsH = measure.scrollWidth > measure.clientWidth + 1;\n      var needsV = measure.scrollHeight > measure.clientHeight + 1;\n      var sWidth = measure.nativeBarWidth;\n\n      if (needsV) {\n        this.vert.style.display = \"block\";\n        this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n        var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n        // A bug in IE8 can cause this value to be negative, so guard it.\n        this.vert.firstChild.style.height =\n          Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n      } else {\n        this.vert.style.display = \"\";\n        this.vert.firstChild.style.height = \"0\";\n      }\n\n      if (needsH) {\n        this.horiz.style.display = \"block\";\n        this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n        this.horiz.style.left = measure.barLeft + \"px\";\n        var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n        this.horiz.firstChild.style.width =\n          (measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n      } else {\n        this.horiz.style.display = \"\";\n        this.horiz.firstChild.style.width = \"0\";\n      }\n\n      if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n        if (sWidth == 0) this.zeroWidthHack();\n        this.checkedZeroWidth = true;\n      }\n\n      return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0};\n    },\n    setScrollLeft: function(pos) {\n      if (this.horiz.scrollLeft != pos) this.horiz.scrollLeft = pos;\n      if (this.disableHoriz) this.enableZeroWidthBar(this.horiz, this.disableHoriz);\n    },\n    setScrollTop: function(pos) {\n      if (this.vert.scrollTop != pos) this.vert.scrollTop = pos;\n      if (this.disableVert) this.enableZeroWidthBar(this.vert, this.disableVert);\n    },\n    zeroWidthHack: function() {\n      var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n      this.horiz.style.height = this.vert.style.width = w;\n      this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n      this.disableHoriz = new Delayed;\n      this.disableVert = new Delayed;\n    },\n    enableZeroWidthBar: function(bar, delay) {\n      bar.style.pointerEvents = \"auto\";\n      function maybeDisable() {\n        // To find out whether the scrollbar is still visible, we\n        // check whether the element under the pixel in the bottom\n        // left corner of the scrollbar box is the scrollbar box\n        // itself (when the bar is still visible) or its filler child\n        // (when the bar is hidden). If it is still visible, we keep\n        // it enabled, if it's hidden, we disable pointer events.\n        var box = bar.getBoundingClientRect();\n        var elt = document.elementFromPoint(box.left + 1, box.bottom - 1);\n        if (elt != bar) bar.style.pointerEvents = \"none\";\n        else delay.set(1000, maybeDisable);\n      }\n      delay.set(1000, maybeDisable);\n    },\n    clear: function() {\n      var parent = this.horiz.parentNode;\n      parent.removeChild(this.horiz);\n      parent.removeChild(this.vert);\n    }\n  }, NativeScrollbars.prototype);\n\n  function NullScrollbars() {}\n\n  NullScrollbars.prototype = copyObj({\n    update: function() { return {bottom: 0, right: 0}; },\n    setScrollLeft: function() {},\n    setScrollTop: function() {},\n    clear: function() {}\n  }, NullScrollbars.prototype);\n\n  CodeMirror.scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n    }\n\n    cm.display.scrollbars = new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function() {\n        if (cm.state.focused) setTimeout(function() { cm.display.input.focus(); }, 0);\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function(pos, axis) {\n      if (axis == \"horizontal\") setScrollLeft(cm, pos);\n      else setScrollTop(cm, pos);\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n  }\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) measure = measureForScrollbars(cm);\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        updateHeightsInViewport(cm);\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\"\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else d.scrollbarFiller.style.display = \"\";\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else d.gutterFiller.style.display = \"\";\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)};\n  }\n\n  // LINE NUMBERS\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) return;\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) if (!view[i].hidden) {\n      if (cm.options.fixedGutter && view[i].gutter)\n        view[i].gutter.style.left = left;\n      var align = view[i].alignable;\n      if (align) for (var j = 0; j < align.length; j++)\n        align[j].style.left = left;\n    }\n    if (cm.options.fixedGutter)\n      display.gutters.style.left = (comp + gutterW) + \"px\";\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) return false;\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm);\n      return true;\n    }\n    return false;\n  }\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber));\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;\n  }\n\n  // DISPLAY DRAWING\n\n  function DisplayUpdate(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  }\n\n  DisplayUpdate.prototype.signal = function(emitter, type) {\n    if (hasHandler(emitter, type))\n      this.events.push(arguments);\n  };\n  DisplayUpdate.prototype.finish = function() {\n    for (var i = 0; i < this.events.length; i++)\n      signal.apply(null, this.events[i]);\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false;\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      return false;\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) from = Math.max(doc.first, display.viewFrom);\n    if (display.viewTo > to && display.viewTo - to < 20) to = Math.min(end, display.viewTo);\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      return false;\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var focused = activeElt();\n    if (toUpdate > 4) display.lineDiv.style.display = \"none\";\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) display.lineDiv.style.display = \"\";\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    if (focused && activeElt() != focused && focused.offsetHeight) focused.focus();\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true;\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)};\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          break;\n      }\n      if (!updateDisplayIfNeeded(cm, update)) break;\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], height;\n      if (cur.hidden) continue;\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n      }\n      var diff = cur.line.height - height;\n      if (height < 2) height = textHeight(display);\n      if (diff > .001 || diff < -.001) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) for (var j = 0; j < cur.rest.length; j++)\n          updateWidgetHeight(cur.rest[j]);\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) for (var i = 0; i < line.widgets.length; ++i)\n      line.widgets[i].height = line.widgets[i].node.parentNode.offsetHeight;\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[cm.options.gutters[i]] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth};\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        node.style.display = \"none\";\n      else\n        node.parentNode.removeChild(node);\n      return next;\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) {\n      } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) cur = rm(cur);\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) updateNumber = false;\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) cur = rm(cur);\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") updateLineText(cm, lineView);\n      else if (type == \"gutter\") updateLineGutter(cm, lineView, lineN, dims);\n      else if (type == \"class\") updateLineClasses(lineView);\n      else if (type == \"widget\") updateLineWidgets(cm, lineView, dims);\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) lineView.node.style.zIndex = 2;\n    }\n    return lineView.node;\n  }\n\n  function updateLineBackground(lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) cls += \" CodeMirror-linebackground\";\n    if (lineView.background) {\n      if (cls) lineView.background.className = cls;\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built;\n    }\n    return buildLineContent(cm, lineView);\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) lineView.node = built.pre;\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(lineView) {\n    updateLineBackground(lineView);\n    if (lineView.line.wrapClass)\n      ensureLineWrapped(lineView).className = lineView.line.wrapClass;\n    else if (lineView.node != lineView.text)\n      lineView.node.className = \"\";\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) +\n                                      \"px; width: \" + dims.gutterTotalWidth + \"px\");\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" +\n                                             (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        gutterWrap.className += \" \" + lineView.line.gutterClass;\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              \"left: \" + dims.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \"\n              + cm.display.lineNumInnerWidth + \"px\"));\n      if (markers) for (var k = 0; k < cm.options.gutters.length; ++k) {\n        var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\", \"left: \" +\n                                     dims.gutterLeft[id] + \"px; width: \" + dims.gutterWidth[id] + \"px\"));\n      }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) lineView.alignable = null;\n    for (var node = lineView.node.firstChild, next; node; node = next) {\n      var next = node.nextSibling;\n      if (node.className == \"CodeMirror-linewidget\")\n        lineView.node.removeChild(node);\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) lineView.bgClass = built.bgClass;\n    if (built.textClass) lineView.textClass = built.textClass;\n\n    updateLineClasses(lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node;\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)\n      insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) return;\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n      if (!widget.handleMouseEvents) node.setAttribute(\"cm-ignore-events\", \"true\");\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        wrap.insertBefore(node, lineView.gutter || lineView.text);\n      else\n        wrap.appendChild(node);\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n      (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) node.style.marginLeft = -dims.gutterTotalWidth + \"px\";\n    }\n  }\n\n  // POSITION OBJECT\n\n  // A Pos instance represents a position within the text.\n  var Pos = CodeMirror.Pos = function(line, ch) {\n    if (!(this instanceof Pos)) return new Pos(line, ch);\n    this.line = line; this.ch = ch;\n  };\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  var cmp = CodeMirror.cmpPos = function(a, b) { return a.line - b.line || a.ch - b.ch; };\n\n  function copyPos(x) {return Pos(x.line, x.ch);}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a; }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b; }\n\n  // INPUT HANDLING\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) sel = doc.sel;\n\n    var paste = cm.state.pasteIncoming || origin == \"paste\";\n    var textLines = doc.splitLines(inserted), multiPaste = null\n    // When pasing N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            multiPaste.push(doc.splitLines(lastCopied.text[i]));\n        }\n      } else if (textLines.length == sel.ranges.length) {\n        multiPaste = map(textLines, function(l) { return [l]; });\n      }\n    }\n\n    // Normal behavior is to insert the new text into every selection\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          from = Pos(from.line, from.ch - deleted);\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));\n        else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n          from = to = Pos(from.line, 0)\n      }\n      var updateInput = cm.curOp.updateInput;\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      triggerElectric(cm, inserted);\n\n    ensureCursorVisible(cm);\n    cm.curOp.updateInput = updateInput;\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = false;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"text/plain\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        runInOp(cm, function() { applyTextInput(cm, pasted, 0, null, \"paste\"); });\n      return true;\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) return;\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) continue;\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break;\n          }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          indented = indentLine(cm, range.head.line, \"smart\");\n      }\n      if (indented) signalLater(cm, \"electricInput\", cm, range.head.line);\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges};\n  }\n\n  function disableBrowserMagic(field) {\n    field.setAttribute(\"autocorrect\", \"off\");\n    field.setAttribute(\"autocapitalize\", \"off\");\n    field.setAttribute(\"spellcheck\", \"false\");\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  function TextareaInput(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Tracks when input.reset has punted to just putting a short\n    // string into the textarea instead of the full selection.\n    this.inaccurateSelection = false;\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) te.style.width = \"1000px\";\n    else te.setAttribute(\"wrap\", \"off\");\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) te.style.border = \"1px solid black\";\n    disableBrowserMagic(te);\n    return div;\n  }\n\n  TextareaInput.prototype = copyObj({\n    init: function(display) {\n      var input = this, cm = this.cm;\n\n      // Wraps and hides input textarea\n      var div = this.wrapper = hiddenTextarea();\n      // The semihidden textarea that is focused when the editor is\n      // focused, and receives input.\n      var te = this.textarea = div.firstChild;\n      display.wrapper.insertBefore(div, display.wrapper.firstChild);\n\n      // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n      if (ios) te.style.width = \"0px\";\n\n      on(te, \"input\", function() {\n        if (ie && ie_version >= 9 && input.hasSelection) input.hasSelection = null;\n        input.poll();\n      });\n\n      on(te, \"paste\", function(e) {\n        if (signalDOMEvent(cm, e) || handlePaste(e, cm)) return\n\n        cm.state.pasteIncoming = true;\n        input.fastPoll();\n      });\n\n      function prepareCopyCut(e) {\n        if (signalDOMEvent(cm, e)) return\n        if (cm.somethingSelected()) {\n          lastCopied = {lineWise: false, text: cm.getSelections()};\n          if (input.inaccurateSelection) {\n            input.prevInput = \"\";\n            input.inaccurateSelection = false;\n            te.value = lastCopied.text.join(\"\\n\");\n            selectInput(te);\n          }\n        } else if (!cm.options.lineWiseCopyCut) {\n          return;\n        } else {\n          var ranges = copyableRanges(cm);\n          lastCopied = {lineWise: true, text: ranges.text};\n          if (e.type == \"cut\") {\n            cm.setSelections(ranges.ranges, null, sel_dontScroll);\n          } else {\n            input.prevInput = \"\";\n            te.value = ranges.text.join(\"\\n\");\n            selectInput(te);\n          }\n        }\n        if (e.type == \"cut\") cm.state.cutIncoming = true;\n      }\n      on(te, \"cut\", prepareCopyCut);\n      on(te, \"copy\", prepareCopyCut);\n\n      on(display.scroller, \"paste\", function(e) {\n        if (eventInWidget(display, e) || signalDOMEvent(cm, e)) return;\n        cm.state.pasteIncoming = true;\n        input.focus();\n      });\n\n      // Prevent normal selection in the editor (we handle our own)\n      on(display.lineSpace, \"selectstart\", function(e) {\n        if (!eventInWidget(display, e)) e_preventDefault(e);\n      });\n\n      on(te, \"compositionstart\", function() {\n        var start = cm.getCursor(\"from\");\n        if (input.composing) input.composing.range.clear()\n        input.composing = {\n          start: start,\n          range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n        };\n      });\n      on(te, \"compositionend\", function() {\n        if (input.composing) {\n          input.poll();\n          input.composing.range.clear();\n          input.composing = null;\n        }\n      });\n    },\n\n    prepareSelection: function() {\n      // Redraw the selection and/or cursor\n      var cm = this.cm, display = cm.display, doc = cm.doc;\n      var result = prepareSelection(cm);\n\n      // Move the hidden textarea near the cursor to prevent scrolling artifacts\n      if (cm.options.moveInputWithCursor) {\n        var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n        var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n        result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                            headPos.top + lineOff.top - wrapOff.top));\n        result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                             headPos.left + lineOff.left - wrapOff.left));\n      }\n\n      return result;\n    },\n\n    showSelection: function(drawn) {\n      var cm = this.cm, display = cm.display;\n      removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n      removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n      if (drawn.teTop != null) {\n        this.wrapper.style.top = drawn.teTop + \"px\";\n        this.wrapper.style.left = drawn.teLeft + \"px\";\n      }\n    },\n\n    // Reset the input to correspond to the selection (or to be empty,\n    // when not typing and nothing is selected)\n    reset: function(typing) {\n      if (this.contextMenuPending) return;\n      var minimal, selected, cm = this.cm, doc = cm.doc;\n      if (cm.somethingSelected()) {\n        this.prevInput = \"\";\n        var range = doc.sel.primary();\n        minimal = hasCopyEvent &&\n          (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000);\n        var content = minimal ? \"-\" : selected || cm.getSelection();\n        this.textarea.value = content;\n        if (cm.state.focused) selectInput(this.textarea);\n        if (ie && ie_version >= 9) this.hasSelection = content;\n      } else if (!typing) {\n        this.prevInput = this.textarea.value = \"\";\n        if (ie && ie_version >= 9) this.hasSelection = null;\n      }\n      this.inaccurateSelection = minimal;\n    },\n\n    getField: function() { return this.textarea; },\n\n    supportsTouch: function() { return false; },\n\n    focus: function() {\n      if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n        try { this.textarea.focus(); }\n        catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n      }\n    },\n\n    blur: function() { this.textarea.blur(); },\n\n    resetPosition: function() {\n      this.wrapper.style.top = this.wrapper.style.left = 0;\n    },\n\n    receivedFocus: function() { this.slowPoll(); },\n\n    // Poll for input changes, using the normal rate of polling. This\n    // runs as long as the editor is focused.\n    slowPoll: function() {\n      var input = this;\n      if (input.pollingFast) return;\n      input.polling.set(this.cm.options.pollInterval, function() {\n        input.poll();\n        if (input.cm.state.focused) input.slowPoll();\n      });\n    },\n\n    // When an event has just come in that is likely to add or change\n    // something in the input textarea, we poll faster, to ensure that\n    // the change appears on the screen quickly.\n    fastPoll: function() {\n      var missed = false, input = this;\n      input.pollingFast = true;\n      function p() {\n        var changed = input.poll();\n        if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n        else {input.pollingFast = false; input.slowPoll();}\n      }\n      input.polling.set(20, p);\n    },\n\n    // Read input from the textarea, and update the document to match.\n    // When something is selected, it is present in the textarea, and\n    // selected (unless it is huge, in which case a placeholder is\n    // used). When nothing is selected, the cursor sits after previously\n    // seen text (can be empty), which is stored in prevInput (we must\n    // not reset the textarea when typing, because that breaks IME).\n    poll: function() {\n      var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n      // Since this is called a *lot*, try to bail out as cheaply as\n      // possible when it is clear that nothing happened. hasSelection\n      // will be the case when there is a lot of text in the textarea,\n      // in which case reading its value would be expensive.\n      if (this.contextMenuPending || !cm.state.focused ||\n          (hasSelection(input) && !prevInput && !this.composing) ||\n          cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n        return false;\n\n      var text = input.value;\n      // If nothing changed, bail.\n      if (text == prevInput && !cm.somethingSelected()) return false;\n      // Work around nonsensical selection resetting in IE9/10, and\n      // inexplicable appearance of private area unicode characters on\n      // some key combos in Mac (#2689).\n      if (ie && ie_version >= 9 && this.hasSelection === text ||\n          mac && /[\\uf700-\\uf7ff]/.test(text)) {\n        cm.display.input.reset();\n        return false;\n      }\n\n      if (cm.doc.sel == cm.display.selForContextMenu) {\n        var first = text.charCodeAt(0);\n        if (first == 0x200b && !prevInput) prevInput = \"\\u200b\";\n        if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\"); }\n      }\n      // Find the part of the input that is actually new\n      var same = 0, l = Math.min(prevInput.length, text.length);\n      while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) ++same;\n\n      var self = this;\n      runInOp(cm, function() {\n        applyTextInput(cm, text.slice(same), prevInput.length - same,\n                       null, self.composing ? \"*compose\" : null);\n\n        // Don't leave long text in the textarea, since it makes further polling slow\n        if (text.length > 1000 || text.indexOf(\"\\n\") > -1) input.value = self.prevInput = \"\";\n        else self.prevInput = text;\n\n        if (self.composing) {\n          self.composing.range.clear();\n          self.composing.range = cm.markText(self.composing.start, cm.getCursor(\"to\"),\n                                             {className: \"CodeMirror-composing\"});\n        }\n      });\n      return true;\n    },\n\n    ensurePolled: function() {\n      if (this.pollingFast && this.poll()) this.pollingFast = false;\n    },\n\n    onKeyPress: function() {\n      if (ie && ie_version >= 9) this.hasSelection = null;\n      this.fastPoll();\n    },\n\n    onContextMenu: function(e) {\n      var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n      var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n      if (!pos || presto) return; // Opera is difficult.\n\n      // Reset the current text selection only if the click is done outside of the selection\n      // and 'resetSelectionOnContextMenu' option is true.\n      var reset = cm.options.resetSelectionOnContextMenu;\n      if (reset && cm.doc.sel.contains(pos) == -1)\n        operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);\n\n      var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n      input.wrapper.style.cssText = \"position: absolute\"\n      var wrapperBox = input.wrapper.getBoundingClientRect()\n      te.style.cssText = \"position: absolute; width: 30px; height: 30px; top: \" + (e.clientY - wrapperBox.top - 5) +\n        \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px; z-index: 1000; background: \" +\n        (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") +\n        \"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n      if (webkit) var oldScrollY = window.scrollY; // Work around Chrome issue (#2712)\n      display.input.focus();\n      if (webkit) window.scrollTo(null, oldScrollY);\n      display.input.reset();\n      // Adds \"Select all\" to context menu in FF\n      if (!cm.somethingSelected()) te.value = input.prevInput = \" \";\n      input.contextMenuPending = true;\n      display.selForContextMenu = cm.doc.sel;\n      clearTimeout(display.detectingSelectAll);\n\n      // Select-all will be greyed out if there's nothing to select, so\n      // this adds a zero-width space so that we can later check whether\n      // it got selected.\n      function prepareSelectAllHack() {\n        if (te.selectionStart != null) {\n          var selected = cm.somethingSelected();\n          var extval = \"\\u200b\" + (selected ? te.value : \"\");\n          te.value = \"\\u21da\"; // Used to catch context-menu undo\n          te.value = extval;\n          input.prevInput = selected ? \"\" : \"\\u200b\";\n          te.selectionStart = 1; te.selectionEnd = extval.length;\n          // Re-set this, in case some other handler touched the\n          // selection in the meantime.\n          display.selForContextMenu = cm.doc.sel;\n        }\n      }\n      function rehide() {\n        input.contextMenuPending = false;\n        input.wrapper.style.cssText = oldWrapperCSS\n        te.style.cssText = oldCSS;\n        if (ie && ie_version < 9) display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);\n\n        // Try to detect the user choosing select-all\n        if (te.selectionStart != null) {\n          if (!ie || (ie && ie_version < 9)) prepareSelectAllHack();\n          var i = 0, poll = function() {\n            if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n                te.selectionEnd > 0 && input.prevInput == \"\\u200b\")\n              operation(cm, commands.selectAll)(cm);\n            else if (i++ < 10) display.detectingSelectAll = setTimeout(poll, 500);\n            else display.input.reset();\n          };\n          display.detectingSelectAll = setTimeout(poll, 200);\n        }\n      }\n\n      if (ie && ie_version >= 9) prepareSelectAllHack();\n      if (captureRightClick) {\n        e_stop(e);\n        var mouseup = function() {\n          off(window, \"mouseup\", mouseup);\n          setTimeout(rehide, 20);\n        };\n        on(window, \"mouseup\", mouseup);\n      } else {\n        setTimeout(rehide, 50);\n      }\n    },\n\n    readOnlyChanged: function(val) {\n      if (!val) this.reset();\n    },\n\n    setUneditable: nothing,\n\n    needsContentAttribute: false\n  }, TextareaInput.prototype);\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  function ContentEditableInput(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.gracePeriod = false;\n  }\n\n  ContentEditableInput.prototype = copyObj({\n    init: function(display) {\n      var input = this, cm = input.cm;\n      var div = input.div = display.lineDiv;\n      disableBrowserMagic(div);\n\n      on(div, \"paste\", function(e) {\n        if (!signalDOMEvent(cm, e)) handlePaste(e, cm);\n      })\n\n      on(div, \"compositionstart\", function(e) {\n        var data = e.data;\n        input.composing = {sel: cm.doc.sel, data: data, startData: data};\n        if (!data) return;\n        var prim = cm.doc.sel.primary();\n        var line = cm.getLine(prim.head.line);\n        var found = line.indexOf(data, Math.max(0, prim.head.ch - data.length));\n        if (found > -1 && found <= prim.head.ch)\n          input.composing.sel = simpleSelection(Pos(prim.head.line, found),\n                                                Pos(prim.head.line, found + data.length));\n      });\n      on(div, \"compositionupdate\", function(e) {\n        input.composing.data = e.data;\n      });\n      on(div, \"compositionend\", function(e) {\n        var ours = input.composing;\n        if (!ours) return;\n        if (e.data != ours.startData && !/\\u200b/.test(e.data))\n          ours.data = e.data;\n        // Need a small delay to prevent other code (input event,\n        // selection polling) from doing damage when fired right after\n        // compositionend.\n        setTimeout(function() {\n          if (!ours.handled)\n            input.applyComposition(ours);\n          if (input.composing == ours)\n            input.composing = null;\n        }, 50);\n      });\n\n      on(div, \"touchstart\", function() {\n        input.forceCompositionEnd();\n      });\n\n      on(div, \"input\", function() {\n        if (input.composing) return;\n        if (cm.isReadOnly() || !input.pollContent())\n          runInOp(input.cm, function() {regChange(cm);});\n      });\n\n      function onCopyCut(e) {\n        if (signalDOMEvent(cm, e)) return\n        if (cm.somethingSelected()) {\n          lastCopied = {lineWise: false, text: cm.getSelections()};\n          if (e.type == \"cut\") cm.replaceSelection(\"\", null, \"cut\");\n        } else if (!cm.options.lineWiseCopyCut) {\n          return;\n        } else {\n          var ranges = copyableRanges(cm);\n          lastCopied = {lineWise: true, text: ranges.text};\n          if (e.type == \"cut\") {\n            cm.operation(function() {\n              cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n              cm.replaceSelection(\"\", null, \"cut\");\n            });\n          }\n        }\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        if (e.clipboardData && !ios) {\n          e.preventDefault();\n          e.clipboardData.clearData();\n          e.clipboardData.setData(\"text/plain\", lastCopied.text.join(\"\\n\"));\n        } else {\n          // Old-fashioned briefly-focus-a-textarea hack\n          var kludge = hiddenTextarea(), te = kludge.firstChild;\n          cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n          te.value = lastCopied.text.join(\"\\n\");\n          var hadFocus = document.activeElement;\n          selectInput(te);\n          setTimeout(function() {\n            cm.display.lineSpace.removeChild(kludge);\n            hadFocus.focus();\n          }, 50);\n        }\n      }\n      on(div, \"copy\", onCopyCut);\n      on(div, \"cut\", onCopyCut);\n    },\n\n    prepareSelection: function() {\n      var result = prepareSelection(this.cm, false);\n      result.focus = this.cm.state.focused;\n      return result;\n    },\n\n    showSelection: function(info, takeFocus) {\n      if (!info || !this.cm.display.view.length) return;\n      if (info.focus || takeFocus) this.showPrimarySelection();\n      this.showMultipleSelections(info);\n    },\n\n    showPrimarySelection: function() {\n      var sel = window.getSelection(), prim = this.cm.doc.sel.primary();\n      var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset);\n      var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset);\n      if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n          cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&\n          cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)\n        return;\n\n      var start = posToDOM(this.cm, prim.from());\n      var end = posToDOM(this.cm, prim.to());\n      if (!start && !end) return;\n\n      var view = this.cm.display.view;\n      var old = sel.rangeCount && sel.getRangeAt(0);\n      if (!start) {\n        start = {node: view[0].measure.map[2], offset: 0};\n      } else if (!end) { // FIXME dangerously hacky\n        var measure = view[view.length - 1].measure;\n        var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n        end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n      }\n\n      try { var rng = range(start.node, start.offset, end.offset, end.node); }\n      catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n      if (rng) {\n        if (!gecko && this.cm.state.focused) {\n          sel.collapse(start.node, start.offset);\n          if (!rng.collapsed) sel.addRange(rng);\n        } else {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n        if (old && sel.anchorNode == null) sel.addRange(old);\n        else if (gecko) this.startGracePeriod();\n      }\n      this.rememberSelection();\n    },\n\n    startGracePeriod: function() {\n      var input = this;\n      clearTimeout(this.gracePeriod);\n      this.gracePeriod = setTimeout(function() {\n        input.gracePeriod = false;\n        if (input.selectionChanged())\n          input.cm.operation(function() { input.cm.curOp.selectionChanged = true; });\n      }, 20);\n    },\n\n    showMultipleSelections: function(info) {\n      removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n      removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n    },\n\n    rememberSelection: function() {\n      var sel = window.getSelection();\n      this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n      this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n    },\n\n    selectionInEditor: function() {\n      var sel = window.getSelection();\n      if (!sel.rangeCount) return false;\n      var node = sel.getRangeAt(0).commonAncestorContainer;\n      return contains(this.div, node);\n    },\n\n    focus: function() {\n      if (this.cm.options.readOnly != \"nocursor\") this.div.focus();\n    },\n    blur: function() { this.div.blur(); },\n    getField: function() { return this.div; },\n\n    supportsTouch: function() { return true; },\n\n    receivedFocus: function() {\n      var input = this;\n      if (this.selectionInEditor())\n        this.pollSelection();\n      else\n        runInOp(this.cm, function() { input.cm.curOp.selectionChanged = true; });\n\n      function poll() {\n        if (input.cm.state.focused) {\n          input.pollSelection();\n          input.polling.set(input.cm.options.pollInterval, poll);\n        }\n      }\n      this.polling.set(this.cm.options.pollInterval, poll);\n    },\n\n    selectionChanged: function() {\n      var sel = window.getSelection();\n      return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n        sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;\n    },\n\n    pollSelection: function() {\n      if (!this.composing && !this.gracePeriod && this.selectionChanged()) {\n        var sel = window.getSelection(), cm = this.cm;\n        this.rememberSelection();\n        var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n        var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n        if (anchor && head) runInOp(cm, function() {\n          setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n          if (anchor.bad || head.bad) cm.curOp.selectionChanged = true;\n        });\n      }\n    },\n\n    pollContent: function() {\n      var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n      var from = sel.from(), to = sel.to();\n      if (from.line < display.viewFrom || to.line > display.viewTo - 1) return false;\n\n      var fromIndex;\n      if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n        var fromLine = lineNo(display.view[0].line);\n        var fromNode = display.view[0].node;\n      } else {\n        var fromLine = lineNo(display.view[fromIndex].line);\n        var fromNode = display.view[fromIndex - 1].node.nextSibling;\n      }\n      var toIndex = findViewIndex(cm, to.line);\n      if (toIndex == display.view.length - 1) {\n        var toLine = display.viewTo - 1;\n        var toNode = display.lineDiv.lastChild;\n      } else {\n        var toLine = lineNo(display.view[toIndex + 1].line) - 1;\n        var toNode = display.view[toIndex + 1].node.previousSibling;\n      }\n\n      var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n      var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n      while (newText.length > 1 && oldText.length > 1) {\n        if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n        else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n        else break;\n      }\n\n      var cutFront = 0, cutEnd = 0;\n      var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n      while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n        ++cutFront;\n      var newBot = lst(newText), oldBot = lst(oldText);\n      var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                               oldBot.length - (oldText.length == 1 ? cutFront : 0));\n      while (cutEnd < maxCutEnd &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n        ++cutEnd;\n\n      newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd);\n      newText[0] = newText[0].slice(cutFront);\n\n      var chFrom = Pos(fromLine, cutFront);\n      var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n      if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n        replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n        return true;\n      }\n    },\n\n    ensurePolled: function() {\n      this.forceCompositionEnd();\n    },\n    reset: function() {\n      this.forceCompositionEnd();\n    },\n    forceCompositionEnd: function() {\n      if (!this.composing || this.composing.handled) return;\n      this.applyComposition(this.composing);\n      this.composing.handled = true;\n      this.div.blur();\n      this.div.focus();\n    },\n    applyComposition: function(composing) {\n      if (this.cm.isReadOnly())\n        operation(this.cm, regChange)(this.cm)\n      else if (composing.data && composing.data != composing.startData)\n        operation(this.cm, applyTextInput)(this.cm, composing.data, 0, composing.sel);\n    },\n\n    setUneditable: function(node) {\n      node.contentEditable = \"false\"\n    },\n\n    onKeyPress: function(e) {\n      e.preventDefault();\n      if (!this.cm.isReadOnly())\n        operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);\n    },\n\n    readOnlyChanged: function(val) {\n      this.div.contentEditable = String(val != \"nocursor\")\n    },\n\n    onContextMenu: nothing,\n    resetPosition: nothing,\n\n    needsContentAttribute: true\n  }, ContentEditableInput.prototype);\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) return null;\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result;\n  }\n\n  function badPos(pos, bad) { if (bad) pos.bad = true; return pos; }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) return null;\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) break;\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        return locateNodeInLineView(lineView, node, offset);\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) return badPos(Pos(lineNo(lineView.line), 0), true);\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad);\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) offset = textNode.nodeValue.length;\n    }\n    while (topNode.parentNode != wrapper) topNode = topNode.parentNode;\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) ch = map[j + (offset ? 1 : 0)];\n            return Pos(line, ch);\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) return badPos(found, bad);\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        return badPos(Pos(found.line, found.ch - dist), bad);\n      else\n        dist += after.textContent.length;\n    }\n    for (var before = topNode.previousSibling, dist = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        return badPos(Pos(found.line, found.ch + dist), bad);\n      else\n        dist += after.textContent.length;\n    }\n  }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator();\n    function recognizeMarker(id) { return function(marker) { return marker.id == id; }; }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText != null) {\n          if (cmText == \"\") cmText = node.textContent.replace(/\\u200b/g, \"\");\n          text += cmText;\n          return;\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find()))\n            text += getBetween(cm.doc, range.from, range.to).join(lineSep);\n          return;\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") return;\n        for (var i = 0; i < node.childNodes.length; i++)\n          walk(node.childNodes[i]);\n        if (/^(pre|div|p)$/i.test(node.nodeName))\n          closing = true;\n      } else if (node.nodeType == 3) {\n        var val = node.nodeValue;\n        if (!val) return;\n        if (closing) {\n          text += lineSep;\n          closing = false;\n        }\n        text += val;\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) break;\n      from = from.nextSibling;\n    }\n    return text;\n  }\n\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // SELECTION / CURSOR\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  function Selection(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  }\n\n  Selection.prototype = {\n    primary: function() { return this.ranges[this.primIndex]; },\n    equals: function(other) {\n      if (other == this) return true;\n      if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) return false;\n      for (var i = 0; i < this.ranges.length; i++) {\n        var here = this.ranges[i], there = other.ranges[i];\n        if (cmp(here.anchor, there.anchor) != 0 || cmp(here.head, there.head) != 0) return false;\n      }\n      return true;\n    },\n    deepCopy: function() {\n      for (var out = [], i = 0; i < this.ranges.length; i++)\n        out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));\n      return new Selection(out, this.primIndex);\n    },\n    somethingSelected: function() {\n      for (var i = 0; i < this.ranges.length; i++)\n        if (!this.ranges[i].empty()) return true;\n      return false;\n    },\n    contains: function(pos, end) {\n      if (!end) end = pos;\n      for (var i = 0; i < this.ranges.length; i++) {\n        var range = this.ranges[i];\n        if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n          return i;\n      }\n      return -1;\n    }\n  };\n\n  function Range(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  }\n\n  Range.prototype = {\n    from: function() { return minPos(this.anchor, this.head); },\n    to: function() { return maxPos(this.anchor, this.head); },\n    empty: function() {\n      return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;\n    }\n  };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(ranges, primIndex) {\n    var prim = ranges[primIndex];\n    ranges.sort(function(a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      if (cmp(prev.to(), cur.from()) >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) --primIndex;\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex);\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0);\n  }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) return Pos(doc.first, 0);\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) return Pos(last, getLine(doc, last).text.length);\n    return clipToLen(pos, getLine(doc, pos.line).text.length);\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) return Pos(pos.line, linelen);\n    else if (ch < 0) return Pos(pos.line, 0);\n    else return pos;\n  }\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size;}\n  function clipPosArray(doc, array) {\n    for (var out = [], i = 0; i < array.length; i++) out[i] = clipPos(doc, array[i]);\n    return out;\n  }\n\n  // SELECTION UPDATES\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(doc, range, head, other) {\n    if (doc.cm && doc.cm.display.shift || doc.extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head);\n    } else {\n      return new Range(other || head, head);\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options) {\n    setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    for (var out = [], i = 0; i < doc.sel.ranges.length; i++)\n      out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null);\n    var newSel = normalizeSelection(out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head));\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj);\n    if (obj.ranges != sel.ranges) return normalizeSelection(obj.ranges, obj.ranges.length - 1);\n    else return sel;\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      sel = filterSelectionChange(doc, sel, options);\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      ensureCursorVisible(doc.cm);\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) return;\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll);\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) out = sel.ranges.slice(0, i);\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(out, sel.primIndex) : sel;\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n      if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) break;\n            else {--i; continue;}\n          }\n        }\n        if (!m.atomic) continue;\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff;\n          if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n            near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null);\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            return skipAtomicInner(doc, near, pos, dir, mayClear);\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n          far = movePos(doc, far, dir, far.line == pos.line ? line : null);\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null;\n      }\n    }\n    return pos;\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0);\n    }\n    return found;\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) return clipPos(doc, Pos(pos.line - 1));\n      else return null;\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) return Pos(pos.line + 1, 0);\n      else return null;\n    } else {\n      return new Pos(pos.line, pos.ch + dir);\n    }\n  }\n\n  // SELECTION DRAWING\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (primary === false && i == doc.sel.primIndex) continue;\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) continue;\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        drawSelectionCursor(cm, range.head, curFragment);\n      if (!collapsed)\n        drawSelectionRange(cm, range, selFragment);\n    }\n    return result;\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n\n    function add(left, top, width, bottom) {\n      if (top < 0) top = 0;\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + left +\n                               \"px; top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) +\n                               \"px; height: \" + (bottom - top) + \"px\"));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias);\n      }\n\n      iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function(from, to, dir) {\n        var leftPos = coords(from, \"left\"), rightPos, left, right;\n        if (from == to) {\n          rightPos = leftPos;\n          left = right = leftPos.left;\n        } else {\n          rightPos = coords(to - 1, \"right\");\n          if (dir == \"rtl\") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp; }\n          left = leftPos.left;\n          right = rightPos.right;\n        }\n        if (fromArg == null && from == 0) left = leftSide;\n        if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part\n          add(left, leftPos.top, null, leftPos.bottom);\n          left = leftSide;\n          if (leftPos.bottom < rightPos.top) add(left, leftPos.bottom, null, rightPos.top);\n        }\n        if (toArg == null && to == lineLen) right = rightSide;\n        if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)\n          start = leftPos;\n        if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)\n          end = rightPos;\n        if (left < leftSide + 1) left = leftSide;\n        add(left, rightPos.top, right - left, rightPos.bottom);\n      });\n      return {start: start, end: end};\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        add(leftSide, leftEnd.bottom, null, rightStart.top);\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) return;\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      display.blinker = setInterval(function() {\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate);\n    else if (cm.options.cursorBlinkRate < 0)\n      display.cursorDiv.style.visibility = \"hidden\";\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)\n      cm.state.highlight.set(time, bind(highlightWorker, cm));\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.frontier < doc.first) doc.frontier = doc.first;\n    if (doc.frontier >= cm.display.viewTo) return;\n    var end = +new Date + cm.options.workTime;\n    var state = copyState(doc.mode, getStateBefore(cm, doc.frontier));\n    var changedLines = [];\n\n    doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function(line) {\n      if (doc.frontier >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength;\n        var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true);\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) line.styleClasses = newCls;\n        else if (oldCls) line.styleClasses = null;\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) ischange = oldStyles[i] != line.styles[i];\n        if (ischange) changedLines.push(doc.frontier);\n        line.stateAfter = tooLong ? state : copyState(doc.mode, state);\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          processLine(cm, line.text, state);\n        line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null;\n      }\n      ++doc.frontier;\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true;\n      }\n    });\n    if (changedLines.length) runInOp(cm, function() {\n      for (var i = 0; i < changedLines.length; i++)\n        regLineChange(cm, changedLines[i], \"text\");\n    });\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) return doc.first;\n      var line = getLine(doc, search - 1);\n      if (line.stateAfter && (!precise || search <= doc.frontier)) return search;\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline;\n  }\n\n  function getStateBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) return true;\n    var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter;\n    if (!state) state = startState(doc.mode);\n    else state = copyState(doc.mode, state);\n    doc.iter(pos, n, function(line) {\n      processLine(cm, line.text, state);\n      var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo;\n      line.stateAfter = save ? copyState(doc.mode, state) : null;\n      ++pos;\n    });\n    if (precise) doc.frontier = pos;\n    return state;\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop;}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight;}\n  function paddingH(display) {\n    if (display.cachedPaddingH) return display.cachedPaddingH;\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) display.cachedPaddingH = data;\n    return data;\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth; }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            heights.push((cur.bottom + next.top) / 2 - rect.top);\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      return {map: lineView.measure.map, cache: lineView.measure.cache};\n    for (var i = 0; i < lineView.rest.length; i++)\n      if (lineView.rest[i] == line)\n        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]};\n    for (var i = 0; i < lineView.rest.length; i++)\n      if (lineNo(lineView.rest[i]) > lineN)\n        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i], before: true};\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view;\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      return cm.display.view[findViewIndex(cm, lineN)];\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      return ext;\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      view = updateExternalMeasurement(cm, line);\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    };\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) ch = -1;\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        prepared.rect = prepared.view.text.getBoundingClientRect();\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) prepared.cache[key] = found;\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom};\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      var mStart = map[i], mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) collapse = \"right\";\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          collapse = bias;\n        if (bias == \"left\" && start == 0)\n          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          }\n        if (bias == \"right\" && start == mEnd - mStart)\n          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          }\n        break;\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd};\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect\n    if (bias == \"left\") for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) break\n    } else for (var i = rects.length - 1; i >= 0; i--) {\n      if ((rect = rects[i]).left != rect.right) break\n    }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i = 0; i < 4; i++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) --start;\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) ++end;\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          rect = node.parentNode.getBoundingClientRect();\n        else\n          rect = getUsefulRect(range(node, start, end).getClientRects(), bias)\n        if (rect.left || rect.right || start == 0) break;\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) rect = maybeUpdateRectForZooming(cm.display.measure, rect);\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) collapse = bias = \"right\";\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n      else\n        rect = node.getBoundingClientRect();\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom};\n      else\n        rect = nullRect;\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    for (var i = 0; i < heights.length - 1; i++)\n      if (mid < heights[i]) break;\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) result.bogus = true;\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result;\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      return rect;\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY};\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)\n        lineView.measure.caches[i] = {};\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      clearLineMeasurementCacheFor(cm.display.view[i]);\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) cm.display.maxLineChanged = true;\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft; }\n  function pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop; }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"/null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context) {\n    if (lineObj.widgets) for (var i = 0; i < lineObj.widgets.length; ++i) if (lineObj.widgets[i].above) {\n      var size = widgetHeight(lineObj.widgets[i]);\n      rect.top += size; rect.bottom += size;\n    }\n    if (context == \"line\") return rect;\n    if (!context) context = \"local\";\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") yOff += paddingTop(cm.display);\n    else yOff -= cm.display.viewOffset;\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect;\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"/null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") return coords;\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top};\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) lineObj = getLine(cm.doc, pos.line);\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) m.left = m.right; else m.right = m.left;\n      return intoCoordSystem(cm, lineObj, m, context);\n    }\n    function getBidi(ch, partPos) {\n      var part = order[partPos], right = part.level % 2;\n      if (ch == bidiLeft(part) && partPos && part.level < order[partPos - 1].level) {\n        part = order[--partPos];\n        ch = bidiRight(part) - (part.level % 2 ? 0 : 1);\n        right = true;\n      } else if (ch == bidiRight(part) && partPos < order.length - 1 && part.level < order[partPos + 1].level) {\n        part = order[++partPos];\n        ch = bidiLeft(part) - part.level % 2;\n        right = false;\n      }\n      if (right && ch == part.to && ch > part.from) return get(ch - 1);\n      return get(ch, right);\n    }\n    var order = getOrder(lineObj), ch = pos.ch;\n    if (!order) return get(ch);\n    var partPos = getBidiPartAt(order, ch);\n    var val = getBidi(ch, partPos);\n    if (bidiOther != null) val.other = getBidi(ch, bidiOther);\n    return val;\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0, pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) left = charWidth(cm.display) * pos.ch;\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height};\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, outside, xRel) {\n    var pos = Pos(line, ch);\n    pos.xRel = xRel;\n    if (outside) pos.outside = true;\n    return pos;\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) return PosWithInfo(doc.first, 0, true, -1);\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, true, 1);\n    if (x < 0) x = 0;\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var merged = collapsedSpanAtEnd(lineObj);\n      var mergedPos = merged && merged.find(0, true);\n      if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\n        lineN = lineNo(lineObj = mergedPos.to.line);\n      else\n        return found;\n    }\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    var innerOff = y - heightAtLine(lineObj);\n    var wrongLine = false, adjust = 2 * cm.display.wrapper.clientWidth;\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n\n    function getX(ch) {\n      var sp = cursorCoords(cm, Pos(lineNo, ch), \"line\", lineObj, preparedMeasure);\n      wrongLine = true;\n      if (innerOff > sp.bottom) return sp.left - adjust;\n      else if (innerOff < sp.top) return sp.left + adjust;\n      else wrongLine = false;\n      return sp.left;\n    }\n\n    var bidi = getOrder(lineObj), dist = lineObj.text.length;\n    var from = lineLeft(lineObj), to = lineRight(lineObj);\n    var fromX = getX(from), fromOutside = wrongLine, toX = getX(to), toOutside = wrongLine;\n\n    if (x > toX) return PosWithInfo(lineNo, to, toOutside, 1);\n    // Do a binary search between these bounds.\n    for (;;) {\n      if (bidi ? to == from || to == moveVisually(lineObj, from, 1) : to - from <= 1) {\n        var ch = x < fromX || x - fromX <= toX - x ? from : to;\n        var outside = ch == from ? fromOutside : toOutside\n        var xDiff = x - (ch == from ? fromX : toX);\n        // This is a kludge to handle the case where the coordinates\n        // are after a line-wrapped line. We should replace it with a\n        // more general handling of cursor positions around line\n        // breaks. (Issue #4078)\n        if (toOutside && !bidi && !/\\s/.test(lineObj.text.charAt(ch)) && xDiff > 0 &&\n            ch < lineObj.text.length && preparedMeasure.view.measure.heights.length > 1) {\n          var charSize = measureCharPrepared(cm, preparedMeasure, ch, \"right\");\n          if (innerOff <= charSize.bottom && innerOff >= charSize.top && Math.abs(x - charSize.right) < xDiff) {\n            outside = false\n            ch++\n            xDiff = x - charSize.right\n          }\n        }\n        while (isExtendingChar(lineObj.text.charAt(ch))) ++ch;\n        var pos = PosWithInfo(lineNo, ch, outside, xDiff < -1 ? -1 : xDiff > 1 ? 1 : 0);\n        return pos;\n      }\n      var step = Math.ceil(dist / 2), middle = from + step;\n      if (bidi) {\n        middle = from;\n        for (var i = 0; i < step; ++i) middle = moveVisually(lineObj, middle, 1);\n      }\n      var middleX = getX(middle);\n      if (middleX > x) {to = middle; toX = middleX; if (toOutside = wrongLine) toX += 1000; dist = step;}\n      else {from = middle; fromX = middleX; fromOutside = wrongLine; dist -= step;}\n    }\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) return display.cachedTextHeight;\n    if (measureText == null) {\n      measureText = elt(\"pre\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) display.cachedTextHeight = height;\n    removeChildren(display.measure);\n    return height || 1;\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) return display.cachedCharWidth;\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor]);\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) display.cachedCharWidth = width;\n    return width || 10;\n  }\n\n  // OPERATIONS\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var operationGroup = null;\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: null,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    if (operationGroup) {\n      operationGroup.ops.push(cm.curOp);\n    } else {\n      cm.curOp.ownsGroup = operationGroup = {\n        ops: [cm.curOp],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        callbacks[i].call(null);\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);\n      }\n    } while (i < callbacks.length);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp, group = op.ownsGroup;\n    if (!group) return;\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      for (var i = 0; i < group.ops.length; i++)\n        group.ops[i].cm.curOp = null;\n      endOperations(group);\n    }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      endOperation_R1(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)\n      endOperation_W1(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      endOperation_R2(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)\n      endOperation_W2(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      endOperation_finish(ops[i]);\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) findMaxLine(cm);\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) updateHeightsInViewport(cm);\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      op.preparedSelection = display.input.prepareSelection(op.focus);\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt() && (!document.hasFocus || document.hasFocus())\n    if (op.preparedSelection)\n      cm.display.input.showSelection(op.preparedSelection, takeFocus);\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      updateScrollbars(cm, op.barMeasure);\n    if (op.updatedDisplay)\n      setDocumentHeight(cm, op.barMeasure);\n\n    if (op.selectionChanged) restartBlink(cm);\n\n    if (cm.state.focused && op.updateInput)\n      cm.display.input.reset(op.typing);\n    if (takeFocus) ensureFocus(op.cm);\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) postUpdateDisplay(cm, op.update);\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      display.wheelStartX = display.wheelStartY = null;\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {\n      doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop));\n      display.scrollbars.setScrollTop(doc.scrollTop);\n      display.scroller.scrollTop = doc.scrollTop;\n    }\n    if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {\n      doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - display.scroller.clientWidth, op.scrollLeft));\n      display.scrollbars.setScrollLeft(doc.scrollLeft);\n      display.scroller.scrollLeft = doc.scrollLeft;\n      alignHorizontally(cm);\n    }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                     clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      if (op.scrollToPos.isCursor && cm.state.focused) maybeScrollWindow(cm, coords);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) for (var i = 0; i < hidden.length; ++i)\n      if (!hidden[i].lines.length) signal(hidden[i], \"hide\");\n    if (unhidden) for (var i = 0; i < unhidden.length; ++i)\n      if (unhidden[i].lines.length) signal(unhidden[i], \"unhide\");\n\n    if (display.wrapper.offsetHeight)\n      doc.scrollTop = cm.display.scroller.scrollTop;\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      signal(cm, \"changes\", cm, op.changeObjs);\n    if (op.update)\n      op.update.finish();\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) return f();\n    startOperation(cm);\n    try { return f(); }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) return f.apply(cm, arguments);\n      startOperation(cm);\n      try { return f.apply(cm, arguments); }\n      finally { endOperation(cm); }\n    };\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) return f.apply(this, arguments);\n      startOperation(this);\n      try { return f.apply(this, arguments); }\n      finally { endOperation(this); }\n    };\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) return f.apply(this, arguments);\n      startOperation(cm);\n      try { return f.apply(this, arguments); }\n      finally { endOperation(cm); }\n    };\n  }\n\n  // VIEW TRACKING\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array;\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) from = cm.doc.first;\n    if (to == null) to = cm.doc.first + cm.doc.size;\n    if (!lendiff) lendiff = 0;\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      display.updateLineNumbers = from;\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        resetView(cm);\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut = viewCuttingPoint(cm, from, from, -1);\n      if (cut) {\n        display.view = display.view.slice(0, cut.index);\n        display.viewTo = cut.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        ext.lineN += lendiff;\n      else if (from < ext.lineN + ext.size)\n        display.externalMeasured = null;\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      display.externalMeasured = null;\n\n    if (line < display.viewFrom || line >= display.viewTo) return;\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) return;\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) arr.push(type);\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) return null;\n    n -= cm.display.viewFrom;\n    if (n < 0) return null;\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) return i;\n    }\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      return {index: index, lineN: newN};\n    for (var i = 0, n = cm.display.viewFrom; i < index; i++)\n      n += view[i].size;\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) return null;\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) return null;\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN};\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);\n      else if (display.viewFrom < from)\n        display.view = display.view.slice(findViewIndex(cm, from));\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));\n      else if (display.viewTo > to)\n        display.view = display.view.slice(0, findViewIndex(cm, to));\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) ++dirty;\n    }\n    return dirty;\n  }\n\n  // EVENT HANDLERS\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      on(d.scroller, \"dblclick\", operation(cm, function(e) {\n        if (signalDOMEvent(cm, e)) return;\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) return;\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      }));\n    else\n      on(d.scroller, \"dblclick\", function(e) { signalDOMEvent(cm, e) || e_preventDefault(e); });\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    if (!captureRightClick) on(d.scroller, \"contextmenu\", function(e) {onContextMenu(cm, e);});\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function() {d.activeTouch = null;}, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    };\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) return false;\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1;\n    }\n    function farAway(touch, other) {\n      if (other.left == null) return true;\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20;\n    }\n    on(d.scroller, \"touchstart\", function(e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e)) {\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function() {\n      if (d.activeTouch) d.activeTouch.moved = true;\n    });\n    on(d.scroller, \"touchend\", function(e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          range = new Range(pos, pos);\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          range = cm.findWordAt(pos);\n        else // Triple tap\n          range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function() {\n      if (d.scroller.clientHeight) {\n        setScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function(e){onScrollWheel(cm, e);});\n    on(d.scroller, \"DOMMouseScroll\", function(e){onScrollWheel(cm, e);});\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function() { d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function(e) {if (!signalDOMEvent(cm, e)) e_stop(e);},\n      over: function(e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function(e){onDragStart(cm, e);},\n      drop: operation(cm, onDrop),\n      leave: function(e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function(e) { onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", bind(onFocus, cm));\n    on(inp, \"blur\", bind(onBlur, cm));\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != CodeMirror.Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\n      return;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  // MOUSE EVENTS\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        return true;\n    }\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") return null;\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null; }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords;\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) return;\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function(){display.scroller.draggable = true;}, 100);\n      }\n      return;\n    }\n    if (clickInGutter(cm, e)) return;\n    var start = posFromMouse(cm, e);\n    window.focus();\n\n    switch (e_button(e)) {\n    case 1:\n      // #3261: make sure, that we're not starting a second selection\n      if (cm.state.selectingText)\n        cm.state.selectingText(e);\n      else if (start)\n        leftButtonDown(cm, e, start);\n      else if (e_target(e) == display.scroller)\n        e_preventDefault(e);\n      break;\n    case 2:\n      if (webkit) cm.state.lastMiddleDown = +new Date;\n      if (start) extendSelection(cm.doc, start);\n      setTimeout(function() {display.input.focus();}, 20);\n      e_preventDefault(e);\n      break;\n    case 3:\n      if (captureRightClick) onContextMenu(cm, e);\n      else delayBlurEvent(cm);\n      break;\n    }\n  }\n\n  var lastClick, lastDoubleClick;\n  function leftButtonDown(cm, e, start) {\n    if (ie) setTimeout(bind(ensureFocus, cm), 0);\n    else cm.curOp.focus = activeElt();\n\n    var now = +new Date, type;\n    if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {\n      type = \"triple\";\n    } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {\n      type = \"double\";\n      lastDoubleClick = {time: now, pos: start};\n    } else {\n      type = \"single\";\n      lastClick = {time: now, pos: start};\n    }\n\n    var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        type == \"single\" && (contained = sel.contains(start)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&\n        (cmp(contained.to(), start) > 0 || start.xRel < 0))\n      leftButtonStartDrag(cm, e, start, modifier);\n    else\n      leftButtonSelect(cm, e, start, type, modifier);\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, e, start, modifier) {\n    var display = cm.display, startTime = +new Date;\n    var dragEnd = operation(cm, function(e2) {\n      if (webkit) display.scroller.draggable = false;\n      cm.state.draggingText = false;\n      off(document, \"mouseup\", dragEnd);\n      off(display.scroller, \"drop\", dragEnd);\n      if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\n        e_preventDefault(e2);\n        if (!modifier && +new Date - 200 < startTime)\n          extendSelection(cm.doc, start);\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if (webkit || ie && ie_version == 9)\n          setTimeout(function() {document.body.focus(); display.input.focus();}, 20);\n        else\n          display.input.focus();\n      }\n    });\n    // Let the drag handler handle this.\n    if (webkit) display.scroller.draggable = true;\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = mac ? e.altKey : e.ctrlKey\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) display.scroller.dragDrop();\n    on(document, \"mouseup\", dragEnd);\n    on(display.scroller, \"drop\", dragEnd);\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, e, start, type, addNew) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(e);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (addNew && !e.shiftKey) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        ourRange = ranges[ourIndex];\n      else\n        ourRange = new Range(start, start);\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (chromeOS ? e.shiftKey && e.metaKey : e.altKey) {\n      type = \"rect\";\n      if (!addNew) ourRange = new Range(start, start);\n      start = posFromMouse(cm, e, true, true);\n      ourIndex = -1;\n    } else if (type == \"double\") {\n      var word = cm.findWordAt(start);\n      if (cm.display.shift || doc.extend)\n        ourRange = extendRange(doc, ourRange, word.anchor, word.head);\n      else\n        ourRange = word;\n    } else if (type == \"triple\") {\n      var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)));\n      if (cm.display.shift || doc.extend)\n        ourRange = extendRange(doc, ourRange, line.anchor, line.head);\n      else\n        ourRange = line;\n    } else {\n      ourRange = extendRange(doc, ourRange, start);\n    }\n\n    if (!addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == \"single\" && !e.shiftKey) {\n      setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) return;\n      lastPos = pos;\n\n      if (type == \"rect\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));\n          else if (text.length > leftPos)\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));\n        }\n        if (!ranges.length) ranges.push(new Range(start, start));\n        setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var anchor = oldRange.anchor, head = pos;\n        if (type != \"single\") {\n          if (type == \"double\")\n            var range = cm.findWordAt(pos);\n          else\n            var range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0)));\n          if (cmp(range.anchor, anchor) > 0) {\n            head = range.head;\n            anchor = minPos(oldRange.from(), range.anchor);\n          } else {\n            head = range.anchor;\n            anchor = maxPos(oldRange.to(), range.head);\n          }\n        }\n        var ranges = startSel.ranges.slice(0);\n        ranges[ourIndex] = new Range(clipPos(doc, anchor), head);\n        setSelection(doc, normalizeSelection(ranges, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, type == \"rect\");\n      if (!cur) return;\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          setTimeout(operation(cm, function(){if (counter == curCount) extend(e);}), 150);\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) setTimeout(operation(cm, function() {\n          if (counter != curCount) return;\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50);\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      e_preventDefault(e);\n      display.input.focus();\n      off(document, \"mousemove\", move);\n      off(document, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function(e) {\n      if (!e_button(e)) done(e);\n      else extend(e);\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(document, \"mousemove\", move);\n    on(document, \"mouseup\", up);\n  }\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    try { var mX = e.clientX, mY = e.clientY; }\n    catch(e) { return false; }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) return false;\n    if (prevent) e_preventDefault(e);\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) return e_defaultPrevented(e);\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.options.gutters.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.options.gutters[i];\n        signal(cm, type, cm, line, gutter, e);\n        return e_defaultPrevented(e);\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true);\n  }\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      return;\n    e_preventDefault(e);\n    if (ie) lastDrop = +new Date;\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) return;\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var loadFile = function(file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n          return;\n\n        var reader = new FileReader;\n        reader.onload = operation(cm, function() {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) content = \"\";\n          text[i] = content;\n          if (++read == n) {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < n; ++i) loadFile(files[i], i);\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function() {cm.display.input.focus();}, 20);\n        return;\n      }\n      try {\n        var text = e.dataTransfer.getData(\"Text\");\n        if (text) {\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            var selected = cm.listSelections();\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) for (var i = 0; i < selected.length; ++i)\n            replaceRange(cm.doc, \"\", selected[i].anchor, selected[i].head, \"drag\");\n          cm.replaceSelection(text, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return; }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) return;\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\"\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) img.parentNode.removeChild(img);\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) return;\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // SCROLL EVENTS\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function setScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) return;\n    cm.doc.scrollTop = val;\n    if (!gecko) updateDisplaySimple(cm, {top: val});\n    if (cm.display.scroller.scrollTop != val) cm.display.scroller.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (gecko) updateDisplaySimple(cm);\n    startWorker(cm, 100);\n  }\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller) {\n    if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) return;\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) cm.display.scroller.scrollLeft = val;\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) wheelPixelsPerUnit = -.53;\n  else if (gecko) wheelPixelsPerUnit = 15;\n  else if (chrome) wheelPixelsPerUnit = -.7;\n  else if (safari) wheelPixelsPerUnit = -1/3;\n\n  var wheelEventDelta = function(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) dx = e.detail;\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) dy = e.detail;\n    else if (dy == null) dy = e.wheelDelta;\n    return {x: dx, y: dy};\n  };\n  CodeMirror.wheelEventPixels = function(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta;\n  };\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) return;\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer;\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight)));\n      setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        e_preventDefault(e);\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return;\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) top = Math.max(0, top + pixels - 50);\n      else bot = Math.min(cm.doc.height, bot + pixels + 50);\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function() {\n          if (display.wheelStartX == null) return;\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) return;\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // KEY EVENTS\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) return false;\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) cm.state.suppressEdits = true;\n      if (dropShift) cm.display.shift = false;\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done;\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) return result;\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm);\n  }\n\n  var stopSeq = new Delayed;\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) return \"handled\";\n      stopSeq.set(50, function() {\n        if (cm.state.keySeq == seq) {\n          cm.state.keySeq = null;\n          cm.display.input.reset();\n        }\n      });\n      name = seq + \" \" + name;\n    }\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      cm.state.keySeq = name;\n    if (result == \"handled\")\n      signalLater(cm, \"keyHandled\", cm, name, e);\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    if (seq && !result && /\\'$/.test(name)) {\n      e_preventDefault(e);\n      return true;\n    }\n    return !!result;\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) return false;\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function(b) {return doHandleBinding(cm, b, true);})\n          || dispatchKey(cm, name, e, function(b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 return doHandleBinding(cm, b);\n             });\n    } else {\n      return dispatchKey(cm, name, e, function(b) { return doHandleBinding(cm, b); });\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e,\n                       function(b) { return doHandleBinding(cm, b, true); });\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) return;\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) e.returnValue = false;\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        cm.replaceSelection(\"\", null, \"cut\");\n    }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      showCrossHair(cm);\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) this.doc.sel.shift = false;\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) return;\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return;}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) return;\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    if (handleCharBinding(cm, e, ch)) return;\n    cm.display.input.onKeyPress(e);\n  }\n\n  // FOCUS/BLUR EVENTS\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function() {\n      if (cm.state.delayingBlurEvent) {\n        cm.state.delayingBlurEvent = false;\n        onBlur(cm);\n      }\n    }, 100);\n  }\n\n  function onFocus(cm) {\n    if (cm.state.delayingBlurEvent) cm.state.delayingBlurEvent = false;\n\n    if (cm.options.readOnly == \"nocursor\") return;\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) setTimeout(function() { cm.display.input.reset(true); }, 20); // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm) {\n    if (cm.state.delayingBlurEvent) return;\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function() {if (!cm.state.focused) cm.display.shift = false;}, 150);\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) return;\n    if (signalDOMEvent(cm, e, \"contextmenu\")) return;\n    cm.display.input.onContextMenu(e);\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) return false;\n    return gutterEvent(cm, e, \"gutterContextMenu\", false);\n  }\n\n  // UPDATING\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  var changeEnd = CodeMirror.changeEnd = function(change) {\n    if (!change.text) return change.to;\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));\n  };\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) return pos;\n    if (cmp(pos, change.to) <= 0) return changeEnd(change);\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) ch += changeEnd(change).ch - change.to.ch;\n    return Pos(line, ch);\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(out, doc.sel.primIndex);\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      return Pos(nw.line, pos.ch - old.ch + nw.ch);\n    else\n      return Pos(nw.line + (pos.line - old.line), pos.ch);\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex);\n  }\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function() { this.canceled = true; }\n    };\n    if (update) obj.update = function(from, to, text, origin) {\n      if (from) this.from = clipPos(doc, from);\n      if (to) this.to = clipPos(doc, to);\n      if (text) this.text = text;\n      if (origin !== undefined) this.origin = origin;\n    };\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) signal(doc.cm, \"beforeChange\", doc.cm, obj);\n\n    if (obj.canceled) return null;\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin};\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);\n      if (doc.cm.state.suppressEdits) return;\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) return;\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text});\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) return;\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function(doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    if (doc.cm && doc.cm.state.suppressEdits && !allowSelectionOnly) return;\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    for (var i = 0; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        break;\n    }\n    if (i == source.length) return;\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return;\n        }\n        selAfter = event;\n      }\n      else break;\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    for (var i = event.changes.length - 1; i >= 0; --i) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return;\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)});\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function(doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) return;\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function(range) {\n      return new Range(Pos(range.anchor.line + distance, range.anchor.ch),\n                       Pos(range.head.line + distance, range.head.ch));\n    }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        regLineChange(doc.cm, l, \"gutter\");\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return;\n    }\n    if (change.from.line > doc.lastLine()) return;\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) selAfter = computeSelAfterChange(doc, change);\n    if (doc.cm) makeChangeSingleDocInEditor(doc.cm, change, spans);\n    else updateDoc(doc, change, spans);\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function(line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true;\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      signalCursorActivity(cm);\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function(line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) cm.curOp.updateMaxLine = true;\n    }\n\n    // Adjust frontier, schedule worker\n    doc.frontier = Math.min(doc.frontier, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      regChange(cm);\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      regLineChange(cm, from.line, \"text\");\n    else\n      regChange(cm, from.line, to.line + 1, lendiff);\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) signalLater(cm, \"change\", cm, obj);\n      if (changesHandler) (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    if (!to) to = from;\n    if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp; }\n    if (typeof code == \"string\") code = doc.splitLines(code);\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, coords) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) return;\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (coords.top + box.top < 0) doScroll = true;\n    else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) doScroll = false;\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, \"position: absolute; top: \" +\n                           (coords.top - display.viewOffset - paddingTop(cm.display)) + \"px; height: \" +\n                           (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + \"px; left: \" +\n                           coords.left + \"px; width: 2px;\");\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) margin = 0;\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false, coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),\n                                         Math.min(coords.top, endCoords.top) - margin,\n                                         Math.max(coords.left, endCoords.left),\n                                         Math.max(coords.bottom, endCoords.bottom) + margin);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        setScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) changed = true;\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) changed = true;\n      }\n      if (!changed) break;\n    }\n    return coords;\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, x1, y1, x2, y2) {\n    var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2);\n    if (scrollPos.scrollTop != null) setScrollTop(cm, scrollPos.scrollTop);\n    if (scrollPos.scrollLeft != null) setScrollLeft(cm, scrollPos.scrollLeft);\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, x1, y1, x2, y2) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (y1 < 0) y1 = 0;\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (y2 - y1 > screen) y2 = y1 + screen;\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin;\n    if (y1 < screentop) {\n      result.scrollTop = atTop ? 0 : y1;\n    } else if (y2 > screentop + screen) {\n      var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen);\n      if (newTop != screentop) result.scrollTop = newTop;\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = x2 - x1 > screenw;\n    if (tooWide) x2 = x1 + screenw;\n    if (x1 < 10)\n      result.scrollLeft = 0;\n    else if (x1 < screenleft)\n      result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10));\n    else if (x2 > screenw + screenleft - 3)\n      result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw;\n    return result;\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollPos(cm, left, top) {\n    if (left != null || top != null) resolveScrollToPos(cm);\n    if (left != null)\n      cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left;\n    if (top != null)\n      cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor(), from = cur, to = cur;\n    if (!cm.options.lineWrapping) {\n      from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur;\n      to = Pos(cur.line, cur.ch + 1);\n    }\n    cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true};\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),\n                                    Math.min(from.top, to.top) - range.margin,\n                                    Math.max(from.right, to.right),\n                                    Math.max(from.bottom, to.bottom) + range.margin);\n      cm.scrollTo(sPos.scrollLeft, sPos.scrollTop);\n    }\n  }\n\n  // API UTILITIES\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) how = \"add\";\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) how = \"prev\";\n      else state = getStateBefore(cm, n);\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) line.stateAfter = null;\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) return;\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) indentation = countColumn(getLine(doc, n-1).text, null, tabSize);\n      else indentation = 0;\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";}\n    if (pos < indentation) indentString += spaceStr(indentation - pos);\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true;\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i = 0; i < doc.sel.ranges.length; i++) {\n        var range = doc.sel.ranges[i];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i, new Range(pos, pos));\n          break;\n        }\n      }\n    }\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") line = getLine(doc, clipLine(doc, handle));\n    else no = lineNo(handle);\n    if (no == null) return null;\n    if (op(line, no) && doc.cm) regLineChange(doc.cm, no, changeType);\n    return line;\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break;\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function() {\n      for (var i = kill.length - 1; i >= 0; i--)\n        replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\");\n      ensureCursorVisible(cm);\n    });\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var line = pos.line, ch = pos.ch, origDir = dir;\n    var lineObj = getLine(doc, line);\n    function findNextLine() {\n      var l = line + dir;\n      if (l < doc.first || l >= doc.first + doc.size) return false\n      line = l;\n      return lineObj = getLine(doc, l);\n    }\n    function moveOnce(boundToLine) {\n      var next = (visually ? moveVisually : moveLogically)(lineObj, ch, dir, true);\n      if (next == null) {\n        if (!boundToLine && findNextLine()) {\n          if (visually) ch = (dir < 0 ? lineRight : lineLeft)(lineObj);\n          else ch = dir < 0 ? lineObj.text.length : 0;\n        } else return false\n      } else ch = next;\n      return true;\n    }\n\n    if (unit == \"char\") {\n      moveOnce()\n    } else if (unit == \"column\") {\n      moveOnce(true)\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) break;\n        var cur = lineObj.text.charAt(ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) type = \"s\";\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce();}\n          break;\n        }\n\n        if (type) sawType = type;\n        if (dir > 0 && !moveOnce(!first)) break;\n      }\n    }\n    var result = skipAtomic(doc, Pos(line, ch), pos, origDir, true);\n    if (!cmp(pos, result)) result.hitSide = true;\n    return result;\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      y = pos.top + dir * (pageSize - (dir < 0 ? 1.5 : .5) * textHeight(cm.display));\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    for (;;) {\n      var target = coordsChar(cm, x, y);\n      if (!target.outside) break;\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break; }\n      y += dir * 5;\n    }\n    return target;\n  }\n\n  // EDITOR METHODS\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  CodeMirror.prototype = {\n    constructor: CodeMirror,\n    focus: function(){window.focus(); this.display.input.focus();},\n\n    setOption: function(option, value) {\n      var options = this.options, old = options[option];\n      if (options[option] == value && option != \"mode\") return;\n      options[option] = value;\n      if (optionHandlers.hasOwnProperty(option))\n        operation(this, optionHandlers[option])(this, value, old);\n    },\n\n    getOption: function(option) {return this.options[option];},\n    getDoc: function() {return this.doc;},\n\n    addKeyMap: function(map, bottom) {\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n    },\n    removeKeyMap: function(map) {\n      var maps = this.state.keyMaps;\n      for (var i = 0; i < maps.length; ++i)\n        if (maps[i] == map || maps[i].name == map) {\n          maps.splice(i, 1);\n          return true;\n        }\n    },\n\n    addOverlay: methodOp(function(spec, options) {\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n      if (mode.startState) throw new Error(\"Overlays may not be stateful.\");\n      this.state.overlays.push({mode: mode, modeSpec: spec, opaque: options && options.opaque});\n      this.state.modeGen++;\n      regChange(this);\n    }),\n    removeOverlay: methodOp(function(spec) {\n      var overlays = this.state.overlays;\n      for (var i = 0; i < overlays.length; ++i) {\n        var cur = overlays[i].modeSpec;\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n          overlays.splice(i, 1);\n          this.state.modeGen++;\n          regChange(this);\n          return;\n        }\n      }\n    }),\n\n    indentLine: methodOp(function(n, dir, aggressive) {\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\n        if (dir == null) dir = this.options.smartIndent ? \"smart\" : \"prev\";\n        else dir = dir ? \"add\" : \"subtract\";\n      }\n      if (isLine(this.doc, n)) indentLine(this, n, dir, aggressive);\n    }),\n    indentSelection: methodOp(function(how) {\n      var ranges = this.doc.sel.ranges, end = -1;\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n        if (!range.empty()) {\n          var from = range.from(), to = range.to();\n          var start = Math.max(end, from.line);\n          end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n          for (var j = start; j < end; ++j)\n            indentLine(this, j, how);\n          var newRanges = this.doc.sel.ranges;\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n            replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);\n        } else if (range.head.line > end) {\n          indentLine(this, range.head.line, how, true);\n          end = range.head.line;\n          if (i == this.doc.sel.primIndex) ensureCursorVisible(this);\n        }\n      }\n    }),\n\n    // Fetch the parser token for a given character. Useful for hacks\n    // that want to inspect the mode state (say, for completion).\n    getTokenAt: function(pos, precise) {\n      return takeToken(this, pos, precise);\n    },\n\n    getLineTokens: function(line, precise) {\n      return takeToken(this, Pos(line), precise, true);\n    },\n\n    getTokenTypeAt: function(pos) {\n      pos = clipPos(this.doc, pos);\n      var styles = getLineStyles(this, getLine(this.doc, pos.line));\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n      var type;\n      if (ch == 0) type = styles[2];\n      else for (;;) {\n        var mid = (before + after) >> 1;\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) after = mid;\n        else if (styles[mid * 2 + 1] < ch) before = mid + 1;\n        else { type = styles[mid * 2 + 2]; break; }\n      }\n      var cut = type ? type.indexOf(\"cm-overlay \") : -1;\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);\n    },\n\n    getModeAt: function(pos) {\n      var mode = this.doc.mode;\n      if (!mode.innerMode) return mode;\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;\n    },\n\n    getHelper: function(pos, type) {\n      return this.getHelpers(pos, type)[0];\n    },\n\n    getHelpers: function(pos, type) {\n      var found = [];\n      if (!helpers.hasOwnProperty(type)) return found;\n      var help = helpers[type], mode = this.getModeAt(pos);\n      if (typeof mode[type] == \"string\") {\n        if (help[mode[type]]) found.push(help[mode[type]]);\n      } else if (mode[type]) {\n        for (var i = 0; i < mode[type].length; i++) {\n          var val = help[mode[type][i]];\n          if (val) found.push(val);\n        }\n      } else if (mode.helperType && help[mode.helperType]) {\n        found.push(help[mode.helperType]);\n      } else if (help[mode.name]) {\n        found.push(help[mode.name]);\n      }\n      for (var i = 0; i < help._global.length; i++) {\n        var cur = help._global[i];\n        if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n          found.push(cur.val);\n      }\n      return found;\n    },\n\n    getStateAfter: function(line, precise) {\n      var doc = this.doc;\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n      return getStateBefore(this, line + 1, precise);\n    },\n\n    cursorCoords: function(start, mode) {\n      var pos, range = this.doc.sel.primary();\n      if (start == null) pos = range.head;\n      else if (typeof start == \"object\") pos = clipPos(this.doc, start);\n      else pos = start ? range.from() : range.to();\n      return cursorCoords(this, pos, mode || \"page\");\n    },\n\n    charCoords: function(pos, mode) {\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\");\n    },\n\n    coordsChar: function(coords, mode) {\n      coords = fromCoordSystem(this, coords, mode || \"page\");\n      return coordsChar(this, coords.left, coords.top);\n    },\n\n    lineAtHeight: function(height, mode) {\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n      return lineAtHeight(this.doc, height + this.display.viewOffset);\n    },\n    heightAtLine: function(line, mode) {\n      var end = false, lineObj;\n      if (typeof line == \"number\") {\n        var last = this.doc.first + this.doc.size - 1;\n        if (line < this.doc.first) line = this.doc.first;\n        else if (line > last) { line = last; end = true; }\n        lineObj = getLine(this.doc, line);\n      } else {\n        lineObj = line;\n      }\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\").top +\n        (end ? this.doc.height - heightAtLine(lineObj) : 0);\n    },\n\n    defaultTextHeight: function() { return textHeight(this.display); },\n    defaultCharWidth: function() { return charWidth(this.display); },\n\n    setGutterMarker: methodOp(function(line, gutterID, value) {\n      return changeLine(this.doc, line, \"gutter\", function(line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) line.gutterMarkers = null;\n        return true;\n      });\n    }),\n\n    clearGutter: methodOp(function(gutterID) {\n      var cm = this, doc = cm.doc, i = doc.first;\n      doc.iter(function(line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          line.gutterMarkers[gutterID] = null;\n          regLineChange(cm, i, \"gutter\");\n          if (isEmpty(line.gutterMarkers)) line.gutterMarkers = null;\n        }\n        ++i;\n      });\n    }),\n\n    lineInfo: function(line) {\n      if (typeof line == \"number\") {\n        if (!isLine(this.doc, line)) return null;\n        var n = line;\n        line = getLine(this.doc, line);\n        if (!line) return null;\n      } else {\n        var n = lineNo(line);\n        if (n == null) return null;\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets};\n    },\n\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo};},\n\n    addWidget: function(pos, node, scroll, vert, horiz) {\n      var display = this.display;\n      pos = cursorCoords(this, clipPos(this.doc, pos));\n      var top = pos.bottom, left = pos.left;\n      node.style.position = \"absolute\";\n      node.setAttribute(\"cm-ignore-events\", \"true\");\n      this.display.input.setUneditable(node);\n      display.sizer.appendChild(node);\n      if (vert == \"over\") {\n        top = pos.top;\n      } else if (vert == \"above\" || vert == \"near\") {\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n          top = pos.top - node.offsetHeight;\n        else if (pos.bottom + node.offsetHeight <= vspace)\n          top = pos.bottom;\n        if (left + node.offsetWidth > hspace)\n          left = hspace - node.offsetWidth;\n      }\n      node.style.top = top + \"px\";\n      node.style.left = node.style.right = \"\";\n      if (horiz == \"right\") {\n        left = display.sizer.clientWidth - node.offsetWidth;\n        node.style.right = \"0px\";\n      } else {\n        if (horiz == \"left\") left = 0;\n        else if (horiz == \"middle\") left = (display.sizer.clientWidth - node.offsetWidth) / 2;\n        node.style.left = left + \"px\";\n      }\n      if (scroll)\n        scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight);\n    },\n\n    triggerOnKeyDown: methodOp(onKeyDown),\n    triggerOnKeyPress: methodOp(onKeyPress),\n    triggerOnKeyUp: onKeyUp,\n\n    execCommand: function(cmd) {\n      if (commands.hasOwnProperty(cmd))\n        return commands[cmd].call(null, this);\n    },\n\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n    findPosH: function(from, amount, unit, visually) {\n      var dir = 1;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {\n        cur = findPosH(this.doc, cur, dir, unit, visually);\n        if (cur.hitSide) break;\n      }\n      return cur;\n    },\n\n    moveH: methodOp(function(dir, unit) {\n      var cm = this;\n      cm.extendSelectionsBy(function(range) {\n        if (cm.display.shift || cm.doc.extend || range.empty())\n          return findPosH(cm.doc, range.head, dir, unit, cm.options.rtlMoveVisually);\n        else\n          return dir < 0 ? range.from() : range.to();\n      }, sel_move);\n    }),\n\n    deleteH: methodOp(function(dir, unit) {\n      var sel = this.doc.sel, doc = this.doc;\n      if (sel.somethingSelected())\n        doc.replaceSelection(\"\", null, \"+delete\");\n      else\n        deleteNearSelection(this, function(range) {\n          var other = findPosH(doc, range.head, dir, unit, false);\n          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other};\n        });\n    }),\n\n    findPosV: function(from, amount, unit, goalColumn) {\n      var dir = 1, x = goalColumn;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {\n        var coords = cursorCoords(this, cur, \"div\");\n        if (x == null) x = coords.left;\n        else coords.left = x;\n        cur = findPosV(this, coords, dir, unit);\n        if (cur.hitSide) break;\n      }\n      return cur;\n    },\n\n    moveV: methodOp(function(dir, unit) {\n      var cm = this, doc = this.doc, goals = [];\n      var collapse = !cm.display.shift && !doc.extend && doc.sel.somethingSelected();\n      doc.extendSelectionsBy(function(range) {\n        if (collapse)\n          return dir < 0 ? range.from() : range.to();\n        var headPos = cursorCoords(cm, range.head, \"div\");\n        if (range.goalColumn != null) headPos.left = range.goalColumn;\n        goals.push(headPos.left);\n        var pos = findPosV(cm, headPos, dir, unit);\n        if (unit == \"page\" && range == doc.sel.primary())\n          addToScrollPos(cm, null, charCoords(cm, pos, \"div\").top - headPos.top);\n        return pos;\n      }, sel_move);\n      if (goals.length) for (var i = 0; i < doc.sel.ranges.length; i++)\n        doc.sel.ranges[i].goalColumn = goals[i];\n    }),\n\n    // Find the word at the given position (as returned by coordsChar).\n    findWordAt: function(pos) {\n      var doc = this.doc, line = getLine(doc, pos.line).text;\n      var start = pos.ch, end = pos.ch;\n      if (line) {\n        var helper = this.getHelper(pos, \"wordChars\");\n        if ((pos.xRel < 0 || end == line.length) && start) --start; else ++end;\n        var startChar = line.charAt(start);\n        var check = isWordChar(startChar, helper)\n          ? function(ch) { return isWordChar(ch, helper); }\n          : /\\s/.test(startChar) ? function(ch) {return /\\s/.test(ch);}\n          : function(ch) {return !/\\s/.test(ch) && !isWordChar(ch);};\n        while (start > 0 && check(line.charAt(start - 1))) --start;\n        while (end < line.length && check(line.charAt(end))) ++end;\n      }\n      return new Range(Pos(pos.line, start), Pos(pos.line, end));\n    },\n\n    toggleOverwrite: function(value) {\n      if (value != null && value == this.state.overwrite) return;\n      if (this.state.overwrite = !this.state.overwrite)\n        addClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n      else\n        rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n\n      signal(this, \"overwriteToggle\", this, this.state.overwrite);\n    },\n    hasFocus: function() { return this.display.input.getField() == activeElt(); },\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit); },\n\n    scrollTo: methodOp(function(x, y) {\n      if (x != null || y != null) resolveScrollToPos(this);\n      if (x != null) this.curOp.scrollLeft = x;\n      if (y != null) this.curOp.scrollTop = y;\n    }),\n    getScrollInfo: function() {\n      var scroller = this.display.scroller;\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)};\n    },\n\n    scrollIntoView: methodOp(function(range, margin) {\n      if (range == null) {\n        range = {from: this.doc.sel.primary().head, to: null};\n        if (margin == null) margin = this.options.cursorScrollMargin;\n      } else if (typeof range == \"number\") {\n        range = {from: Pos(range, 0), to: null};\n      } else if (range.from == null) {\n        range = {from: range, to: null};\n      }\n      if (!range.to) range.to = range.from;\n      range.margin = margin || 0;\n\n      if (range.from.line != null) {\n        resolveScrollToPos(this);\n        this.curOp.scrollToPos = range;\n      } else {\n        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),\n                                      Math.min(range.from.top, range.to.top) - range.margin,\n                                      Math.max(range.from.right, range.to.right),\n                                      Math.max(range.from.bottom, range.to.bottom) + range.margin);\n        this.scrollTo(sPos.scrollLeft, sPos.scrollTop);\n      }\n    }),\n\n    setSize: methodOp(function(width, height) {\n      var cm = this;\n      function interpret(val) {\n        return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val;\n      }\n      if (width != null) cm.display.wrapper.style.width = interpret(width);\n      if (height != null) cm.display.wrapper.style.height = interpret(height);\n      if (cm.options.lineWrapping) clearLineMeasurementCache(this);\n      var lineNo = cm.display.viewFrom;\n      cm.doc.iter(lineNo, cm.display.viewTo, function(line) {\n        if (line.widgets) for (var i = 0; i < line.widgets.length; i++)\n          if (line.widgets[i].noHScroll) { regLineChange(cm, lineNo, \"widget\"); break; }\n        ++lineNo;\n      });\n      cm.curOp.forceUpdate = true;\n      signal(cm, \"refresh\", this);\n    }),\n\n    operation: function(f){return runInOp(this, f);},\n\n    refresh: methodOp(function() {\n      var oldHeight = this.display.cachedTextHeight;\n      regChange(this);\n      this.curOp.forceUpdate = true;\n      clearCaches(this);\n      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop);\n      updateGutterSpace(this);\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n        estimateLineHeights(this);\n      signal(this, \"refresh\", this);\n    }),\n\n    swapDoc: methodOp(function(doc) {\n      var old = this.doc;\n      old.cm = null;\n      attachDoc(this, doc);\n      clearCaches(this);\n      this.display.input.reset();\n      this.scrollTo(doc.scrollLeft, doc.scrollTop);\n      this.curOp.forceScroll = true;\n      signalLater(this, \"swapDoc\", this, old);\n      return old;\n    }),\n\n    getInputField: function(){return this.display.input.getField();},\n    getWrapperElement: function(){return this.display.wrapper;},\n    getScrollerElement: function(){return this.display.scroller;},\n    getGutterElement: function(){return this.display.gutters;}\n  };\n  eventMixin(CodeMirror);\n\n  // OPTION DEFAULTS\n\n  // The default configuration options.\n  var defaults = CodeMirror.defaults = {};\n  // Functions to run when options are changed.\n  var optionHandlers = CodeMirror.optionHandlers = {};\n\n  function option(name, deflt, handle, notOnInit) {\n    CodeMirror.defaults[name] = deflt;\n    if (handle) optionHandlers[name] =\n      notOnInit ? function(cm, val, old) {if (old != Init) handle(cm, val, old);} : handle;\n  }\n\n  // Passed to option handlers when there is no old value.\n  var Init = CodeMirror.Init = {toString: function(){return \"CodeMirror.Init\";}};\n\n  // These two are, on init, called from the constructor because they\n  // have to be initialized before the editor can start at all.\n  option(\"value\", \"\", function(cm, val) {\n    cm.setValue(val);\n  }, true);\n  option(\"mode\", null, function(cm, val) {\n    cm.doc.modeOption = val;\n    loadMode(cm);\n  }, true);\n\n  option(\"indentUnit\", 2, loadMode, true);\n  option(\"indentWithTabs\", false);\n  option(\"smartIndent\", true);\n  option(\"tabSize\", 4, function(cm) {\n    resetModeState(cm);\n    clearCaches(cm);\n    regChange(cm);\n  }, true);\n  option(\"lineSeparator\", null, function(cm, val) {\n    cm.doc.lineSep = val;\n    if (!val) return;\n    var newBreaks = [], lineNo = cm.doc.first;\n    cm.doc.iter(function(line) {\n      for (var pos = 0;;) {\n        var found = line.text.indexOf(val, pos);\n        if (found == -1) break;\n        pos = found + val.length;\n        newBreaks.push(Pos(lineNo, found));\n      }\n      lineNo++;\n    });\n    for (var i = newBreaks.length - 1; i >= 0; i--)\n      replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length))\n  });\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f\\u00ad\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function(cm, val, old) {\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n    if (old != CodeMirror.Init) cm.refresh();\n  });\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function(cm) {cm.refresh();}, true);\n  option(\"electricChars\", true);\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function() {\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\"); // FIXME\n  }, true);\n  option(\"rtlMoveVisually\", !windows);\n  option(\"wholeLineUpdateBefore\", true);\n\n  option(\"theme\", \"default\", function(cm) {\n    themeChanged(cm);\n    guttersChanged(cm);\n  }, true);\n  option(\"keyMap\", \"default\", function(cm, val, old) {\n    var next = getKeyMap(val);\n    var prev = old != CodeMirror.Init && getKeyMap(old);\n    if (prev && prev.detach) prev.detach(cm, next);\n    if (next.attach) next.attach(cm, prev || null);\n  });\n  option(\"extraKeys\", null);\n\n  option(\"lineWrapping\", false, wrappingChanged, true);\n  option(\"gutters\", [], function(cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"fixedGutter\", true, function(cm, val) {\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n    cm.refresh();\n  }, true);\n  option(\"coverGutterNextToScrollbar\", false, function(cm) {updateScrollbars(cm);}, true);\n  option(\"scrollbarStyle\", \"native\", function(cm) {\n    initScrollbars(cm);\n    updateScrollbars(cm);\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n  }, true);\n  option(\"lineNumbers\", false, function(cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"firstLineNumber\", 1, guttersChanged, true);\n  option(\"lineNumberFormatter\", function(integer) {return integer;}, guttersChanged, true);\n  option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n  option(\"resetSelectionOnContextMenu\", true);\n  option(\"lineWiseCopyCut\", true);\n\n  option(\"readOnly\", false, function(cm, val) {\n    if (val == \"nocursor\") {\n      onBlur(cm);\n      cm.display.input.blur();\n      cm.display.disabled = true;\n    } else {\n      cm.display.disabled = false;\n    }\n    cm.display.input.readOnlyChanged(val)\n  });\n  option(\"disableInput\", false, function(cm, val) {if (!val) cm.display.input.reset();}, true);\n  option(\"dragDrop\", true, dragDropChanged);\n  option(\"allowDropFileTypes\", null);\n\n  option(\"cursorBlinkRate\", 530);\n  option(\"cursorScrollMargin\", 0);\n  option(\"cursorHeight\", 1, updateSelection, true);\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n  option(\"workTime\", 100);\n  option(\"workDelay\", 100);\n  option(\"flattenSpans\", true, resetModeState, true);\n  option(\"addModeClass\", false, resetModeState, true);\n  option(\"pollInterval\", 100);\n  option(\"undoDepth\", 200, function(cm, val){cm.doc.history.undoDepth = val;});\n  option(\"historyEventDelay\", 1250);\n  option(\"viewportMargin\", 10, function(cm){cm.refresh();}, true);\n  option(\"maxHighlightLength\", 10000, resetModeState, true);\n  option(\"moveInputWithCursor\", true, function(cm, val) {\n    if (!val) cm.display.input.resetPosition();\n  });\n\n  option(\"tabindex\", null, function(cm, val) {\n    cm.display.input.getField().tabIndex = val || \"\";\n  });\n  option(\"autofocus\", null);\n\n  // MODE DEFINITION AND QUERYING\n\n  // Known modes, by name and by MIME\n  var modes = CodeMirror.modes = {}, mimeModes = CodeMirror.mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name, mode) {\n    if (!CodeMirror.defaults.mode && name != \"null\") CodeMirror.defaults.mode = name;\n    if (arguments.length > 2)\n      mode.dependencies = Array.prototype.slice.call(arguments, 2);\n    modes[name] = mode;\n  };\n\n  CodeMirror.defineMIME = function(mime, spec) {\n    mimeModes[mime] = spec;\n  };\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  CodeMirror.resolveMode = function(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") found = {name: found};\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return CodeMirror.resolveMode(\"application/xml\");\n    }\n    if (typeof spec == \"string\") return {name: spec};\n    else return spec || {name: \"null\"};\n  };\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  CodeMirror.getMode = function(options, spec) {\n    var spec = CodeMirror.resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) return CodeMirror.getMode(options, \"text/plain\");\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) continue;\n        if (modeObj.hasOwnProperty(prop)) modeObj[\"_\" + prop] = modeObj[prop];\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) modeObj.helperType = spec.helperType;\n    if (spec.modeProps) for (var prop in spec.modeProps)\n      modeObj[prop] = spec.modeProps[prop];\n\n    return modeObj;\n  };\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function() {\n    return {token: function(stream) {stream.skipToEnd();}};\n  });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = CodeMirror.modeExtensions = {};\n  CodeMirror.extendMode = function(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  };\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function(name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function(name, func) {\n    Doc.prototype[name] = func;\n  };\n  CodeMirror.defineOption = option;\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function(f) {initHooks.push(f);};\n\n  var helpers = CodeMirror.helpers = {};\n  CodeMirror.registerHelper = function(type, name, value) {\n    if (!helpers.hasOwnProperty(type)) helpers[type] = CodeMirror[type] = {_global: []};\n    helpers[type][name] = value;\n  };\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n    CodeMirror.registerHelper(type, name, value);\n    helpers[type]._global.push({pred: predicate, val: value});\n  };\n\n  // MODE STATE HANDLING\n\n  // Utility functions for working with state. Exported because nested\n  // modes need to do this for their inner modes.\n\n  var copyState = CodeMirror.copyState = function(mode, state) {\n    if (state === true) return state;\n    if (mode.copyState) return mode.copyState(state);\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) val = val.concat([]);\n      nstate[n] = val;\n    }\n    return nstate;\n  };\n\n  var startState = CodeMirror.startState = function(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true;\n  };\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  CodeMirror.innerMode = function(mode, state) {\n    while (mode.innerMode) {\n      var info = mode.innerMode(state);\n      if (!info || info.mode == mode) break;\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state};\n  };\n\n  // STANDARD COMMANDS\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = CodeMirror.commands = {\n    selectAll: function(cm) {cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);},\n    singleSelection: function(cm) {\n      cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll);\n    },\n    killLine: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        if (range.empty()) {\n          var len = getLine(cm.doc, range.head.line).text.length;\n          if (range.head.ch == len && range.head.line < cm.lastLine())\n            return {from: range.head, to: Pos(range.head.line + 1, 0)};\n          else\n            return {from: range.head, to: Pos(range.head.line, len)};\n        } else {\n          return {from: range.from(), to: range.to()};\n        }\n      });\n    },\n    deleteLine: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        return {from: Pos(range.from().line, 0),\n                to: clipPos(cm.doc, Pos(range.to().line + 1, 0))};\n      });\n    },\n    delLineLeft: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        return {from: Pos(range.from().line, 0), to: range.from()};\n      });\n    },\n    delWrappedLineLeft: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n        return {from: leftPos, to: range.from()};\n      });\n    },\n    delWrappedLineRight: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n        return {from: range.from(), to: rightPos };\n      });\n    },\n    undo: function(cm) {cm.undo();},\n    redo: function(cm) {cm.redo();},\n    undoSelection: function(cm) {cm.undoSelection();},\n    redoSelection: function(cm) {cm.redoSelection();},\n    goDocStart: function(cm) {cm.extendSelection(Pos(cm.firstLine(), 0));},\n    goDocEnd: function(cm) {cm.extendSelection(Pos(cm.lastLine()));},\n    goLineStart: function(cm) {\n      cm.extendSelectionsBy(function(range) { return lineStart(cm, range.head.line); },\n                            {origin: \"+move\", bias: 1});\n    },\n    goLineStartSmart: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        return lineStartSmart(cm, range.head);\n      }, {origin: \"+move\", bias: 1});\n    },\n    goLineEnd: function(cm) {\n      cm.extendSelectionsBy(function(range) { return lineEnd(cm, range.head.line); },\n                            {origin: \"+move\", bias: -1});\n    },\n    goLineRight: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      }, sel_move);\n    },\n    goLineLeft: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({left: 0, top: top}, \"div\");\n      }, sel_move);\n    },\n    goLineLeftSmart: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n        if (pos.ch < cm.getLine(pos.line).search(/\\S/)) return lineStartSmart(cm, range.head);\n        return pos;\n      }, sel_move);\n    },\n    goLineUp: function(cm) {cm.moveV(-1, \"line\");},\n    goLineDown: function(cm) {cm.moveV(1, \"line\");},\n    goPageUp: function(cm) {cm.moveV(-1, \"page\");},\n    goPageDown: function(cm) {cm.moveV(1, \"page\");},\n    goCharLeft: function(cm) {cm.moveH(-1, \"char\");},\n    goCharRight: function(cm) {cm.moveH(1, \"char\");},\n    goColumnLeft: function(cm) {cm.moveH(-1, \"column\");},\n    goColumnRight: function(cm) {cm.moveH(1, \"column\");},\n    goWordLeft: function(cm) {cm.moveH(-1, \"word\");},\n    goGroupRight: function(cm) {cm.moveH(1, \"group\");},\n    goGroupLeft: function(cm) {cm.moveH(-1, \"group\");},\n    goWordRight: function(cm) {cm.moveH(1, \"word\");},\n    delCharBefore: function(cm) {cm.deleteH(-1, \"char\");},\n    delCharAfter: function(cm) {cm.deleteH(1, \"char\");},\n    delWordBefore: function(cm) {cm.deleteH(-1, \"word\");},\n    delWordAfter: function(cm) {cm.deleteH(1, \"word\");},\n    delGroupBefore: function(cm) {cm.deleteH(-1, \"group\");},\n    delGroupAfter: function(cm) {cm.deleteH(1, \"group\");},\n    indentAuto: function(cm) {cm.indentSelection(\"smart\");},\n    indentMore: function(cm) {cm.indentSelection(\"add\");},\n    indentLess: function(cm) {cm.indentSelection(\"subtract\");},\n    insertTab: function(cm) {cm.replaceSelection(\"\\t\");},\n    insertSoftTab: function(cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function(cm) {\n      if (cm.somethingSelected()) cm.indentSelection(\"add\");\n      else cm.execCommand(\"insertTab\");\n    },\n    transposeChars: function(cm) {\n      runInOp(cm, function() {\n        var ranges = cm.listSelections(), newSel = [];\n        for (var i = 0; i < ranges.length; i++) {\n          var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n          if (line) {\n            if (cur.ch == line.length) cur = new Pos(cur.line, cur.ch - 1);\n            if (cur.ch > 0) {\n              cur = new Pos(cur.line, cur.ch + 1);\n              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                              Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n            } else if (cur.line > cm.doc.first) {\n              var prev = getLine(cm.doc, cur.line - 1).text;\n              if (prev)\n                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                                prev.charAt(prev.length - 1),\n                                Pos(cur.line - 1, prev.length - 1), Pos(cur.line, 1), \"+transpose\");\n            }\n          }\n          newSel.push(new Range(cur, cur));\n        }\n        cm.setSelections(newSel);\n      });\n    },\n    newlineAndIndent: function(cm) {\n      runInOp(cm, function() {\n        var len = cm.listSelections().length;\n        for (var i = 0; i < len; i++) {\n          var range = cm.listSelections()[i];\n          cm.replaceRange(cm.doc.lineSeparator(), range.anchor, range.head, \"+input\");\n          cm.indentLine(range.from().line + 1, null, true);\n        }\n        ensureCursorVisible(cm);\n      });\n    },\n    openLine: function(cm) {cm.replaceSelection(\"\\n\", \"start\")},\n    toggleOverwrite: function(cm) {cm.toggleOverwrite();}\n  };\n\n\n  // STANDARD KEYMAPS\n\n  var keyMap = CodeMirror.keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    fallthrough: \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    fallthrough: [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/), name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) cmd = true;\n      else if (/^a(lt)?$/i.test(mod)) alt = true;\n      else if (/^(c|ctrl|control)$/i.test(mod)) ctrl = true;\n      else if (/^s(hift)$/i.test(mod)) shift = true;\n      else throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt) name = \"Alt-\" + name;\n    if (ctrl) name = \"Ctrl-\" + name;\n    if (cmd) name = \"Cmd-\" + name;\n    if (shift) name = \"Shift-\" + name;\n    return name;\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  CodeMirror.normalizeKeyMap = function(keymap) {\n    var copy = {};\n    for (var keyname in keymap) if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) continue;\n      if (value == \"...\") { delete keymap[keyname]; continue; }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val, name;\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) copy[name] = val;\n        else if (prev != val) throw new Error(\"Inconsistent bindings for \" + name);\n      }\n      delete keymap[keyname];\n    }\n    for (var prop in copy) keymap[prop] = copy[prop];\n    return keymap;\n  };\n\n  var lookupKey = CodeMirror.lookupKey = function(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) return \"nothing\";\n    if (found === \"...\") return \"multi\";\n    if (found != null && handle(found)) return \"handled\";\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        return lookupKey(key, map.fallthrough, handle, context);\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) return result;\n      }\n    }\n  };\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  var isModifierKey = CodeMirror.isModifierKey = function(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\n  };\n\n  // Look up the name of a key as indicated by an event object.\n  var keyName = CodeMirror.keyName = function(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) return false;\n    var base = keyNames[event.keyCode], name = base;\n    if (name == null || event.altGraphKey) return false;\n    if (event.altKey && base != \"Alt\") name = \"Alt-\" + name;\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") name = \"Ctrl-\" + name;\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") name = \"Cmd-\" + name;\n    if (!noShift && event.shiftKey && base != \"Shift\") name = \"Shift-\" + name;\n    return name;\n  };\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val;\n  }\n\n  // FROMTEXTAREA\n\n  CodeMirror.fromTextArea = function(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      options.tabindex = textarea.tabIndex;\n    if (!options.placeholder && textarea.placeholder)\n      options.placeholder = textarea.placeholder;\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form, realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function() {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function(cm) {\n      cm.save = save;\n      cm.getTextArea = function() { return textarea; };\n      cm.toTextArea = function() {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (typeof textarea.form.submit == \"function\")\n            textarea.form.submit = realSubmit;\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function(node) {\n      textarea.parentNode.insertBefore(node, textarea.nextSibling);\n    }, options);\n    return cm;\n  };\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = CodeMirror.StringStream = function(string, tabSize) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n  };\n\n  StringStream.prototype = {\n    eol: function() {return this.pos >= this.string.length;},\n    sol: function() {return this.pos == this.lineStart;},\n    peek: function() {return this.string.charAt(this.pos) || undefined;},\n    next: function() {\n      if (this.pos < this.string.length)\n        return this.string.charAt(this.pos++);\n    },\n    eat: function(match) {\n      var ch = this.string.charAt(this.pos);\n      if (typeof match == \"string\") var ok = ch == match;\n      else var ok = ch && (match.test ? match.test(ch) : match(ch));\n      if (ok) {++this.pos; return ch;}\n    },\n    eatWhile: function(match) {\n      var start = this.pos;\n      while (this.eat(match)){}\n      return this.pos > start;\n    },\n    eatSpace: function() {\n      var start = this.pos;\n      while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;\n      return this.pos > start;\n    },\n    skipToEnd: function() {this.pos = this.string.length;},\n    skipTo: function(ch) {\n      var found = this.string.indexOf(ch, this.pos);\n      if (found > -1) {this.pos = found; return true;}\n    },\n    backUp: function(n) {this.pos -= n;},\n    column: function() {\n      if (this.lastColumnPos < this.start) {\n        this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n        this.lastColumnPos = this.start;\n      }\n      return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n    },\n    indentation: function() {\n      return countColumn(this.string, null, this.tabSize) -\n        (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n    },\n    match: function(pattern, consume, caseInsensitive) {\n      if (typeof pattern == \"string\") {\n        var cased = function(str) {return caseInsensitive ? str.toLowerCase() : str;};\n        var substr = this.string.substr(this.pos, pattern.length);\n        if (cased(substr) == cased(pattern)) {\n          if (consume !== false) this.pos += pattern.length;\n          return true;\n        }\n      } else {\n        var match = this.string.slice(this.pos).match(pattern);\n        if (match && match.index > 0) return null;\n        if (match && consume !== false) this.pos += match[0].length;\n        return match;\n      }\n    },\n    current: function(){return this.string.slice(this.start, this.pos);},\n    hideFirstChars: function(n, inner) {\n      this.lineStart += n;\n      try { return inner(); }\n      finally { this.lineStart -= n; }\n    }\n  };\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  var nextMarkerId = 0;\n\n  var TextMarker = CodeMirror.TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n  eventMixin(TextMarker);\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function() {\n    if (this.explicitlyCleared) return;\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) startOperation(cm);\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) signalLater(this, \"clear\", found.from, found.to);\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) regLineChange(cm, lineNo(line), \"text\");\n      else if (cm) {\n        if (span.to != null) max = lineNo(line);\n        if (span.from != null) min = lineNo(line);\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        updateLineHeight(line, textHeight(cm.display));\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) for (var i = 0; i < this.lines.length; ++i) {\n      var visual = visualLine(this.lines[i]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    }\n\n    if (min != null && cm && this.collapsed) regChange(cm, min, max + 1);\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) reCheckSelection(cm.doc);\n    }\n    if (cm) signalLater(cm, \"markerCleared\", cm, this);\n    if (withOp) endOperation(cm);\n    if (this.parent) this.parent.clear();\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function(side, lineObj) {\n    if (side == null && this.type == \"bookmark\") side = 1;\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) return from;\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) return to;\n      }\n    }\n    return from && {from: from, to: to};\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function() {\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) return;\n    runInOp(cm, function() {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          updateLineHeight(line, line.height + dHeight);\n      }\n    });\n  };\n\n  TextMarker.prototype.attachLine = function(line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);\n    }\n    this.lines.push(line);\n  };\n  TextMarker.prototype.detachLine = function(line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) return markTextShared(doc, from, to, options, type);\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) return operation(doc.cm, markText)(doc, from, to, options, type);\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) copyObj(options, marker, false);\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      return marker;\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = elt(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\");\n      if (options.insertLeft) marker.widgetNode.insertLeft = true;\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n      sawCollapsedSpans = true;\n    }\n\n    if (marker.addToHistory)\n      addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN);\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function(line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        updateMaxLine = true;\n      if (marker.collapsed && curLine != from.line) updateLineHeight(line, 0);\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) doc.iter(from.line, to.line + 1, function(line) {\n      if (lineIsHidden(doc, line)) updateLineHeight(line, 0);\n    });\n\n    if (marker.clearOnEnter) on(marker, \"beforeCursorEnter\", function() { marker.clear(); });\n\n    if (marker.readOnly) {\n      sawReadOnlySpans = true;\n      if (doc.history.done.length || doc.history.undone.length)\n        doc.clearHistory();\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) cm.curOp.updateMaxLine = true;\n      if (marker.collapsed)\n        regChange(cm, from.line, to.line + 1);\n      else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\n        for (var i = from.line; i <= to.line; i++) regLineChange(cm, i, \"text\");\n      if (marker.atomic) reCheckSelection(cm.doc);\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker;\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = CodeMirror.SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      markers[i].parent = this;\n  };\n  eventMixin(SharedTextMarker);\n\n  SharedTextMarker.prototype.clear = function() {\n    if (this.explicitlyCleared) return;\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      this.markers[i].clear();\n    signalLater(this, \"clear\");\n  };\n  SharedTextMarker.prototype.find = function(side, lineObj) {\n    return this.primary.find(side, lineObj);\n  };\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function(doc) {\n      if (widget) options.widgetNode = widget.cloneNode(true);\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        if (doc.linked[i].isParent) return;\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary);\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())),\n                         function(m) { return m.parent; });\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], linked = [marker.primary.doc];;\n      linkedDocs(marker.primary.doc, function(d) { linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    }\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) return span;\n    }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    for (var r, i = 0; i < spans.length; ++i)\n      if (spans[i] != span) (r || (r = [])).push(spans[i]);\n    return r;\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    if (old) for (var i = 0, nw; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);\n        (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    }\n    return nw;\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    if (old) for (var i = 0, nw; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);\n        (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    }\n    return nw;\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) return null;\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) return null;\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) span.to = startCh;\n          else if (sameLine) span.to = found.to == null ? null : found.to + offset;\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i = 0; i < last.length; ++i) {\n        var span = last[i];\n        if (span.to != null) span.to += offset;\n        if (span.from == null) {\n          var found = getMarkedSpanFor(first, span.marker);\n          if (!found) {\n            span.from = offset;\n            if (sameLine) (first || (first = [])).push(span);\n          }\n        } else {\n          span.from += offset;\n          if (sameLine) (first || (first = [])).push(span);\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) first = clearEmptySpans(first);\n    if (last && last != first) last = clearEmptySpans(last);\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        for (var i = 0; i < first.length; ++i)\n          if (first[i].to == null)\n            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i].marker, null, null));\n      for (var i = 0; i < gap; ++i)\n        newMarkers.push(gapMarkers);\n      newMarkers.push(last);\n    }\n    return newMarkers;\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        spans.splice(i--, 1);\n    }\n    if (!spans.length) return null;\n    return spans;\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) return stretched;\n    if (!stretched) return old;\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            if (oldCur[k].marker == span.marker) continue spans;\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old;\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function(line) {\n      if (line.markedSpans) for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          (markers || (markers = [])).push(mark);\n      }\n    });\n    if (!markers) return null;\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) continue;\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          newParts.push({from: p.from, to: m.from});\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          newParts.push({from: m.to, to: p.to});\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 1;\n      }\n    }\n    return parts;\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) return;\n    for (var i = 0; i < spans.length; ++i)\n      spans[i].marker.detachLine(line);\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) return;\n    for (var i = 0; i < spans.length; ++i)\n      spans[i].marker.attachLine(line);\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0; }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0; }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) return lenDiff;\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) return -fromCmp;\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) return toCmp;\n    return b.id - a.id;\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) for (var sp, i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        found = sp.marker;\n    }\n    return found;\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true); }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false); }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) continue;\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) continue;\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        return true;\n    }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      line = merged.find(-1, true).line;\n    return line;\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      (lines || (lines = [])).push(line);\n    }\n    return lines;\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) return lineN;\n    return lineNo(vis);\n  }\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) return lineN;\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) return lineN;\n    while (merged = collapsedSpanAtEnd(line))\n      line = merged.find(1, true).line;\n    return lineNo(line) + 1;\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) for (var sp, i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) continue;\n      if (sp.from == null) return true;\n      if (sp.marker.widgetNode) continue;\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        return true;\n    }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      return true;\n    for (var sp, i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) return true;\n    }\n  }\n\n  // LINE WIDGETS\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = CodeMirror.LineWidget = function(doc, node, options) {\n    if (options) for (var opt in options) if (options.hasOwnProperty(opt))\n      this[opt] = options[opt];\n    this.doc = doc;\n    this.node = node;\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      addToScrollPos(cm, null, diff);\n  }\n\n  LineWidget.prototype.clear = function() {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) return;\n    for (var i = 0; i < ws.length; ++i) if (ws[i] == this) ws.splice(i--, 1);\n    if (!ws.length) line.widgets = null;\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) runInOp(cm, function() {\n      adjustScrollWhenAboveVisible(cm, line, -height);\n      regLineChange(cm, no, \"widget\");\n    });\n  };\n  LineWidget.prototype.changed = function() {\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) return;\n    updateLineHeight(line, line.height + diff);\n    if (cm) runInOp(cm, function() {\n      cm.curOp.forceUpdate = true;\n      adjustScrollWhenAboveVisible(cm, line, diff);\n    });\n  };\n\n  function widgetHeight(widget) {\n    if (widget.height != null) return widget.height;\n    var cm = widget.doc.cm;\n    if (!cm) return 0;\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\";\n      if (widget.noHScroll)\n        parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\";\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight;\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) cm.display.alignWidgets = true;\n    changeLine(doc, handle, \"widget\", function(line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) widgets.push(widget);\n      else widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) addToScrollPos(cm, null, widget.height);\n        cm.curOp.forceUpdate = true;\n      }\n      return true;\n    });\n    return widget;\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = CodeMirror.Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n  eventMixin(Line);\n  Line.prototype.lineNo = function() { return lineNo(this); };\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) line.stateAfter = null;\n    if (line.styles) line.styles = null;\n    if (line.order != null) line.order = null;\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) updateLineHeight(line, estHeight);\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) break;\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        output[prop] = lineClass[2];\n      else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n        output[prop] += \" \" + lineClass[2];\n    }\n    return type;\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) return mode.blankLine(state);\n    if (!mode.innerMode) return;\n    var inner = CodeMirror.innerMode(mode, state);\n    if (inner.mode.blankLine) return inner.mode.blankLine(inner.state);\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) inner[0] = CodeMirror.innerMode(mode, state).mode;\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) return style;\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\");\n  }\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    function getObj(copy) {\n      return {start: stream.start, end: stream.pos,\n              string: stream.current(),\n              type: style || null,\n              state: copy ? copyState(doc.mode, state) : state};\n    }\n\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize), tokens;\n    if (asArray) tokens = [];\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, state);\n      if (asArray) tokens.push(getObj(true));\n    }\n    return asArray ? tokens : getObj();\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) flattenSpans = cm.options.flattenSpans;\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") extractLineClasses(callBlankLine(mode, state), lineClasses);\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) processLine(cm, text, state, stream.pos);\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) style = \"m-\" + (style ? mName + \" \" + style : mName);\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 50000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444 characters\n      var pos = Math.min(stream.pos, curStart + 50000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, state, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, state, function(end, style) {\n      st.push(end, style);\n    }, lineClasses, forceToEnd);\n\n    // Run overlays, adjust style array.\n    for (var o = 0; o < cm.state.overlays.length; ++o) {\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      runMode(cm, line.text, overlay.mode, true, function(end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            st.splice(i, 1, end, st[i+1], i_end);\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) return;\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"cm-overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"cm-overlay \" + style;\n          }\n        }\n      }, lineClasses);\n    }\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null};\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var state = getStateBefore(cm, lineNo(line));\n      var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state);\n      line.stateAfter = state;\n      line.styles = result.styles;\n      if (result.classes) line.styleClasses = result.classes;\n      else if (line.styleClasses) line.styleClasses = null;\n      if (updateFrontier === cm.doc.frontier) cm.doc.frontier++;\n    }\n    return line.styles;\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, state, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") callBlankLine(mode, state);\n    while (!stream.eol()) {\n      readToken(mode, stream, state);\n      stream.start = stream.pos;\n    }\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) return null;\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"));\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = elt(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: elt(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order;\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))\n        builder.addToken = buildTokenBadBidi(builder.addToken, order);\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\");\n        if (line.styleClasses.textClass)\n          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\");\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);\n        (lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        builder.content.className = \"cm-tab-wrap-hack\";\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\");\n\n    return builder;\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token;\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, title, css) {\n    if (!text) return;\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      var content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) mustWrap = true;\n      builder.pos += text.length;\n    } else {\n      var content = document.createDocumentFragment(), pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) content.appendChild(elt(\"span\", [txt]));\n          else content.appendChild(txt);\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) break;\n        pos += skipped + 1;\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          var txt = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt.setAttribute(\"role\", \"presentation\");\n          txt.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          var txt = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          var txt = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) content.appendChild(elt(\"span\", [txt]));\n          else content.appendChild(txt);\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) fullStyle += startStyle;\n      if (endStyle) fullStyle += endStyle;\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (title) token.title = title;\n      return builder.content.appendChild(token);\n    }\n    builder.content.appendChild(content);\n  }\n\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) return text\n    var spaceBefore = trailingBefore, result = \"\"\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i)\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        ch = \"\\u00a0\"\n      result += ch\n      spaceBefore = ch == \" \"\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function(builder, text, style, startStyle, endStyle, title, css) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        for (var i = 0; i < order.length; i++) {\n          var part = order[i];\n          if (part.to > start && part.from <= start) break;\n        }\n        if (part.to >= end) return inner(builder, text, style, startStyle, endStyle, title, css);\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    };\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) builder.map.push(builder.pos, builder.pos + size, widget);\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        widget = builder.content.appendChild(document.createElement(\"span\"));\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i = 1; i < styles.length; i+=2)\n        builder.addToken(builder, allText.slice(at, at = styles[i]), interpretTokenStyle(styles[i+1], builder.cm.options));\n      return;\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = title = css = \"\";\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) spanStyle += \" \" + m.className;\n            if (m.css) css = (css ? css + \";\" : \"\") + m.css;\n            if (m.startStyle && sp.from == pos) spanStartStyle += \" \" + m.startStyle;\n            if (m.endStyle && sp.to == nextChange) (endStyles || (endStyles = [])).push(m.endStyle, sp.to)\n            if (m.title && !title) title = m.title;\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              collapsed = sp;\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) for (var j = 0; j < endStyles.length; j += 2)\n          if (endStyles[j + 1] == nextChange) spanEndStyle += \" \" + endStyles[j]\n\n        if (!collapsed || collapsed.from == pos) for (var j = 0; j < foundBookmarks.length; ++j)\n          buildCollapsedSpan(builder, 0, foundBookmarks[j]);\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) return;\n          if (collapsed.to == pos) collapsed = false;\n        }\n      }\n      if (pos >= len) break;\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break;}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore);\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null;}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      for (var i = start, result = []; i < end; ++i)\n        result.push(new Line(text[i], spansFor(i), estimateHeight));\n      return result;\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) doc.remove(from.line, nlines);\n      if (added.length) doc.insert(from.line, added);\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added = linesFor(1, text.length - 1);\n        added.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added = linesFor(1, text.length - 1);\n      if (nlines > 1) doc.remove(from.line + 1, nlines - 1);\n      doc.insert(from.line + 1, added);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    for (var i = 0, height = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length; },\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) lines[i].parent = this;\n    },\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        if (op(this.lines[at])) return true;\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size; },\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) break;\n          at = 0;\n        } else at -= sz;\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) this.children[i].collapse(lines);\n    },\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break;\n        }\n        at -= sz;\n      }\n    },\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) return;\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10);\n      me.parent.maybeSpill();\n    },\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) return true;\n          if ((n -= used) == 0) break;\n          at = 0;\n        } else at -= sz;\n      }\n    }\n  };\n\n  var nextDocId = 0;\n  var Doc = CodeMirror.Doc = function(text, mode, firstLine, lineSep) {\n    if (!(this instanceof Doc)) return new Doc(text, mode, firstLine, lineSep);\n    if (firstLine == null) firstLine = 0;\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.frontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.extend = false;\n\n    if (typeof text == \"string\") text = this.splitLines(text);\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) this.iterN(from - this.first, to - from, op);\n      else this.iterN(this.first, this.first + this.size, from);\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) height += lines[i].height;\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) return lines;\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      setSelection(this, simpleSelection(top));\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) return lines;\n      return lines.join(lineSep || this.lineSeparator());\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text;},\n\n    getLineHandle: function(line) {if (isLine(this, line)) return getLine(this, line);},\n    getLineNumber: function(line) {return lineNo(line);},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") line = getLine(this, line);\n      return visualLine(line);\n    },\n\n    lineCount: function() {return this.size;},\n    firstLine: function() {return this.first;},\n    lastLine: function() {return this.first + this.size - 1;},\n\n    clipPos: function(pos) {return clipPos(this, pos);},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") pos = range.head;\n      else if (start == \"anchor\") pos = range.anchor;\n      else if (start == \"end\" || start == \"to\" || start === false) pos = range.to();\n      else pos = range.from();\n      return pos;\n    },\n    listSelections: function() { return this.sel.ranges; },\n    somethingSelected: function() {return this.sel.somethingSelected();},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) return;\n      for (var i = 0, out = []; i < ranges.length; i++)\n        out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head));\n      if (primary == null) primary = Math.min(ranges.length - 1, this.sel.primIndex);\n      setSelection(this, normalizeSelection(out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) return lines;\n      else return lines.join(lineSep || this.lineSeparator());\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) sel = sel.join(lineSep || this.lineSeparator());\n        parts[i] = sel;\n      }\n      return parts;\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        dup[i] = code;\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i = changes.length - 1; i >= 0; i--)\n        makeChange(this, changes[i]);\n      if (newSel) setSelectionReplaceHistory(this, newSel);\n      else if (this.cm) ensureCursorVisible(this.cm);\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend;},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) if (!hist.done[i].ranges) ++done;\n      for (var i = 0; i < hist.undone.length; i++) if (!hist.undone[i].ranges) ++undone;\n      return {undo: done, redo: undone};\n    },\n    clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;\n      return this.history.generation;\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration);\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)};\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function(line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) line[prop] = cls;\n        else if (classTest(cls).test(line[prop])) return false;\n        else line[prop] += \" \" + cls;\n        return true;\n      });\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function(line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) return false;\n        else if (cls == null) line[prop] = null;\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) return false;\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true;\n      });\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options);\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\");\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\");\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          markers.push(span.marker.parent || span.marker);\n      }\n      return markers;\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function(line) {\n        var spans = line.markedSpans;\n        if (spans) for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            found.push(span.marker.parent || span.marker);\n        }\n        ++lineNo;\n      });\n      return found;\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function(line) {\n        var sps = line.markedSpans;\n        if (sps) for (var i = 0; i < sps.length; ++i)\n          if (sps[i].from != null) markers.push(sps[i].marker);\n      });\n      return markers;\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function(line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true; }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch));\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) return 0;\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) {\n        index += line.text.length + sepSize;\n      });\n      return index;\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc;\n    },\n\n    linkedDoc: function(options) {\n      if (!options) options = {};\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) from = options.from;\n      if (options.to != null && options.to < to) to = options.to;\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep);\n      if (options.sharedHist) copy.history = this.history;\n      (this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy;\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) other = other.doc;\n      if (this.linked) for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) continue;\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break;\n      }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function(doc) {splitIds.push(doc.id);}, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode;},\n    getEditor: function() {return this.cm;},\n\n    splitLines: function(str) {\n      if (this.lineSep) return str.split(this.lineSep);\n      return splitLinesAuto(str);\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\"; }\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments);};\n    })(Doc.prototype[prop]);\n\n  eventMixin(Doc);\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) continue;\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) continue;\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) throw new Error(\"This document is already in use.\");\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    if (!cm.options.lineWrapping) findMaxLine(cm);\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  // LINE UTILITIES\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\");\n    for (var chunk = doc; !chunk.lines;) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break; }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n];\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function(line) {\n      var text = line.text;\n      if (n == end.line) text = text.slice(0, end.ch);\n      if (n == start.line) text = text.slice(start.ch);\n      out.push(text);\n      ++n;\n    });\n    return out;\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function(line) { out.push(line.text); });\n    return out;\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) for (var n = line; n; n = n.parent) n.height += diff;\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) return null;\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) break;\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first;\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i = 0; i < chunk.children.length; ++i) {\n        var child = chunk.children[i], ch = child.height;\n        if (h < ch) { chunk = child; continue outer; }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n;\n    } while (!chunk.lines);\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) break;\n      h -= lh;\n    }\n    return n + i;\n  }\n\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) break;\n      else h += line.height;\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i = 0; i < p.children.length; ++i) {\n        var cur = p.children[i];\n        if (cur == chunk) break;\n        else h += cur.height;\n      }\n    }\n    return h;\n  }\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line) {\n    var order = line.order;\n    if (order == null) order = line.order = bidiOrdering(line.text);\n    return order;\n  }\n\n  // HISTORY\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function(doc) {attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);}, true);\n    return histChange;\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) array.pop();\n      else break;\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done);\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done);\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done);\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, ore are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      var last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        pushSelectionToHistory(doc.sel, hist.done);\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) hist.done.shift();\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) signal(doc, \"historyAdded\");\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      hist.done[hist.done.length - 1] = sel;\n    else\n      pushSelectionToHistory(sel, hist.done);\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      clearSelectionEvents(hist.undone);\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      dest.push(sel);\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function(line) {\n      if (line.markedSpans)\n        (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans;\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) return null;\n    for (var i = 0, out; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) out = spans.slice(0, i); }\n      else if (out) out.push(spans[i]);\n    }\n    return !out ? spans : out.length ? out : null;\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) return null;\n    for (var i = 0, nw = []; i < change.text.length; ++i)\n      nw.push(removeClearedSpans(found[i]));\n    return nw;\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    for (var i = 0, copy = []; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue;\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m;\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) for (var prop in change) if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        }\n      }\n    }\n    return copy;\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue;\n      }\n      for (var j = 0; j < sub.changes.length; ++j) {\n        var cur = sub.changes[j];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break;\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // EVENT UTILITIES\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  var e_preventDefault = CodeMirror.e_preventDefault = function(e) {\n    if (e.preventDefault) e.preventDefault();\n    else e.returnValue = false;\n  };\n  var e_stopPropagation = CodeMirror.e_stopPropagation = function(e) {\n    if (e.stopPropagation) e.stopPropagation();\n    else e.cancelBubble = true;\n  };\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;\n  }\n  var e_stop = CodeMirror.e_stop = function(e) {e_preventDefault(e); e_stopPropagation(e);};\n\n  function e_target(e) {return e.target || e.srcElement;}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) b = 1;\n      else if (e.button & 2) b = 3;\n      else if (e.button & 4) b = 2;\n    }\n    if (mac && e.ctrlKey && b == 1) b = 3;\n    return b;\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var on = CodeMirror.on = function(emitter, type, f) {\n    if (emitter.addEventListener)\n      emitter.addEventListener(type, f, false);\n    else if (emitter.attachEvent)\n      emitter.attachEvent(\"on\" + type, f);\n    else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      var arr = map[type] || (map[type] = []);\n      arr.push(f);\n    }\n  };\n\n  var noHandlers = []\n  function getHandlers(emitter, type, copy) {\n    var arr = emitter._handlers && emitter._handlers[type]\n    if (copy) return arr && arr.length > 0 ? arr.slice() : noHandlers\n    else return arr || noHandlers\n  }\n\n  var off = CodeMirror.off = function(emitter, type, f) {\n    if (emitter.removeEventListener)\n      emitter.removeEventListener(type, f, false);\n    else if (emitter.detachEvent)\n      emitter.detachEvent(\"on\" + type, f);\n    else {\n      var handlers = getHandlers(emitter, type, false)\n      for (var i = 0; i < handlers.length; ++i)\n        if (handlers[i] == f) { handlers.splice(i, 1); break; }\n    }\n  };\n\n  var signal = CodeMirror.signal = function(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type, true)\n    if (!handlers.length) return;\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) handlers[i].apply(null, args);\n  };\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type, false)\n    if (!arr.length) return;\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    function bnd(f) {return function(){f.apply(null, args);};};\n    for (var i = 0; i < arr.length; ++i)\n      list.push(bnd(arr[i]));\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) delayed[i]();\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      e = {type: e, preventDefault: function() { this.defaultPrevented = true; }};\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore;\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) return;\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) if (indexOf(set, arr[i]) == -1)\n      set.push(arr[i]);\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // MISC UTILITIES\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 30;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = CodeMirror.Pass = {toString: function(){return \"CodeMirror.Pass\";}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  function Delayed() {this.id = null;}\n  Delayed.prototype.set = function(ms, f) {\n    clearTimeout(this.id);\n    this.id = setTimeout(f, ms);\n  };\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  var countColumn = CodeMirror.countColumn = function(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) end = string.length;\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        return n + (end - i);\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  };\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  var findColumn = CodeMirror.findColumn = function(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) nextTab = string.length;\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        return pos + Math.min(skipped, goal - col);\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) return pos;\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      spaceStrs.push(lst(spaceStrs) + \" \");\n    return spaceStrs[n];\n  }\n\n  function lst(arr) { return arr[arr.length-1]; }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; };\n  else if (ie) // Suppress mysterious IE10 errors\n    selectInput = function(node) { try { node.select(); } catch(_e) {} };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      if (array[i] == elt) return i;\n    return -1;\n  }\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) out[i] = f(array[i], i);\n    return out;\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) copyObj(props, inst);\n    return inst;\n  };\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) target = {};\n    for (var prop in obj)\n      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        target[prop] = obj[prop];\n    return target;\n  }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args);};\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  var isWordCharBasic = CodeMirror.isWordChar = function(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n  };\n  function isWordChar(ch, helper) {\n    if (!helper) return isWordCharBasic(ch);\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) return true;\n    return helper.test(ch);\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) if (obj.hasOwnProperty(n) && obj[n]) return false;\n    return true;\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch); }\n\n  // DOM UTILITIES\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) e.className = className;\n    if (style) e.style.cssText = style;\n    if (typeof content == \"string\") e.appendChild(document.createTextNode(content));\n    else if (content) for (var i = 0; i < content.length; ++i) e.appendChild(content[i]);\n    return e;\n  }\n\n  var range;\n  if (document.createRange) range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r;\n  };\n  else range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r; }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r;\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      e.removeChild(e.firstChild);\n    return e;\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e);\n  }\n\n  var contains = CodeMirror.contains = function(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      child = child.parentNode;\n    if (parent.contains)\n      return parent.contains(child);\n    do {\n      if (child.nodeType == 11) child = child.host;\n      if (child == parent) return true;\n    } while (child = child.parentNode);\n  };\n\n  function activeElt() {\n    var activeElement = document.activeElement;\n    while (activeElement && activeElement.root && activeElement.root.activeElement)\n      activeElement = activeElement.root.activeElement;\n    return activeElement;\n  }\n  // Older versions of IE throws unspecified error when touching\n  // document.activeElement in some cases (during loading, in iframe)\n  if (ie && ie_version < 11) activeElt = function() {\n    try { return document.activeElement; }\n    catch(e) { return document.body; }\n  };\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\"); }\n  var rmClass = CodeMirror.rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n  var addClass = CodeMirror.addClass = function(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) node.className += (current ? \" \" : \"\") + cls;\n  };\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      if (as[i] && !classTest(as[i]).test(b)) b += \" \" + as[i];\n    return b;\n  }\n\n  // WINDOW-WIDE EVENTS\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.body.getElementsByClassName) return;\n    var byClass = document.body.getElementsByClassName(\"CodeMirror\");\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) f(cm);\n    }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) return;\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function() {\n      if (resizeTimer == null) resizeTimer = setTimeout(function() {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100);\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function() {\n      forEachCodeMirror(onBlur);\n    });\n  }\n\n  // FEATURE DETECTION\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) return false;\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div;\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node;\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) return badBidiRects;\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) return false; // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3);\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = CodeMirror.splitLines = \"\\n\\nb\".split(/\\n/).length != 3 ? function(string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) nl = string.length;\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result;\n  } : function(string){return string.split(/\\r\\n?|\\n/);};\n\n  var hasSelection = window.getSelection ? function(te) {\n    try { return te.selectionStart != te.selectionEnd; }\n    catch(e) { return false; }\n  } : function(te) {\n    try {var range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) return false;\n    return range.compareEndPoints(\"StartToEnd\", range) != 0;\n  };\n\n  var hasCopyEvent = (function() {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) return true;\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\";\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) return badZoomedRects;\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;\n  }\n\n  // KEY NAMES\n\n  var keyNames = CodeMirror.keyNames = {\n    3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n  (function() {\n    // Number keys\n    for (var i = 0; i < 10; i++) keyNames[i + 48] = keyNames[i + 96] = String(i);\n    // Alphabetic keys\n    for (var i = 65; i <= 90; i++) keyNames[i] = String.fromCharCode(i);\n    // Function keys\n    for (var i = 1; i <= 12; i++) keyNames[i + 111] = keyNames[i + 63235] = \"F\" + i;\n  })();\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) return f(from, to, \"ltr\");\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\");\n        found = true;\n      }\n    }\n    if (!found) f(from, to, \"ltr\");\n  }\n\n  function bidiLeft(part) { return part.level % 2 ? part.to : part.from; }\n  function bidiRight(part) { return part.level % 2 ? part.from : part.to; }\n\n  function lineLeft(line) { var order = getOrder(line); return order ? bidiLeft(order[0]) : 0; }\n  function lineRight(line) {\n    var order = getOrder(line);\n    if (!order) return line.text.length;\n    return bidiRight(lst(order));\n  }\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) lineN = lineNo(visual);\n    var order = getOrder(visual);\n    var ch = !order ? 0 : order[0].level % 2 ? lineRight(visual) : lineLeft(visual);\n    return Pos(lineN, ch);\n  }\n  function lineEnd(cm, lineN) {\n    var merged, line = getLine(cm.doc, lineN);\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      lineN = null;\n    }\n    var order = getOrder(line);\n    var ch = !order ? line.text.length : order[0].level % 2 ? lineLeft(line) : lineRight(line);\n    return Pos(lineN == null ? lineNo(line) : lineN, ch);\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS);\n    }\n    return start;\n  }\n\n  function compareBidiLevel(order, a, b) {\n    var linedir = order[0].level;\n    if (a == linedir) return true;\n    if (b == linedir) return false;\n    return a < b;\n  }\n  var bidiOther;\n  function getBidiPartAt(order, pos) {\n    bidiOther = null;\n    for (var i = 0, found; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < pos && cur.to > pos) return i;\n      if ((cur.from == pos || cur.to == pos)) {\n        if (found == null) {\n          found = i;\n        } else if (compareBidiLevel(order, cur.level, order[found].level)) {\n          if (cur.from != cur.to) bidiOther = found;\n          return i;\n        } else {\n          if (cur.from != cur.to) bidiOther = i;\n          return found;\n        }\n      }\n    }\n    return found;\n  }\n\n  function moveInLine(line, pos, dir, byUnit) {\n    if (!byUnit) return pos + dir;\n    do pos += dir;\n    while (pos > 0 && isExtendingChar(line.text.charAt(pos)));\n    return pos;\n  }\n\n  // This is needed in order to move 'visually' through bi-directional\n  // text -- i.e., pressing left should make the cursor go left, even\n  // when in RTL text. The tricky part is the 'jumps', where RTL and\n  // LTR text touch each other. This often requires the cursor offset\n  // to move more than one unit, in order to visually move one unit.\n  function moveVisually(line, start, dir, byUnit) {\n    var bidi = getOrder(line);\n    if (!bidi) return moveLogically(line, start, dir, byUnit);\n    var pos = getBidiPartAt(bidi, start), part = bidi[pos];\n    var target = moveInLine(line, start, part.level % 2 ? -dir : dir, byUnit);\n\n    for (;;) {\n      if (target > part.from && target < part.to) return target;\n      if (target == part.from || target == part.to) {\n        if (getBidiPartAt(bidi, target) == pos) return target;\n        part = bidi[pos += dir];\n        return (dir > 0) == part.level % 2 ? part.to : part.from;\n      } else {\n        part = bidi[pos += dir];\n        if (!part) return null;\n        if ((dir > 0) == part.level % 2)\n          target = moveInLine(line, part.to, -1, byUnit);\n        else\n          target = moveInLine(line, part.from, 1, byUnit);\n      }\n    }\n  }\n\n  function moveLogically(line, start, dir, byUnit) {\n    var target = start + dir;\n    if (byUnit) while (target > 0 && isExtendingChar(line.text.charAt(target))) target += dir;\n    return target < 0 || target > line.text.length ? null : target;\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6ff\n    var arabicTypes = \"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm\";\n    function charType(code) {\n      if (code <= 0xf7) return lowTypes.charAt(code);\n      else if (0x590 <= code && code <= 0x5f4) return \"R\";\n      else if (0x600 <= code && code <= 0x6ed) return arabicTypes.charAt(code - 0x600);\n      else if (0x6ee <= code && code <= 0x8ac) return \"r\";\n      else if (0x2000 <= code && code <= 0x200b) return \"w\";\n      else if (code == 0x200c) return \"b\";\n      else return \"L\";\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n    // Browsers seem to always treat the boundaries of block elements as being L.\n    var outerType = \"L\";\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str) {\n      if (!bidiRE.test(str)) return false;\n      var len = str.length, types = [];\n      for (var i = 0, type; i < len; ++i)\n        types.push(type = charType(str.charCodeAt(i)));\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i = 0, prev = outerType; i < len; ++i) {\n        var type = types[i];\n        if (type == \"m\") types[i] = prev;\n        else prev = type;\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i = 0, cur = outerType; i < len; ++i) {\n        var type = types[i];\n        if (type == \"1\" && cur == \"r\") types[i] = \"n\";\n        else if (isStrong.test(type)) { cur = type; if (type == \"r\") types[i] = \"R\"; }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i = 1, prev = types[0]; i < len - 1; ++i) {\n        var type = types[i];\n        if (type == \"+\" && prev == \"1\" && types[i+1] == \"1\") types[i] = \"1\";\n        else if (type == \",\" && prev == types[i+1] &&\n                 (prev == \"1\" || prev == \"n\")) types[i] = prev;\n        prev = type;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i = 0; i < len; ++i) {\n        var type = types[i];\n        if (type == \",\") types[i] = \"N\";\n        else if (type == \"%\") {\n          for (var end = i + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i && types[i-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i; j < end; ++j) types[j] = replace;\n          i = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i = 0, cur = outerType; i < len; ++i) {\n        var type = types[i];\n        if (cur == \"L\" && type == \"1\") types[i] = \"L\";\n        else if (isStrong.test(type)) cur = type;\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i = 0; i < len; ++i) {\n        if (isNeutral.test(types[i])) {\n          for (var end = i + 1; end < len && isNeutral.test(types[end]); ++end) {}\n          var before = (i ? types[i-1] : outerType) == \"L\";\n          var after = (end < len ? types[end] : outerType) == \"L\";\n          var replace = before || after ? \"L\" : \"R\";\n          for (var j = i; j < end; ++j) types[j] = replace;\n          i = end - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i = 0; i < len;) {\n        if (countsAsLeft.test(types[i])) {\n          var start = i;\n          for (++i; i < len && countsAsLeft.test(types[i]); ++i) {}\n          order.push(new BidiSpan(0, start, i));\n        } else {\n          var pos = i, at = order.length;\n          for (++i; i < len && types[i] != \"L\"; ++i) {}\n          for (var j = pos; j < i;) {\n            if (countsAsNum.test(types[j])) {\n              if (pos < j) order.splice(at, 0, new BidiSpan(1, pos, j));\n              var nstart = j;\n              for (++j; j < i && countsAsNum.test(types[j]); ++j) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j));\n              pos = j;\n            } else ++j;\n          }\n          if (pos < i) order.splice(at, 0, new BidiSpan(1, pos, i));\n        }\n      }\n      if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n        order[0].from = m[0].length;\n        order.unshift(new BidiSpan(0, 0, m[0].length));\n      }\n      if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n        lst(order).to -= m[0].length;\n        order.push(new BidiSpan(0, len - m[0].length, len));\n      }\n      if (order[0].level == 2)\n        order.unshift(new BidiSpan(1, order[0].to, order[0].to));\n      if (order[0].level != lst(order).level)\n        order.push(new BidiSpan(order[0].level, len, len));\n\n      return order;\n    };\n  })();\n\n  // THE END\n\n  CodeMirror.version = \"5.17.0\";\n\n  return CodeMirror;\n});\n\n},{}],15:[function(require,module,exports){\n/*!\n * jQuery JavaScript Library v2.2.4\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-05-20T17:23Z\n */\n\n(function( global, factory ) {\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n}(typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Support: Firefox 18+\n// Can't be in strict mode, several libs including ASP.NET trace\n// the stack via arguments.caller.callee and Firefox dies if\n// you try to trace through \"use strict\" call chains. (#13335)\n//\"use strict\";\nvar arr = [];\n\nvar document = window.document;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar support = {};\n\n\n\nvar\n\tversion = \"2.2.4\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android<4.1\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([\\da-z])/gi,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// Start with an empty selector\n\tselector: \"\",\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\t\treturn num != null ?\n\n\t\t\t// Return just the one element from the set\n\t\t\t( num < 0 ? this[ num + this.length ] : this[ num ] ) :\n\n\t\t\t// Return all the elements in a clean array\n\t\t\tslice.call( this );\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\t\tret.context = this.context;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = jQuery.isArray( copy ) ) ) ) {\n\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray( src ) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject( src ) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type( obj ) === \"function\";\n\t},\n\n\tisArray: Array.isArray,\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\n\t\t// parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t// adding 1 corrects loss of precision from parseFloat (#15100)\n\t\tvar realStringObj = obj && obj.toString();\n\t\treturn !jQuery.isArray( obj ) && ( realStringObj - parseFloat( realStringObj ) + 1 ) >= 0;\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\tvar key;\n\n\t\t// Not plain objects:\n\t\t// - Any object or value whose internal [[Class]] property is not \"[object Object]\"\n\t\t// - DOM nodes\n\t\t// - window\n\t\tif ( jQuery.type( obj ) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Not own constructor property must be Object\n\t\tif ( obj.constructor &&\n\t\t\t\t!hasOwn.call( obj, \"constructor\" ) &&\n\t\t\t\t!hasOwn.call( obj.constructor.prototype || {}, \"isPrototypeOf\" ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Own properties are enumerated firstly, so to speed up,\n\t\t// if last one is own, then all properties are own\n\t\tfor ( key in obj ) {}\n\n\t\treturn key === undefined || hasOwn.call( obj, key );\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn obj + \"\";\n\t\t}\n\n\t\t// Support: Android<4.0, iOS<6 (functionish RegExp)\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tvar script,\n\t\t\tindirect = eval;\n\n\t\tcode = jQuery.trim( code );\n\n\t\tif ( code ) {\n\n\t\t\t// If the code includes a valid, prologue position\n\t\t\t// strict mode pragma, execute code by injecting a\n\t\t\t// script tag into the document.\n\t\t\tif ( code.indexOf( \"use strict\" ) === 1 ) {\n\t\t\t\tscript = document.createElement( \"script\" );\n\t\t\t\tscript.text = code;\n\t\t\t\tdocument.head.appendChild( script ).parentNode.removeChild( script );\n\t\t\t} else {\n\n\t\t\t\t// Otherwise, avoid the DOM node creation, insertion\n\t\t\t\t// and removal by using an indirect global eval\n\n\t\t\t\tindirect( code );\n\t\t\t}\n\t\t}\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Support: IE9-11+\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android<4.1\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\tnow: Date.now,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\n// JSHint would error on this code due to the Symbol not being defined in ES5.\n// Defining this global in .jshintrc would create a danger of using the global\n// unguarded in another place, it seems safer to just disable JSHint for these\n// three lines.\n/* jshint ignore: start */\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n/* jshint ignore: end */\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: iOS 8.2 (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.2.1\n * http://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2015-10-17\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// General-purpose constants\n\tMAX_NEGATIVE = 1 << 31,\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// http://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\trescape = /'|\\\\/g,\n\n\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t};\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, nidselect, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!compilerCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\n\t\t\t\tif ( nodeType !== 1 ) {\n\t\t\t\t\tnewContext = context;\n\t\t\t\t\tnewSelector = selector;\n\n\t\t\t\t// qSA looks outside Element context, which is not what we want\n\t\t\t\t// Thanks to Andrew Dupont for this workaround technique\n\t\t\t\t// Support: IE <=8\n\t\t\t\t// Exclude object elements\n\t\t\t\t} else if ( context.nodeName.toLowerCase() !== \"object\" ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rescape, \"\\\\$&\" );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\tnidselect = ridentifier.test( nid ) ? \"#\" + nid : \"[id='\" + nid + \"']\";\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = nidselect + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\tif ( newSelector ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created div and expects a boolean result\n */\nfunction assert( fn ) {\n\tvar div = document.createElement(\"div\");\n\n\ttry {\n\t\treturn !!fn( div );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( div.parentNode ) {\n\t\t\tdiv.parentNode.removeChild( div );\n\t\t}\n\t\t// release memory in IE\n\t\tdiv = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\t( ~b.sourceIndex || MAX_NEGATIVE ) -\n\t\t\t( ~a.sourceIndex || MAX_NEGATIVE );\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, parent,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( (parent = document.defaultView) && parent.top !== parent ) {\n\t\t// Support: IE 11\n\t\tif ( parent.addEventListener ) {\n\t\t\tparent.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( parent.attachEvent ) {\n\t\t\tparent.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( div ) {\n\t\tdiv.className = \"i\";\n\t\treturn !div.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( div ) {\n\t\tdiv.appendChild( document.createComment(\"\") );\n\t\treturn !div.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( div ) {\n\t\tdocElem.appendChild( div ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID find and filter\n\tif ( support.getById ) {\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar m = context.getElementById( id );\n\t\t\t\treturn m ? [ m ] : [];\n\t\t\t}\n\t\t};\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t} else {\n\t\t// Support: IE6/7\n\t\t// getElementById is not reliable as a find shortcut\n\t\tdelete Expr.find[\"ID\"];\n\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See http://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( div ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// http://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( div ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( div.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !div.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibing-combinator selector` fails\n\t\t\tif ( !div.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( div ) {\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tdiv.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( div.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tdiv.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( div ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( div, \"div\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( div, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!compilerCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": function( elem ) {\n\t\t\treturn elem.disabled === false;\n\t\t},\n\n\t\t\"disabled\": function( elem ) {\n\t\t\treturn elem.disabled === true;\n\t\t},\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tcheckNonElements = base && dir === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( (oldCache = uniqueCache[ dir ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ dir ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\n\t\t\t\tExpr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( div1 ) {\n\t// Should return 1, but returns 4 (following)\n\treturn div1.compareDocumentPosition( document.createElement(\"div\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( div ) {\n\tdiv.innerHTML = \"<a href='#'></a>\";\n\treturn div.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( div ) {\n\tdiv.innerHTML = \"<input/>\";\n\tdiv.firstChild.setAttribute( \"value\", \"\" );\n\treturn div.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( div ) {\n\treturn div.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = ( /^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/ );\n\n\n\nvar risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\t/* jshint -W018 */\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\n\t}\n\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\n\t}\n\n\tif ( typeof qualifier === \"string\" ) {\n\t\tif ( risSimple.test( qualifier ) ) {\n\t\t\treturn jQuery.filter( qualifier, elements, not );\n\t\t}\n\n\t\tqualifier = jQuery.filter( qualifier, elements );\n\t}\n\n\treturn jQuery.grep( elements, function( elem ) {\n\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t} );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\treturn elems.length === 1 && elem.nodeType === 1 ?\n\t\tjQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :\n\t\tjQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\t\treturn elem.nodeType === 1;\n\t\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i,\n\t\t\tlen = this.length,\n\t\t\tret = [],\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\n\t\tret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );\n\t\tret.selector = this.selector ? this.selector + \" \" + selector : selector;\n\t\treturn ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\t// Support: Blackberry 4.6\n\t\t\t\t\t// gEBID returns nodes no longer in the document (#6963)\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.context = document;\n\t\t\t\t\tthis.selector = selector;\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis.context = this[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\tif ( selector.selector !== undefined ) {\n\t\t\tthis.selector = selector.selector;\n\t\t\tthis.context = selector.context;\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\n\t\t\t\tjQuery( selectors, context || this.context ) :\n\t\t\t\t0;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t// Always skip document fragments\n\t\t\t\tif ( cur.nodeType < 11 && ( pos ?\n\t\t\t\t\tpos.index( cur ) > -1 :\n\n\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn elem.contentDocument || jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnotwhite = ( /\\S+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( jQuery.isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && jQuery.type( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, listener list, final state\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ), \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ), \"rejected\" ],\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ) ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\n\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis === promise ? newDefer.promise() : this,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Keep pipe for back-compat\n\t\tpromise.pipe = promise.then;\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 3 ];\n\n\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add( function() {\n\n\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\tstate = stateString;\n\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\n\t\t\t}\n\n\t\t\t// deferred[ resolve | reject | notify ]\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? promise : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\n\t\tvar i = 0,\n\t\t\tresolveValues = slice.call( arguments ),\n\t\t\tlength = resolveValues.length,\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 ||\n\t\t\t\t( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\n\n\t\t\t// the master Deferred.\n\t\t\t// If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function( i, contexts, values ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tcontexts[ i ] = this;\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( values === progressValues ) {\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\n\t\t\t\t\t} else if ( !( --remaining ) ) {\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tprogressValues, progressContexts, resolveContexts;\n\n\t\t// Add listeners to Deferred subordinates; treat others as resolved\n\t\tif ( length > 1 ) {\n\t\t\tprogressValues = new Array( length );\n\t\t\tprogressContexts = new Array( length );\n\t\t\tresolveContexts = new Array( length );\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\n\t\t\t\t\tresolveValues[ i ].promise()\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) )\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\n\t\t\t\t\t\t.fail( deferred.reject );\n\t\t\t\t} else {\n\t\t\t\t\t--remaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If we're not waiting on anything, resolve the master\n\t\tif ( !remaining ) {\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\n\t\t}\n\n\t\treturn deferred.promise();\n\t}\n} );\n\n\n// The deferred used on DOM ready\nvar readyList;\n\njQuery.fn.ready = function( fn ) {\n\n\t// Add the callback\n\tjQuery.ready.promise().done( fn );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\n\t\t// Trigger any bound ready events\n\t\tif ( jQuery.fn.triggerHandler ) {\n\t\t\tjQuery( document ).triggerHandler( \"ready\" );\n\t\t\tjQuery( document ).off( \"ready\" );\n\t\t}\n\t}\n} );\n\n/**\n * The ready event handler and self cleanup method\n */\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\njQuery.ready.promise = function( obj ) {\n\tif ( !readyList ) {\n\n\t\treadyList = jQuery.Deferred();\n\n\t\t// Catch cases where $(document).ready() is called\n\t\t// after the browser event has already occurred.\n\t\t// Support: IE9-10 only\n\t\t// Older IE sometimes signals \"interactive\" too soon\n\t\tif ( document.readyState === \"complete\" ||\n\t\t\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\t\t\twindow.setTimeout( jQuery.ready );\n\n\t\t} else {\n\n\t\t\t// Use the handy event callback\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.addEventListener( \"load\", completed );\n\t\t}\n\t}\n\treturn readyList.promise( obj );\n};\n\n// Kick off the DOM ready check even if the user does not\njQuery.ready.promise();\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( jQuery.type( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn chainable ?\n\t\telems :\n\n\t\t// Gets\n\t\tbulk ?\n\t\t\tfn.call( elems ) :\n\t\t\tlen ? fn( elems[ 0 ], key ) : emptyGet;\n};\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\t/* jshint -W018 */\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tregister: function( owner, initial ) {\n\t\tvar value = initial || {};\n\n\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t// use plain assignment\n\t\tif ( owner.nodeType ) {\n\t\t\towner[ this.expando ] = value;\n\n\t\t// Otherwise secure it in a non-enumerable, non-writable property\n\t\t// configurability must be true to allow the property to be\n\t\t// deleted with the delete operator\n\t\t} else {\n\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\tvalue: value,\n\t\t\t\twritable: true,\n\t\t\t\tconfigurable: true\n\t\t\t} );\n\t\t}\n\t\treturn owner[ this.expando ];\n\t},\n\tcache: function( owner ) {\n\n\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t// but we should not, see #8335.\n\t\t// Always return an empty object.\n\t\tif ( !acceptData( owner ) ) {\n\t\t\treturn {};\n\t\t}\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ data ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ prop ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\t\t\towner[ this.expando ] && owner[ this.expando ][ key ];\n\t},\n\taccess: function( owner, key, value ) {\n\t\tvar stored;\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\tstored = this.get( owner, key );\n\n\t\t\treturn stored !== undefined ?\n\t\t\t\tstored : this.get( owner, jQuery.camelCase( key ) );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i, name, camel,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key === undefined ) {\n\t\t\tthis.register( owner );\n\n\t\t} else {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( jQuery.isArray( key ) ) {\n\n\t\t\t\t// If \"name\" is an array of keys...\n\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\n\t\t\t\t// keys will be converted to camelCase.\n\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\n\t\t\t\t// both plain key and camelCase key. #12786\n\t\t\t\t// This will only penalize the array argument path.\n\t\t\t\tname = key.concat( key.map( jQuery.camelCase ) );\n\t\t\t} else {\n\t\t\t\tcamel = jQuery.camelCase( key );\n\n\t\t\t\t// Try the string as a key before any manipulation\n\t\t\t\tif ( key in cache ) {\n\t\t\t\t\tname = [ key, camel ];\n\t\t\t\t} else {\n\n\t\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\t\tname = camel;\n\t\t\t\t\tname = name in cache ?\n\t\t\t\t\t\t[ name ] : ( name.match( rnotwhite ) || [] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = name.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ name[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <= 35-45+\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://code.google.com/p/chromium/issues/detail?id=378607\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = data === \"true\" ? true :\n\t\t\t\t\tdata === \"false\" ? false :\n\t\t\t\t\tdata === \"null\" ? null :\n\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t\t+data + \"\" === data ? +data :\n\t\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\n\t\t\t\t\tdata;\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE11+\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data, camelKey;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// with the key as-is\n\t\t\t\tdata = dataUser.get( elem, key ) ||\n\n\t\t\t\t\t// Try to find dashed key if it exists (gh-2779)\n\t\t\t\t\t// This is for 2.2.x only\n\t\t\t\t\tdataUser.get( elem, key.replace( rmultiDash, \"-$&\" ).toLowerCase() );\n\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\tcamelKey = jQuery.camelCase( key );\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// with the key camelized\n\t\t\t\tdata = dataUser.get( elem, camelKey );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, camelKey, undefined );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tcamelKey = jQuery.camelCase( key );\n\t\t\tthis.each( function() {\n\n\t\t\t\t// First, attempt to store a copy or reference of any\n\t\t\t\t// data that might've been store with a camelCased key.\n\t\t\t\tvar data = dataUser.get( this, camelKey );\n\n\t\t\t\t// For HTML5 data-* attribute interop, we have to\n\t\t\t\t// store property names with dashes in a camelCase form.\n\t\t\t\t// This might not apply to all properties...*\n\t\t\t\tdataUser.set( this, camelKey, value );\n\n\t\t\t\t// *... In the case of properties that might _actually_\n\t\t\t\t// have dashes, we need to also store a copy of that\n\t\t\t\t// unchanged property.\n\t\t\t\tif ( key.indexOf( \"-\" ) > -1 && data !== undefined ) {\n\t\t\t\t\tdataUser.set( this, key, value );\n\t\t\t\t}\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHidden = function( elem, el ) {\n\n\t\t// isHidden might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\t\treturn jQuery.css( elem, \"display\" ) === \"none\" ||\n\t\t\t!jQuery.contains( elem.ownerDocument, elem );\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted,\n\t\tscale = 1,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() { return tween.cur(); } :\n\t\t\tfunction() { return jQuery.css( elem, prop, \"\" ); },\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\tdo {\n\n\t\t\t// If previous iteration zeroed out, double until we get *something*.\n\t\t\t// Use string for doubling so we don't accidentally see scale as unchanged below\n\t\t\tscale = scale || \".5\";\n\n\t\t\t// Adjust and apply\n\t\t\tinitialInUnit = initialInUnit / scale;\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t// Break the loop if scale is unchanged or perfect, or if we've just had enough.\n\t\t} while (\n\t\t\tscale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations\n\t\t);\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([\\w:-]+)/ );\n\nvar rscriptType = ( /^$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE9\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE9\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE9-11+\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret = typeof context.getElementsByTagName !== \"undefined\" ?\n\t\t\tcontext.getElementsByTagName( tag || \"*\" ) :\n\t\t\ttypeof context.querySelectorAll !== \"undefined\" ?\n\t\t\t\tcontext.querySelectorAll( tag || \"*\" ) :\n\t\t\t[];\n\n\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\n\t\tjQuery.merge( [ context ], ret ) :\n\t\tret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, contains, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android<4.1, PhantomJS<2\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android<4.1, PhantomJS<2\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( contains ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0-4.3, Safari<=5.1\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Safari<=5.1, Android<4.2\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE<=11+\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE9\n// See #13393 for more info\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( event ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tevent = jQuery.event.fix( event );\n\n\t\tvar i, j, ret, matched, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\targs = slice.call( arguments ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or 2) have namespace(s)\n\t\t\t\t// a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, matches, sel, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Support (at least): Chrome, IE9\n\t\t// Find delegate handlers\n\t\t// Black-hole SVG <use> instance trees (#13180)\n\t\t//\n\t\t// Support: Firefox<=42+\n\t\t// Avoid non-left-click in FF but don't block IE radio events (#3861, gh-2343)\n\t\tif ( delegateCount && cur.nodeType &&\n\t\t\t( event.type !== \"click\" || isNaN( event.button ) || event.button < 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && ( cur.disabled !== true || event.type !== \"click\" ) ) {\n\t\t\t\t\tmatches = [];\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matches[ sel ] ) {\n\t\t\t\t\t\t\tmatches.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matches.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matches } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: this, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\t// Includes some event props shared by KeyEvent and MouseEvent\n\tprops: ( \"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase \" +\n\t\t\"metaKey relatedTarget shiftKey target timeStamp view which\" ).split( \" \" ),\n\n\tfixHooks: {},\n\n\tkeyHooks: {\n\t\tprops: \"char charCode key keyCode\".split( \" \" ),\n\t\tfilter: function( event, original ) {\n\n\t\t\t// Add which for key events\n\t\t\tif ( event.which == null ) {\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tmouseHooks: {\n\t\tprops: ( \"button buttons clientX clientY offsetX offsetY pageX pageY \" +\n\t\t\t\"screenX screenY toElement\" ).split( \" \" ),\n\t\tfilter: function( event, original ) {\n\t\t\tvar eventDoc, doc, body,\n\t\t\t\tbutton = original.button;\n\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\n\t\t\t\teventDoc = event.target.ownerDocument || document;\n\t\t\t\tdoc = eventDoc.documentElement;\n\t\t\t\tbody = eventDoc.body;\n\n\t\t\t\tevent.pageX = original.clientX +\n\t\t\t\t\t( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) -\n\t\t\t\t\t( doc && doc.clientLeft || body && body.clientLeft || 0 );\n\t\t\t\tevent.pageY = original.clientY +\n\t\t\t\t\t( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) -\n\t\t\t\t\t( doc && doc.clientTop  || body && body.clientTop  || 0 );\n\t\t\t}\n\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\t\t// Note: button is not normalized, so don't use it\n\t\t\tif ( !event.which && button !== undefined ) {\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tfix: function( event ) {\n\t\tif ( event[ jQuery.expando ] ) {\n\t\t\treturn event;\n\t\t}\n\n\t\t// Create a writable copy of the event object and normalize some properties\n\t\tvar i, prop, copy,\n\t\t\ttype = event.type,\n\t\t\toriginalEvent = event,\n\t\t\tfixHook = this.fixHooks[ type ];\n\n\t\tif ( !fixHook ) {\n\t\t\tthis.fixHooks[ type ] = fixHook =\n\t\t\t\trmouseEvent.test( type ) ? this.mouseHooks :\n\t\t\t\trkeyEvent.test( type ) ? this.keyHooks :\n\t\t\t\t{};\n\t\t}\n\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\n\n\t\tevent = new jQuery.Event( originalEvent );\n\n\t\ti = copy.length;\n\t\twhile ( i-- ) {\n\t\t\tprop = copy[ i ];\n\t\t\tevent[ prop ] = originalEvent[ prop ];\n\t\t}\n\n\t\t// Support: Cordova 2.5 (WebKit) (#13255)\n\t\t// All events should have a target; Cordova deviceready doesn't\n\t\tif ( !event.target ) {\n\t\t\tevent.target = document;\n\t\t}\n\n\t\t// Support: Safari 6.0+, Chrome<28\n\t\t// Target should not be a text node (#504, #13143)\n\t\tif ( event.target.nodeType === 3 ) {\n\t\t\tevent.target = event.target.parentNode;\n\t\t}\n\n\t\treturn fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && jQuery.nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android<4.0\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://code.google.com/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,\n\n\t// Support: IE 10-11, Edge 10240+\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Manipulating tables requires a tbody\nfunction manipulationTarget( elem, content ) {\n\treturn jQuery.nodeName( elem, \"table\" ) &&\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ?\n\n\t\telem.getElementsByTagName( \"tbody\" )[ 0 ] ||\n\t\t\telem.appendChild( elem.ownerDocument.createElement( \"tbody\" ) ) :\n\t\telem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\n\tif ( match ) {\n\t\telem.type = match[ 1 ];\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tisFunction = jQuery.isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( isFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( isFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android<4.1, PhantomJS<2\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tjQuery.globalEval( node.textContent.replace( rcleanScript, \"\" ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && jQuery.contains( node.ownerDocument, node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <= 35-45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <= 35-45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\n\t// Keep domManip exposed until 3.0 (gh-2225)\n\tdomManip: domManip,\n\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: QtWebKit\n\t\t\t// .get() because push.apply(_, arraylike) throws\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\n\n\nvar iframe,\n\telemdisplay = {\n\n\t\t// Support: Firefox\n\t\t// We have to pre-define these values for FF (#10227)\n\t\tHTML: \"block\",\n\t\tBODY: \"block\"\n\t};\n\n/**\n * Retrieve the actual display of a element\n * @param {String} name nodeName of the element\n * @param {Object} doc Document object\n */\n\n// Called only from within defaultDisplay\nfunction actualDisplay( name, doc ) {\n\tvar elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),\n\n\t\tdisplay = jQuery.css( elem[ 0 ], \"display\" );\n\n\t// We don't have any data stored on the element,\n\t// so use \"detach\" method as fast way to get rid of the element\n\telem.detach();\n\n\treturn display;\n}\n\n/**\n * Try to determine the default display value of an element\n * @param {String} nodeName\n */\nfunction defaultDisplay( nodeName ) {\n\tvar doc = document,\n\t\tdisplay = elemdisplay[ nodeName ];\n\n\tif ( !display ) {\n\t\tdisplay = actualDisplay( nodeName, doc );\n\n\t\t// If the simple way fails, read from inside an iframe\n\t\tif ( display === \"none\" || !display ) {\n\n\t\t\t// Use the already-created iframe if possible\n\t\t\tiframe = ( iframe || jQuery( \"<iframe frameborder='0' width='0' height='0'/>\" ) )\n\t\t\t\t.appendTo( doc.documentElement );\n\n\t\t\t// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\n\t\t\tdoc = iframe[ 0 ].contentDocument;\n\n\t\t\t// Support: IE\n\t\t\tdoc.write();\n\t\t\tdoc.close();\n\n\t\t\tdisplay = actualDisplay( nodeName, doc );\n\t\t\tiframe.detach();\n\t\t}\n\n\t\t// Store the correct default display\n\t\telemdisplay[ nodeName ] = display;\n\t}\n\n\treturn display;\n}\nvar rmargin = ( /^margin/ );\n\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE<=11+, Firefox<=30+ (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar documentElement = document.documentElement;\n\n\n\n( function() {\n\tvar pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE9-11+\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tcontainer.style.cssText = \"border:0;width:8px;height:0;top:0;left:-9999px;\" +\n\t\t\"padding:0;margin-top:1px;position:absolute\";\n\tcontainer.appendChild( div );\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\t\tdiv.style.cssText =\n\n\t\t\t// Support: Firefox<29, Android 2.3\n\t\t\t// Vendor-prefix box-sizing\n\t\t\t\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;\" +\n\t\t\t\"position:relative;display:block;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"top:1%;width:50%\";\n\t\tdiv.innerHTML = \"\";\n\t\tdocumentElement.appendChild( container );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\t\treliableMarginLeftVal = divStyle.marginLeft === \"2px\";\n\t\tboxSizingReliableVal = divStyle.width === \"4px\";\n\n\t\t// Support: Android 4.0 - 4.3 only\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.marginRight = \"50%\";\n\t\tpixelMarginRightVal = divStyle.marginRight === \"4px\";\n\n\t\tdocumentElement.removeChild( container );\n\t}\n\n\tjQuery.extend( support, {\n\t\tpixelPosition: function() {\n\n\t\t\t// This test is executed only once but we still do memoizing\n\t\t\t// since we can use the boxSizingReliable pre-computing.\n\t\t\t// No need to check if the test was already performed, though.\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\tboxSizingReliable: function() {\n\t\t\tif ( boxSizingReliableVal == null ) {\n\t\t\t\tcomputeStyleTests();\n\t\t\t}\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelMarginRight: function() {\n\n\t\t\t// Support: Android 4.0-4.3\n\t\t\t// We're checking for boxSizingReliableVal here instead of pixelMarginRightVal\n\t\t\t// since that compresses better and they're computed together anyway.\n\t\t\tif ( boxSizingReliableVal == null ) {\n\t\t\t\tcomputeStyleTests();\n\t\t\t}\n\t\t\treturn pixelMarginRightVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\n\t\t\t// Support: IE <=8 only, Android 4.0 - 4.3 only, Firefox <=3 - 37\n\t\t\tif ( boxSizingReliableVal == null ) {\n\t\t\t\tcomputeStyleTests();\n\t\t\t}\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\treliableMarginRight: function() {\n\n\t\t\t// Support: Android 2.3\n\t\t\t// Check if div with explicit width and no margin-right incorrectly\n\t\t\t// gets computed margin-right based on width of container. (#3333)\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t// This support function is only executed once so no memoizing is needed.\n\t\t\tvar ret,\n\t\t\t\tmarginDiv = div.appendChild( document.createElement( \"div\" ) );\n\n\t\t\t// Reset CSS: box-sizing; display; margin; border; padding\n\t\t\tmarginDiv.style.cssText = div.style.cssText =\n\n\t\t\t\t// Support: Android 2.3\n\t\t\t\t// Vendor-prefix box-sizing\n\t\t\t\t\"-webkit-box-sizing:content-box;box-sizing:content-box;\" +\n\t\t\t\t\"display:block;margin:0;border:0;padding:0\";\n\t\t\tmarginDiv.style.marginRight = marginDiv.style.width = \"0\";\n\t\t\tdiv.style.width = \"1px\";\n\t\t\tdocumentElement.appendChild( container );\n\n\t\t\tret = !parseFloat( window.getComputedStyle( marginDiv ).marginRight );\n\n\t\t\tdocumentElement.removeChild( container );\n\t\t\tdiv.removeChild( marginDiv );\n\n\t\t\treturn ret;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\tret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined;\n\n\t// Support: Opera 12.1x only\n\t// Fall back to style even without computed\n\t// computed is undefined for elems on document fragments\n\tif ( ( ret === \"\" || ret === undefined ) && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\tret = jQuery.style( elem, name );\n\t}\n\n\t// Support: IE9\n\t// getPropertyValue is only needed for .css('filter') (#12537)\n\tif ( computed ) {\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// http://dev.w3.org/csswg/cssom/#resolved-values\n\t\tif ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE9-11+\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style;\n\n// Return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( name ) {\n\n\t// Shortcut for names that are not vendor prefixed\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\n\n\t\t// If we already have the right measurement, avoid augmentation\n\t\t4 :\n\n\t\t// Otherwise initialize for horizontal or vertical properties\n\t\tname === \"width\" ? 1 : 0,\n\n\t\tval = 0;\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\tif ( isBorderBox ) {\n\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// At this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// At this point, extra isn't content, so add padding\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// At this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with offset property, which is equivalent to the border-box value\n\tvar valueIsBorderBox = true,\n\t\tval = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\n\t\tstyles = getStyles( elem ),\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t// Some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\tif ( val <= 0 || val == null ) {\n\n\t\t// Fall back to computed then uncomputed css if necessary\n\t\tval = curCSS( elem, name, styles );\n\t\tif ( val < 0 || val == null ) {\n\t\t\tval = elem.style[ name ];\n\t\t}\n\n\t\t// Computed unit is not pixels. Stop here and return.\n\t\tif ( rnumnonpx.test( val ) ) {\n\t\t\treturn val;\n\t\t}\n\n\t\t// Check for style in case a browser which returns unreliable values\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\tvalueIsBorderBox = isBorderBox &&\n\t\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\n\n\t\t// Normalize \"\", auto, and prepare for extra\n\t\tval = parseFloat( val ) || 0;\n\t}\n\n\t// Use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles\n\t\t)\n\t) + \"px\";\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem, hidden,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvalues[ index ] = dataPriv.get( elem, \"olddisplay\" );\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Reset the inline display of this element to learn if it is\n\t\t\t// being hidden by cascaded rules or not\n\t\t\tif ( !values[ index ] && display === \"none\" ) {\n\t\t\t\telem.style.display = \"\";\n\t\t\t}\n\n\t\t\t// Set elements which have been overridden with display: none\n\t\t\t// in a stylesheet to whatever the default browser style is\n\t\t\t// for such an element\n\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\n\t\t\t\tvalues[ index ] = dataPriv.access(\n\t\t\t\t\telem,\n\t\t\t\t\t\"olddisplay\",\n\t\t\t\t\tdefaultDisplay( elem.nodeName )\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\thidden = isHidden( elem );\n\n\t\t\tif ( display !== \"none\" || !hidden ) {\n\t\t\t\tdataPriv.set(\n\t\t\t\t\telem,\n\t\t\t\t\t\"olddisplay\",\n\t\t\t\t\thidden ? display : jQuery.css( elem, \"display\" )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of most of the elements in a second loop\n\t// to avoid the constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\n\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t\"float\": \"cssFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tstyle = elem.style;\n\n\t\tname = jQuery.cssProps[ origName ] ||\n\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\tif ( type === \"number\" ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tstyle[ name ] = value;\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = jQuery.camelCase( name );\n\n\t\t// Make sure that we're working with the right name\n\t\tname = jQuery.cssProps[ origName ] ||\n\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\t\t\t\t\telem.offsetWidth === 0 ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = extra && getStyles( elem ),\n\t\t\t\tsubtract = extra && augmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\t\tstyles\n\t\t\t\t);\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ name ] = value;\n\t\t\t\tvalue = jQuery.css( elem, name );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// Support: Android 2.3\njQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn swap( elem, { \"display\": \"inline-block\" },\n\t\t\t\tcurCSS, [ elem, \"marginRight\" ] );\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( jQuery.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t},\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHidden( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 &&\n\t\t\t\t( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE9\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back Compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, timerId,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = jQuery.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4 ; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\t/* jshint validthis: true */\n\tvar prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHidden( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Handle queue: false promises\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Height/width overflow pass\n\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\n\n\t\t// Make sure that nothing sneaks out\n\t\t// Record all 3 overflow attributes because IE9-10 do not\n\t\t// change the overflow attribute when overflowX and\n\t\t// overflowY are set to the same value\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Set display property to inline-block for height/width\n\t\t// animations on inline elements that are having width/height animated\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\n\t\t// Test default display if display is currently \"none\"\n\t\tcheckDisplay = display === \"none\" ?\n\t\t\tdataPriv.get( elem, \"olddisplay\" ) || defaultDisplay( elem.nodeName ) : display;\n\n\t\tif ( checkDisplay === \"inline\" && jQuery.css( elem, \"float\" ) === \"none\" ) {\n\t\t\tstyle.display = \"inline-block\";\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// show/hide pass\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.exec( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// If there is dataShow left over from a stopped hide or show\n\t\t\t\t// and we are going to proceed with show, we should pretend to be hidden\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\n\t\t// Any non-fx value stops us from restoring the original display value\n\t\t} else {\n\t\t\tdisplay = undefined;\n\t\t}\n\t}\n\n\tif ( !jQuery.isEmptyObject( orig ) ) {\n\t\tif ( dataShow ) {\n\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\thidden = dataShow.hidden;\n\t\t\t}\n\t\t} else {\n\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", {} );\n\t\t}\n\n\t\t// Store state if its toggle - enables .stop().toggle() to \"reverse\"\n\t\tif ( toggle ) {\n\t\t\tdataShow.hidden = !hidden;\n\t\t}\n\t\tif ( hidden ) {\n\t\t\tjQuery( elem ).show();\n\t\t} else {\n\t\t\tanim.done( function() {\n\t\t\t\tjQuery( elem ).hide();\n\t\t\t} );\n\t\t}\n\t\tanim.done( function() {\n\t\t\tvar prop;\n\n\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t}\n\t\t} );\n\t\tfor ( prop in orig ) {\n\t\t\ttween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\n\t\t\tif ( !( prop in dataShow ) ) {\n\t\t\t\tdataShow[ prop ] = tween.start;\n\t\t\t\tif ( hidden ) {\n\t\t\t\t\ttween.end = tween.start;\n\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t// If this is a noop like .hide().hide(), restore an overwritten display value\n\t} else if ( ( display === \"none\" ? defaultDisplay( elem.nodeName ) : display ) === \"inline\" ) {\n\t\tstyle.display = display;\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( jQuery.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length ; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( jQuery.isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tjQuery.proxy( result.stop, result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\t// attach callbacks from options\n\treturn animation.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnotwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length ; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ?\n\t\topt.duration : opt.duration in jQuery.fx.speeds ?\n\t\t\tjQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = jQuery.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Checks the timer has not already been removed\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tif ( timer() ) {\n\t\tjQuery.fx.start();\n\t} else {\n\t\tjQuery.timers.pop();\n\t}\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( !timerId ) {\n\t\ttimerId = window.setInterval( jQuery.fx.tick, jQuery.fx.interval );\n\t}\n};\n\njQuery.fx.stop = function() {\n\twindow.clearInterval( timerId );\n\n\ttimerId = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// http://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: iOS<=5.1, Android<=4.2+\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE<=11+\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: Android<=2.3\n\t// Options inside disabled selects are incorrectly marked as disabled\n\tselect.disabled = true;\n\tsupport.optDisabled = !opt.disabled;\n\n\t// Support: IE<=11+\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// All attributes are lowercase\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\tname = name.toLowerCase();\n\t\t\thooks = jQuery.attrHooks[ name ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name, propName,\n\t\t\ti = 0,\n\t\t\tattrNames = value && value.match( rnotwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\tpropName = jQuery.propFix[ name ] || name;\n\n\t\t\t\t// Boolean attributes get special treatment (#10870)\n\t\t\t\tif ( jQuery.expr.match.bool.test( name ) ) {\n\n\t\t\t\t\t// Set corresponding property to false\n\t\t\t\t\telem[ propName ] = false;\n\t\t\t\t}\n\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle;\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ name ];\n\t\t\tattrHandle[ name ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tname.toLowerCase() :\n\t\t\t\tnull;\n\t\t\tattrHandle[ name ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\treturn tabindex ?\n\t\t\t\t\tparseInt( tabindex, 10 ) :\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\t\trclickable.test( elem.nodeName ) && elem.href ?\n\t\t\t\t\t\t\t0 :\n\t\t\t\t\t\t\t-1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\nvar rclass = /[\\t\\r\\n\\f]/g;\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnotwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 &&\n\t\t\t\t\t( \" \" + curValue + \" \" ).replace( rclass, \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnotwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 &&\n\t\t\t\t\t( \" \" + curValue + \" \" ).replace( rclass, \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value;\n\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( type === \"string\" ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = value.match( rnotwhite ) || [];\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + getClass( elem ) + \" \" ).replace( rclass, \" \" )\n\t\t\t\t\t.indexOf( className ) > -1\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g,\n\trspaces = /[\\x20\\t\\r\\n\\f]+/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\treturn typeof ret === \"string\" ?\n\n\t\t\t\t\t// Handle most common string cases\n\t\t\t\t\tret.replace( rreturn, \"\" ) :\n\n\t\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\t\tret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE10-11+\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tjQuery.trim( jQuery.text( elem ) ).replace( rspaces, \" \" );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\" || index < 0,\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length,\n\t\t\t\t\ti = index < 0 ?\n\t\t\t\t\t\tmax :\n\t\t\t\t\t\tone ? index : 0;\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t( support.optDisabled ?\n\t\t\t\t\t\t\t\t!option.disabled : option.getAttribute( \"disabled\" ) === null ) &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\telem[ type ]();\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout load resize scroll unload click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup error contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\n// Support: Firefox\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome, Safari\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://code.google.com/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = jQuery.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Support: Android 2.3\n// Workaround failure to string-cast null input\njQuery.parseJSON = function( data ) {\n\treturn JSON.parse( data + \"\" );\n};\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE9\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trhash = /#.*$/,\n\trts = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": jQuery.parseJSON,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// The jqXHR state\n\t\t\tstate = 0,\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( state === 2 ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tvar lname = name.toLowerCase();\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\t\t\tfor ( code in map ) {\n\n\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR ).complete = completeDeferred.add;\n\t\tjqXHR.success = jqXHR.done;\n\t\tjqXHR.error = jqXHR.fail;\n\n\t\t// Remove hash character (#7531: and string promotion)\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" ).replace( rhash, \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().match( rnotwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE8-11+\n\t\t\t// IE throws exception if url is malformed, e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE8-11+\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( state === 2 ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\tcacheURL = s.url;\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL = ( s.url += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data );\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add anti-cache in url if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\ts.url = rts.test( cacheURL ) ?\n\n\t\t\t\t\t// If there is already a '_' parameter, set its value\n\t\t\t\t\tcacheURL.replace( rts, \"$1_=\" + nonce++ ) :\n\n\t\t\t\t\t// Otherwise add one to the end\n\t\t\t\t\tcacheURL + ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + nonce++;\n\t\t\t}\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\n\t\t\tjqXHR[ i ]( s[ i ] );\n\t\t}\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( state === 2 ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tstate = 1;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Propagate exception as error if not done\n\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\tdone( -1, e );\n\n\t\t\t\t// Simply rethrow otherwise\n\t\t\t\t} else {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Called once\n\t\t\tif ( state === 2 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// State is \"done\" now\n\t\t\tstate = 2;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapAll( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( this[ 0 ] ) {\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function() {\n\t\treturn this.parent().each( function() {\n\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\n\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t\t}\n\t\t} ).end();\n\t}\n} );\n\n\njQuery.expr.filters.hidden = function( elem ) {\n\treturn !jQuery.expr.filters.visible( elem );\n};\njQuery.expr.filters.visible = function( elem ) {\n\n\t// Support: Opera <= 12.12\n\t// Opera reports offsetWidths and offsetHeights less than zero on some elements\n\t// Use OR instead of AND as the element is not visible if either is true\n\t// See tickets #10406 and #13132\n\treturn elem.offsetWidth > 0 || elem.offsetHeight > 0 || elem.getClientRects().length > 0;\n};\n\n\n\n\nvar r20 = /%20/g,\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, value ) {\n\n\t\t\t// If value is a function, invoke it and return its value\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\n\t\t};\n\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\n\tif ( traditional === undefined ) {\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\treturn val == null ?\n\t\t\t\tnull :\n\t\t\t\tjQuery.isArray( val ) ?\n\t\t\t\t\tjQuery.map( val, function( val ) {\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t\t} ) :\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE9\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE9\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = callback( \"error\" );\n\n\t\t\t\t// Support: IE9\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" ).prop( {\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t} ).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\tcontext = context || document;\n\n\tvar parsed = rsingleTag.exec( data ),\n\t\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n// Keep a copy of the old load method\nvar _load = jQuery.fn.load;\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tif ( typeof url !== \"string\" && _load ) {\n\t\treturn _load.apply( this, arguments );\n\t}\n\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = jQuery.trim( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.filters.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\n/**\n * Gets a window from an element\n */\nfunction getWindow( elem ) {\n\treturn jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;\n}\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\toffset: function( options ) {\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar docElem, win,\n\t\t\telem = this[ 0 ],\n\t\t\tbox = { top: 0, left: 0 },\n\t\t\tdoc = elem && elem.ownerDocument;\n\n\t\tif ( !doc ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdocElem = doc.documentElement;\n\n\t\t// Make sure it's not a disconnected DOM node\n\t\tif ( !jQuery.contains( docElem, elem ) ) {\n\t\t\treturn box;\n\t\t}\n\n\t\tbox = elem.getBoundingClientRect();\n\t\twin = getWindow( doc );\n\t\treturn {\n\t\t\ttop: box.top + win.pageYOffset - docElem.clientTop,\n\t\t\tleft: box.left + win.pageXOffset - docElem.clientLeft\n\t\t};\n\t},\n\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n\t\t// because it is its only offset parent\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume getBoundingClientRect is there when computed position is fixed\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\n\t\t\t// Get *real* offsetParent\n\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t// Get correct offsets\n\t\t\toffset = this.offset();\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\n\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t}\n\n\t\t\t// Add offsetParent borders\n\t\t\tparentOffset.top += jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true );\n\t\t\tparentOffset.left += jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true );\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\t\t\tvar win = getWindow( elem );\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari<7-8+, Chrome<37-44+\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://code.google.com/p/chromium/issues/detail?id=229280\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\n\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\n\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\n\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable, null );\n\t\t};\n\t} );\n} );\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\tsize: function() {\n\t\treturn this.length;\n\t}\n} );\n\njQuery.fn.andSelf = jQuery.fn.addBack;\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\nreturn jQuery;\n}));\n\n},{}],16:[function(require,module,exports){\nvar engine = require('../src/store-engine')\n\nvar storages = require('../storages/all')\nvar plugins = [require('../plugins/json2')]\n\nmodule.exports = engine.createStore(storages, plugins)\n\n},{\"../plugins/json2\":17,\"../src/store-engine\":19,\"../storages/all\":21}],17:[function(require,module,exports){\nmodule.exports = json2Plugin\n\nfunction json2Plugin() {\n\trequire('./lib/json2')\n\treturn {}\n}\n\n},{\"./lib/json2\":18}],18:[function(require,module,exports){\n/* eslint-disable */\n\n//  json2.js\n//  2016-10-28\n//  Public Domain.\n//  NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n//  See http://www.JSON.org/js.html\n//  This code should be minified before deployment.\n//  See http://javascript.crockford.com/jsmin.html\n\n//  USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n//  NOT CONTROL.\n\n//  This file creates a global JSON object containing two methods: stringify\n//  and parse. This file provides the ES5 JSON capability to ES3 systems.\n//  If a project might run on IE8 or earlier, then this file should be included.\n//  This file does nothing on ES5 systems.\n\n//      JSON.stringify(value, replacer, space)\n//          value       any JavaScript value, usually an object or array.\n//          replacer    an optional parameter that determines how object\n//                      values are stringified for objects. It can be a\n//                      function or an array of strings.\n//          space       an optional parameter that specifies the indentation\n//                      of nested structures. If it is omitted, the text will\n//                      be packed without extra whitespace. If it is a number,\n//                      it will specify the number of spaces to indent at each\n//                      level. If it is a string (such as \"\\t\" or \"&nbsp;\"),\n//                      it contains the characters used to indent at each level.\n//          This method produces a JSON text from a JavaScript value.\n//          When an object value is found, if the object contains a toJSON\n//          method, its toJSON method will be called and the result will be\n//          stringified. A toJSON method does not serialize: it returns the\n//          value represented by the name/value pair that should be serialized,\n//          or undefined if nothing should be serialized. The toJSON method\n//          will be passed the key associated with the value, and this will be\n//          bound to the value.\n\n//          For example, this would serialize Dates as ISO strings.\n\n//              Date.prototype.toJSON = function (key) {\n//                  function f(n) {\n//                      // Format integers to have at least two digits.\n//                      return (n < 10)\n//                          ? \"0\" + n\n//                          : n;\n//                  }\n//                  return this.getUTCFullYear()   + \"-\" +\n//                       f(this.getUTCMonth() + 1) + \"-\" +\n//                       f(this.getUTCDate())      + \"T\" +\n//                       f(this.getUTCHours())     + \":\" +\n//                       f(this.getUTCMinutes())   + \":\" +\n//                       f(this.getUTCSeconds())   + \"Z\";\n//              };\n\n//          You can provide an optional replacer method. It will be passed the\n//          key and value of each member, with this bound to the containing\n//          object. The value that is returned from your method will be\n//          serialized. If your method returns undefined, then the member will\n//          be excluded from the serialization.\n\n//          If the replacer parameter is an array of strings, then it will be\n//          used to select the members to be serialized. It filters the results\n//          such that only members with keys listed in the replacer array are\n//          stringified.\n\n//          Values that do not have JSON representations, such as undefined or\n//          functions, will not be serialized. Such values in objects will be\n//          dropped; in arrays they will be replaced with null. You can use\n//          a replacer function to replace those with JSON values.\n\n//          JSON.stringify(undefined) returns undefined.\n\n//          The optional space parameter produces a stringification of the\n//          value that is filled with line breaks and indentation to make it\n//          easier to read.\n\n//          If the space parameter is a non-empty string, then that string will\n//          be used for indentation. If the space parameter is a number, then\n//          the indentation will be that many spaces.\n\n//          Example:\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}]);\n//          // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n//          text = JSON.stringify([\"e\", {pluribus: \"unum\"}], null, \"\\t\");\n//          // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n//          text = JSON.stringify([new Date()], function (key, value) {\n//              return this[key] instanceof Date\n//                  ? \"Date(\" + this[key] + \")\"\n//                  : value;\n//          });\n//          // text is '[\"Date(---current time---)\"]'\n\n//      JSON.parse(text, reviver)\n//          This method parses a JSON text to produce an object or array.\n//          It can throw a SyntaxError exception.\n\n//          The optional reviver parameter is a function that can filter and\n//          transform the results. It receives each of the keys and values,\n//          and its return value is used instead of the original value.\n//          If it returns what it received, then the structure is not modified.\n//          If it returns undefined then the member is deleted.\n\n//          Example:\n\n//          // Parse the text. Values that look like ISO date strings will\n//          // be converted to Date objects.\n\n//          myData = JSON.parse(text, function (key, value) {\n//              var a;\n//              if (typeof value === \"string\") {\n//                  a =\n//   /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n//                  if (a) {\n//                      return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n//                          +a[5], +a[6]));\n//                  }\n//              }\n//              return value;\n//          });\n\n//          myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n//              var d;\n//              if (typeof value === \"string\" &&\n//                      value.slice(0, 5) === \"Date(\" &&\n//                      value.slice(-1) === \")\") {\n//                  d = new Date(value.slice(5, -1));\n//                  if (d) {\n//                      return d;\n//                  }\n//              }\n//              return value;\n//          });\n\n//  This is a reference implementation. You are free to copy, modify, or\n//  redistribute.\n\n/*jslint\n    eval, for, this\n*/\n\n/*property\n    JSON, apply, call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\n\n\n// Create a JSON object only if one does not already exist. We create the\n// methods in a closure to avoid creating global variables.\n\nif (typeof JSON !== \"object\") {\n    JSON = {};\n}\n\n(function () {\n    \"use strict\";\n\n    var rx_one = /^[\\],:{}\\s]*$/;\n    var rx_two = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n    var rx_three = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n    var rx_four = /(?:^|:|,)(?:\\s*\\[)+/g;\n    var rx_escapable = /[\\\\\"\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n    var rx_dangerous = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n\n    function f(n) {\n        // Format integers to have at least two digits.\n        return n < 10\n            ? \"0\" + n\n            : n;\n    }\n\n    function this_value() {\n        return this.valueOf();\n    }\n\n    if (typeof Date.prototype.toJSON !== \"function\") {\n\n        Date.prototype.toJSON = function () {\n\n            return isFinite(this.valueOf())\n                ? this.getUTCFullYear() + \"-\" +\n                        f(this.getUTCMonth() + 1) + \"-\" +\n                        f(this.getUTCDate()) + \"T\" +\n                        f(this.getUTCHours()) + \":\" +\n                        f(this.getUTCMinutes()) + \":\" +\n                        f(this.getUTCSeconds()) + \"Z\"\n                : null;\n        };\n\n        Boolean.prototype.toJSON = this_value;\n        Number.prototype.toJSON = this_value;\n        String.prototype.toJSON = this_value;\n    }\n\n    var gap;\n    var indent;\n    var meta;\n    var rep;\n\n\n    function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n        rx_escapable.lastIndex = 0;\n        return rx_escapable.test(string)\n            ? \"\\\"\" + string.replace(rx_escapable, function (a) {\n                var c = meta[a];\n                return typeof c === \"string\"\n                    ? c\n                    : \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n            }) + \"\\\"\"\n            : \"\\\"\" + string + \"\\\"\";\n    }\n\n\n    function str(key, holder) {\n\n// Produce a string from holder[key].\n\n        var i;          // The loop counter.\n        var k;          // The member key.\n        var v;          // The member value.\n        var length;\n        var mind = gap;\n        var partial;\n        var value = holder[key];\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n        if (value && typeof value === \"object\" &&\n                typeof value.toJSON === \"function\") {\n            value = value.toJSON(key);\n        }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n        if (typeof rep === \"function\") {\n            value = rep.call(holder, key, value);\n        }\n\n// What happens next depends on the value's type.\n\n        switch (typeof value) {\n        case \"string\":\n            return quote(value);\n\n        case \"number\":\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n            return isFinite(value)\n                ? String(value)\n                : \"null\";\n\n        case \"boolean\":\n        case \"null\":\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce \"null\". The case is included here in\n// the remote chance that this gets fixed someday.\n\n            return String(value);\n\n// If the type is \"object\", we might be dealing with an object or an array or\n// null.\n\n        case \"object\":\n\n// Due to a specification blunder in ECMAScript, typeof null is \"object\",\n// so watch out for that case.\n\n            if (!value) {\n                return \"null\";\n            }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n            gap += indent;\n            partial = [];\n\n// Is the value an array?\n\n            if (Object.prototype.toString.apply(value) === \"[object Array]\") {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || \"null\";\n                }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n                v = partial.length === 0\n                    ? \"[]\"\n                    : gap\n                        ? \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\"\n                        : \"[\" + partial.join(\",\") + \"]\";\n                gap = mind;\n                return v;\n            }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n            if (rep && typeof rep === \"object\") {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    if (typeof rep[i] === \"string\") {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (\n                                gap\n                                    ? \": \"\n                                    : \":\"\n                            ) + v);\n                        }\n                    }\n                }\n            } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (\n                                gap\n                                    ? \": \"\n                                    : \":\"\n                            ) + v);\n                        }\n                    }\n                }\n            }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n            v = partial.length === 0\n                ? \"{}\"\n                : gap\n                    ? \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\"\n                    : \"{\" + partial.join(\",\") + \"}\";\n            gap = mind;\n            return v;\n        }\n    }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n    if (typeof JSON.stringify !== \"function\") {\n        meta = {    // table of character substitutions\n            \"\\b\": \"\\\\b\",\n            \"\\t\": \"\\\\t\",\n            \"\\n\": \"\\\\n\",\n            \"\\f\": \"\\\\f\",\n            \"\\r\": \"\\\\r\",\n            \"\\\"\": \"\\\\\\\"\",\n            \"\\\\\": \"\\\\\\\\\"\n        };\n        JSON.stringify = function (value, replacer, space) {\n\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n            var i;\n            gap = \"\";\n            indent = \"\";\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n            if (typeof space === \"number\") {\n                for (i = 0; i < space; i += 1) {\n                    indent += \" \";\n                }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n            } else if (typeof space === \"string\") {\n                indent = space;\n            }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n            rep = replacer;\n            if (replacer && typeof replacer !== \"function\" &&\n                    (typeof replacer !== \"object\" ||\n                    typeof replacer.length !== \"number\")) {\n                throw new Error(\"JSON.stringify\");\n            }\n\n// Make a fake root object containing our value under the key of \"\".\n// Return the result of stringifying the value.\n\n            return str(\"\", {\"\": value});\n        };\n    }\n\n\n// If the JSON object does not yet have a parse method, give it one.\n\n    if (typeof JSON.parse !== \"function\") {\n        JSON.parse = function (text, reviver) {\n\n// The parse method takes a text and an optional reviver function, and returns\n// a JavaScript value if the text is a valid JSON text.\n\n            var j;\n\n            function walk(holder, key) {\n\n// The walk method is used to recursively walk the resulting structure so\n// that modifications can be made.\n\n                var k;\n                var v;\n                var value = holder[key];\n                if (value && typeof value === \"object\") {\n                    for (k in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, k)) {\n                            v = walk(value, k);\n                            if (v !== undefined) {\n                                value[k] = v;\n                            } else {\n                                delete value[k];\n                            }\n                        }\n                    }\n                }\n                return reviver.call(holder, key, value);\n            }\n\n\n// Parsing happens in four stages. In the first stage, we replace certain\n// Unicode characters with escape sequences. JavaScript handles many characters\n// incorrectly, either silently deleting them, or treating them as line endings.\n\n            text = String(text);\n            rx_dangerous.lastIndex = 0;\n            if (rx_dangerous.test(text)) {\n                text = text.replace(rx_dangerous, function (a) {\n                    return \"\\\\u\" +\n                            (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n                });\n            }\n\n// In the second stage, we run the text against regular expressions that look\n// for non-JSON patterns. We are especially concerned with \"()\" and \"new\"\n// because they can cause invocation, and \"=\" because it can cause mutation.\n// But just to be safe, we want to reject all unexpected forms.\n\n// We split the second stage into 4 regexp operations in order to work around\n// crippling inefficiencies in IE's and Safari's regexp engines. First we\n// replace the JSON backslash pairs with \"@\" (a non-JSON character). Second, we\n// replace all simple value tokens with \"]\" characters. Third, we delete all\n// open brackets that follow a colon or comma or that begin the text. Finally,\n// we look to see that the remaining characters are only whitespace or \"]\" or\n// \",\" or \":\" or \"{\" or \"}\". If that is so, then the text is safe for eval.\n\n            if (\n                rx_one.test(\n                    text\n                        .replace(rx_two, \"@\")\n                        .replace(rx_three, \"]\")\n                        .replace(rx_four, \"\")\n                )\n            ) {\n\n// In the third stage we use the eval function to compile the text into a\n// JavaScript structure. The \"{\" operator is subject to a syntactic ambiguity\n// in JavaScript: it can begin a block or an object literal. We wrap the text\n// in parens to eliminate the ambiguity.\n\n                j = eval(\"(\" + text + \")\");\n\n// In the optional fourth stage, we recursively walk the new structure, passing\n// each name/value pair to a reviver function for possible transformation.\n\n                return (typeof reviver === \"function\")\n                    ? walk({\"\": j}, \"\")\n                    : j;\n            }\n\n// If the text is not JSON parseable, then a SyntaxError is thrown.\n\n            throw new SyntaxError(\"JSON.parse\");\n        };\n    }\n}());\n},{}],19:[function(require,module,exports){\nvar util = require('./util')\nvar slice = util.slice\nvar pluck = util.pluck\nvar each = util.each\nvar bind = util.bind\nvar create = util.create\nvar isList = util.isList\nvar isFunction = util.isFunction\nvar isObject = util.isObject\n\nmodule.exports = {\n\tcreateStore: createStore\n}\n\nvar storeAPI = {\n\tversion: '2.0.12',\n\tenabled: false,\n\t\n\t// get returns the value of the given key. If that value\n\t// is undefined, it returns optionalDefaultValue instead.\n\tget: function(key, optionalDefaultValue) {\n\t\tvar data = this.storage.read(this._namespacePrefix + key)\n\t\treturn this._deserialize(data, optionalDefaultValue)\n\t},\n\n\t// set will store the given value at key and returns value.\n\t// Calling set with value === undefined is equivalent to calling remove.\n\tset: function(key, value) {\n\t\tif (value === undefined) {\n\t\t\treturn this.remove(key)\n\t\t}\n\t\tthis.storage.write(this._namespacePrefix + key, this._serialize(value))\n\t\treturn value\n\t},\n\n\t// remove deletes the key and value stored at the given key.\n\tremove: function(key) {\n\t\tthis.storage.remove(this._namespacePrefix + key)\n\t},\n\n\t// each will call the given callback once for each key-value pair\n\t// in this store.\n\teach: function(callback) {\n\t\tvar self = this\n\t\tthis.storage.each(function(val, namespacedKey) {\n\t\t\tcallback.call(self, self._deserialize(val), (namespacedKey || '').replace(self._namespaceRegexp, ''))\n\t\t})\n\t},\n\n\t// clearAll will remove all the stored key-value pairs in this store.\n\tclearAll: function() {\n\t\tthis.storage.clearAll()\n\t},\n\n\t// additional functionality that can't live in plugins\n\t// ---------------------------------------------------\n\n\t// hasNamespace returns true if this store instance has the given namespace.\n\thasNamespace: function(namespace) {\n\t\treturn (this._namespacePrefix == '__storejs_'+namespace+'_')\n\t},\n\n\t// createStore creates a store.js instance with the first\n\t// functioning storage in the list of storage candidates,\n\t// and applies the the given mixins to the instance.\n\tcreateStore: function() {\n\t\treturn createStore.apply(this, arguments)\n\t},\n\t\n\taddPlugin: function(plugin) {\n\t\tthis._addPlugin(plugin)\n\t},\n\t\n\tnamespace: function(namespace) {\n\t\treturn createStore(this.storage, this.plugins, namespace)\n\t}\n}\n\nfunction _warn() {\n\tvar _console = (typeof console == 'undefined' ? null : console)\n\tif (!_console) { return }\n\tvar fn = (_console.warn ? _console.warn : _console.log)\n\tfn.apply(_console, arguments)\n}\n\nfunction createStore(storages, plugins, namespace) {\n\tif (!namespace) {\n\t\tnamespace = ''\n\t}\n\tif (storages && !isList(storages)) {\n\t\tstorages = [storages]\n\t}\n\tif (plugins && !isList(plugins)) {\n\t\tplugins = [plugins]\n\t}\n\n\tvar namespacePrefix = (namespace ? '__storejs_'+namespace+'_' : '')\n\tvar namespaceRegexp = (namespace ? new RegExp('^'+namespacePrefix) : null)\n\tvar legalNamespaces = /^[a-zA-Z0-9_\\-]*$/ // alpha-numeric + underscore and dash\n\tif (!legalNamespaces.test(namespace)) {\n\t\tthrow new Error('store.js namespaces can only have alphanumerics + underscores and dashes')\n\t}\n\t\n\tvar _privateStoreProps = {\n\t\t_namespacePrefix: namespacePrefix,\n\t\t_namespaceRegexp: namespaceRegexp,\n\n\t\t_testStorage: function(storage) {\n\t\t\ttry {\n\t\t\t\tvar testStr = '__storejs__test__'\n\t\t\t\tstorage.write(testStr, testStr)\n\t\t\t\tvar ok = (storage.read(testStr) === testStr)\n\t\t\t\tstorage.remove(testStr)\n\t\t\t\treturn ok\n\t\t\t} catch(e) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t},\n\n\t\t_assignPluginFnProp: function(pluginFnProp, propName) {\n\t\t\tvar oldFn = this[propName]\n\t\t\tthis[propName] = function pluginFn() {\n\t\t\t\tvar args = slice(arguments, 0)\n\t\t\t\tvar self = this\n\n\t\t\t\t// super_fn calls the old function which was overwritten by\n\t\t\t\t// this mixin.\n\t\t\t\tfunction super_fn() {\n\t\t\t\t\tif (!oldFn) { return }\n\t\t\t\t\teach(arguments, function(arg, i) {\n\t\t\t\t\t\targs[i] = arg\n\t\t\t\t\t})\n\t\t\t\t\treturn oldFn.apply(self, args)\n\t\t\t\t}\n\n\t\t\t\t// Give mixing function access to super_fn by prefixing all mixin function\n\t\t\t\t// arguments with super_fn.\n\t\t\t\tvar newFnArgs = [super_fn].concat(args)\n\n\t\t\t\treturn pluginFnProp.apply(self, newFnArgs)\n\t\t\t}\n\t\t},\n\n\t\t_serialize: function(obj) {\n\t\t\treturn JSON.stringify(obj)\n\t\t},\n\n\t\t_deserialize: function(strVal, defaultVal) {\n\t\t\tif (!strVal) { return defaultVal }\n\t\t\t// It is possible that a raw string value has been previously stored\n\t\t\t// in a storage without using store.js, meaning it will be a raw\n\t\t\t// string value instead of a JSON serialized string. By defaulting\n\t\t\t// to the raw string value in case of a JSON parse error, we allow\n\t\t\t// for past stored values to be forwards-compatible with store.js\n\t\t\tvar val = ''\n\t\t\ttry { val = JSON.parse(strVal) }\n\t\t\tcatch(e) { val = strVal }\n\n\t\t\treturn (val !== undefined ? val : defaultVal)\n\t\t},\n\t\t\n\t\t_addStorage: function(storage) {\n\t\t\tif (this.enabled) { return }\n\t\t\tif (this._testStorage(storage)) {\n\t\t\t\tthis.storage = storage\n\t\t\t\tthis.enabled = true\n\t\t\t}\n\t\t},\n\n\t\t_addPlugin: function(plugin) {\n\t\t\tvar self = this\n\n\t\t\t// If the plugin is an array, then add all plugins in the array.\n\t\t\t// This allows for a plugin to depend on other plugins.\n\t\t\tif (isList(plugin)) {\n\t\t\t\teach(plugin, function(plugin) {\n\t\t\t\t\tself._addPlugin(plugin)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Keep track of all plugins we've seen so far, so that we\n\t\t\t// don't add any of them twice.\n\t\t\tvar seenPlugin = pluck(this.plugins, function(seenPlugin) {\n\t\t\t\treturn (plugin === seenPlugin)\n\t\t\t})\n\t\t\tif (seenPlugin) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.plugins.push(plugin)\n\n\t\t\t// Check that the plugin is properly formed\n\t\t\tif (!isFunction(plugin)) {\n\t\t\t\tthrow new Error('Plugins must be function values that return objects')\n\t\t\t}\n\n\t\t\tvar pluginProperties = plugin.call(this)\n\t\t\tif (!isObject(pluginProperties)) {\n\t\t\t\tthrow new Error('Plugins must return an object of function properties')\n\t\t\t}\n\n\t\t\t// Add the plugin function properties to this store instance.\n\t\t\teach(pluginProperties, function(pluginFnProp, propName) {\n\t\t\t\tif (!isFunction(pluginFnProp)) {\n\t\t\t\t\tthrow new Error('Bad plugin property: '+propName+' from plugin '+plugin.name+'. Plugins should only return functions.')\n\t\t\t\t}\n\t\t\t\tself._assignPluginFnProp(pluginFnProp, propName)\n\t\t\t})\n\t\t},\n\t\t\n\t\t// Put deprecated properties in the private API, so as to not expose it to accidential\n\t\t// discovery through inspection of the store object.\n\t\t\n\t\t// Deprecated: addStorage\n\t\taddStorage: function(storage) {\n\t\t\t_warn('store.addStorage(storage) is deprecated. Use createStore([storages])')\n\t\t\tthis._addStorage(storage)\n\t\t}\n\t}\n\n\tvar store = create(_privateStoreProps, storeAPI, {\n\t\tplugins: []\n\t})\n\tstore.raw = {}\n\teach(store, function(prop, propName) {\n\t\tif (isFunction(prop)) {\n\t\t\tstore.raw[propName] = bind(store, prop)\t\t\t\n\t\t}\n\t})\n\teach(storages, function(storage) {\n\t\tstore._addStorage(storage)\n\t})\n\teach(plugins, function(plugin) {\n\t\tstore._addPlugin(plugin)\n\t})\n\treturn store\n}\n\n},{\"./util\":20}],20:[function(require,module,exports){\n(function (global){\nvar assign = make_assign()\nvar create = make_create()\nvar trim = make_trim()\nvar Global = (typeof window !== 'undefined' ? window : global)\n\nmodule.exports = {\n\tassign: assign,\n\tcreate: create,\n\ttrim: trim,\n\tbind: bind,\n\tslice: slice,\n\teach: each,\n\tmap: map,\n\tpluck: pluck,\n\tisList: isList,\n\tisFunction: isFunction,\n\tisObject: isObject,\n\tGlobal: Global\n}\n\nfunction make_assign() {\n\tif (Object.assign) {\n\t\treturn Object.assign\n\t} else {\n\t\treturn function shimAssign(obj, props1, props2, etc) {\n\t\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\t\teach(Object(arguments[i]), function(val, key) {\n\t\t\t\t\tobj[key] = val\n\t\t\t\t})\n\t\t\t}\t\t\t\n\t\t\treturn obj\n\t\t}\n\t}\n}\n\nfunction make_create() {\n\tif (Object.create) {\n\t\treturn function create(obj, assignProps1, assignProps2, etc) {\n\t\t\tvar assignArgsList = slice(arguments, 1)\n\t\t\treturn assign.apply(this, [Object.create(obj)].concat(assignArgsList))\n\t\t}\n\t} else {\n\t\tfunction F() {} // eslint-disable-line no-inner-declarations\n\t\treturn function create(obj, assignProps1, assignProps2, etc) {\n\t\t\tvar assignArgsList = slice(arguments, 1)\n\t\t\tF.prototype = obj\n\t\t\treturn assign.apply(this, [new F()].concat(assignArgsList))\n\t\t}\n\t}\n}\n\nfunction make_trim() {\n\tif (String.prototype.trim) {\n\t\treturn function trim(str) {\n\t\t\treturn String.prototype.trim.call(str)\n\t\t}\n\t} else {\n\t\treturn function trim(str) {\n\t\t\treturn str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '')\n\t\t}\n\t}\n}\n\nfunction bind(obj, fn) {\n\treturn function() {\n\t\treturn fn.apply(obj, Array.prototype.slice.call(arguments, 0))\n\t}\n}\n\nfunction slice(arr, index) {\n\treturn Array.prototype.slice.call(arr, index || 0)\n}\n\nfunction each(obj, fn) {\n\tpluck(obj, function(val, key) {\n\t\tfn(val, key)\n\t\treturn false\n\t})\n}\n\nfunction map(obj, fn) {\n\tvar res = (isList(obj) ? [] : {})\n\tpluck(obj, function(v, k) {\n\t\tres[k] = fn(v, k)\n\t\treturn false\n\t})\n\treturn res\n}\n\nfunction pluck(obj, fn) {\n\tif (isList(obj)) {\n\t\tfor (var i=0; i<obj.length; i++) {\n\t\t\tif (fn(obj[i], i)) {\n\t\t\t\treturn obj[i]\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (var key in obj) {\n\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\tif (fn(obj[key], key)) {\n\t\t\t\t\treturn obj[key]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction isList(val) {\n\treturn (val != null && typeof val != 'function' && typeof val.length == 'number')\n}\n\nfunction isFunction(val) {\n\treturn val && {}.toString.call(val) === '[object Function]'\n}\n\nfunction isObject(val) {\n\treturn val && {}.toString.call(val) === '[object Object]'\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],21:[function(require,module,exports){\nmodule.exports = [\n\t// Listed in order of usage preference\n\trequire('./localStorage'),\n\trequire('./oldFF-globalStorage'),\n\trequire('./oldIE-userDataStorage'),\n\trequire('./cookieStorage'),\n\trequire('./sessionStorage'),\n\trequire('./memoryStorage')\n]\n\n},{\"./cookieStorage\":22,\"./localStorage\":23,\"./memoryStorage\":24,\"./oldFF-globalStorage\":25,\"./oldIE-userDataStorage\":26,\"./sessionStorage\":27}],22:[function(require,module,exports){\n// cookieStorage is useful Safari private browser mode, where localStorage\n// doesn't work but cookies do. This implementation is adopted from\n// https://developer.mozilla.org/en-US/docs/Web/API/Storage/LocalStorage\n\nvar util = require('../src/util')\nvar Global = util.Global\nvar trim = util.trim\n\nmodule.exports = {\n\tname: 'cookieStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar doc = Global.document\n\nfunction read(key) {\n\tif (!key || !_has(key)) { return null }\n\tvar regexpStr = \"(?:^|.*;\\\\s*)\" +\n\t\tescape(key).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") +\n\t\t\"\\\\s*\\\\=\\\\s*((?:[^;](?!;))*[^;]?).*\"\n\treturn unescape(doc.cookie.replace(new RegExp(regexpStr), \"$1\"))\n}\n\nfunction each(callback) {\n\tvar cookies = doc.cookie.split(/; ?/g)\n\tfor (var i = cookies.length - 1; i >= 0; i--) {\n\t\tif (!trim(cookies[i])) {\n\t\t\tcontinue\n\t\t}\n\t\tvar kvp = cookies[i].split('=')\n\t\tvar key = unescape(kvp[0])\n\t\tvar val = unescape(kvp[1])\n\t\tcallback(val, key)\n\t}\n}\n\nfunction write(key, data) {\n\tif(!key) { return }\n\tdoc.cookie = escape(key) + \"=\" + escape(data) + \"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/\"\n}\n\nfunction remove(key) {\n\tif (!key || !_has(key)) {\n\t\treturn\n\t}\n\tdoc.cookie = escape(key) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/\"\n}\n\nfunction clearAll() {\n\teach(function(_, key) {\n\t\tremove(key)\n\t})\n}\n\nfunction _has(key) {\n\treturn (new RegExp(\"(?:^|;\\\\s*)\" + escape(key).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(doc.cookie)\n}\n\n},{\"../src/util\":20}],23:[function(require,module,exports){\nvar util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'localStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nfunction localStorage() {\n\treturn Global.localStorage\n}\n\nfunction read(key) {\n\treturn localStorage().getItem(key)\n}\n\nfunction write(key, data) {\n\treturn localStorage().setItem(key, data)\n}\n\nfunction each(fn) {\n\tfor (var i = localStorage().length - 1; i >= 0; i--) {\n\t\tvar key = localStorage().key(i)\n\t\tfn(read(key), key)\n\t}\n}\n\nfunction remove(key) {\n\treturn localStorage().removeItem(key)\n}\n\nfunction clearAll() {\n\treturn localStorage().clear()\n}\n\n},{\"../src/util\":20}],24:[function(require,module,exports){\n// memoryStorage is a useful last fallback to ensure that the store\n// is functions (meaning store.get(), store.set(), etc will all function).\n// However, stored values will not persist when the browser navigates to\n// a new page or reloads the current page.\n\nmodule.exports = {\n\tname: 'memoryStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar memoryStorage = {}\n\nfunction read(key) {\n\treturn memoryStorage[key]\n}\n\nfunction write(key, data) {\n\tmemoryStorage[key] = data\n}\n\nfunction each(callback) {\n\tfor (var key in memoryStorage) {\n\t\tif (memoryStorage.hasOwnProperty(key)) {\n\t\t\tcallback(memoryStorage[key], key)\n\t\t}\n\t}\n}\n\nfunction remove(key) {\n\tdelete memoryStorage[key]\n}\n\nfunction clearAll(key) {\n\tmemoryStorage = {}\n}\n\n},{}],25:[function(require,module,exports){\n// oldFF-globalStorage provides storage for Firefox\n// versions 6 and 7, where no localStorage, etc\n// is available.\n\nvar util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'oldFF-globalStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar globalStorage = Global.globalStorage\n\nfunction read(key) {\n\treturn globalStorage[key]\n}\n\nfunction write(key, data) {\n\tglobalStorage[key] = data\n}\n\nfunction each(fn) {\n\tfor (var i = globalStorage.length - 1; i >= 0; i--) {\n\t\tvar key = globalStorage.key(i)\n\t\tfn(globalStorage[key], key)\n\t}\n}\n\nfunction remove(key) {\n\treturn globalStorage.removeItem(key)\n}\n\nfunction clearAll() {\n\teach(function(key, _) {\n\t\tdelete globalStorage[key]\n\t})\n}\n\n},{\"../src/util\":20}],26:[function(require,module,exports){\n// oldIE-userDataStorage provides storage for Internet Explorer\n// versions 6 and 7, where no localStorage, sessionStorage, etc\n// is available.\n\nvar util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'oldIE-userDataStorage',\n\twrite: write,\n\tread: read,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll,\n}\n\nvar storageName = 'storejs'\nvar doc = Global.document\nvar _withStorageEl = _makeIEStorageElFunction()\nvar disable = (Global.navigator ? Global.navigator.userAgent : '').match(/ (MSIE 8|MSIE 9|MSIE 10)\\./) // MSIE 9.x, MSIE 10.x\n\nfunction write(unfixedKey, data) {\n\tif (disable) { return }\n\tvar fixedKey = fixKey(unfixedKey)\n\t_withStorageEl(function(storageEl) {\n\t\tstorageEl.setAttribute(fixedKey, data)\n\t\tstorageEl.save(storageName)\n\t})\n}\n\nfunction read(unfixedKey) {\n\tif (disable) { return }\n\tvar fixedKey = fixKey(unfixedKey)\n\tvar res = null\n\t_withStorageEl(function(storageEl) {\n\t\tres = storageEl.getAttribute(fixedKey)\n\t})\n\treturn res\n}\n\nfunction each(callback) {\n\t_withStorageEl(function(storageEl) {\n\t\tvar attributes = storageEl.XMLDocument.documentElement.attributes\n\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\tvar attr = attributes[i]\n\t\t\tcallback(storageEl.getAttribute(attr.name), attr.name)\n\t\t}\n\t})\n}\n\nfunction remove(unfixedKey) {\n\tvar fixedKey = fixKey(unfixedKey)\n\t_withStorageEl(function(storageEl) {\n\t\tstorageEl.removeAttribute(fixedKey)\n\t\tstorageEl.save(storageName)\n\t})\n}\n\nfunction clearAll() {\n\t_withStorageEl(function(storageEl) {\n\t\tvar attributes = storageEl.XMLDocument.documentElement.attributes\n\t\tstorageEl.load(storageName)\n\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\tstorageEl.removeAttribute(attributes[i].name)\n\t\t}\n\t\tstorageEl.save(storageName)\n\t})\n}\n\n// Helpers\n//////////\n\n// In IE7, keys cannot start with a digit or contain certain chars.\n// See https://github.com/marcuswestin/store.js/issues/40\n// See https://github.com/marcuswestin/store.js/issues/83\nvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\nfunction fixKey(key) {\n\treturn key.replace(/^\\d/, '___$&').replace(forbiddenCharsRegex, '___')\n}\n\nfunction _makeIEStorageElFunction() {\n\tif (!doc || !doc.documentElement || !doc.documentElement.addBehavior) {\n\t\treturn null\n\t}\n\tvar scriptTag = 'script',\n\t\tstorageOwner,\n\t\tstorageContainer,\n\t\tstorageEl\n\n\t// Since #userData storage applies only to specific paths, we need to\n\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t// as a pretty safe option, since all browsers already make a request to\n\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t// since the iframe access rules appear to allow direct access and\n\t// manipulation of the document element, even for a 404 page.  This\n\t// document can be used instead of the current document (which would\n\t// have been limited to the current path) to perform #userData storage.\n\ttry {\n\t\t/* global ActiveXObject */\n\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\tstorageContainer.open()\n\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\tstorageContainer.close()\n\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\tstorageEl = storageOwner.createElement('div')\n\t} catch(e) {\n\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t// security settings or otherwse), fall back to per-path storage\n\t\tstorageEl = doc.createElement('div')\n\t\tstorageOwner = doc.body\n\t}\n\n\treturn function(storeFunction) {\n\t\tvar args = [].slice.call(arguments, 0)\n\t\targs.unshift(storageEl)\n\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\tstorageOwner.appendChild(storageEl)\n\t\tstorageEl.addBehavior('#default#userData')\n\t\tstorageEl.load(storageName)\n\t\tstoreFunction.apply(this, args)\n\t\tstorageOwner.removeChild(storageEl)\n\t\treturn\n\t}\n}\n\n},{\"../src/util\":20}],27:[function(require,module,exports){\nvar util = require('../src/util')\nvar Global = util.Global\n\nmodule.exports = {\n\tname: 'sessionStorage',\n\tread: read,\n\twrite: write,\n\teach: each,\n\tremove: remove,\n\tclearAll: clearAll\n}\n\nfunction sessionStorage() {\n\treturn Global.sessionStorage\n}\n\nfunction read(key) {\n\treturn sessionStorage().getItem(key)\n}\n\nfunction write(key, data) {\n\treturn sessionStorage().setItem(key, data)\n}\n\nfunction each(fn) {\n\tfor (var i = sessionStorage().length - 1; i >= 0; i--) {\n\t\tvar key = sessionStorage().key(i)\n\t\tfn(read(key), key)\n\t}\n}\n\nfunction remove(key) {\n\treturn sessionStorage().removeItem(key)\n}\n\nfunction clearAll() {\n\treturn sessionStorage().clear()\n}\n\n},{\"../src/util\":20}],28:[function(require,module,exports){\nmodule.exports={\n  \"_args\": [\n    [\n      \"yasgui-utils@1.6.7\",\n      \"/home/gerwinb/yasgui/old/YASGUI.YASQE\"\n    ]\n  ],\n  \"_from\": \"yasgui-utils@1.6.7\",\n  \"_id\": \"yasgui-utils@1.6.7\",\n  \"_inBundle\": false,\n  \"_integrity\": \"sha1-K8/FoxVojeOuYFeIPZrjQrIF8mc=\",\n  \"_location\": \"/yasgui-utils\",\n  \"_phantomChildren\": {},\n  \"_requested\": {\n    \"type\": \"version\",\n    \"registry\": true,\n    \"raw\": \"yasgui-utils@1.6.7\",\n    \"name\": \"yasgui-utils\",\n    \"escapedName\": \"yasgui-utils\",\n    \"rawSpec\": \"1.6.7\",\n    \"saveSpec\": null,\n    \"fetchSpec\": \"1.6.7\"\n  },\n  \"_requiredBy\": [\n    \"/\"\n  ],\n  \"_resolved\": \"https://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.7.tgz\",\n  \"_spec\": \"1.6.7\",\n  \"_where\": \"/home/gerwinb/yasgui/old/YASGUI.YASQE\",\n  \"author\": {\n    \"name\": \"Laurens Rietveld\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/YASGUI/Utils/issues\"\n  },\n  \"dependencies\": {\n    \"store\": \"^2.0.4\"\n  },\n  \"description\": \"Utils for YASGUI libs\",\n  \"homepage\": \"https://github.com/YASGUI/Utils\",\n  \"licenses\": [\n    {\n      \"type\": \"MIT\",\n      \"url\": \"http://yasgui.github.io/license.txt\"\n    }\n  ],\n  \"main\": \"src/main.js\",\n  \"maintainers\": [\n    {\n      \"name\": \"Laurens Rietveld\",\n      \"email\": \"laurens.rietveld@gmail.com\",\n      \"url\": \"http://laurensrietveld.nl\"\n    }\n  ],\n  \"name\": \"yasgui-utils\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/YASGUI/Utils.git\"\n  },\n  \"version\": \"1.6.7\"\n}\n\n},{}],29:[function(require,module,exports){\nwindow.console = window.console || {\"log\":function(){}};//make sure any console statements don't break IE\nmodule.exports = {\n\tstorage: require(\"./storage.js\"),\n\tsvg: require(\"./svg.js\"),\n\tversion: {\n\t\t\"yasgui-utils\" : require(\"../package.json\").version,\n\t},\n\tnestedExists : function(obj) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\tfor (var i = 0; i < args.length; i++) {\n\t\t\tif (!obj || !obj.hasOwnProperty(args[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tobj = obj[args[i]];\n\t\t}\n\t\treturn true;\n\t}\n};\n\n},{\"../package.json\":28,\"./storage.js\":30,\"./svg.js\":31}],30:[function(require,module,exports){\nvar store = require(\"store\");\nvar times = {\n  day: function() {\n    return 1000 * 3600 * 24; //millis to day\n  },\n  month: function() {\n    times.day() * 30;\n  },\n  year: function() {\n    times.month() * 12;\n  }\n};\nfunction isQuotaExceeded(e) {\n  var quotaExceeded = false;\n  if (e) {\n    if (e.code) {\n      switch (e.code) {\n        case 22:\n          quotaExceeded = true;\n          break;\n        case 1014:\n          // Firefox\n          if (e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") {\n            quotaExceeded = true;\n          }\n          break;\n      }\n    } else if (e.number === -2147024882) {\n      // Internet Explorer 8\n      quotaExceeded = true;\n    }\n  }\n  return quotaExceeded;\n}\nvar root = (module.exports = {\n  set: function(key, val, exp, onQuotaExceeded) {\n    if (!store.enabled) return; //this is probably in private mode. Don't run, as we might get Js errors\n    if (key && val !== undefined) {\n      if (typeof exp == \"string\") {\n        exp = times[exp]();\n      }\n      //try to store string for dom objects (e.g. XML result). Otherwise, we might get a circular reference error when stringifying this\n      if (val.documentElement) val = new XMLSerializer().serializeToString(val.documentElement);\n      try {\n        store.set(key, {\n          val: val,\n          exp: exp,\n          time: new Date().getTime()\n        });\n      } catch (e) {\n        e.quotaExceeded = isQuotaExceeded(e);\n        if (e.quotaExceeded && onQuotaExceeded) {\n          onQuotaExceeded(e);\n        } else {\n          throw e;\n        }\n      }\n    }\n  },\n  remove: function(key) {\n    if (!store.enabled) return; //this is probably in private mode. Don't run, as we might get Js errors\n    if (key) store.remove(key);\n  },\n  removeAll: function(filter) {\n    if (!store.enabled) return; //this is probably in private mode. Don't run, as we might get Js errors\n    if (!filter) {\n      store.clearAll();\n    } else if (typeof filter === \"function\") {\n      store.each(function(value, key) {\n        if (filter(key, value)) root.remove(key);\n      });\n    }\n  },\n  get: function(key) {\n    if (!store.enabled) return null; //this is probably in private mode. Don't run, as we might get Js errors\n    if (key) {\n      var info = store.get(key);\n      if (!info) {\n        return null;\n      }\n      if (info.exp && new Date().getTime() - info.time > info.exp) {\n        return null;\n      }\n      return info.val;\n    } else {\n      return null;\n    }\n  }\n});\n\n},{\"store\":16}],31:[function(require,module,exports){\nmodule.exports = {\n\tdraw: function(parent, svgString) {\n\t\tif (!parent) return;\n\t\tvar el = module.exports.getElement(svgString);\n\t\tif (el) {\n\t\t\tif (parent.append) {\n\t\t\t\tparent.append(el);\n\t\t\t} else {\n\t\t\t\t//regular dom doc\n\t\t\t\tparent.appendChild(el);\n\t\t\t}\n\t\t}\n\t},\n\tgetElement: function(svgString) {\n\t\tif (svgString && svgString.indexOf(\"<svg\") == 0) {\n\t\t\t//no style passed via config. guess own styles\n\t\t\tvar parser = new DOMParser();\n\t\t\tvar dom = parser.parseFromString(svgString, \"text/xml\");\n\t\t\tvar svg = dom.documentElement;\n\t\t\t\n\t\t\tvar svgContainer = document.createElement(\"div\");\n\t\t\tsvgContainer.className = 'svgImg';\n\t\t\tsvgContainer.appendChild(svg);\n\t\t\treturn svgContainer;\n\t\t}\n\t\treturn false;\n\t}\n};\n},{}],32:[function(require,module,exports){\nmodule.exports={\n  \"name\": \"yasgui-yasqe\",\n  \"description\": \"Yet Another SPARQL Query Editor\",\n  \"version\": \"2.11.19\",\n  \"main\": \"src/main.js\",\n  \"license\": \"MIT\",\n  \"author\": \"Laurens Rietveld\",\n  \"homepage\": \"http://yasqe.yasgui.org\",\n  \"scripts\": {\n    \"dev\": \"gulp serve\",\n    \"build\": \"gulp\",\n    \"patch\": \"gulp patch\",\n    \"minor\": \"gulp minor\",\n    \"major\": \"gulp major\",\n    \"update-interactive\": \"npm-check --skip-unused -u\"\n  },\n  \"devDependencies\": {\n    \"bootstrap-sass\": \"^3.3.7\",\n    \"browserify\": \"^13.1.0\",\n    \"browserify-shim\": \"^3.8.12\",\n    \"browserify-transform-tools\": \"^1.6.0\",\n    \"exorcist\": \"^0.4.0\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-autoprefixer\": \"^3.1.0\",\n    \"gulp-bump\": \"^2.2.0\",\n    \"gulp-concat\": \"^2.6.0\",\n    \"gulp-connect\": \"^4.2.0\",\n    \"gulp-cssimport\": \"^3.1.0\",\n    \"gulp-cssnano\": \"^2.1.2\",\n    \"gulp-embedlr\": \"^0.5.2\",\n    \"gulp-filter\": \"^4.0.0\",\n    \"gulp-git\": \"^2.4.1\",\n    \"gulp-jsvalidate\": \"^2.1.0\",\n    \"gulp-livereload\": \"^3.8.1\",\n    \"gulp-notify\": \"^2.2.0\",\n    \"gulp-rename\": \"^1.2.2\",\n    \"gulp-sass\": \"^2.3.2\",\n    \"gulp-sourcemaps\": \"^1.6.0\",\n    \"gulp-streamify\": \"1.0.2\",\n    \"gulp-tag-version\": \"^1.3.0\",\n    \"gulp-uglify\": \"^1.5.4\",\n    \"node-sass\": \"^3.8.0\",\n    \"require-dir\": \"^0.3.2\",\n    \"run-sequence\": \"^1.2.2\",\n    \"vinyl-buffer\": \"^1.0.0\",\n    \"vinyl-source-stream\": \"~1.1.0\",\n    \"vinyl-transform\": \"1.0.0\",\n    \"watchify\": \"^3.7.0\"\n  },\n  \"bugs\": \"https://github.com/YASGUI/YASQE/issues/\",\n  \"keywords\": [\n    \"JavaScript\",\n    \"SPARQL\",\n    \"Editor\",\n    \"Semantic Web\",\n    \"Linked Data\"\n  ],\n  \"maintainers\": [\n    {\n      \"name\": \"Laurens Rietveld\",\n      \"email\": \"laurens.rietveld@gmail.com\",\n      \"web\": \"http://laurensrietveld.nl\"\n    }\n  ],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/YASGUI/YASQE.git\"\n  },\n  \"dependencies\": {\n    \"codemirror\": \"5.17.0\",\n    \"jquery\": \"^2.2.4\",\n    \"prettier\": \"^1.4.4\",\n    \"yasgui-utils\": \"^1.6.7\"\n  },\n  \"optionalShim\": {\n    \"codemirror\": {\n      \"require\": \"codemirror\",\n      \"global\": \"CodeMirror\"\n    },\n    \"jquery\": {\n      \"require\": \"jquery\",\n      \"global\": \"jQuery\"\n    },\n    \"../../lib/codemirror\": {\n      \"require\": \"codemirror\",\n      \"global\": \"CodeMirror\"\n    }\n  }\n}\n\n},{}],33:[function(require,module,exports){\n\"use strict\";\nvar $ = require(\"jquery\"),\n  utils = require(\"../utils.js\"),\n  yutils = require(\"yasgui-utils\"),\n  Trie = require(\"../../lib/trie.js\"),\n  YASQE = require(\"../main.js\");\n\nmodule.exports = function(YASQE, yasqe) {\n  var completionNotifications = {};\n  var completers = {};\n  var tries = {};\n\n  yasqe.on(\"cursorActivity\", function(yasqe, eventInfo) {\n    autoComplete(true);\n  });\n  yasqe.on(\"change\", function() {\n    var needPossibleAdjustment = [];\n    for (var notificationName in completionNotifications) {\n      if (completionNotifications[notificationName].is(\":visible\")) {\n        needPossibleAdjustment.push(completionNotifications[notificationName]);\n      }\n    }\n    if (needPossibleAdjustment.length > 0) {\n      //position completion notifications\n      var scrollBar = $(yasqe.getWrapperElement()).find(\".CodeMirror-vscrollbar\");\n      var offset = 0;\n      if (scrollBar.is(\":visible\")) {\n        offset = scrollBar.outerWidth();\n      }\n      needPossibleAdjustment.forEach(function(notification) {\n        notification.css(\"right\", offset);\n      });\n    }\n  });\n\n  /**\n\t * Store bulk completions in memory as trie, and store these in localstorage as well (if enabled)\n\t *\n\t * @method doc.storeBulkCompletions\n\t * @param completions {array}\n\t */\n  var storeBulkCompletions = function(completer, completions) {\n    // store array as trie\n    tries[completer.name] = new Trie();\n    for (var i = 0; i < completions.length; i++) {\n      tries[completer.name].insert(completions[i]);\n    }\n    // store in localstorage as well\n    var storageId = utils.getPersistencyId(yasqe, completer.persistent);\n    if (storageId) yutils.storage.set(storageId, completions, \"month\", yasqe.options.onQuotaExceeded);\n  };\n\n  var initCompleter = function(name, completionInit) {\n    var completer = (completers[name] = new completionInit(yasqe, name));\n    completer.name = name;\n    if (completer.bulk) {\n      var storeArrayAsBulk = function(suggestions) {\n        if (suggestions && suggestions instanceof Array && suggestions.length > 0) {\n          storeBulkCompletions(completer, suggestions);\n        }\n      };\n      if (completer.get instanceof Array) {\n        // we don't care whether the completions are already stored in\n        // localstorage. just use this one\n        storeArrayAsBulk(completer.get);\n      } else {\n        // if completions are defined in localstorage, use those! (calling the\n        // function may come with overhead (e.g. async calls))\n        var completionsFromStorage = null;\n        var persistencyIdentifier = utils.getPersistencyId(yasqe, completer.persistent);\n        if (persistencyIdentifier) completionsFromStorage = yutils.storage.get(persistencyIdentifier);\n        if (completionsFromStorage && completionsFromStorage.length > 0) {\n          storeArrayAsBulk(completionsFromStorage);\n        } else {\n          // nothing in storage. check whether we have a function via which we\n          // can get our prefixes\n          if (completer.get instanceof Function) {\n            if (completer.async) {\n              completer.get(null, storeArrayAsBulk);\n            } else {\n              storeArrayAsBulk(completer.get());\n            }\n          }\n        }\n      }\n    }\n  };\n\n  var autoComplete = function(fromAutoShow) {\n    if (yasqe.somethingSelected()) return;\n    var tryHintType = function(completer) {\n      if (\n        fromAutoShow && // from autoShow, i.e. this gets called each time the editor content changes\n        (!completer.autoShow || // autoshow for  this particular type of autocompletion is -not- enabled\n          (!completer.bulk && completer.async)) // async is enabled (don't want to re-do ajax-like request for every editor change)\n      ) {\n        return false;\n      }\n\n      var hintConfig = {\n        closeCharacters: /(?=a)b/,\n        completeSingle: false\n      };\n      if (!completer.bulk && completer.async) {\n        hintConfig.async = true;\n      }\n      var wrappedHintCallback = function(yasqe, callback) {\n        return getCompletionHintsObject(completer, callback);\n      };\n      var result = YASQE.showHint(yasqe, wrappedHintCallback, hintConfig);\n      return true;\n    };\n    for (var completerName in completers) {\n      if ($.inArray(completerName, yasqe.options.autocompleters) == -1) continue; //this completer is disabled\n      var completer = completers[completerName];\n      if (!completer.isValidCompletionPosition) continue; //no way to check whether we are in a valid position\n\n      if (!completer.isValidCompletionPosition()) {\n        //if needed, fire callbacks for when we are -not- in valid completion position\n        if (completer.callbacks && completer.callbacks.invalidPosition) {\n          completer.callbacks.invalidPosition(yasqe, completer);\n        }\n        //not in a valid position, so continue to next completion candidate type\n        continue;\n      }\n      // run valid position handler, if there is one (if it returns false, stop the autocompletion!)\n      if (completer.callbacks && completer.callbacks.validPosition) {\n        if (completer.callbacks.validPosition(yasqe, completer) === false) continue;\n      }\n      var success = tryHintType(completer);\n      if (success) break;\n    }\n  };\n\n  var getCompletionHintsObject = function(completer, callback) {\n    var getSuggestionsFromToken = function(partialToken) {\n      var stringToAutocomplete = partialToken.autocompletionString || partialToken.string;\n      var suggestions = [];\n      if (tries[completer.name]) {\n        suggestions = tries[completer.name].autoComplete(stringToAutocomplete);\n      } else if (typeof completer.get == \"function\" && completer.async == false) {\n        suggestions = completer.get(stringToAutocomplete);\n      } else if (typeof completer.get == \"object\") {\n        var partialTokenLength = stringToAutocomplete.length;\n        for (var i = 0; i < completer.get.length; i++) {\n          var completion = completer.get[i];\n          if (completion.slice(0, partialTokenLength) == stringToAutocomplete) {\n            suggestions.push(completion);\n          }\n        }\n      }\n      return getSuggestionsAsHintObject(suggestions, completer, partialToken);\n    };\n\n    var token = yasqe.getCompleteToken();\n    if (completer.preProcessToken) {\n      token = completer.preProcessToken(token);\n    }\n\n    if (token) {\n      // use custom completionhint function, to avoid reaching a loop when the\n      // completionhint is the same as the current token\n      // regular behaviour would keep changing the codemirror dom, hence\n      // constantly calling this callback\n      if (!completer.bulk && completer.async) {\n        var wrappedCallback = function(suggestions) {\n          callback(getSuggestionsAsHintObject(suggestions, completer, token));\n        };\n        completer.get(token, wrappedCallback);\n      } else {\n        return getSuggestionsFromToken(token);\n      }\n    }\n  };\n\n  /**\n\t *  get our array of suggestions (strings) in the codemirror hint format\n\t */\n  var getSuggestionsAsHintObject = function(suggestions, completer, token) {\n    var hintList = [];\n    for (var i = 0; i < suggestions.length; i++) {\n      var suggestedString = suggestions[i];\n      if (completer.postProcessToken) {\n        suggestedString = completer.postProcessToken(token, suggestedString);\n      }\n      hintList.push({\n        text: suggestedString,\n        displayText: suggestedString,\n        hint: selectHint\n      });\n    }\n\n    var cur = yasqe.getCursor();\n    var returnObj = {\n      completionToken: token.string,\n      list: hintList,\n      from: {\n        line: cur.line,\n        ch: token.start\n      },\n      to: {\n        line: cur.line,\n        ch: token.end\n      }\n    };\n    //if we have some autocompletion handlers specified, add these these to the object. Codemirror will take care of firing these\n    if (completer.callbacks) {\n      for (var callbackName in completer.callbacks) {\n        if (completer.callbacks[callbackName]) {\n          YASQE.on(returnObj, callbackName, completer.callbacks[callbackName]);\n        }\n      }\n    }\n    return returnObj;\n  };\n\n  return {\n    init: initCompleter,\n    completers: completers,\n    notifications: {\n      getEl: function(completer) {\n        return $(completionNotifications[completer.name]);\n      },\n      show: function(yasqe, completer) {\n        //only draw when the user needs to use a keypress to summon autocompletions\n        if (!completer.autoshow) {\n          if (!completionNotifications[completer.name])\n            completionNotifications[completer.name] = $(\"<div class='completionNotification'></div>\");\n          completionNotifications[completer.name]\n            .show()\n            .text(\"Press CTRL - <spacebar> to autocomplete\")\n            .appendTo($(yasqe.getWrapperElement()));\n        }\n      },\n      hide: function(yasqe, completer) {\n        if (completionNotifications[completer.name]) {\n          completionNotifications[completer.name].hide();\n        }\n      }\n    },\n    autoComplete: autoComplete,\n    getTrie: function(completer) {\n      return typeof completer == \"string\" ? tries[completer] : tries[completer.name];\n    }\n  };\n};\n\n/**\n * function which fires after the user selects a completion. this function checks whether we actually need to store this one (if completion is same as current token, don't do anything)\n */\nvar selectHint = function(yasqe, data, completion) {\n  if (completion.text != yasqe.getTokenAt(yasqe.getCursor()).string) {\n    yasqe.replaceRange(completion.text, data.from, data.to);\n  }\n};\n\n//\n//module.exports = {\n//\tpreprocessPrefixTokenForCompletion: preprocessPrefixTokenForCompletion,\n//\tpostprocessResourceTokenForCompletion: postprocessResourceTokenForCompletion,\n//\tpreprocessResourceTokenForCompletion: preprocessResourceTokenForCompletion,\n//\tshowCompletionNotification: showCompletionNotification,\n//\thideCompletionNotification: hideCompletionNotification,\n//\tautoComplete: autoComplete,\n//\tautocompleteVariables: autocompleteVariables,\n//\tfetchFromPrefixCc: fetchFromPrefixCc,\n//\tfetchFromLov: fetchFromLov,\n////\tstoreBulkCompletions: storeBulkCompletions,\n//\tloadBulkCompletions: loadBulkCompletions,\n//};\n\n},{\"../../lib/trie.js\":4,\"../main.js\":43,\"../utils.js\":49,\"jquery\":15,\"yasgui-utils\":29}],34:[function(require,module,exports){\n\"use strict\";\nvar $ = require(\"jquery\");\nmodule.exports = function(yasqe, name) {\n  return {\n    isValidCompletionPosition: function() {\n      return module.exports.isValidCompletionPosition(yasqe);\n    },\n    get: function(token, callback) {\n      return require(\"./utils\").fetchFromLov(yasqe, this, token, callback);\n    },\n    preProcessToken: function(token) {\n      return module.exports.preProcessToken(yasqe, token);\n    },\n    postProcessToken: function(token, suggestedString) {\n      return module.exports.postProcessToken(yasqe, token, suggestedString);\n    },\n    async: true,\n    bulk: false,\n    autoShow: false,\n    persistent: name,\n    callbacks: {\n      validPosition: yasqe.autocompleters.notifications.show,\n      invalidPosition: yasqe.autocompleters.notifications.hide\n    }\n  };\n};\n\nmodule.exports.isValidCompletionPosition = function(yasqe) {\n  var token = yasqe.getCompleteToken();\n  if (token.string.indexOf(\"?\") == 0) return false;\n  var cur = yasqe.getCursor();\n  var previousToken = yasqe.getPreviousNonWsToken(cur.line, token);\n  if (previousToken.string == \"a\") return true;\n  if (previousToken.string == \"rdf:type\") return true;\n  if (previousToken.string == \"rdfs:domain\") return true;\n  if (previousToken.string == \"rdfs:range\") return true;\n  return false;\n};\nmodule.exports.preProcessToken = function(yasqe, token) {\n  return require(\"./utils.js\").preprocessResourceTokenForCompletion(yasqe, token);\n};\nmodule.exports.postProcessToken = function(yasqe, token, suggestedString) {\n  return require(\"./utils.js\").postprocessResourceTokenForCompletion(yasqe, token, suggestedString);\n};\n\n},{\"./utils\":37,\"./utils.js\":37,\"jquery\":15}],35:[function(require,module,exports){\n\"use strict\";\nvar $ = require(\"jquery\");\n//this is a mapping from the class names (generic ones, for compatability with codemirror themes), to what they -actually- represent\nvar tokenTypes = {\n  \"string-2\": \"prefixed\",\n  atom: \"var\"\n};\n\nmodule.exports = function(yasqe, completerName) {\n  //this autocompleter also fires on-change!\n  yasqe.on(\"change\", function() {\n    module.exports.appendPrefixIfNeeded(yasqe, completerName);\n  });\n\n  return {\n    isValidCompletionPosition: function() {\n      return module.exports.isValidCompletionPosition(yasqe);\n    },\n    get: function(token, callback) {\n      $.get(module.exports.fetchFrom, function(data) {\n        var prefixArray = [];\n        for (var prefix in data) {\n          if (prefix == \"bif\") continue; // skip this one! see #231\n          var completeString = prefix + \": <\" + data[prefix] + \">\";\n          prefixArray.push(completeString); // the array we want to store in localstorage\n        }\n\n        prefixArray.sort();\n        callback(prefixArray);\n      });\n    },\n    preProcessToken: function(token) {\n      return module.exports.preprocessPrefixTokenForCompletion(yasqe, token);\n    },\n    async: true,\n    bulk: true,\n    autoShow: true,\n    persistent: completerName,\n    callbacks: {\n      pick: function() {\n        yasqe.collapsePrefixes(false);\n      }\n    }\n  };\n};\nmodule.exports.isValidCompletionPosition = function(yasqe) {\n  var cur = yasqe.getCursor(), token = yasqe.getTokenAt(cur);\n\n  // not at end of line\n  if (yasqe.getLine(cur.line).length > cur.ch) return false;\n\n  if (token.type != \"ws\") {\n    // we want to complete token, e.g. when the prefix starts with an a\n    // (treated as a token in itself..)\n    // but we to avoid including the PREFIX tag. So when we have just\n    // typed a space after the prefix tag, don't get the complete token\n    token = yasqe.getCompleteToken();\n  }\n\n  // we shouldnt be at the uri part the prefix declaration\n  // also check whether current token isnt 'a' (that makes codemirror\n  // thing a namespace is a possiblecurrent\n  if (!token.string.indexOf(\"a\") == 0 && $.inArray(\"PNAME_NS\", token.state.possibleCurrent) == -1) return false;\n\n  // First token of line needs to be PREFIX,\n  // there should be no trailing text (otherwise, text is wrongly inserted\n  // in between)\n  var previousToken = yasqe.getPreviousNonWsToken(cur.line, token);\n  if (!previousToken || previousToken.string.toUpperCase() != \"PREFIX\") return false;\n  return true;\n};\nmodule.exports.preprocessPrefixTokenForCompletion = function(yasqe, token) {\n  var previousToken = yasqe.getPreviousNonWsToken(yasqe.getCursor().line, token);\n  if (previousToken && previousToken.string && previousToken.string.slice(-1) == \":\") {\n    //combine both tokens! In this case we have the cursor at the end of line \"PREFIX bla: <\".\n    //we want the token to be \"bla: <\", en not \"<\"\n    token = {\n      start: previousToken.start,\n      end: token.end,\n      string: previousToken.string + \" \" + token.string,\n      state: token.state\n    };\n  }\n  return token;\n};\n/**\n * Check whether typed prefix is declared. If not, automatically add declaration\n * using list from prefix.cc\n *\n * @param yasqe\n */\nmodule.exports.appendPrefixIfNeeded = function(yasqe, completerName) {\n  if (!yasqe.autocompleters.getTrie(completerName)) return; // no prefixed defined. just stop\n  if (!yasqe.options.autocompleters || yasqe.options.autocompleters.indexOf(completerName) == -1) return; //this autocompleter is disabled\n  var cur = yasqe.getCursor();\n\n  var token = yasqe.getTokenAt(cur);\n  if (tokenTypes[token.type] == \"prefixed\") {\n    var colonIndex = token.string.indexOf(\":\");\n    if (colonIndex !== -1) {\n      // check previous token isnt PREFIX, or a '<'(which would mean we are in a uri)\n      //\t\t\tvar firstTokenString = yasqe.getNextNonWsToken(cur.line).string.toUpperCase();\n      var lastNonWsTokenString = yasqe.getPreviousNonWsToken(cur.line, token).string.toUpperCase();\n      var previousToken = yasqe.getTokenAt({\n        line: cur.line,\n        ch: token.start\n      }); // needs to be null (beginning of line), or whitespace\n      if (lastNonWsTokenString != \"PREFIX\" && (previousToken.type == \"ws\" || previousToken.type == null)) {\n        // check whether it isnt defined already (saves us from looping\n        // through the array)\n        var currentPrefix = token.string.substring(0, colonIndex + 1);\n        var queryPrefixes = yasqe.getPrefixesFromQuery();\n        if (queryPrefixes[currentPrefix.slice(0, -1)] == null) {\n          // ok, so it isnt added yet!\n          var completions = yasqe.autocompleters.getTrie(completerName).autoComplete(currentPrefix);\n          if (completions.length > 0) {\n            yasqe.addPrefixes(completions[0]);\n          }\n        }\n      }\n    }\n  }\n};\n\nmodule.exports.fetchFrom = (window.location.protocol.indexOf(\"http\") === 0 ? \"//\" : \"http://\") +\n  \"prefix.cc/popular/all.file.json\";\n\n},{\"jquery\":15}],36:[function(require,module,exports){\n\"use strict\";\nvar $ = require(\"jquery\");\nmodule.exports = function(yasqe, name) {\n  return {\n    isValidCompletionPosition: function() {\n      return module.exports.isValidCompletionPosition(yasqe);\n    },\n    get: function(token, callback) {\n      return require(\"./utils\").fetchFromLov(yasqe, this, token, callback);\n    },\n    preProcessToken: function(token) {\n      return module.exports.preProcessToken(yasqe, token);\n    },\n    postProcessToken: function(token, suggestedString) {\n      return module.exports.postProcessToken(yasqe, token, suggestedString);\n    },\n    async: true,\n    bulk: false,\n    autoShow: false,\n    persistent: name,\n    callbacks: {\n      validPosition: yasqe.autocompleters.notifications.show,\n      invalidPosition: yasqe.autocompleters.notifications.hide\n    }\n  };\n};\n\nmodule.exports.isValidCompletionPosition = function(yasqe) {\n  var token = yasqe.getCompleteToken();\n  if (token.string.length == 0) return false; //we want -something- to autocomplete\n  if (token.string.indexOf(\"?\") == 0) return false; // we are typing a var\n  if ($.inArray(\"a\", token.state.possibleCurrent) >= 0) return true; // predicate pos\n  var cur = yasqe.getCursor();\n  var previousToken = yasqe.getPreviousNonWsToken(cur.line, token);\n  if (previousToken.string == \"rdfs:subPropertyOf\") return true;\n\n  // hmm, we would like -better- checks here, e.g. checking whether we are\n  // in a subject, and whether next item is a rdfs:subpropertyof.\n  // difficult though... the grammar we use is unreliable when the query\n  // is invalid (i.e. during typing), and often the predicate is not typed\n  // yet, when we are busy writing the subject...\n  return false;\n};\nmodule.exports.preProcessToken = function(yasqe, token) {\n  return require(\"./utils.js\").preprocessResourceTokenForCompletion(yasqe, token);\n};\nmodule.exports.postProcessToken = function(yasqe, token, suggestedString) {\n  return require(\"./utils.js\").postprocessResourceTokenForCompletion(yasqe, token, suggestedString);\n};\n\n},{\"./utils\":37,\"./utils.js\":37,\"jquery\":15}],37:[function(require,module,exports){\n\"use strict\";\nvar $ = require(\"jquery\"), utils = require(\"./utils.js\"), yutils = require(\"yasgui-utils\");\n/**\n * Where the base class only contains functionality related to -all- completions, this class contains some utils used here and there in our autocompletions\n */\n\n/**\n * Converts rdf:type to http://.../type and converts <http://...> to http://...\n * Stores additional info such as the used namespace and prefix in the token object\n */\nvar preprocessResourceTokenForCompletion = function(yasqe, token) {\n  var queryPrefixes = yasqe.getPrefixesFromQuery();\n  if (!token.string.indexOf(\"<\") == 0) {\n    token.tokenPrefix = token.string.substring(0, token.string.indexOf(\":\") + 1);\n\n    if (queryPrefixes[token.tokenPrefix.slice(0, -1)] != null) {\n      token.tokenPrefixUri = queryPrefixes[token.tokenPrefix.slice(0, -1)];\n    }\n  }\n\n  token.autocompletionString = token.string.trim();\n  if (!token.string.indexOf(\"<\") == 0 && token.string.indexOf(\":\") > -1) {\n    // hmm, the token is prefixed. We still need the complete uri for autocompletions. generate this!\n    for (var prefix in queryPrefixes) {\n      if (token.tokenPrefix === prefix + \":\") {\n        token.autocompletionString = queryPrefixes[prefix];\n        token.autocompletionString += token.string.substring(prefix.length + 1);\n        break;\n      }\n    }\n  }\n\n  if (token.autocompletionString.indexOf(\"<\") == 0)\n    token.autocompletionString = token.autocompletionString.substring(1);\n  if (token.autocompletionString.indexOf(\">\", token.length - 1) !== -1)\n    token.autocompletionString = token.autocompletionString.substring(0, token.autocompletionString.length - 1);\n  return token;\n};\n\nvar postprocessResourceTokenForCompletion = function(yasqe, token, suggestedString) {\n  if (token.tokenPrefix && token.autocompletionString && token.tokenPrefixUri) {\n    // we need to get the suggested string back to prefixed form\n    suggestedString = token.tokenPrefix + suggestedString.substring(token.tokenPrefixUri.length);\n  } else {\n    // it is a regular uri. add '<' and '>' to string\n    suggestedString = \"<\" + suggestedString + \">\";\n  }\n  return suggestedString;\n};\n\n//Use protocol relative request when served via http[s]*. Otherwise (e.g. file://, fetch via http)\nvar reqProtocol = window.location.protocol.indexOf(\"http\") === 0 ? \"//\" : \"http://\";\nvar fetchFromLov = function(yasqe, completer, token, callback) {\n  if (!token || !token.string || token.string.trim().length == 0) {\n    yasqe.autocompleters.notifications.getEl(completer).empty().append(\"Nothing to autocomplete yet!\");\n    return false;\n  }\n  var maxResults = 50;\n\n  var args = {\n    q: token.autocompletionString,\n    page: 1\n  };\n  if (completer.name == \"classes\") {\n    args.type = \"class\";\n  } else {\n    args.type = \"property\";\n  }\n  var results = [];\n  var url = \"\";\n  var updateUrl = function() {\n    url = reqProtocol + \"lov.linkeddata.es/dataset/lov/api/v2/autocomplete/terms?\" + $.param(args);\n  };\n  updateUrl();\n  var increasePage = function() {\n    args.page++;\n    updateUrl();\n  };\n  var doRequests = function() {\n    $.get(url, function(data) {\n      for (var i = 0; i < data.results.length; i++) {\n        if ($.isArray(data.results[i].uri) && data.results[i].uri.length > 0) {\n          results.push(data.results[i].uri[0]);\n        } else {\n          results.push(data.results[i].uri);\n        }\n      }\n      if (results.length < data.total_results && results.length < maxResults) {\n        increasePage();\n        doRequests();\n      } else {\n        //if notification bar is there, show feedback, or close\n        if (results.length > 0) {\n          yasqe.autocompleters.notifications.hide(yasqe, completer);\n        } else {\n          yasqe.autocompleters.notifications.getEl(completer).text(\"0 matches found...\");\n        }\n        callback(results);\n        // requests done! Don't call this function again\n      }\n    }).fail(function(jqXHR, textStatus, errorThrown) {\n      yasqe.autocompleters.notifications.getEl(completer).empty().append(\"Failed fetching suggestions..\");\n    });\n  };\n  //if notification bar is there, show a loader\n  yasqe.autocompleters.notifications\n    .getEl(completer)\n    .empty()\n    .append($(\"<span>Fetchting autocompletions &nbsp;</span>\"))\n    .append($(yutils.svg.getElement(require(\"../imgs.js\").loader)).addClass(\"notificationLoader\"));\n  doRequests();\n};\n\nmodule.exports = {\n  fetchFromLov: fetchFromLov,\n  preprocessResourceTokenForCompletion: preprocessResourceTokenForCompletion,\n  postprocessResourceTokenForCompletion: postprocessResourceTokenForCompletion\n};\n\n},{\"../imgs.js\":42,\"./utils.js\":37,\"jquery\":15,\"yasgui-utils\":29}],38:[function(require,module,exports){\n\"use strict\";\nvar $ = require(\"jquery\");\nmodule.exports = function(yasqe) {\n  return {\n    isValidCompletionPosition: function() {\n      var token = yasqe.getTokenAt(yasqe.getCursor());\n      if (token.type != \"ws\") {\n        token = yasqe.getCompleteToken(token);\n        if (token && (token.string[0] === '?' || token.string[0] === '$')) {\n          return true;\n        }\n      }\n      return false;\n    },\n    get: function(token) {\n      if (token.trim().length == 0) return []; //nothing to autocomplete\n      var distinctVars = {};\n      //do this outside of codemirror. I expect jquery to be faster here (just finding dom elements with classnames)\n      //and: this'll still work when the query is incorrect (i.e., when simply typing '?')\n      $(yasqe.getWrapperElement()).find(\".cm-atom\").each(function() {\n        var variable = this.innerHTML;\n        if (variable[0] === '?' || variable[0] === '$') {\n          //ok, lets check if the next element in the div is an atom as well. In that case, they belong together (may happen sometimes when query is not syntactically valid)\n          var nextEl = $(this).next();\n          var nextElClass = nextEl.attr(\"class\");\n          if (nextElClass && nextEl.attr(\"class\").indexOf(\"cm-atom\") >= 0) {\n            variable += nextEl.text();\n          }\n\n          //skip single questionmarks\n          if (variable.length <= 1) return;\n\n          //it should match our token ofcourse\n          if (variable.indexOf(token) !== 0) return;\n\n          //skip exact matches\n          if (variable == token) return;\n\n          //store in map so we have a unique list\n          distinctVars[variable] = true;\n        }\n      });\n      var variables = [];\n      for (var variable in distinctVars) {\n        variables.push(variable);\n      }\n      variables.sort();\n      return variables;\n    },\n    async: false,\n    bulk: false,\n    autoShow: true\n  };\n};\n\n},{\"jquery\":15}],39:[function(require,module,exports){\nvar sparql = require(\"./sparql.js\"), $ = require(\"jquery\");\nvar quote = function(string) {\n  return \"'\" + string + \"'\";\n};\nmodule.exports = {\n  createCurlString: function(yasqe, config) {\n    var ajaxConfig = sparql.getAjaxConfig(yasqe, config);\n    var url = ajaxConfig.url;\n    if (ajaxConfig.url.indexOf(\"http\") !== 0) {\n      //this is either a relative or absolute url, which is not supported by CURL.\n      //Add domain, schema, etc etc\n      var url = window.location.protocol + \"//\" + window.location.host;\n      if (ajaxConfig.url.indexOf(\"/\") === 0) {\n        //its an absolute path\n        url += ajaxConfig.url;\n      } else {\n        //relative, so append current location to url first\n        url += window.location.pathname + ajaxConfig.url;\n      }\n    }\n    var cmds = [\"curl\", url, \"-X\", yasqe.options.sparql.requestMethod];\n    if (yasqe.options.sparql.requestMethod == \"POST\") {\n      cmds.push(\"--data \" + quote($.param(ajaxConfig.data)));\n    }\n    for (var header in ajaxConfig.headers) {\n      cmds.push(\"-H \" + quote(header + \": \" + ajaxConfig.headers[header]));\n    }\n    return cmds.join(\" \");\n  }\n};\n\n},{\"./sparql.js\":46,\"jquery\":15}],40:[function(require,module,exports){\n/**\n * The default options of YASQE (check the CodeMirror documentation for even\n * more options, such as disabling line numbers, or changing keyboard shortcut\n * keys). Either change the default options by setting YASQE.defaults, or by\n * passing your own options as second argument to the YASQE constructor\n */\nvar $ = require(\"jquery\"), YASQE = require(\"./main.js\");\nYASQE.defaults = $.extend(true, {}, YASQE.defaults, {\n  mode: \"sparql11\",\n  /**\n\t * Query string\n\t */\n  value: \"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\nSELECT * WHERE {\\n  ?sub ?pred ?obj .\\n} \\nLIMIT 10\",\n  highlightSelectionMatches: {\n    showToken: /\\w/\n  },\n  tabMode: \"indent\",\n  lineNumbers: true,\n  lineWrapping: true,\n  backdrop: false,\n  foldGutter: {\n    rangeFinder: new YASQE.fold.combine(YASQE.fold.brace, YASQE.fold.prefix)\n  },\n  collapsePrefixesOnLoad: false,\n  gutters: [\"gutterErrorBar\", \"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\n  matchBrackets: true,\n  fixedGutter: true,\n  syntaxErrorCheck: true,\n  onQuotaExceeded: function(e) {\n    //fail silently\n    console.warn(\"Could not store in localstorage. Skipping..\", e);\n  },\n  /**\n\t * Extra shortcut keys. Check the CodeMirror manual on how to add your own\n\t *\n\t * @property extraKeys\n\t * @type object\n\t */\n  extraKeys: {\n    //\t\t\t\t\t\"Ctrl-Space\" : function(yasqe) {\n    //\t\t\t\t\t\tYASQE.autoComplete(yasqe);\n    //\t\t\t\t\t},\n    \"Ctrl-Space\": YASQE.autoComplete,\n\n    \"Cmd-Space\": YASQE.autoComplete,\n    \"Ctrl-D\": YASQE.deleteLine,\n    \"Ctrl-K\": YASQE.deleteLine,\n    \"Shift-Ctrl-K\": YASQE.deleteLine,\n    \"Cmd-D\": YASQE.deleteLine,\n    \"Cmd-K\": YASQE.deleteLine,\n    \"Ctrl-/\": YASQE.commentLines,\n    \"Cmd-/\": YASQE.commentLines,\n    \"Ctrl-Alt-Down\": YASQE.copyLineDown,\n    \"Ctrl-Alt-Up\": YASQE.copyLineUp,\n    \"Cmd-Alt-Down\": YASQE.copyLineDown,\n    \"Cmd-Alt-Up\": YASQE.copyLineUp,\n    \"Shift-Ctrl-F\": YASQE.doAutoFormat,\n    \"Shift-Cmd-F\": YASQE.doAutoFormat,\n    \"Ctrl-]\": YASQE.indentMore,\n    \"Cmd-]\": YASQE.indentMore,\n    \"Ctrl-[\": YASQE.indentLess,\n    \"Cmd-[\": YASQE.indentLess,\n    \"Ctrl-S\": YASQE.storeQuery,\n    \"Cmd-S\": YASQE.storeQuery,\n    \"Ctrl-Enter\": YASQE.executeQuery,\n    \"Cmd-Enter\": YASQE.executeQuery,\n    F11: function(yasqe) {\n      yasqe.setOption(\"fullScreen\", !yasqe.getOption(\"fullScreen\"));\n    },\n    Esc: function(yasqe) {\n      if (yasqe.getOption(\"fullScreen\")) yasqe.setOption(\"fullScreen\", false);\n    }\n  },\n  cursorHeight: 0.9,\n\n  /**\n\t * Show a button with which users can create a link to this query. Set this value to null to disable this functionality.\n\t * By default, this feature is enabled, and the only the query value is appended to the link.\n\t * ps. This function should return an object which is parseable by jQuery.param (http://api.jquery.com/jQuery.param/)\n\t */\n  createShareLink: YASQE.createShareLink,\n\n  createShortLink: null,\n\n  /**\n\t * Consume links shared by others, by checking the url for arguments coming from a query link. Defaults by only checking the 'query=' argument in the url\n\t */\n  consumeShareLink: YASQE.consumeShareLink,\n\n  /**\n\t * Change persistency settings for the YASQE query value. Setting the values\n\t * to null, will disable persistancy: nothing is stored between browser\n\t * sessions Setting the values to a string (or a function which returns a\n\t * string), will store the query in localstorage using the specified string.\n\t * By default, the ID is dynamically generated using the closest dom ID, to avoid collissions when using multiple YASQE items on one\n\t * page\n\t *\n\t * @type function|string\n\t */\n  persistent: function(yasqe) {\n    return \"yasqe_\" + $(yasqe.getWrapperElement()).closest(\"[id]\").attr(\"id\") + \"_queryVal\";\n  },\n\n  /**\n\t * Settings for querying sparql endpoints\n\t */\n  sparql: {\n    queryName: function(yasqe) {\n      return yasqe.getQueryMode();\n    },\n    showQueryButton: false,\n\n    /**f\n\t\t * Endpoint to query\n\t\t *\n\t\t * @property sparql.endpoint\n\t\t * @type String|function\n\t\t */\n    endpoint: \"http://dbpedia.org/sparql\",\n    /**\n\t\t * Request method via which to access SPARQL endpoint\n\t\t *\n\t\t * @property sparql.requestMethod\n\t\t * @type String|function\n\t\t */\n    requestMethod: \"POST\",\n\n    /**\n\t\t * @type String|function\n\t\t */\n    acceptHeaderGraph: \"text/turtle,*/*;q=0.9\",\n    /**\n\t\t * @type String|function\n\t\t */\n    acceptHeaderSelect: \"application/sparql-results+json,*/*;q=0.9\",\n    /**\n\t\t * @type String|function\n\t\t */\n    acceptHeaderUpdate: \"text/plain,*/*;q=0.9\",\n\n    /**\n\t\t * Named graphs to query.\n\t\t */\n    namedGraphs: [],\n    /**\n\t\t * Default graphs to query.\n\t\t */\n    defaultGraphs: [],\n\n    /**\n\t\t * Additional request arguments. Add them in the form: {name: \"name\", value: \"value\"}\n\t\t */\n    args: [],\n\n    /**\n\t\t * Additional request headers\n\t\t */\n    headers: {},\n\n    getQueryForAjax: null,\n    /**\n\t\t * Set of ajax callbacks\n\t\t */\n    callbacks: {\n      beforeSend: null,\n      complete: null,\n      error: null,\n      success: null\n    },\n    handlers: {} //keep here for backwards compatability\n  }\n});\n\n},{\"./main.js\":43,\"jquery\":15}],41:[function(require,module,exports){\n//this is the entry-point for browserify.\n//the current browserify version does not support require-ing js files which are used as entry-point\n//this way, we can still require our main.js file\nmodule.exports = require(\"./main.js\");\n\n},{\"./main.js\":43}],42:[function(require,module,exports){\n\"use strict\";\nmodule.exports = {\n  query: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 80 80\"><path d=\"M64.622 2.41H14.995c-6.627 0-12 5.374-12 12V64.31c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V14.41c0-6.627-5.373-12-12-12zM24.125 63.907V15.093L61 39.168 24.125 63.906z\"/></svg>',\n  queryInvalid: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 73.627 73.897\"><path d=\"M61.627 0H12C5.373 0 0 5.373 0 12v49.897c0 6.627 5.373 12 12 12h49.627c6.627 0 12-5.373 12-12V12c0-6.628-5.373-12-12-12zM21.13 61.495V12.682l36.875 24.075L21.13 61.495z\"/><path d=\"M66.13 65.904H49.77c-1.647 0-2.89-.58-3.5-1.636-.608-1.056-.49-2.422.334-3.848l8.18-14.167c.822-1.427 1.947-2.212 3.165-2.212s2.342.786 3.165 2.213l8.18 14.167c.824 1.426.942 2.792.333 3.848-.61 1.055-1.852 1.636-3.5 1.636zm-6.51-4.986c0-.85-.69-1.54-1.54-1.54-.85 0-1.54.69-1.54 1.54 0 .85.69 1.54 1.54 1.54.85 0 1.54-.69 1.54-1.54zm.04-9.266c0-.873-.708-1.58-1.58-1.58-.874 0-1.582.707-1.582 1.58l.374 5.61h.005c.054.62.568 1.108 1.202 1.108.586 0 1.075-.415 1.188-.968.01-.045.01-.093.014-.14h.01l.368-5.61z\" fill=\"#a80\"/></svg>',\n  download: '<svg xmlns=\"http://www.w3.org/2000/svg\" baseProfile=\"tiny\" viewBox=\"0 0 100 100\"><path fill-rule=\"evenodd\" d=\"M88 84v-2c0-2.96-.86-4-4-4H16c-2.96 0-4 .98-4 4v2c0 3.102 1.04 4 4 4h68c3.02 0 4-.96 4-4zM58 12H42c-5 0-6 .94-6 6v22H16l34 34 34-34H64V18c0-5.06-1.06-6-6-6z\"/></svg>',\n  share: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><path d=\"M36.764 50c0 .308-.07.598-.088.905l32.247 16.12c2.76-2.34 6.293-3.798 10.195-3.798C87.89 63.227 95 70.337 95 79.11 95 87.89 87.89 95 79.118 95c-8.78 0-15.882-7.11-15.882-15.89 0-.317.07-.6.088-.906l-32.247-16.12c-2.77 2.33-6.293 3.79-10.195 3.79C12.11 65.873 5 58.77 5 50c0-8.78 7.11-15.89 15.882-15.89 3.902 0 7.427 1.467 10.195 3.796l32.247-16.12c-.018-.307-.088-.597-.088-.913C63.236 12.11 70.338 5 79.118 5 87.89 5 95 12.11 95 20.873c0 8.78-7.11 15.89-15.882 15.89-3.91 0-7.436-1.467-10.195-3.805L36.676 49.086c.017.308.088.598.088.914z\"/></svg>',\n  warning: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 66.399998 66.399998\"><g fill=\"red\"><path d=\"M33.2 0C14.9 0 0 14.9 0 33.2c0 18.3 14.9 33.2 33.2 33.2 18.3 0 33.2-14.9 33.2-33.2C66.4 14.9 51.5 0 33.2 0zm0 59.4C18.7 59.4 7 47.6 7 33.2 7 18.7 18.8 7 33.2 7c14.4 0 26.2 11.8 26.2 26.2 0 14.4-11.8 26.2-26.2 26.2z\"/><path d=\"M33.1 45.6c-1.4 0-2.5.5-3.5 1.5-.9 1-1.4 2.2-1.4 3.6 0 1.6.5 2.8 1.5 3.8 1 .9 2.1 1.3 3.4 1.3 1.3 0 2.4-.5 3.4-1.4 1-.9 1.5-2.2 1.5-3.7 0-1.4-.5-2.6-1.4-3.6-.9-1-2.1-1.5-3.5-1.5zM33.3 12.4c-1.5 0-2.8.5-3.7 1.6-.9 1-1.4 2.4-1.4 4.2 0 1.1.1 2.9.2 5.6l.8 13.1c.2 1.8.4 3.2.9 4.1.5 1.2 1.5 1.8 2.9 1.8 1.3 0 2.3-.7 2.9-1.9.5-1 .7-2.3.9-4l1.1-13.4c.1-1.3.2-2.5.2-3.8 0-2.2-.3-3.9-.8-5.1-.5-1-1.6-2.2-4-2.2z\"/></g></svg>',\n  fullscreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"5 -10 100 100\"><path d=\"M5-10v38.89L21.667 12.22 38.334 28.89l5.555-5.556L27.22 6.667 43.89-10H5zM105-10v38.89L88.333 12.22 71.667 28.89l-5.556-5.556L82.778 6.667 66.11-10H105zM5 90V51.11l16.667 16.667L38.334 51.11l5.555 5.557L27.22 73.333 43.89 90H5zM105 90V51.11L88.333 67.778 71.667 51.11l-5.556 5.557 16.667 16.666L66.11 90H105z\" fill=\"#010101\"/></svg>',\n  smallscreen: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"5 -10 100 100\"><path d=\"M43.89 28.89V-10L27.22 6.667 10.555-10 5-4.445l16.667 16.667L5 28.89h38.89zM66.11 28.89V-10L82.78 6.667 99.444-10 105-4.445 88.334 12.222 105 28.89H66.11zM43.89 51.11V90L27.22 73.334 10.555 90 5 84.444l16.667-16.666L5 51.11h38.89zM66.11 51.11V90L82.78 73.334 99.444 90 105 84.444 88.334 67.778 105 51.11H66.11z\" fill=\"#010101\"/></svg>'\n};\n\n},{}],43:[function(require,module,exports){\n\"use strict\";\n//make sure any console statements\nwindow.console = window.console || {\n  log: function() {}\n};\n\n/**\n * Load libraries\n */\nvar $ = require(\"jquery\"),\n  CodeMirror = require(\"codemirror\"),\n  utils = require(\"./utils.js\"),\n  yutils = require(\"yasgui-utils\"),\n  imgs = require(\"./imgs.js\");\n\nrequire(\"../lib/deparam.js\");\nrequire(\"codemirror/addon/fold/foldcode.js\");\nrequire(\"codemirror/addon/fold/foldgutter.js\");\nrequire(\"codemirror/addon/fold/xml-fold.js\");\nrequire(\"codemirror/addon/fold/brace-fold.js\");\nrequire(\"./prefixFold.js\");\nrequire(\"codemirror/addon/hint/show-hint.js\");\nrequire(\"codemirror/addon/search/searchcursor.js\");\nrequire(\"codemirror/addon/edit/matchbrackets.js\");\nrequire(\"codemirror/addon/runmode/runmode.js\");\nrequire(\"codemirror/addon/display/fullscreen.js\");\nrequire(\"../lib/grammar/tokenizer.js\");\n\n/**\n * Main YASQE constructor. Pass a DOM element as argument to append the editor to, and (optionally) pass along config settings (see the YASQE.defaults object below, as well as the regular CodeMirror documentation, for more information on configurability)\n *\n * @constructor\n * @param {DOM-Element} parent element to append editor to.\n * @param {object} settings\n * @class YASQE\n * @return {doc} YASQE document\n */\nvar root = (module.exports = function(parent, config) {\n  var rootEl = $(\"<div>\", {\n    class: \"yasqe\"\n  }).appendTo($(parent));\n  config = extendConfig(config);\n  var yasqe = extendCmInstance(CodeMirror(rootEl[0], config));\n  postProcessCmElement(yasqe);\n  return yasqe;\n});\n\n/**\n * Extend config object, which we will pass on to the CM constructor later on.\n * Need this, to make sure our own 'onBlur' etc events do not get overwritten by\n * people who add their own onblur events to the config Additionally, need this\n * to include the CM defaults ourselves. CodeMirror has a method for including\n * defaults, but we can't rely on that one: it assumes flat config object, where\n * we have nested objects (e.g. the persistency option)\n *\n * @private\n */\nvar extendConfig = function(config) {\n  var extendedConfig = $.extend(true, {}, root.defaults, config);\n\n  // I know, codemirror deals with  default options as well.\n  //However, it does not do this recursively (i.e. the persistency option)\n\n  return extendedConfig;\n};\n/**\n * Add extra functions to the CM document (i.e. the codemirror instantiated\n * object)\n *\n * @private\n */\nvar extendCmInstance = function(yasqe) {\n  //instantiate autocompleters\n  yasqe.autocompleters = require(\"./autocompleters/autocompleterBase.js\")(root, yasqe);\n  if (yasqe.options.autocompleters) {\n    yasqe.options.autocompleters.forEach(function(name) {\n      if (root.Autocompleters[name]) yasqe.autocompleters.init(name, root.Autocompleters[name]);\n    });\n  }\n  yasqe.emit = function(event, data) {\n    root.signal(yasqe, event, data)\n  }\n  yasqe.lastQueryDuration = null;\n  yasqe.getCompleteToken = function(token, cur) {\n    return require(\"./tokenUtils.js\").getCompleteToken(yasqe, token, cur);\n  };\n  yasqe.getPreviousNonWsToken = function(line, token) {\n    return require(\"./tokenUtils.js\").getPreviousNonWsToken(yasqe, line, token);\n  };\n  yasqe.getNextNonWsToken = function(lineNumber, charNumber) {\n    return require(\"./tokenUtils.js\").getNextNonWsToken(yasqe, lineNumber, charNumber);\n  };\n  yasqe.collapsePrefixes = function(collapse) {\n    if (collapse === undefined) collapse = true;\n    yasqe.foldCode(\n      require(\"./prefixFold.js\").findFirstPrefixLine(yasqe),\n      root.fold.prefix,\n      collapse ? \"fold\" : \"unfold\"\n    );\n  };\n  var backdrop = null;\n  var animateSpeed = null;\n  yasqe.setBackdrop = function(show) {\n    if (yasqe.options.backdrop || yasqe.options.backdrop === 0 || yasqe.options.backdrop === \"0\") {\n      if (animateSpeed === null) {\n        animateSpeed = +yasqe.options.backdrop;\n        if (animateSpeed === 1) {\n          //ah, yasqe.options.backdrop was 'true'. Set this to default animate speed 400\n          animateSpeed = 400;\n        }\n      }\n\n      if (!backdrop) {\n        backdrop = $(\"<div>\", {\n          class: \"backdrop\"\n        })\n          .click(function() {\n            $(this).hide();\n          })\n          .insertAfter($(yasqe.getWrapperElement()));\n      }\n      if (show) {\n        backdrop.show(animateSpeed);\n      } else {\n        backdrop.hide(animateSpeed);\n      }\n    }\n  };\n  /**\n\t * Execute query. Pass a callback function, or a configuration object (see\n\t * default settings below for possible values) I.e., you can change the\n\t * query configuration by either changing the default settings, changing the\n\t * settings of this document, or by passing query settings to this function\n\t *\n\t * @method doc.query\n\t * @param function|object\n\t */\n  yasqe.query = function(callbackOrConfig) {\n    root.executeQuery(yasqe, callbackOrConfig);\n  };\n\n  yasqe.getUrlArguments = function(config) {\n    return root.getUrlArguments(yasqe, config);\n  };\n\n  /**\n\t * Fetch defined prefixes from query string\n\t *\n\t * @method doc.getPrefixesFromQuery\n\t * @return object\n\t */\n  yasqe.getPrefixesFromQuery = function() {\n    return require(\"./prefixUtils.js\").getPrefixesFromQuery(yasqe);\n  };\n\n  yasqe.addPrefixes = function(prefixes) {\n    return require(\"./prefixUtils.js\").addPrefixes(yasqe, prefixes);\n  };\n  yasqe.removePrefixes = function(prefixes) {\n    return require(\"./prefixUtils.js\").removePrefixes(yasqe, prefixes);\n  };\n  yasqe.getVariablesFromQuery = function() {\n    //Use precise here. We want to be sure we use the most up to date state. If we're\n    //not, we might get outdated info from the current query (creating loops such\n    //as https://github.com/OpenTriply/YASGUI/issues/84)\n    //on caveat: this function won't work when query is invalid (i.e. when typing)\n    return $.map(yasqe.getTokenAt({ line: yasqe.lastLine(), ch: yasqe.getLine(yasqe.lastLine()).length }, true).state.variables, function(val,key) {return key});\n  }\n  //values in the form of {?var: 'value'}, or [{?var: 'value'}]\n  yasqe.getQueryWithValues = function(values) {\n    if (!values) return yasqe.getValue();\n    var injectString;\n    if (typeof values === 'string') {\n      injectString = values;\n    } else {\n      //start building inject string\n      if (!Array.isArray(values)) values = [values];\n      var variables = values.reduce(function(vars, valueObj) {\n        for (var v in valueObj) {\n          vars[v] = v;\n        }\n        return vars;\n      }, {})\n      var varArray = [];\n      for (var v in variables) {\n        varArray.push(v);\n      }\n\n      if (!varArray.length) return yasqe.getValue() ;\n      //ok, we've got enough info to start building the string now\n      injectString = \"VALUES (\" + varArray.join(' ') + \") {\\n\";\n      values.forEach(function(valueObj) {\n        injectString += \"( \";\n        varArray.forEach(function(variable) {\n          injectString += valueObj[variable] || \"UNDEF\"\n        })\n        injectString += \" )\\n\"\n      })\n      injectString += \"}\\n\"\n    }\n    if (!injectString) return yasqe.getValue();\n\n    var newQuery = \"\"\n    var injected = false;\n    var gotSelect = false;\n    root.runMode(yasqe.getValue(), \"sparql11\", function(stringVal, className, row, col, state) {\n      if (className === \"keyword\" && stringVal.toLowerCase() === 'select') gotSelect = true;\n      newQuery += stringVal;\n      if (gotSelect && !injected && className === \"punc\" && stringVal === \"{\") {\n        injected = true;\n        //start injecting\n        newQuery += \"\\n\" + injectString;\n      }\n    });\n    return newQuery\n  }\n\n  yasqe.getValueWithoutComments = function() {\n    var cleanedQuery = \"\";\n    root.runMode(yasqe.getValue(), \"sparql11\", function(stringVal, className) {\n      if (className != \"comment\") {\n        cleanedQuery += stringVal;\n      }\n    });\n    return cleanedQuery;\n  };\n  /**\n\t * Fetch the query type (e.g., SELECT||DESCRIBE||INSERT||DELETE||ASK||CONSTRUCT)\n\t *\n\t * @method doc.getQueryType\n\t * @return string\n\t *\n\t */\n  yasqe.getQueryType = function() {\n    return yasqe.queryType;\n  };\n  /**\n\t * Fetch the query mode: 'query' or 'update'\n\t *\n\t * @method doc.getQueryMode\n\t * @return string\n\t *\n\t */\n  yasqe.getQueryMode = function() {\n    var type = yasqe.getQueryType();\n    if (\n      type == \"INSERT\" ||\n      type == \"DELETE\" ||\n      type == \"LOAD\" ||\n      type == \"CLEAR\" ||\n      type == \"CREATE\" ||\n      type == \"DROP\" ||\n      type == \"COPY\" ||\n      type == \"MOVE\" ||\n      type == \"ADD\"\n    ) {\n      return \"update\";\n    } else {\n      return \"query\";\n    }\n  };\n\n  yasqe.setCheckSyntaxErrors = function(isEnabled) {\n    yasqe.options.syntaxErrorCheck = isEnabled;\n    checkSyntax(yasqe);\n  };\n\n  yasqe.enableCompleter = function(name) {\n    addCompleterToSettings(yasqe.options, name);\n    if (root.Autocompleters[name]) yasqe.autocompleters.init(name, root.Autocompleters[name]);\n  };\n  yasqe.disableCompleter = function(name) {\n    removeCompleterFromSettings(yasqe.options, name);\n  };\n  return yasqe;\n};\n\nvar addCompleterToSettings = function(settings, name) {\n  if (!settings.autocompleters) settings.autocompleters = [];\n  settings.autocompleters.push(name);\n};\nvar removeCompleterFromSettings = function(settings, name) {\n  if (typeof settings.autocompleters == \"object\") {\n    var index = $.inArray(name, settings.autocompleters);\n    if (index >= 0) {\n      settings.autocompleters.splice(index, 1);\n      removeCompleterFromSettings(settings, name); //just in case. suppose 1 completer is listed twice\n    }\n  }\n};\nvar postProcessCmElement = function(yasqe) {\n  /**\n\t * Set doc value\n\t */\n  var storageId = utils.getPersistencyId(yasqe, yasqe.options.persistent);\n  if (storageId) {\n    var valueFromStorage = yutils.storage.get(storageId);\n    if (valueFromStorage) yasqe.setValue(valueFromStorage);\n  }\n\n  root.drawButtons(yasqe);\n\n  /**\n\t * Add event handlers\n\t */\n  yasqe.on(\"blur\", function(yasqe, eventInfo) {\n    root.storeQuery(yasqe);\n  });\n  yasqe.on(\"change\", function(yasqe, eventInfo) {\n    checkSyntax(yasqe);\n    root.updateQueryButton(yasqe);\n    root.positionButtons(yasqe);\n  });\n  yasqe.on(\"changes\", function() {\n    //e.g. on paste\n    checkSyntax(yasqe);\n    root.updateQueryButton(yasqe);\n    root.positionButtons(yasqe);\n  });\n\n  yasqe.on(\"cursorActivity\", function(yasqe, eventInfo) {\n    updateButtonsTransparency(yasqe);\n  });\n  yasqe.prevQueryValid = false;\n  checkSyntax(yasqe); // on first load, check as well (our stored or default query might be incorrect)\n  root.positionButtons(yasqe);\n\n  $(yasqe.getWrapperElement())\n    .on(\"mouseenter\", \".cm-atom\", function() {\n      var matchText = $(this).text();\n      $(yasqe.getWrapperElement())\n        .find(\".cm-atom\")\n        .filter(function() {\n          return $(this).text() === matchText;\n        })\n        .addClass(\"matchingVar\");\n    })\n    .on(\"mouseleave\", \".cm-atom\", function() {\n      $(yasqe.getWrapperElement()).find(\".matchingVar\").removeClass(\"matchingVar\");\n    });\n  /**\n\t * check url args and modify yasqe settings if needed\n\t */\n  if (yasqe.options.consumeShareLink) {\n    yasqe.options.consumeShareLink(yasqe, getUrlParams());\n    //and: add a hash listener!\n    window.addEventListener(\"hashchange\", function() {\n      yasqe.options.consumeShareLink(yasqe, getUrlParams());\n    });\n  }\n  if (yasqe.options.collapsePrefixesOnLoad) yasqe.collapsePrefixes(true);\n};\n\n/**\n * get url params. first try fetching using hash. If it fails, try the regular query parameters (for backwards compatability)\n */\nvar getUrlParams = function() {\n  //first try hash\n  var urlParams = null;\n  if (window.location.hash.length > 1) {\n    //firefox does some decoding if we're using window.location.hash (e.g. the + sign in contentType settings)\n    //Don't want this. So simply get the hash string ourselves\n    urlParams = $.deparam(location.href.split(\"#\")[1]);\n  }\n  if ((!urlParams || !(\"query\" in urlParams)) && window.location.search.length > 1) {\n    //ok, then just try regular url params\n    urlParams = $.deparam(window.location.search.substring(1));\n  }\n  return urlParams;\n};\n\n/**\n * Update transparency of buttons. Increase transparency when cursor is below buttons\n */\n\nvar updateButtonsTransparency = function(yasqe) {\n  yasqe.cursor = $(\".CodeMirror-cursor\");\n  if (yasqe.buttons && yasqe.buttons.is(\":visible\") && yasqe.cursor.length > 0) {\n    if (utils.elementsOverlap(yasqe.cursor, yasqe.buttons)) {\n      yasqe.buttons.find(\"svg\").attr(\"opacity\", \"0.2\");\n    } else {\n      yasqe.buttons.find(\"svg\").attr(\"opacity\", \"1.0\");\n    }\n  }\n};\n\nvar clearError = null;\nvar checkSyntax = function(yasqe, deepcheck) {\n  yasqe.queryValid = true;\n\n  yasqe.clearGutter(\"gutterErrorBar\");\n\n  var state = null;\n  for (var l = 0; l < yasqe.lineCount(); ++l) {\n    var precise = false;\n    if (!yasqe.prevQueryValid) {\n      // we don't want cached information in this case, otherwise the\n      // previous error sign might still show up,\n      // even though the syntax error might be gone already\n      precise = true;\n    }\n\n    var token = yasqe.getTokenAt(\n      {\n        line: l,\n        ch: yasqe.getLine(l).length\n      },\n      precise\n    );\n    var state = token.state;\n    yasqe.queryType = state.queryType;\n    if (state.OK == false) {\n      if (!yasqe.options.syntaxErrorCheck) {\n        //the library we use already marks everything as being an error. Overwrite this class attribute.\n        $(yasqe.getWrapperElement()).find(\".sp-error\").css(\"color\", \"black\");\n        //we don't want to gutter error, so return\n        return;\n      }\n\n      var warningEl = yutils.svg.getElement(imgs.warning);\n      if (state.errorMsg) {\n        require(\"./tooltip\")(yasqe, warningEl, function() {\n          return $(\"<div/>\").text(token.state.errorMsg).html();\n        });\n      } else if (state.possibleCurrent && state.possibleCurrent.length > 0) {\n        //\t\t\t\twarningEl.style.zIndex = \"99999999\";\n        require(\"./tooltip\")(yasqe, warningEl, function() {\n          var expectedEncoded = [];\n          state.possibleCurrent.forEach(function(expected) {\n            expectedEncoded.push(\n              \"<strong style='text-decoration:underline'>\" + $(\"<div/>\").text(expected).html() + \"</strong>\"\n            );\n          });\n          return \"This line is invalid. Expected: \" + expectedEncoded.join(\", \");\n        });\n      }\n      warningEl.style.marginTop = \"2px\";\n      warningEl.style.marginLeft = \"2px\";\n      warningEl.className = \"parseErrorIcon\";\n      yasqe.setGutterMarker(l, \"gutterErrorBar\", warningEl);\n\n      yasqe.queryValid = false;\n      break;\n    }\n  }\n  yasqe.prevQueryValid = yasqe.queryValid;\n  if (deepcheck) {\n    if (state != null && state.stack != undefined) {\n      var stack = state.stack, len = state.stack.length;\n      // Because incremental parser doesn't receive end-of-input\n      // it can't clear stack, so we have to check that whatever\n      // is left on the stack is nillable\n      if (len > 1) yasqe.queryValid = false;\n      else if (len == 1) {\n        if (stack[0] != \"solutionModifier\" && stack[0] != \"?limitOffsetClauses\" && stack[0] != \"?offsetClause\")\n          yasqe.queryValid = false;\n      }\n    }\n  }\n};\n/**\n * Static Utils\n */\n// first take all CodeMirror references and store them in the YASQE object\n$.extend(root, CodeMirror);\n\n//add registrar for autocompleters\nroot.Autocompleters = {};\nroot.registerAutocompleter = function(name, constructor) {\n  root.Autocompleters[name] = constructor;\n  addCompleterToSettings(root.defaults, name);\n};\n\nroot.autoComplete = function(yasqe) {\n  //this function gets called when pressing the keyboard shortcut. I.e., autoShow = false\n  yasqe.autocompleters.autoComplete(false);\n};\n//include the autocompleters we provide out-of-the-box\nroot.registerAutocompleter(\"prefixes\", require(\"./autocompleters/prefixes.js\"));\nroot.registerAutocompleter(\"properties\", require(\"./autocompleters/properties.js\"));\nroot.registerAutocompleter(\"classes\", require(\"./autocompleters/classes.js\"));\nroot.registerAutocompleter(\"variables\", require(\"./autocompleters/variables.js\"));\n\nroot.positionButtons = function(yasqe) {\n  var scrollBar = $(yasqe.getWrapperElement()).find(\".CodeMirror-vscrollbar\");\n  var offset = 0;\n  if (scrollBar.is(\":visible\")) {\n    offset = scrollBar.outerWidth();\n  }\n  if (yasqe.buttons.is(\":visible\")) yasqe.buttons.css(\"right\", offset + 4);\n};\n\n/**\n * Create a share link\n *\n * @method YASQE.createShareLink\n * @param {doc} YASQE document\n * @default {query: doc.getValue()}\n * @return object\n */\nroot.createShareLink = function(yasqe) {\n  //extend existing link, so first fetch current arguments\n  var urlParams = {};\n  if (window.location.hash.length > 1) urlParams = $.deparam(window.location.hash.substring(1));\n  urlParams[\"query\"] = yasqe.getValue();\n  return urlParams;\n};\nroot.getAsCurl = function(yasqe, ajaxConfig) {\n  var curl = require(\"./curl.js\");\n  return curl.createCurlString(yasqe, ajaxConfig);\n};\n/**\n * Consume the share link, by parsing the document URL for possible yasqe arguments, and setting the appropriate values in the YASQE doc\n *\n * @method YASQE.consumeShareLink\n * @param {doc} YASQE document\n */\nroot.consumeShareLink = function(yasqe, urlParams) {\n  if (urlParams && urlParams.query) {\n    yasqe.setValue(urlParams.query);\n  }\n};\nroot.drawButtons = function(yasqe) {\n  yasqe.buttons = $(\"<div class='yasqe_buttons'></div>\").appendTo($(yasqe.getWrapperElement()));\n\n  /**\n\t * draw share link button\n\t */\n  if (yasqe.options.createShareLink) {\n    var svgShare = $(yutils.svg.getElement(imgs.share));\n    svgShare\n      .click(function(event) {\n        event.stopPropagation();\n        var popup = $(\"<div class='yasqe_sharePopup'></div>\").appendTo(yasqe.buttons);\n        $(\"html\").click(function() {\n          if (popup) popup.remove();\n        });\n\n        popup.click(function(event) {\n          event.stopPropagation();\n        });\n        var $input = $(\"<input>\").val(\n          location.protocol +\n            \"//\" +\n            location.host +\n            location.pathname +\n            location.search +\n            \"#\" +\n            $.param(yasqe.options.createShareLink(yasqe))\n        );\n\n        $input.focus(function() {\n          var $this = $(this);\n          $this.select();\n\n          // Work around Chrome's little problem\n          $this.mouseup(function() {\n            // Prevent further mouseup intervention\n            $this.unbind(\"mouseup\");\n            return false;\n          });\n        });\n\n        popup.empty().append($(\"<div>\", { class: \"inputWrapper\" }).append($input));\n        if (yasqe.options.createShortLink) {\n          popup.addClass(\"enableShort\");\n          $(\"<button>Shorten</button>\")\n            .addClass(\"yasqe_btn yasqe_btn-sm yasqe_btn-primary\")\n            .click(function() {\n              $(this).parent().find(\"button\").attr(\"disabled\", \"disabled\");\n              yasqe.options.createShortLink($input.val(), function(errString, shortLink) {\n                if (errString) {\n                  $input.remove();\n                  popup.find(\".inputWrapper\").append($(\"<span>\", { class: \"shortlinkErr\" }).text(errString));\n                } else {\n                  $input.val(shortLink).focus();\n                }\n              });\n            })\n            .appendTo(popup);\n        }\n        $(\"<button>CURL</button>\")\n          .addClass(\"yasqe_btn yasqe_btn-sm yasqe_btn-primary\")\n          .click(function() {\n            $(this).parent().find(\"button\").attr(\"disabled\", \"disabled\");\n            $input.val(root.getAsCurl(yasqe)).focus();\n          })\n          .appendTo(popup);\n        var positions = svgShare.position();\n        popup\n          .css(\"top\", positions.top + svgShare.outerHeight() + parseInt(popup.css(\"padding-top\")) + \"px\")\n          .css(\"left\", positions.left + svgShare.outerWidth() - popup.outerWidth() + \"px\");\n        $input.focus();\n      })\n      .addClass(\"yasqe_share\")\n      .attr(\"title\", \"Share your query\")\n      .appendTo(yasqe.buttons);\n  }\n\n  /**\n\t * draw fullscreen button\n\t */\n\n  var toggleFullscreen = $(\"<div>\", {\n    class: \"fullscreenToggleBtns\"\n  })\n    .append(\n      $(yutils.svg.getElement(imgs.fullscreen))\n        .addClass(\"yasqe_fullscreenBtn\")\n        .attr(\"title\", \"Set editor full screen\")\n        .click(function() {\n          yasqe.setOption(\"fullScreen\", true);\n          yasqe.emit('fullscreen-enter')\n        })\n    )\n    .append(\n      $(yutils.svg.getElement(imgs.smallscreen))\n        .addClass(\"yasqe_smallscreenBtn\")\n        .attr(\"title\", \"Set editor to normal size\")\n        .click(function() {\n          yasqe.setOption(\"fullScreen\", false);\n          yasqe.emit('fullscreen-leave')\n        })\n    );\n  yasqe.buttons.append(toggleFullscreen);\n\n  if (yasqe.options.sparql.showQueryButton) {\n    $(\"<div>\", {\n      class: \"yasqe_queryButton\"\n    })\n      .click(function() {\n        if ($(this).hasClass(\"query_busy\")) {\n          if (yasqe.xhr) yasqe.xhr.abort();\n          root.updateQueryButton(yasqe);\n        } else {\n          yasqe.query();\n        }\n      })\n      .appendTo(yasqe.buttons);\n    root.updateQueryButton(yasqe);\n  }\n};\n\nvar queryButtonIds = {\n  busy: \"loader\",\n  valid: \"query\",\n  error: \"queryInvalid\"\n};\n\n/**\n * Update the query button depending on current query status. If no query status is passed via the parameter, it auto-detects the current query status\n *\n * @param {doc} YASQE document\n * @param status {string|null, \"busy\"|\"valid\"|\"error\"}\n */\nroot.updateQueryButton = function(yasqe, status) {\n  var queryButton = $(yasqe.getWrapperElement()).find(\".yasqe_queryButton\");\n  if (queryButton.length == 0) return; //no query button drawn\n\n  //detect status\n  if (!status) {\n    status = \"valid\";\n    if (yasqe.queryValid === false) status = \"error\";\n  }\n\n  if (status != yasqe.queryStatus) {\n    queryButton.empty().removeClass(function(index, classNames) {\n      return classNames\n        .split(\" \")\n        .filter(function(c) {\n          //remove classname from previous status\n          return c.indexOf(\"query_\") == 0;\n        })\n        .join(\" \");\n    });\n\n    if (status == \"busy\") {\n      queryButton.append(\n        $(\"<div>\", {\n          class: \"loader\"\n        })\n      );\n      yasqe.queryStatus = status;\n    } else if (status == \"valid\" || status == \"error\") {\n      queryButton.addClass(\"query_\" + status);\n      yutils.svg.draw(queryButton, imgs[queryButtonIds[status]]);\n      yasqe.queryStatus = status;\n    }\n  }\n};\n/**\n * Initialize YASQE from an existing text area (see http://codemirror.net/doc/manual.html#fromTextArea for more info)\n *\n * @method YASQE.fromTextArea\n * @param textArea {DOM element}\n * @param config {object}\n * @returns {doc} YASQE document\n */\nroot.fromTextArea = function(textAreaEl, config) {\n  config = extendConfig(config);\n  //add yasqe div as parent (needed for styles to be manageable and scoped).\n  //In this case, I -also- put it as parent el of the text area. This is wrapped in a div now\n  var rootEl = $(\"<div>\", {\n    class: \"yasqe\"\n  })\n    .insertBefore($(textAreaEl))\n    .append($(textAreaEl));\n  var yasqe = extendCmInstance(CodeMirror.fromTextArea(textAreaEl, config));\n  postProcessCmElement(yasqe);\n  return yasqe;\n};\n\nroot.storeQuery = function(yasqe) {\n  var storageId = utils.getPersistencyId(yasqe, yasqe.options.persistent);\n  if (storageId) {\n    yutils.storage.set(storageId, yasqe.getValue(), \"month\", yasqe.options.onQuotaExceeded);\n  }\n};\nroot.commentLines = function(yasqe) {\n  var startLine = yasqe.getCursor(true).line;\n  var endLine = yasqe.getCursor(false).line;\n  var min = Math.min(startLine, endLine);\n  var max = Math.max(startLine, endLine);\n\n  // if all lines start with #, remove this char. Otherwise add this char\n  var linesAreCommented = true;\n  for (var i = min; i <= max; i++) {\n    var line = yasqe.getLine(i);\n    if (line.length == 0 || line.substring(0, 1) != \"#\") {\n      linesAreCommented = false;\n      break;\n    }\n  }\n  for (var i = min; i <= max; i++) {\n    if (linesAreCommented) {\n      // lines are commented, so remove comments\n      yasqe.replaceRange(\n        \"\",\n        {\n          line: i,\n          ch: 0\n        },\n        {\n          line: i,\n          ch: 1\n        }\n      );\n    } else {\n      // Not all lines are commented, so add comments\n      yasqe.replaceRange(\"#\", {\n        line: i,\n        ch: 0\n      });\n    }\n  }\n};\n\nroot.copyLineUp = function(yasqe) {\n  var cursor = yasqe.getCursor();\n  var lineCount = yasqe.lineCount();\n  // First create new empty line at end of text\n  yasqe.replaceRange(\"\\n\", {\n    line: lineCount - 1,\n    ch: yasqe.getLine(lineCount - 1).length\n  });\n  // Copy all lines to their next line\n  for (var i = lineCount; i > cursor.line; i--) {\n    var line = yasqe.getLine(i - 1);\n    yasqe.replaceRange(\n      line,\n      {\n        line: i,\n        ch: 0\n      },\n      {\n        line: i,\n        ch: yasqe.getLine(i).length\n      }\n    );\n  }\n};\nroot.copyLineDown = function(yasqe) {\n  root.copyLineUp(yasqe);\n  // Make sure cursor goes one down (we are copying downwards)\n  var cursor = yasqe.getCursor();\n  cursor.line++;\n  yasqe.setCursor(cursor);\n};\nroot.doAutoFormat = function(yasqe) {\n  if (!yasqe.somethingSelected()) yasqe.execCommand(\"selectAll\");\n  var to = {\n    line: yasqe.getCursor(false).line,\n    ch: yasqe.getSelection().length\n  };\n  autoFormatRange(yasqe, yasqe.getCursor(true), to);\n};\n\nvar autoFormatRange = function(yasqe, from, to) {\n  var absStart = yasqe.indexFromPos(from);\n  var absEnd = yasqe.indexFromPos(to);\n  // Insert additional line breaks where necessary according to the\n  // mode's syntax\n  var res = autoFormatLineBreaks(yasqe.getValue(), absStart, absEnd);\n\n  // Replace and auto-indent the range\n  yasqe.operation(function() {\n    yasqe.replaceRange(res, from, to);\n    var startLine = yasqe.posFromIndex(absStart).line;\n    var endLine = yasqe.posFromIndex(absStart + res.length).line;\n    for (var i = startLine; i <= endLine; i++) {\n      yasqe.indentLine(i, \"smart\");\n    }\n  });\n};\n\nvar autoFormatLineBreaks = function(text, start, end) {\n  text = text.substring(start, end);\n  var breakAfterArray = [\n    [\"keyword\", \"ws\", \"prefixed\", \"ws\", \"uri\"], // i.e. prefix declaration\n    [\"keyword\", \"ws\", \"uri\"] // i.e. base\n  ];\n  var breakAfterCharacters = [\"{\", \".\", \";\"];\n  var breakBeforeCharacters = [\"}\"];\n  var getBreakType = function(stringVal, type) {\n    for (var i = 0; i < breakAfterArray.length; i++) {\n      if (stackTrace.valueOf().toString() == breakAfterArray[i].valueOf().toString()) {\n        return 1;\n      }\n    }\n    for (var i = 0; i < breakAfterCharacters.length; i++) {\n      if (stringVal == breakAfterCharacters[i]) {\n        return 1;\n      }\n    }\n    for (var i = 0; i < breakBeforeCharacters.length; i++) {\n      // don't want to issue 'breakbefore' AND 'breakafter', so check\n      // current line\n      if ($.trim(currentLine) != \"\" && stringVal == breakBeforeCharacters[i]) {\n        return -1;\n      }\n    }\n    return 0;\n  };\n  var formattedQuery = \"\";\n  var currentLine = \"\";\n  var stackTrace = [];\n  CodeMirror.runMode(text, \"sparql11\", function(stringVal, type) {\n    stackTrace.push(type);\n    var breakType = getBreakType(stringVal, type);\n    if (breakType != 0) {\n      if (breakType == 1) {\n        formattedQuery += stringVal + \"\\n\";\n        currentLine = \"\";\n      } else {\n        // (-1)\n        formattedQuery += \"\\n\" + stringVal;\n        currentLine = stringVal;\n      }\n      stackTrace = [];\n    } else {\n      currentLine += stringVal;\n      formattedQuery += stringVal;\n    }\n    if (stackTrace.length == 1 && stackTrace[0] == \"sp-ws\") stackTrace = [];\n  });\n  return $.trim(formattedQuery.replace(/\\n\\s*\\n/g, \"\\n\"));\n};\n\nrequire(\"./sparql.js\"), require(\"./defaults.js\");\nroot.$ = $;\nroot.version = {\n  CodeMirror: CodeMirror.version,\n  YASQE: require(\"../package.json\").version,\n  jquery: $.fn.jquery,\n  \"yasgui-utils\": yutils.version\n};\n\n},{\"../lib/deparam.js\":1,\"../lib/grammar/tokenizer.js\":3,\"../package.json\":32,\"./autocompleters/autocompleterBase.js\":33,\"./autocompleters/classes.js\":34,\"./autocompleters/prefixes.js\":35,\"./autocompleters/properties.js\":36,\"./autocompleters/variables.js\":38,\"./curl.js\":39,\"./defaults.js\":40,\"./imgs.js\":42,\"./prefixFold.js\":44,\"./prefixUtils.js\":45,\"./sparql.js\":46,\"./tokenUtils.js\":47,\"./tooltip\":48,\"./utils.js\":49,\"codemirror\":14,\"codemirror/addon/display/fullscreen.js\":5,\"codemirror/addon/edit/matchbrackets.js\":6,\"codemirror/addon/fold/brace-fold.js\":7,\"codemirror/addon/fold/foldcode.js\":8,\"codemirror/addon/fold/foldgutter.js\":9,\"codemirror/addon/fold/xml-fold.js\":10,\"codemirror/addon/hint/show-hint.js\":11,\"codemirror/addon/runmode/runmode.js\":12,\"codemirror/addon/search/searchcursor.js\":13,\"jquery\":15,\"yasgui-utils\":29}],44:[function(require,module,exports){\nvar CodeMirror = require(\"codemirror\"), tokenUtils = require(\"./tokenUtils.js\");\n\n(\"use strict\");\nvar lookFor = \"PREFIX \";\nmodule.exports = {\n  findFirstPrefixLine: function(cm) {\n    var lastLine = cm.lastLine();\n    for (var i = 0; i <= lastLine; ++i) {\n      if (findFirstPrefix(cm, i) >= 0) {\n        return i;\n      }\n    }\n  }\n};\n\nfunction findFirstPrefix(cm, line, ch, lineText) {\n  if (!ch) ch = 0;\n  if (!lineText) lineText = cm.getLine(line);\n  lineText = lineText.toUpperCase();\n  for (var at = ch, pass = 0; ; ) {\n    var found = lineText.indexOf(lookFor, at);\n    if (found == -1) {\n      //no prefix on this line\n      if (pass == 1) break;\n      pass = 1;\n      at = lineText.length;\n      continue;\n    }\n    if (pass == 1 && found < ch) break;\n    var tokenType = cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1));\n    if (!/^(comment|string)/.test(tokenType)) return found + 1;\n    at = found - 1;\n    //Could not find a prefix, no use looping any further. Probably invalid query\n    if (at === pass) break;\n  }\n}\n\nCodeMirror.registerHelper(\"fold\", \"prefix\", function(cm, start) {\n  var line = start.line, lineText = cm.getLine(line);\n\n  var startCh, tokenType;\n\n  function hasPreviousPrefix() {\n    var hasPreviousPrefix = false;\n    for (var i = line - 1; i >= 0; i--) {\n      if (cm.getLine(i).toUpperCase().indexOf(lookFor) >= 0) {\n        hasPreviousPrefix = true;\n        break;\n      }\n    }\n    return hasPreviousPrefix;\n  }\n\n  function findOpening(openCh) {\n    for (var at = start.ch, pass = 0; ; ) {\n      var found = at <= 0 ? -1 : lineText.lastIndexOf(openCh, at - 1);\n      if (found == -1) {\n        if (pass == 1) break;\n        pass = 1;\n        at = lineText.length;\n        continue;\n      }\n      if (pass == 1 && found < start.ch) break;\n      tokenType = cm.getTokenTypeAt(CodeMirror.Pos(line, found + 1));\n      if (!/^(comment|string)/.test(tokenType)) return found + 1;\n      at = found - 1;\n    }\n  }\n  var getLastPrefixPos = function(line, ch) {\n    var prefixKeywordToken = cm.getTokenAt(CodeMirror.Pos(line, ch + 1));\n    if (!prefixKeywordToken || prefixKeywordToken.type != \"keyword\") return -1;\n    var prefixShortname = tokenUtils.getNextNonWsToken(cm, line, prefixKeywordToken.end + 1);\n    if (!prefixShortname || prefixShortname.type != \"string-2\") return -1; //missing prefix keyword shortname\n    var prefixUri = tokenUtils.getNextNonWsToken(cm, line, prefixShortname.end + 1);\n    if (!prefixUri || prefixUri.type != \"variable-3\") return -1; //missing prefix uri\n    return prefixUri.end;\n  };\n\n  //only use opening prefix declaration\n  if (hasPreviousPrefix()) return;\n  var prefixStart = findFirstPrefix(cm, line, start.ch, lineText);\n\n  if (prefixStart == null) return;\n  var stopAt = \"{\"; //if this char is there, we won't have a chance of finding more prefixes\n  var stopAtNextLine = false;\n  var count = 1, lastLine = cm.lastLine(), end, endCh;\n  var prefixEndChar = getLastPrefixPos(line, prefixStart);\n  var prefixEndLine = line;\n\n  outer:\n  for (var i = line; i <= lastLine; ++i) {\n    if (stopAtNextLine) break;\n    var text = cm.getLine(i), pos = i == line ? prefixStart + 1 : 0;\n\n    for (;;) {\n      if (!stopAtNextLine && text.indexOf(stopAt) >= 0) stopAtNextLine = true;\n\n      var nextPrefixDeclaration = text.toUpperCase().indexOf(lookFor, pos);\n\n      if (nextPrefixDeclaration >= 0) {\n        if ((endCh = getLastPrefixPos(i, nextPrefixDeclaration)) > 0) {\n          prefixEndChar = endCh;\n          prefixEndLine = i;\n          pos = prefixEndChar;\n        }\n        pos++;\n      } else {\n        break;\n      }\n    }\n  }\n  return {\n    from: CodeMirror.Pos(line, prefixStart + lookFor.length),\n    to: CodeMirror.Pos(prefixEndLine, prefixEndChar)\n  };\n});\n\n},{\"./tokenUtils.js\":47,\"codemirror\":14}],45:[function(require,module,exports){\n\"use strict\";\n/**\n * Append prefix declaration to list of prefixes in query window.\n *\n * @param yasqe\n * @param prefix\n */\nvar addPrefixes = function(yasqe, prefixes) {\n  var existingPrefixes = yasqe.getPrefixesFromQuery();\n  //for backwards compatability, we stil support prefixes value as string (e.g. 'rdf: <http://fbfgfgf>'\n  if (typeof prefixes == \"string\") {\n    addPrefixAsString(yasqe, prefixes);\n  } else {\n    for (var pref in prefixes) {\n      if (!(pref in existingPrefixes))\n        addPrefixAsString(yasqe, pref + \": <\" + prefixes[pref] + \">\");\n    }\n  }\n  yasqe.collapsePrefixes(false);\n};\n\nvar addPrefixAsString = function(yasqe, prefixString) {\n  yasqe.replaceRange(\"PREFIX \" + prefixString + \"\\n\", {\n    line: 0,\n    ch: 0\n  });\n\n  yasqe.collapsePrefixes(false);\n};\nvar removePrefixes = function(yasqe, prefixes) {\n  var escapeRegex = function(string) {\n    //taken from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript/3561711#3561711\n    return string.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n  };\n  for (var pref in prefixes) {\n    yasqe.setValue(\n      yasqe\n        .getValue()\n        .replace(\n          new RegExp(\n            \"PREFIX\\\\s*\" +\n              pref +\n              \":\\\\s*\" +\n              escapeRegex(\"<\" + prefixes[pref] + \">\") +\n              \"\\\\s*\",\n            \"ig\"\n          ),\n          \"\"\n        )\n    );\n  }\n  yasqe.collapsePrefixes(false);\n};\n\n/**\n * Get defined prefixes from query as array, in format {\"prefix:\" \"uri\"}\n *\n * @param cm\n * @returns {Array}\n */\nvar getPrefixesFromQuery = function(yasqe) {\n  //Use precise here. We want to be sure we use the most up to date state. If we're\n  //not, we might get outdated prefixes from the current query (creating loops such\n  //as https://github.com/OpenTriply/YASGUI/issues/84)\n  return yasqe.getTokenAt(\n    { line: yasqe.lastLine(), ch: yasqe.getLine(yasqe.lastLine()).length },\n    true\n  ).state.prefixes;\n};\n\n/**\n * Get the used indentation for a certain line\n *\n * @param yasqe\n * @param line\n * @param charNumber\n * @returns\n */\nvar getIndentFromLine = function(yasqe, line, charNumber) {\n  if (charNumber == undefined) charNumber = 1;\n  var token = yasqe.getTokenAt({\n    line: line,\n    ch: charNumber\n  });\n  if (token == null || token == undefined || token.type != \"ws\") {\n    return \"\";\n  } else {\n    return token.string + getIndentFromLine(yasqe, line, token.end + 1);\n  }\n};\n\nmodule.exports = {\n  addPrefixes: addPrefixes,\n  getPrefixesFromQuery: getPrefixesFromQuery,\n  removePrefixes: removePrefixes\n};\n\n},{}],46:[function(require,module,exports){\n\"use strict\";\nvar $ = require(\"jquery\"),\n  utils = require(\"./utils.js\"),\n  YASQE = require(\"./main.js\");\n\nYASQE.getAjaxConfig = function(yasqe, callbackOrConfig) {\n  var callback = typeof callbackOrConfig == \"function\" ? callbackOrConfig : null;\n  var config = typeof callbackOrConfig == \"object\" ? callbackOrConfig : {};\n\n  if (yasqe.options.sparql) config = $.extend({}, yasqe.options.sparql, config);\n\n  //for backwards compatability, make sure we copy sparql handlers to sparql callbacks\n  if (config.handlers) $.extend(true, config.callbacks, config.handlers);\n\n  if (!config.endpoint || config.endpoint.length == 0) return; // nothing to query!\n  var queryMode = yasqe.getQueryMode();\n  /**\n\t * initialize ajax config\n\t */\n  var ajaxConfig = {\n    url: typeof config.endpoint == \"function\" ? config.endpoint(yasqe) : config.endpoint,\n    type: queryMode == \"update\"\n      ? \"POST\"\n      : typeof config.requestMethod == \"function\" ? config.requestMethod(yasqe) : config.requestMethod,\n    headers: {\n      Accept: getAcceptHeader(yasqe, config)\n    }\n  };\n  if (config.xhrFields) ajaxConfig.xhrFields = config.xhrFields;\n  /**\n\t * add complete, beforesend, etc callbacks (if specified)\n\t */\n  var handlerDefined = false;\n  if (config.callbacks) {\n    for (var handler in config.callbacks) {\n      if (config.callbacks[handler]) {\n        handlerDefined = true;\n        ajaxConfig[handler] = config.callbacks[handler];\n      }\n    }\n  }\n  if (ajaxConfig.type === \"GET\") {\n    //we need to do encoding ourselve, as jquery does not properly encode the url string\n    //https://github.com/OpenTriply/YASGUI/issues/75\n    var first = true;\n    $.each(yasqe.getUrlArguments(config), function(key, val) {\n      ajaxConfig.url += (first ? \"?\" : \"&\") + val.name + \"=\" + encodeURIComponent(val.value);\n      first = false;\n    });\n  } else {\n    ajaxConfig.data = yasqe.getUrlArguments(config);\n  }\n  if (!handlerDefined && !callback) return; // ok, we can query, but have no callbacks. just stop now\n\n  // if only callback is passed as arg, add that on as 'onComplete' callback\n  if (callback) ajaxConfig.complete = callback;\n\n  /**\n\t * merge additional request headers\n\t */\n  if (config.headers && !$.isEmptyObject(config.headers)) $.extend(ajaxConfig.headers, config.headers);\n\n  var queryStart = new Date();\n  var updateYasqe = function() {\n    yasqe.lastQueryDuration = new Date() - queryStart;\n    YASQE.updateQueryButton(yasqe);\n    yasqe.setBackdrop(false);\n  };\n  //Make sure the query button is updated again on complete\n  var completeCallbacks = [\n    function() {\n      require(\"./main.js\").signal(yasqe, \"queryFinish\", arguments);\n    },\n    updateYasqe\n  ];\n\n  if (ajaxConfig.complete) {\n    completeCallbacks.push(ajaxConfig.complete);\n  }\n  ajaxConfig.complete = completeCallbacks;\n  return ajaxConfig;\n};\n\nYASQE.executeQuery = function(yasqe, callbackOrConfig) {\n  YASQE.signal(yasqe, \"query\", yasqe, callbackOrConfig);\n  YASQE.updateQueryButton(yasqe, \"busy\");\n  yasqe.setBackdrop(true);\n  yasqe.xhr = $.ajax(YASQE.getAjaxConfig(yasqe, callbackOrConfig));\n};\n\nYASQE.getUrlArguments = function(yasqe, config) {\n  var queryMode = yasqe.getQueryMode();\n  var data = [\n    {\n      name: utils.getString(yasqe, yasqe.options.sparql.queryName),\n      value: config.getQueryForAjax ? config.getQueryForAjax(yasqe) : yasqe.getValue()\n    }\n  ];\n\n  /**\n\t * add named graphs to ajax config\n\t */\n  if (config.namedGraphs && config.namedGraphs.length > 0) {\n    var argName = queryMode == \"query\" ? \"named-graph-uri\" : \"using-named-graph-uri \";\n    for (var i = 0; i < config.namedGraphs.length; i++)\n      data.push({\n        name: argName,\n        value: config.namedGraphs[i]\n      });\n  }\n  /**\n\t * add default graphs to ajax config\n\t */\n  if (config.defaultGraphs && config.defaultGraphs.length > 0) {\n    var argName = queryMode == \"query\" ? \"default-graph-uri\" : \"using-graph-uri \";\n    for (var i = 0; i < config.defaultGraphs.length; i++)\n      data.push({\n        name: argName,\n        value: config.defaultGraphs[i]\n      });\n  }\n\n  /**\n\t * add additional request args\n\t */\n  if (config.args && config.args.length > 0) $.merge(data, config.args);\n\n  return data;\n};\nvar getAcceptHeader = function(yasqe, config) {\n  var acceptHeader = null;\n  if (config.acceptHeader && !config.acceptHeaderGraph && !config.acceptHeaderSelect && !config.acceptHeaderUpdate) {\n    //this is the old config. For backwards compatability, keep supporting it\n    if (typeof config.acceptHeader == \"function\") {\n      acceptHeader = config.acceptHeader(yasqe);\n    } else {\n      acceptHeader = config.acceptHeader;\n    }\n  } else {\n    if (yasqe.getQueryMode() == \"update\") {\n      acceptHeader = typeof config.acceptHeader == \"function\"\n        ? config.acceptHeaderUpdate(yasqe)\n        : config.acceptHeaderUpdate;\n    } else {\n      var qType = yasqe.getQueryType();\n      if (qType == \"DESCRIBE\" || qType == \"CONSTRUCT\") {\n        acceptHeader = typeof config.acceptHeaderGraph == \"function\"\n          ? config.acceptHeaderGraph(yasqe)\n          : config.acceptHeaderGraph;\n      } else {\n        acceptHeader = typeof config.acceptHeaderSelect == \"function\"\n          ? config.acceptHeaderSelect(yasqe)\n          : config.acceptHeaderSelect;\n      }\n    }\n  }\n  return acceptHeader;\n};\n\nmodule.exports = {\n  getAjaxConfig: YASQE.getAjaxConfig\n};\n\n},{\"./main.js\":43,\"./utils.js\":49,\"jquery\":15}],47:[function(require,module,exports){\n\"use strict\";\n/**\n * When typing a query, this query is sometimes syntactically invalid, causing\n * the current tokens to be incorrect This causes problem for autocompletion.\n * http://bla might result in two tokens: http:// and bla. We'll want to combine\n * these\n * \n * @param yasqe {doc}\n * @param token {object}\n * @param cursor {object}\n * @return token {object}\n * @method YASQE.getCompleteToken\n */\nvar getCompleteToken = function(yasqe, token, cur) {\n  if (!cur) {\n    cur = yasqe.getCursor();\n  }\n  if (!token) {\n    token = yasqe.getTokenAt(cur);\n  }\n  var prevToken = yasqe.getTokenAt({\n    line: cur.line,\n    ch: token.start\n  });\n  // not start of line, and not whitespace\n  if (prevToken.type != null && prevToken.type != \"ws\" && token.type != null && token.type != \"ws\") {\n    token.start = prevToken.start;\n    token.string = prevToken.string + token.string;\n    return getCompleteToken(yasqe, token, {\n      line: cur.line,\n      ch: prevToken.start\n    }); // recursively, might have multiple tokens which it should include\n  } else if (token.type != null && token.type == \"ws\") {\n    //always keep 1 char of whitespace between tokens. Otherwise, autocompletions might end up next to the previous node, without whitespace between them\n    token.start = token.start + 1;\n    token.string = token.string.substring(1);\n    return token;\n  } else {\n    return token;\n  }\n};\nvar getPreviousNonWsToken = function(yasqe, line, token) {\n  var previousToken = yasqe.getTokenAt({\n    line: line,\n    ch: token.start\n  });\n  if (previousToken != null && previousToken.type == \"ws\") {\n    previousToken = getPreviousNonWsToken(yasqe, line, previousToken);\n  }\n  return previousToken;\n};\nvar getNextNonWsToken = function(yasqe, lineNumber, charNumber) {\n  if (charNumber == undefined) charNumber = 1;\n  var token = yasqe.getTokenAt({\n    line: lineNumber,\n    ch: charNumber\n  });\n  if (token == null || token == undefined || token.end < charNumber) {\n    return null;\n  }\n  if (token.type == \"ws\") {\n    return getNextNonWsToken(yasqe, lineNumber, token.end + 1);\n  }\n  return token;\n};\n\nmodule.exports = {\n  getPreviousNonWsToken: getPreviousNonWsToken,\n  getCompleteToken: getCompleteToken,\n  getNextNonWsToken: getNextNonWsToken\n};\n\n},{}],48:[function(require,module,exports){\n\"use strict\";\nvar $ = require(\"jquery\"), utils = require(\"./utils.js\");\n\n/**\n * Write our own tooltip, to avoid loading another library for just this functionality. For now, we only use tooltip for showing parse errors, so this is quite a tailored solution\n * Requirements: \n * \t\tposition tooltip within codemirror frame as much as possible, to avoid z-index issues with external things on page\n * \t\tuse html as content\n */\nmodule.exports = function(yasqe, parent, html) {\n  var parent = $(parent);\n  var tooltip;\n  parent.hover(\n    function() {\n      if (typeof html == \"function\") html = html();\n      tooltip = $(\"<div>\").addClass(\"yasqe_tooltip\").html(html).appendTo(parent);\n      repositionTooltip();\n    },\n    function() {\n      $(\".yasqe_tooltip\").remove();\n    }\n  );\n\n  /**\n\t * only need to take into account top and bottom offset for this usecase\n\t */\n  var repositionTooltip = function() {\n    if ($(yasqe.getWrapperElement()).offset().top >= tooltip.offset().top) {\n      //shit, move the tooltip down. The tooltip now hovers over the top edge of the yasqe instance\n      tooltip.css(\"bottom\", \"auto\");\n      tooltip.css(\"top\", \"26px\");\n    }\n  };\n};\n\n},{\"./utils.js\":49,\"jquery\":15}],49:[function(require,module,exports){\n\"use strict\";\nvar $ = require(\"jquery\");\n\nvar keyExists = function(objectToTest, key) {\n  var exists = false;\n  try {\n    if (objectToTest[key] !== undefined) exists = true;\n  } catch (e) {}\n  return exists;\n};\n\nvar getPersistencyId = function(yasqe, persistentIdCreator) {\n  var persistencyId = null;\n\n  if (persistentIdCreator) {\n    if (typeof persistentIdCreator == \"string\") {\n      persistencyId = persistentIdCreator;\n    } else {\n      persistencyId = persistentIdCreator(yasqe);\n    }\n  }\n  return persistencyId;\n};\n\nvar elementsOverlap = (function() {\n  function getPositions(elem) {\n    var pos, width, height;\n    pos = $(elem).offset();\n    width = $(elem).width();\n    height = $(elem).height();\n    return [[pos.left, pos.left + width], [pos.top, pos.top + height]];\n  }\n\n  function comparePositions(p1, p2) {\n    var r1, r2;\n    r1 = p1[0] < p2[0] ? p1 : p2;\n    r2 = p1[0] < p2[0] ? p2 : p1;\n    return r1[1] > r2[0] || r1[0] === r2[0];\n  }\n\n  return function(a, b) {\n    var pos1 = getPositions(a), pos2 = getPositions(b);\n    return comparePositions(pos1[0], pos2[0]) && comparePositions(pos1[1], pos2[1]);\n  };\n})();\n\nvar getString = function(yasqe, item) {\n  if (typeof item == \"function\") {\n    return item(yasqe);\n  } else {\n    return item;\n  }\n};\nmodule.exports = {\n  keyExists: keyExists,\n  getPersistencyId: getPersistencyId,\n  elementsOverlap: elementsOverlap,\n  getString: getString\n};\n\n},{\"jquery\":15}]},{},[41])(41)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsaWIvZGVwYXJhbS5qcyIsImxpYi9ncmFtbWFyL190b2tlbml6ZXItdGFibGUuanMiLCJsaWIvZ3JhbW1hci90b2tlbml6ZXIuanMiLCJsaWIvdHJpZS5qcyIsIm5vZGVfbW9kdWxlcy9jb2RlbWlycm9yL2FkZG9uL2Rpc3BsYXkvZnVsbHNjcmVlbi5qcyIsIm5vZGVfbW9kdWxlcy9jb2RlbWlycm9yL2FkZG9uL2VkaXQvbWF0Y2hicmFja2V0cy5qcyIsIm5vZGVfbW9kdWxlcy9jb2RlbWlycm9yL2FkZG9uL2ZvbGQvYnJhY2UtZm9sZC5qcyIsIm5vZGVfbW9kdWxlcy9jb2RlbWlycm9yL2FkZG9uL2ZvbGQvZm9sZGNvZGUuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9hZGRvbi9mb2xkL2ZvbGRndXR0ZXIuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9hZGRvbi9mb2xkL3htbC1mb2xkLmpzIiwibm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvYWRkb24vaGludC9zaG93LWhpbnQuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9hZGRvbi9ydW5tb2RlL3J1bm1vZGUuanMiLCJub2RlX21vZHVsZXMvY29kZW1pcnJvci9hZGRvbi9zZWFyY2gvc2VhcmNoY3Vyc29yLmpzIiwibm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvbGliL2NvZGVtaXJyb3IuanMiLCJub2RlX21vZHVsZXMvanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzIiwibm9kZV9tb2R1bGVzL3N0b3JlL2Rpc3Qvc3RvcmUubGVnYWN5LmpzIiwibm9kZV9tb2R1bGVzL3N0b3JlL3BsdWdpbnMvanNvbjIuanMiLCJub2RlX21vZHVsZXMvc3RvcmUvcGx1Z2lucy9saWIvanNvbjIuanMiLCJub2RlX21vZHVsZXMvc3RvcmUvc3JjL3N0b3JlLWVuZ2luZS5qcyIsIm5vZGVfbW9kdWxlcy9zdG9yZS9zcmMvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy9zdG9yZS9zdG9yYWdlcy9hbGwuanMiLCJub2RlX21vZHVsZXMvc3RvcmUvc3RvcmFnZXMvY29va2llU3RvcmFnZS5qcyIsIm5vZGVfbW9kdWxlcy9zdG9yZS9zdG9yYWdlcy9sb2NhbFN0b3JhZ2UuanMiLCJub2RlX21vZHVsZXMvc3RvcmUvc3RvcmFnZXMvbWVtb3J5U3RvcmFnZS5qcyIsIm5vZGVfbW9kdWxlcy9zdG9yZS9zdG9yYWdlcy9vbGRGRi1nbG9iYWxTdG9yYWdlLmpzIiwibm9kZV9tb2R1bGVzL3N0b3JlL3N0b3JhZ2VzL29sZElFLXVzZXJEYXRhU3RvcmFnZS5qcyIsIm5vZGVfbW9kdWxlcy9zdG9yZS9zdG9yYWdlcy9zZXNzaW9uU3RvcmFnZS5qcyIsIm5vZGVfbW9kdWxlcy95YXNndWktdXRpbHMvcGFja2FnZS5qc29uIiwibm9kZV9tb2R1bGVzL3lhc2d1aS11dGlscy9zcmMvbWFpbi5qcyIsIm5vZGVfbW9kdWxlcy95YXNndWktdXRpbHMvc3JjL3N0b3JhZ2UuanMiLCJub2RlX21vZHVsZXMveWFzZ3VpLXV0aWxzL3NyYy9zdmcuanMiLCJwYWNrYWdlLmpzb24iLCJzcmMvYXV0b2NvbXBsZXRlcnMvYXV0b2NvbXBsZXRlckJhc2UuanMiLCJzcmMvYXV0b2NvbXBsZXRlcnMvY2xhc3Nlcy5qcyIsInNyYy9hdXRvY29tcGxldGVycy9wcmVmaXhlcy5qcyIsInNyYy9hdXRvY29tcGxldGVycy9wcm9wZXJ0aWVzLmpzIiwic3JjL2F1dG9jb21wbGV0ZXJzL3V0aWxzLmpzIiwic3JjL2F1dG9jb21wbGV0ZXJzL3ZhcmlhYmxlcy5qcyIsInNyYy9jdXJsLmpzIiwic3JjL2RlZmF1bHRzLmpzIiwic3JjL2VudHJ5LmpzIiwic3JjL2ltZ3MuanMiLCJzcmMvbWFpbi5qcyIsInNyYy9wcmVmaXhGb2xkLmpzIiwic3JjL3ByZWZpeFV0aWxzLmpzIiwic3JjL3NwYXJxbC5qcyIsInNyYy90b2tlblV0aWxzLmpzIiwic3JjL3Rvb2x0aXAuanMiLCJzcmMvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzdktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0cEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0YkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3Z1UkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0bFRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDN09BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN0SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNTJCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICBqUXVlcnkgZGVwYXJhbSBpcyBhbiBleHRyYWN0aW9uIG9mIHRoZSBkZXBhcmFtIG1ldGhvZCBmcm9tIEJlbiBBbG1hbidzIGpRdWVyeSBCQlFcbiAgaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktYmJxLXBsdWdpbi9cbiovXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG4kLmRlcGFyYW0gPSBmdW5jdGlvbihwYXJhbXMsIGNvZXJjZSkge1xuICB2YXIgb2JqID0ge30sIGNvZXJjZV90eXBlcyA9IHsgdHJ1ZTogITAsIGZhbHNlOiAhMSwgbnVsbDogbnVsbCB9O1xuXG4gIC8vIEl0ZXJhdGUgb3ZlciBhbGwgbmFtZT12YWx1ZSBwYWlycy5cbiAgJC5lYWNoKHBhcmFtcy5yZXBsYWNlKC9cXCsvZywgXCIgXCIpLnNwbGl0KFwiJlwiKSwgZnVuY3Rpb24oaiwgdikge1xuICAgIHZhciBwYXJhbSA9IHYuc3BsaXQoXCI9XCIpLFxuICAgICAga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtWzBdKSxcbiAgICAgIHZhbCxcbiAgICAgIGN1ciA9IG9iaixcbiAgICAgIGkgPSAwLFxuICAgICAgLy8gSWYga2V5IGlzIG1vcmUgY29tcGxleCB0aGFuICdmb28nLCBsaWtlICdhW10nIG9yICdhW2JdW2NdJywgc3BsaXQgaXRcbiAgICAgIC8vIGludG8gaXRzIGNvbXBvbmVudCBwYXJ0cy5cbiAgICAgIGtleXMgPSBrZXkuc3BsaXQoXCJdW1wiKSxcbiAgICAgIGtleXNfbGFzdCA9IGtleXMubGVuZ3RoIC0gMTtcblxuICAgIC8vIElmIHRoZSBmaXJzdCBrZXlzIHBhcnQgY29udGFpbnMgWyBhbmQgdGhlIGxhc3QgZW5kcyB3aXRoIF0sIHRoZW4gW11cbiAgICAvLyBhcmUgY29ycmVjdGx5IGJhbGFuY2VkLlxuICAgIGlmICgvXFxbLy50ZXN0KGtleXNbMF0pICYmIC9cXF0kLy50ZXN0KGtleXNba2V5c19sYXN0XSkpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgdHJhaWxpbmcgXSBmcm9tIHRoZSBsYXN0IGtleXMgcGFydC5cbiAgICAgIGtleXNba2V5c19sYXN0XSA9IGtleXNba2V5c19sYXN0XS5yZXBsYWNlKC9cXF0kLywgXCJcIik7XG5cbiAgICAgIC8vIFNwbGl0IGZpcnN0IGtleXMgcGFydCBpbnRvIHR3byBwYXJ0cyBvbiB0aGUgWyBhbmQgYWRkIHRoZW0gYmFjayBvbnRvXG4gICAgICAvLyB0aGUgYmVnaW5uaW5nIG9mIHRoZSBrZXlzIGFycmF5LlxuICAgICAga2V5cyA9IGtleXMuc2hpZnQoKS5zcGxpdChcIltcIikuY29uY2F0KGtleXMpO1xuXG4gICAgICBrZXlzX2xhc3QgPSBrZXlzLmxlbmd0aCAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEJhc2ljICdmb28nIHN0eWxlIGtleS5cbiAgICAgIGtleXNfbGFzdCA9IDA7XG4gICAgfVxuXG4gICAgLy8gQXJlIHdlIGRlYWxpbmcgd2l0aCBhIG5hbWU9dmFsdWUgcGFpciwgb3IganVzdCBhIG5hbWU/XG4gICAgaWYgKHBhcmFtLmxlbmd0aCA9PT0gMikge1xuICAgICAgdmFsID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtWzFdKTtcblxuICAgICAgLy8gQ29lcmNlIHZhbHVlcy5cbiAgICAgIGlmIChjb2VyY2UpIHtcbiAgICAgICAgdmFsID0gdmFsICYmICFpc05hTih2YWwpXG4gICAgICAgICAgPyArdmFsIC8vIG51bWJlclxuICAgICAgICAgIDogdmFsID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgID8gdW5kZWZpbmVkIC8vIHVuZGVmaW5lZFxuICAgICAgICAgICAgICA6IGNvZXJjZV90eXBlc1t2YWxdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgID8gY29lcmNlX3R5cGVzW3ZhbF0gLy8gdHJ1ZSwgZmFsc2UsIG51bGxcbiAgICAgICAgICAgICAgICAgIDogdmFsOyAvLyBzdHJpbmdcbiAgICAgIH1cblxuICAgICAgaWYgKGtleXNfbGFzdCkge1xuICAgICAgICAvLyBDb21wbGV4IGtleSwgYnVpbGQgZGVlcCBvYmplY3Qgc3RydWN0dXJlIGJhc2VkIG9uIGEgZmV3IHJ1bGVzOlxuICAgICAgICAvLyAqIFRoZSAnY3VyJyBwb2ludGVyIHN0YXJ0cyBhdCB0aGUgb2JqZWN0IHRvcC1sZXZlbC5cbiAgICAgICAgLy8gKiBbXSA9IGFycmF5IHB1c2ggKG4gaXMgc2V0IHRvIGFycmF5IGxlbmd0aCksIFtuXSA9IGFycmF5IGlmIG4gaXNcbiAgICAgICAgLy8gICBudW1lcmljLCBvdGhlcndpc2Ugb2JqZWN0LlxuICAgICAgICAvLyAqIElmIGF0IHRoZSBsYXN0IGtleXMgcGFydCwgc2V0IHRoZSB2YWx1ZS5cbiAgICAgICAgLy8gKiBGb3IgZWFjaCBrZXlzIHBhcnQsIGlmIHRoZSBjdXJyZW50IGxldmVsIGlzIHVuZGVmaW5lZCBjcmVhdGUgYW5cbiAgICAgICAgLy8gICBvYmplY3Qgb3IgYXJyYXkgYmFzZWQgb24gdGhlIHR5cGUgb2YgdGhlIG5leHQga2V5cyBwYXJ0LlxuICAgICAgICAvLyAqIE1vdmUgdGhlICdjdXInIHBvaW50ZXIgdG8gdGhlIG5leHQgbGV2ZWwuXG4gICAgICAgIC8vICogUmluc2UgJiByZXBlYXQuXG4gICAgICAgIGZvciAoOyBpIDw9IGtleXNfbGFzdDsgaSsrKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXSA9PT0gXCJcIiA/IGN1ci5sZW5ndGggOiBrZXlzW2ldO1xuICAgICAgICAgIGN1ciA9IGN1cltrZXldID0gaSA8IGtleXNfbGFzdCA/IGN1cltrZXldIHx8IChrZXlzW2kgKyAxXSAmJiBpc05hTihrZXlzW2kgKyAxXSkgPyB7fSA6IFtdKSA6IHZhbDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2ltcGxlIGtleSwgZXZlbiBzaW1wbGVyIHJ1bGVzLCBzaW5jZSBvbmx5IHNjYWxhcnMgYW5kIHNoYWxsb3dcbiAgICAgICAgLy8gYXJyYXlzIGFyZSBhbGxvd2VkLlxuXG4gICAgICAgIGlmICgkLmlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICAgICAgLy8gdmFsIGlzIGFscmVhZHkgYW4gYXJyYXksIHNvIHB1c2ggb24gdGhlIG5leHQgdmFsdWUuXG4gICAgICAgICAgb2JqW2tleV0ucHVzaCh2YWwpO1xuICAgICAgICB9IGVsc2UgaWYgKG9ialtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyB2YWwgaXNuJ3QgYW4gYXJyYXksIGJ1dCBzaW5jZSBhIHNlY29uZCB2YWx1ZSBoYXMgYmVlbiBzcGVjaWZpZWQsXG4gICAgICAgICAgLy8gY29udmVydCB2YWwgaW50byBhbiBhcnJheS5cbiAgICAgICAgICBvYmpba2V5XSA9IFtvYmpba2V5XSwgdmFsXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB2YWwgaXMgYSBzY2FsYXIuXG4gICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSkge1xuICAgICAgLy8gTm8gdmFsdWUgd2FzIGRlZmluZWQsIHNvIHNldCBzb21ldGhpbmcgbWVhbmluZ2Z1bC5cbiAgICAgIG9ialtrZXldID0gY29lcmNlID8gdW5kZWZpbmVkIDogXCJcIjtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBvYmo7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIHRhYmxlOiB7XG4gICAgXCIqWyYmLHZhbHVlTG9naWNhbF1cIjoge1xuICAgICAgXCImJlwiOiBbXCJbJiYsdmFsdWVMb2dpY2FsXVwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIEFTOiBbXSxcbiAgICAgIFwiKVwiOiBbXSxcbiAgICAgIFwiLFwiOiBbXSxcbiAgICAgIFwifHxcIjogW10sXG4gICAgICBcIjtcIjogW11cbiAgICB9LFxuICAgIFwiKlssLGV4cHJlc3Npb25dXCI6IHtcbiAgICAgIFwiLFwiOiBbXCJbLCxleHByZXNzaW9uXVwiLCBcIipbLCxleHByZXNzaW9uXVwiXSxcbiAgICAgIFwiKVwiOiBbXVxuICAgIH0sXG4gICAgXCIqWywsb2JqZWN0UGF0aF1cIjoge1xuICAgICAgXCIsXCI6IFtcIlssLG9iamVjdFBhdGhdXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgXCIuXCI6IFtdLFxuICAgICAgXCI7XCI6IFtdLFxuICAgICAgXCJdXCI6IFtdLFxuICAgICAgXCJ7XCI6IFtdLFxuICAgICAgT1BUSU9OQUw6IFtdLFxuICAgICAgTUlOVVM6IFtdLFxuICAgICAgR1JBUEg6IFtdLFxuICAgICAgU0VSVklDRTogW10sXG4gICAgICBGSUxURVI6IFtdLFxuICAgICAgQklORDogW10sXG4gICAgICBWQUxVRVM6IFtdLFxuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICBcIipbLCxvYmplY3RdXCI6IHtcbiAgICAgIFwiLFwiOiBbXCJbLCxvYmplY3RdXCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBcIi5cIjogW10sXG4gICAgICBcIjtcIjogW10sXG4gICAgICBcIl1cIjogW10sXG4gICAgICBcIn1cIjogW10sXG4gICAgICBHUkFQSDogW10sXG4gICAgICBcIntcIjogW10sXG4gICAgICBPUFRJT05BTDogW10sXG4gICAgICBNSU5VUzogW10sXG4gICAgICBTRVJWSUNFOiBbXSxcbiAgICAgIEZJTFRFUjogW10sXG4gICAgICBCSU5EOiBbXSxcbiAgICAgIFZBTFVFUzogW11cbiAgICB9LFxuICAgIFwiKlsvLHBhdGhFbHRPckludmVyc2VdXCI6IHtcbiAgICAgIFwiL1wiOiBbXCJbLyxwYXRoRWx0T3JJbnZlcnNlXVwiLCBcIipbLyxwYXRoRWx0T3JJbnZlcnNlXVwiXSxcbiAgICAgIFwifFwiOiBbXSxcbiAgICAgIFwiKVwiOiBbXSxcbiAgICAgIFwiKFwiOiBbXSxcbiAgICAgIFwiW1wiOiBbXSxcbiAgICAgIFZBUjE6IFtdLFxuICAgICAgVkFSMjogW10sXG4gICAgICBOSUw6IFtdLFxuICAgICAgSVJJX1JFRjogW10sXG4gICAgICBUUlVFOiBbXSxcbiAgICAgIEZBTFNFOiBbXSxcbiAgICAgIEJMQU5LX05PREVfTEFCRUw6IFtdLFxuICAgICAgQU5PTjogW10sXG4gICAgICBQTkFNRV9MTjogW10sXG4gICAgICBQTkFNRV9OUzogW10sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXSxcbiAgICAgIElOVEVHRVI6IFtdLFxuICAgICAgREVDSU1BTDogW10sXG4gICAgICBET1VCTEU6IFtdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW10sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW10sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXVxuICAgIH0sXG4gICAgXCIqWzssP1tvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXVwiOiB7XG4gICAgICBcIjtcIjogW1xuICAgICAgICBcIls7LD9bb3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKSxvYmplY3RMaXN0XV1cIixcbiAgICAgICAgXCIqWzssP1tvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXVwiXG4gICAgICBdLFxuICAgICAgXCIuXCI6IFtdLFxuICAgICAgXCJdXCI6IFtdLFxuICAgICAgXCJ7XCI6IFtdLFxuICAgICAgT1BUSU9OQUw6IFtdLFxuICAgICAgTUlOVVM6IFtdLFxuICAgICAgR1JBUEg6IFtdLFxuICAgICAgU0VSVklDRTogW10sXG4gICAgICBGSUxURVI6IFtdLFxuICAgICAgQklORDogW10sXG4gICAgICBWQUxVRVM6IFtdLFxuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICBcIipbOyw/W3ZlcmIsb2JqZWN0TGlzdF1dXCI6IHtcbiAgICAgIFwiO1wiOiBbXCJbOyw/W3ZlcmIsb2JqZWN0TGlzdF1dXCIsIFwiKls7LD9bdmVyYixvYmplY3RMaXN0XV1cIl0sXG4gICAgICBcIi5cIjogW10sXG4gICAgICBcIl1cIjogW10sXG4gICAgICBcIn1cIjogW10sXG4gICAgICBHUkFQSDogW10sXG4gICAgICBcIntcIjogW10sXG4gICAgICBPUFRJT05BTDogW10sXG4gICAgICBNSU5VUzogW10sXG4gICAgICBTRVJWSUNFOiBbXSxcbiAgICAgIEZJTFRFUjogW10sXG4gICAgICBCSU5EOiBbXSxcbiAgICAgIFZBTFVFUzogW11cbiAgICB9LFxuICAgIFwiKltVTklPTixncm91cEdyYXBoUGF0dGVybl1cIjoge1xuICAgICAgVU5JT046IFtcIltVTklPTixncm91cEdyYXBoUGF0dGVybl1cIiwgXCIqW1VOSU9OLGdyb3VwR3JhcGhQYXR0ZXJuXVwiXSxcbiAgICAgIFZBUjE6IFtdLFxuICAgICAgVkFSMjogW10sXG4gICAgICBOSUw6IFtdLFxuICAgICAgXCIoXCI6IFtdLFxuICAgICAgXCJbXCI6IFtdLFxuICAgICAgSVJJX1JFRjogW10sXG4gICAgICBUUlVFOiBbXSxcbiAgICAgIEZBTFNFOiBbXSxcbiAgICAgIEJMQU5LX05PREVfTEFCRUw6IFtdLFxuICAgICAgQU5PTjogW10sXG4gICAgICBQTkFNRV9MTjogW10sXG4gICAgICBQTkFNRV9OUzogW10sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXSxcbiAgICAgIElOVEVHRVI6IFtdLFxuICAgICAgREVDSU1BTDogW10sXG4gICAgICBET1VCTEU6IFtdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW10sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW10sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXSxcbiAgICAgIFwiLlwiOiBbXSxcbiAgICAgIFwie1wiOiBbXSxcbiAgICAgIE9QVElPTkFMOiBbXSxcbiAgICAgIE1JTlVTOiBbXSxcbiAgICAgIEdSQVBIOiBbXSxcbiAgICAgIFNFUlZJQ0U6IFtdLFxuICAgICAgRklMVEVSOiBbXSxcbiAgICAgIEJJTkQ6IFtdLFxuICAgICAgVkFMVUVTOiBbXSxcbiAgICAgIFwifVwiOiBbXVxuICAgIH0sXG4gICAgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIjoge1xuICAgICAgXCJ7XCI6IFtcbiAgICAgICAgXCJbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiLFxuICAgICAgICBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXG4gICAgICBdLFxuICAgICAgT1BUSU9OQUw6IFtcbiAgICAgICAgXCJbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiLFxuICAgICAgICBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXG4gICAgICBdLFxuICAgICAgTUlOVVM6IFtcbiAgICAgICAgXCJbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiLFxuICAgICAgICBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXG4gICAgICBdLFxuICAgICAgR1JBUEg6IFtcbiAgICAgICAgXCJbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiLFxuICAgICAgICBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXG4gICAgICBdLFxuICAgICAgU0VSVklDRTogW1xuICAgICAgICBcIltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCIsXG4gICAgICAgIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJcbiAgICAgIF0sXG4gICAgICBGSUxURVI6IFtcbiAgICAgICAgXCJbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiLFxuICAgICAgICBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXG4gICAgICBdLFxuICAgICAgQklORDogW1xuICAgICAgICBcIltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCIsXG4gICAgICAgIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJcbiAgICAgIF0sXG4gICAgICBWQUxVRVM6IFtcbiAgICAgICAgXCJbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiLFxuICAgICAgICBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXG4gICAgICBdLFxuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCI6IHtcbiAgICAgIEdSQVBIOiBbXG4gICAgICAgIFwiW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiLFxuICAgICAgICBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJcbiAgICAgIF0sXG4gICAgICBcIn1cIjogW11cbiAgICB9LFxuICAgIFwiKlt8LHBhdGhPbmVJblByb3BlcnR5U2V0XVwiOiB7XG4gICAgICBcInxcIjogW1wiW3wscGF0aE9uZUluUHJvcGVydHlTZXRdXCIsIFwiKlt8LHBhdGhPbmVJblByb3BlcnR5U2V0XVwiXSxcbiAgICAgIFwiKVwiOiBbXVxuICAgIH0sXG4gICAgXCIqW3wscGF0aFNlcXVlbmNlXVwiOiB7XG4gICAgICBcInxcIjogW1wiW3wscGF0aFNlcXVlbmNlXVwiLCBcIipbfCxwYXRoU2VxdWVuY2VdXCJdLFxuICAgICAgXCIpXCI6IFtdLFxuICAgICAgXCIoXCI6IFtdLFxuICAgICAgXCJbXCI6IFtdLFxuICAgICAgVkFSMTogW10sXG4gICAgICBWQVIyOiBbXSxcbiAgICAgIE5JTDogW10sXG4gICAgICBJUklfUkVGOiBbXSxcbiAgICAgIFRSVUU6IFtdLFxuICAgICAgRkFMU0U6IFtdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW10sXG4gICAgICBBTk9OOiBbXSxcbiAgICAgIFBOQU1FX0xOOiBbXSxcbiAgICAgIFBOQU1FX05TOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW10sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtdLFxuICAgICAgSU5URUdFUjogW10sXG4gICAgICBERUNJTUFMOiBbXSxcbiAgICAgIERPVUJMRTogW10sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW10sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtdXG4gICAgfSxcbiAgICBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiOiB7XG4gICAgICBcInx8XCI6IFtcIlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgQVM6IFtdLFxuICAgICAgXCIpXCI6IFtdLFxuICAgICAgXCIsXCI6IFtdLFxuICAgICAgXCI7XCI6IFtdXG4gICAgfSxcbiAgICBcIipkYXRhQmxvY2tWYWx1ZVwiOiB7XG4gICAgICBVTkRFRjogW1wiZGF0YUJsb2NrVmFsdWVcIiwgXCIqZGF0YUJsb2NrVmFsdWVcIl0sXG4gICAgICBJUklfUkVGOiBbXCJkYXRhQmxvY2tWYWx1ZVwiLCBcIipkYXRhQmxvY2tWYWx1ZVwiXSxcbiAgICAgIFRSVUU6IFtcImRhdGFCbG9ja1ZhbHVlXCIsIFwiKmRhdGFCbG9ja1ZhbHVlXCJdLFxuICAgICAgRkFMU0U6IFtcImRhdGFCbG9ja1ZhbHVlXCIsIFwiKmRhdGFCbG9ja1ZhbHVlXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImRhdGFCbG9ja1ZhbHVlXCIsIFwiKmRhdGFCbG9ja1ZhbHVlXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImRhdGFCbG9ja1ZhbHVlXCIsIFwiKmRhdGFCbG9ja1ZhbHVlXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXCJkYXRhQmxvY2tWYWx1ZVwiLCBcIipkYXRhQmxvY2tWYWx1ZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wiZGF0YUJsb2NrVmFsdWVcIiwgXCIqZGF0YUJsb2NrVmFsdWVcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1wiZGF0YUJsb2NrVmFsdWVcIiwgXCIqZGF0YUJsb2NrVmFsdWVcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1wiZGF0YUJsb2NrVmFsdWVcIiwgXCIqZGF0YUJsb2NrVmFsdWVcIl0sXG4gICAgICBJTlRFR0VSOiBbXCJkYXRhQmxvY2tWYWx1ZVwiLCBcIipkYXRhQmxvY2tWYWx1ZVwiXSxcbiAgICAgIERFQ0lNQUw6IFtcImRhdGFCbG9ja1ZhbHVlXCIsIFwiKmRhdGFCbG9ja1ZhbHVlXCJdLFxuICAgICAgRE9VQkxFOiBbXCJkYXRhQmxvY2tWYWx1ZVwiLCBcIipkYXRhQmxvY2tWYWx1ZVwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcImRhdGFCbG9ja1ZhbHVlXCIsIFwiKmRhdGFCbG9ja1ZhbHVlXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1wiZGF0YUJsb2NrVmFsdWVcIiwgXCIqZGF0YUJsb2NrVmFsdWVcIl0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcImRhdGFCbG9ja1ZhbHVlXCIsIFwiKmRhdGFCbG9ja1ZhbHVlXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wiZGF0YUJsb2NrVmFsdWVcIiwgXCIqZGF0YUJsb2NrVmFsdWVcIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJkYXRhQmxvY2tWYWx1ZVwiLCBcIipkYXRhQmxvY2tWYWx1ZVwiXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1wiZGF0YUJsb2NrVmFsdWVcIiwgXCIqZGF0YUJsb2NrVmFsdWVcIl0sXG4gICAgICBcIn1cIjogW10sXG4gICAgICBcIilcIjogW11cbiAgICB9LFxuICAgIFwiKmRhdGFzZXRDbGF1c2VcIjoge1xuICAgICAgRlJPTTogW1wiZGF0YXNldENsYXVzZVwiLCBcIipkYXRhc2V0Q2xhdXNlXCJdLFxuICAgICAgV0hFUkU6IFtdLFxuICAgICAgXCJ7XCI6IFtdXG4gICAgfSxcbiAgICBcIipkZXNjcmliZURhdGFzZXRDbGF1c2VcIjoge1xuICAgICAgRlJPTTogW1wiZGVzY3JpYmVEYXRhc2V0Q2xhdXNlXCIsIFwiKmRlc2NyaWJlRGF0YXNldENsYXVzZVwiXSxcbiAgICAgIE9SREVSOiBbXSxcbiAgICAgIEhBVklORzogW10sXG4gICAgICBHUk9VUDogW10sXG4gICAgICBMSU1JVDogW10sXG4gICAgICBPRkZTRVQ6IFtdLFxuICAgICAgV0hFUkU6IFtdLFxuICAgICAgXCJ7XCI6IFtdLFxuICAgICAgVkFMVUVTOiBbXSxcbiAgICAgICQ6IFtdXG4gICAgfSxcbiAgICBcIipncmFwaE5vZGVcIjoge1xuICAgICAgXCIoXCI6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBcIltcIjogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFZBUjE6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBWQVIyOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgTklMOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgSVJJX1JFRjogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFRSVUU6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBGQUxTRTogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIEJMQU5LX05PREVfTEFCRUw6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBBTk9OOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBJTlRFR0VSOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgREVDSU1BTDogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIERPVUJMRTogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBcIilcIjogW11cbiAgICB9LFxuICAgIFwiKmdyYXBoTm9kZVBhdGhcIjoge1xuICAgICAgXCIoXCI6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFwiW1wiOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBWQVIxOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBWQVIyOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBOSUw6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIElSSV9SRUY6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFRSVUU6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIEZBTFNFOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBBTk9OOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIElOVEVHRVI6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIERFQ0lNQUw6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIERPVUJMRTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFwiKVwiOiBbXVxuICAgIH0sXG4gICAgXCIqZ3JvdXBDb25kaXRpb25cIjoge1xuICAgICAgXCIoXCI6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIExBTkc6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgTEFOR01BVENIRVM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgREFUQVRZUEU6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgQk9VTkQ6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVJJOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFVSSTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBCTk9ERTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBSQU5EOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIEFCUzogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBDRUlMOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIEZMT09SOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFJPVU5EOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIENPTkNBVDogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTVFJMRU46IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgVUNBU0U6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgTENBU0U6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgRU5DT0RFX0ZPUl9VUkk6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgQ09OVEFJTlM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSU1RBUlRTOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFNUUkVORFM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSQkVGT1JFOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFNUUkFGVEVSOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFlFQVI6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgTU9OVEg6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgREFZOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIEhPVVJTOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIE1JTlVURVM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU0VDT05EUzogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBUSU1FWk9ORTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBUWjogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBOT1c6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgVVVJRDogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTVFJVVUlEOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIE1ENTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTSEExOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFNIQTI1NjogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTSEEzODQ6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU0hBNTEyOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIENPQUxFU0NFOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIElGOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFNUUkxBTkc6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSRFQ6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU0FNRVRFUk06IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVNJUkk6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVNVUkk6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVNCTEFOSzogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBJU0xJVEVSQUw6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVNOVU1FUklDOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFZBUjE6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgVkFSMjogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTVUJTVFI6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgUkVQTEFDRTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBSRUdFWDogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBFWElTVFM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgTk9UOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIElSSV9SRUY6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgVkFMVUVTOiBbXSxcbiAgICAgIExJTUlUOiBbXSxcbiAgICAgIE9GRlNFVDogW10sXG4gICAgICBPUkRFUjogW10sXG4gICAgICBIQVZJTkc6IFtdLFxuICAgICAgJDogW10sXG4gICAgICBcIn1cIjogW11cbiAgICB9LFxuICAgIFwiKmhhdmluZ0NvbmRpdGlvblwiOiB7XG4gICAgICBcIihcIjogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNUUjogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIExBTkc6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBMQU5HTUFUQ0hFUzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIERBVEFUWVBFOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgQk9VTkQ6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBJUkk6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBVUkk6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBCTk9ERTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFJBTkQ6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBBQlM6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBDRUlMOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgRkxPT1I6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBST1VORDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIENPTkNBVDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNUUkxFTjogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFVDQVNFOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgTENBU0U6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBFTkNPREVfRk9SX1VSSTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIENPTlRBSU5TOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSU1RBUlRTOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSRU5EUzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNUUkJFRk9SRTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNUUkFGVEVSOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgWUVBUjogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIE1PTlRIOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgREFZOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgSE9VUlM6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBNSU5VVEVTOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgU0VDT05EUzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFRJTUVaT05FOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgVFo6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBOT1c6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBVVUlEOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSVVVJRDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIE1ENTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNIQTE6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTSEEyNTY6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTSEEzODQ6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTSEE1MTI6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBDT0FMRVNDRTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIElGOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSTEFORzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNUUkRUOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgU0FNRVRFUk06IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBJU0lSSTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIElTVVJJOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgSVNCTEFOSzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIElTTElURVJBTDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIElTTlVNRVJJQzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNVQlNUUjogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFJFUExBQ0U6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBSRUdFWDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIEVYSVNUUzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIE5PVDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIElSSV9SRUY6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBQTkFNRV9MTjogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgVkFMVUVTOiBbXSxcbiAgICAgIExJTUlUOiBbXSxcbiAgICAgIE9GRlNFVDogW10sXG4gICAgICBPUkRFUjogW10sXG4gICAgICAkOiBbXSxcbiAgICAgIFwifVwiOiBbXVxuICAgIH0sXG4gICAgXCIqb3IoW1soLCpkYXRhQmxvY2tWYWx1ZSwpXSxOSUxdKVwiOiB7XG4gICAgICBcIihcIjogW1xuICAgICAgICBcIm9yKFtbKCwqZGF0YUJsb2NrVmFsdWUsKV0sTklMXSlcIixcbiAgICAgICAgXCIqb3IoW1soLCpkYXRhQmxvY2tWYWx1ZSwpXSxOSUxdKVwiXG4gICAgICBdLFxuICAgICAgTklMOiBbXG4gICAgICAgIFwib3IoW1soLCpkYXRhQmxvY2tWYWx1ZSwpXSxOSUxdKVwiLFxuICAgICAgICBcIipvcihbWygsKmRhdGFCbG9ja1ZhbHVlLCldLE5JTF0pXCJcbiAgICAgIF0sXG4gICAgICBcIn1cIjogW11cbiAgICB9LFxuICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiOiB7XG4gICAgICBcIipcIjogW1xuICAgICAgICBcIm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFwiL1wiOiBbXG4gICAgICAgIFwib3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgQVM6IFtdLFxuICAgICAgXCIpXCI6IFtdLFxuICAgICAgXCIsXCI6IFtdLFxuICAgICAgXCJ8fFwiOiBbXSxcbiAgICAgIFwiJiZcIjogW10sXG4gICAgICBcIj1cIjogW10sXG4gICAgICBcIiE9XCI6IFtdLFxuICAgICAgXCI8XCI6IFtdLFxuICAgICAgXCI+XCI6IFtdLFxuICAgICAgXCI8PVwiOiBbXSxcbiAgICAgIFwiPj1cIjogW10sXG4gICAgICBJTjogW10sXG4gICAgICBOT1Q6IFtdLFxuICAgICAgXCIrXCI6IFtdLFxuICAgICAgXCItXCI6IFtdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW10sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW10sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXSxcbiAgICAgIFwiO1wiOiBbXVxuICAgIH0sXG4gICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIjoge1xuICAgICAgXCIrXCI6IFtcbiAgICAgICAgXCJvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgXCItXCI6IFtcbiAgICAgICAgXCJvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1xuICAgICAgICBcIm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXG4gICAgICAgIFwib3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1xuICAgICAgICBcIm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXG4gICAgICAgIFwib3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcbiAgICAgICAgXCJvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXG4gICAgICAgIFwib3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIEFTOiBbXSxcbiAgICAgIFwiKVwiOiBbXSxcbiAgICAgIFwiLFwiOiBbXSxcbiAgICAgIFwifHxcIjogW10sXG4gICAgICBcIiYmXCI6IFtdLFxuICAgICAgXCI9XCI6IFtdLFxuICAgICAgXCIhPVwiOiBbXSxcbiAgICAgIFwiPFwiOiBbXSxcbiAgICAgIFwiPlwiOiBbXSxcbiAgICAgIFwiPD1cIjogW10sXG4gICAgICBcIj49XCI6IFtdLFxuICAgICAgSU46IFtdLFxuICAgICAgTk9UOiBbXSxcbiAgICAgIFwiO1wiOiBbXVxuICAgIH0sXG4gICAgXCIqb3IoW2Jhc2VEZWNsLHByZWZpeERlY2xdKVwiOiB7XG4gICAgICBCQVNFOiBbXCJvcihbYmFzZURlY2wscHJlZml4RGVjbF0pXCIsIFwiKm9yKFtiYXNlRGVjbCxwcmVmaXhEZWNsXSlcIl0sXG4gICAgICBQUkVGSVg6IFtcIm9yKFtiYXNlRGVjbCxwcmVmaXhEZWNsXSlcIiwgXCIqb3IoW2Jhc2VEZWNsLHByZWZpeERlY2xdKVwiXSxcbiAgICAgICQ6IFtdLFxuICAgICAgQ09OU1RSVUNUOiBbXSxcbiAgICAgIERFU0NSSUJFOiBbXSxcbiAgICAgIEFTSzogW10sXG4gICAgICBJTlNFUlQ6IFtdLFxuICAgICAgREVMRVRFOiBbXSxcbiAgICAgIFNFTEVDVDogW10sXG4gICAgICBMT0FEOiBbXSxcbiAgICAgIENMRUFSOiBbXSxcbiAgICAgIERST1A6IFtdLFxuICAgICAgQUREOiBbXSxcbiAgICAgIE1PVkU6IFtdLFxuICAgICAgQ09QWTogW10sXG4gICAgICBDUkVBVEU6IFtdLFxuICAgICAgV0lUSDogW11cbiAgICB9LFxuICAgIFwiKm9yKFt2YXIsWygsZXhwcmVzc2lvbixBUyx2YXIsKV1dKVwiOiB7XG4gICAgICBcIihcIjogW1xuICAgICAgICBcIm9yKFt2YXIsWygsZXhwcmVzc2lvbixBUyx2YXIsKV1dKVwiLFxuICAgICAgICBcIipvcihbdmFyLFsoLGV4cHJlc3Npb24sQVMsdmFyLCldXSlcIlxuICAgICAgXSxcbiAgICAgIFZBUjE6IFtcbiAgICAgICAgXCJvcihbdmFyLFsoLGV4cHJlc3Npb24sQVMsdmFyLCldXSlcIixcbiAgICAgICAgXCIqb3IoW3ZhcixbKCxleHByZXNzaW9uLEFTLHZhciwpXV0pXCJcbiAgICAgIF0sXG4gICAgICBWQVIyOiBbXG4gICAgICAgIFwib3IoW3ZhcixbKCxleHByZXNzaW9uLEFTLHZhciwpXV0pXCIsXG4gICAgICAgIFwiKm9yKFt2YXIsWygsZXhwcmVzc2lvbixBUyx2YXIsKV1dKVwiXG4gICAgICBdLFxuICAgICAgV0hFUkU6IFtdLFxuICAgICAgXCJ7XCI6IFtdLFxuICAgICAgRlJPTTogW11cbiAgICB9LFxuICAgIFwiKm9yZGVyQ29uZGl0aW9uXCI6IHtcbiAgICAgIEFTQzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBERVNDOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFZBUjE6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgVkFSMjogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBcIihcIjogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTVFI6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgTEFORzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBMQU5HTUFUQ0hFUzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBEQVRBVFlQRTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBCT1VORDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJUkk6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgVVJJOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIEJOT0RFOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFJBTkQ6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgQUJTOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIENFSUw6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgRkxPT1I6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgUk9VTkQ6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgQ09OQ0FUOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFNUUkxFTjogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBVQ0FTRTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBMQ0FTRTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBFTkNPREVfRk9SX1VSSTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBDT05UQUlOUzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTVFJTVEFSVFM6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSRU5EUzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTVFJCRUZPUkU6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSQUZURVI6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgWUVBUjogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBNT05USDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBEQVk6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgSE9VUlM6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgTUlOVVRFUzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTRUNPTkRTOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFRJTUVaT05FOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFRaOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIE5PVzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBVVUlEOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFNUUlVVSUQ6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgTUQ1OiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFNIQTE6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU0hBMjU2OiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFNIQTM4NDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTSEE1MTI6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgQ09BTEVTQ0U6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgSUY6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSTEFORzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTVFJEVDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTQU1FVEVSTTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJU0lSSTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJU1VSSTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJU0JMQU5LOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIElTTElURVJBTDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJU05VTUVSSUM6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU1VCU1RSOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFJFUExBQ0U6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgUkVHRVg6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgRVhJU1RTOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIE5PVDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJUklfUkVGOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFZBTFVFUzogW10sXG4gICAgICBMSU1JVDogW10sXG4gICAgICBPRkZTRVQ6IFtdLFxuICAgICAgJDogW10sXG4gICAgICBcIn1cIjogW11cbiAgICB9LFxuICAgIFwiKnVzaW5nQ2xhdXNlXCI6IHtcbiAgICAgIFVTSU5HOiBbXCJ1c2luZ0NsYXVzZVwiLCBcIip1c2luZ0NsYXVzZVwiXSxcbiAgICAgIFdIRVJFOiBbXVxuICAgIH0sXG4gICAgXCIqdmFyXCI6IHtcbiAgICAgIFZBUjE6IFtcInZhclwiLCBcIip2YXJcIl0sXG4gICAgICBWQVIyOiBbXCJ2YXJcIiwgXCIqdmFyXCJdLFxuICAgICAgXCIpXCI6IFtdXG4gICAgfSxcbiAgICBcIip2YXJPcklSSXJlZlwiOiB7XG4gICAgICBWQVIxOiBbXCJ2YXJPcklSSXJlZlwiLCBcIip2YXJPcklSSXJlZlwiXSxcbiAgICAgIFZBUjI6IFtcInZhck9ySVJJcmVmXCIsIFwiKnZhck9ySVJJcmVmXCJdLFxuICAgICAgSVJJX1JFRjogW1widmFyT3JJUklyZWZcIiwgXCIqdmFyT3JJUklyZWZcIl0sXG4gICAgICBQTkFNRV9MTjogW1widmFyT3JJUklyZWZcIiwgXCIqdmFyT3JJUklyZWZcIl0sXG4gICAgICBQTkFNRV9OUzogW1widmFyT3JJUklyZWZcIiwgXCIqdmFyT3JJUklyZWZcIl0sXG4gICAgICBPUkRFUjogW10sXG4gICAgICBIQVZJTkc6IFtdLFxuICAgICAgR1JPVVA6IFtdLFxuICAgICAgTElNSVQ6IFtdLFxuICAgICAgT0ZGU0VUOiBbXSxcbiAgICAgIFdIRVJFOiBbXSxcbiAgICAgIFwie1wiOiBbXSxcbiAgICAgIEZST006IFtdLFxuICAgICAgVkFMVUVTOiBbXSxcbiAgICAgICQ6IFtdXG4gICAgfSxcbiAgICBcIitncmFwaE5vZGVcIjoge1xuICAgICAgXCIoXCI6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBcIltcIjogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFZBUjE6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBWQVIyOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgTklMOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgSVJJX1JFRjogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFRSVUU6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBGQUxTRTogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIEJMQU5LX05PREVfTEFCRUw6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBBTk9OOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBJTlRFR0VSOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgREVDSU1BTDogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIERPVUJMRTogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVcIiwgXCIqZ3JhcGhOb2RlXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wiZ3JhcGhOb2RlXCIsIFwiKmdyYXBoTm9kZVwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVwiLCBcIipncmFwaE5vZGVcIl1cbiAgICB9LFxuICAgIFwiK2dyYXBoTm9kZVBhdGhcIjoge1xuICAgICAgXCIoXCI6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFwiW1wiOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBWQVIxOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBWQVIyOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBOSUw6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIElSSV9SRUY6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFRSVUU6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIEZBTFNFOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBBTk9OOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIElOVEVHRVI6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIERFQ0lNQUw6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIERPVUJMRTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1wiZ3JhcGhOb2RlUGF0aFwiLCBcIipncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJncmFwaE5vZGVQYXRoXCIsIFwiKmdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVBhdGhcIiwgXCIqZ3JhcGhOb2RlUGF0aFwiXVxuICAgIH0sXG4gICAgXCIrZ3JvdXBDb25kaXRpb25cIjoge1xuICAgICAgXCIoXCI6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIExBTkc6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgTEFOR01BVENIRVM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgREFUQVRZUEU6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgQk9VTkQ6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVJJOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFVSSTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBCTk9ERTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBSQU5EOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIEFCUzogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBDRUlMOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIEZMT09SOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFJPVU5EOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIENPTkNBVDogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTVFJMRU46IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgVUNBU0U6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgTENBU0U6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgRU5DT0RFX0ZPUl9VUkk6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgQ09OVEFJTlM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSU1RBUlRTOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFNUUkVORFM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSQkVGT1JFOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFNUUkFGVEVSOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFlFQVI6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgTU9OVEg6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgREFZOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIEhPVVJTOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIE1JTlVURVM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU0VDT05EUzogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBUSU1FWk9ORTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBUWjogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBOT1c6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgVVVJRDogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTVFJVVUlEOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIE1ENTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTSEExOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFNIQTI1NjogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTSEEzODQ6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU0hBNTEyOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIENPQUxFU0NFOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIElGOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFNUUkxBTkc6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSRFQ6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgU0FNRVRFUk06IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVNJUkk6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVNVUkk6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVNCTEFOSzogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBJU0xJVEVSQUw6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgSVNOVU1FUklDOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIFZBUjE6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgVkFSMjogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBTVUJTVFI6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgUkVQTEFDRTogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBSRUdFWDogW1wiZ3JvdXBDb25kaXRpb25cIiwgXCIqZ3JvdXBDb25kaXRpb25cIl0sXG4gICAgICBFWElTVFM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgTk9UOiBbXCJncm91cENvbmRpdGlvblwiLCBcIipncm91cENvbmRpdGlvblwiXSxcbiAgICAgIElSSV9SRUY6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImdyb3VwQ29uZGl0aW9uXCIsIFwiKmdyb3VwQ29uZGl0aW9uXCJdXG4gICAgfSxcbiAgICBcIitoYXZpbmdDb25kaXRpb25cIjoge1xuICAgICAgXCIoXCI6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTVFI6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBMQU5HOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgTEFOR01BVENIRVM6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBEQVRBVFlQRTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIEJPVU5EOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgSVJJOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgVVJJOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgQk5PREU6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBSQU5EOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgQUJTOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgQ0VJTDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIEZMT09SOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgUk9VTkQ6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBDT05DQVQ6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTVFJMRU46IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBVQ0FTRTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIExDQVNFOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgRU5DT0RFX0ZPUl9VUkk6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBDT05UQUlOUzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNUUlNUQVJUUzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNUUkVORFM6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTVFJCRUZPUkU6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTVFJBRlRFUjogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFlFQVI6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBNT05USDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIERBWTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIEhPVVJTOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgTUlOVVRFUzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNFQ09ORFM6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBUSU1FWk9ORTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFRaOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgTk9XOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgVVVJRDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNUUlVVSUQ6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBNRDU6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTSEExOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgU0hBMjU2OiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgU0hBMzg0OiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgU0hBNTEyOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgQ09BTEVTQ0U6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBJRjogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNUUkxBTkc6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTVFJEVDogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIFNBTUVURVJNOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgSVNJUkk6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBJU1VSSTogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXSxcbiAgICAgIElTQkxBTks6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBJU0xJVEVSQUw6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBJU05VTUVSSUM6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBTVUJTVFI6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBSRVBMQUNFOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgUkVHRVg6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBFWElTVFM6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBOT1Q6IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBJUklfUkVGOiBbXCJoYXZpbmdDb25kaXRpb25cIiwgXCIqaGF2aW5nQ29uZGl0aW9uXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImhhdmluZ0NvbmRpdGlvblwiLCBcIipoYXZpbmdDb25kaXRpb25cIl0sXG4gICAgICBQTkFNRV9OUzogW1wiaGF2aW5nQ29uZGl0aW9uXCIsIFwiKmhhdmluZ0NvbmRpdGlvblwiXVxuICAgIH0sXG4gICAgXCIrb3IoW3ZhcixbKCxleHByZXNzaW9uLEFTLHZhciwpXV0pXCI6IHtcbiAgICAgIFwiKFwiOiBbXG4gICAgICAgIFwib3IoW3ZhcixbKCxleHByZXNzaW9uLEFTLHZhciwpXV0pXCIsXG4gICAgICAgIFwiKm9yKFt2YXIsWygsZXhwcmVzc2lvbixBUyx2YXIsKV1dKVwiXG4gICAgICBdLFxuICAgICAgVkFSMTogW1xuICAgICAgICBcIm9yKFt2YXIsWygsZXhwcmVzc2lvbixBUyx2YXIsKV1dKVwiLFxuICAgICAgICBcIipvcihbdmFyLFsoLGV4cHJlc3Npb24sQVMsdmFyLCldXSlcIlxuICAgICAgXSxcbiAgICAgIFZBUjI6IFtcbiAgICAgICAgXCJvcihbdmFyLFsoLGV4cHJlc3Npb24sQVMsdmFyLCldXSlcIixcbiAgICAgICAgXCIqb3IoW3ZhcixbKCxleHByZXNzaW9uLEFTLHZhciwpXV0pXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIFwiK29yZGVyQ29uZGl0aW9uXCI6IHtcbiAgICAgIEFTQzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBERVNDOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFZBUjE6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgVkFSMjogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBcIihcIjogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTVFI6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgTEFORzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBMQU5HTUFUQ0hFUzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBEQVRBVFlQRTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBCT1VORDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJUkk6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgVVJJOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIEJOT0RFOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFJBTkQ6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgQUJTOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIENFSUw6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgRkxPT1I6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgUk9VTkQ6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgQ09OQ0FUOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFNUUkxFTjogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBVQ0FTRTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBMQ0FTRTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBFTkNPREVfRk9SX1VSSTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBDT05UQUlOUzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTVFJTVEFSVFM6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSRU5EUzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTVFJCRUZPUkU6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSQUZURVI6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgWUVBUjogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBNT05USDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBEQVk6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgSE9VUlM6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgTUlOVVRFUzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTRUNPTkRTOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFRJTUVaT05FOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFRaOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIE5PVzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBVVUlEOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFNUUlVVSUQ6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgTUQ1OiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFNIQTE6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU0hBMjU2OiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFNIQTM4NDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTSEE1MTI6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgQ09BTEVTQ0U6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgSUY6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU1RSTEFORzogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTVFJEVDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBTQU1FVEVSTTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJU0lSSTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJU1VSSTogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJU0JMQU5LOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIElTTElURVJBTDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJU05VTUVSSUM6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgU1VCU1RSOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFJFUExBQ0U6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgUkVHRVg6IFtcIm9yZGVyQ29uZGl0aW9uXCIsIFwiKm9yZGVyQ29uZGl0aW9uXCJdLFxuICAgICAgRVhJU1RTOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIE5PVDogW1wib3JkZXJDb25kaXRpb25cIiwgXCIqb3JkZXJDb25kaXRpb25cIl0sXG4gICAgICBJUklfUkVGOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJvcmRlckNvbmRpdGlvblwiLCBcIipvcmRlckNvbmRpdGlvblwiXVxuICAgIH0sXG4gICAgXCIrdmFyT3JJUklyZWZcIjoge1xuICAgICAgVkFSMTogW1widmFyT3JJUklyZWZcIiwgXCIqdmFyT3JJUklyZWZcIl0sXG4gICAgICBWQVIyOiBbXCJ2YXJPcklSSXJlZlwiLCBcIip2YXJPcklSSXJlZlwiXSxcbiAgICAgIElSSV9SRUY6IFtcInZhck9ySVJJcmVmXCIsIFwiKnZhck9ySVJJcmVmXCJdLFxuICAgICAgUE5BTUVfTE46IFtcInZhck9ySVJJcmVmXCIsIFwiKnZhck9ySVJJcmVmXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInZhck9ySVJJcmVmXCIsIFwiKnZhck9ySVJJcmVmXCJdXG4gICAgfSxcbiAgICBcIj8uXCI6IHtcbiAgICAgIFwiLlwiOiBbXCIuXCJdLFxuICAgICAgVkFSMTogW10sXG4gICAgICBWQVIyOiBbXSxcbiAgICAgIE5JTDogW10sXG4gICAgICBcIihcIjogW10sXG4gICAgICBcIltcIjogW10sXG4gICAgICBJUklfUkVGOiBbXSxcbiAgICAgIFRSVUU6IFtdLFxuICAgICAgRkFMU0U6IFtdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW10sXG4gICAgICBBTk9OOiBbXSxcbiAgICAgIFBOQU1FX0xOOiBbXSxcbiAgICAgIFBOQU1FX05TOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW10sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtdLFxuICAgICAgSU5URUdFUjogW10sXG4gICAgICBERUNJTUFMOiBbXSxcbiAgICAgIERPVUJMRTogW10sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW10sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtdLFxuICAgICAgR1JBUEg6IFtdLFxuICAgICAgXCJ7XCI6IFtdLFxuICAgICAgT1BUSU9OQUw6IFtdLFxuICAgICAgTUlOVVM6IFtdLFxuICAgICAgU0VSVklDRTogW10sXG4gICAgICBGSUxURVI6IFtdLFxuICAgICAgQklORDogW10sXG4gICAgICBWQUxVRVM6IFtdLFxuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICBcIj9ESVNUSU5DVFwiOiB7XG4gICAgICBESVNUSU5DVDogW1wiRElTVElOQ1RcIl0sXG4gICAgICBcIiFcIjogW10sXG4gICAgICBcIitcIjogW10sXG4gICAgICBcIi1cIjogW10sXG4gICAgICBWQVIxOiBbXSxcbiAgICAgIFZBUjI6IFtdLFxuICAgICAgXCIoXCI6IFtdLFxuICAgICAgU1RSOiBbXSxcbiAgICAgIExBTkc6IFtdLFxuICAgICAgTEFOR01BVENIRVM6IFtdLFxuICAgICAgREFUQVRZUEU6IFtdLFxuICAgICAgQk9VTkQ6IFtdLFxuICAgICAgSVJJOiBbXSxcbiAgICAgIFVSSTogW10sXG4gICAgICBCTk9ERTogW10sXG4gICAgICBSQU5EOiBbXSxcbiAgICAgIEFCUzogW10sXG4gICAgICBDRUlMOiBbXSxcbiAgICAgIEZMT09SOiBbXSxcbiAgICAgIFJPVU5EOiBbXSxcbiAgICAgIENPTkNBVDogW10sXG4gICAgICBTVFJMRU46IFtdLFxuICAgICAgVUNBU0U6IFtdLFxuICAgICAgTENBU0U6IFtdLFxuICAgICAgRU5DT0RFX0ZPUl9VUkk6IFtdLFxuICAgICAgQ09OVEFJTlM6IFtdLFxuICAgICAgU1RSU1RBUlRTOiBbXSxcbiAgICAgIFNUUkVORFM6IFtdLFxuICAgICAgU1RSQkVGT1JFOiBbXSxcbiAgICAgIFNUUkFGVEVSOiBbXSxcbiAgICAgIFlFQVI6IFtdLFxuICAgICAgTU9OVEg6IFtdLFxuICAgICAgREFZOiBbXSxcbiAgICAgIEhPVVJTOiBbXSxcbiAgICAgIE1JTlVURVM6IFtdLFxuICAgICAgU0VDT05EUzogW10sXG4gICAgICBUSU1FWk9ORTogW10sXG4gICAgICBUWjogW10sXG4gICAgICBOT1c6IFtdLFxuICAgICAgVVVJRDogW10sXG4gICAgICBTVFJVVUlEOiBbXSxcbiAgICAgIE1ENTogW10sXG4gICAgICBTSEExOiBbXSxcbiAgICAgIFNIQTI1NjogW10sXG4gICAgICBTSEEzODQ6IFtdLFxuICAgICAgU0hBNTEyOiBbXSxcbiAgICAgIENPQUxFU0NFOiBbXSxcbiAgICAgIElGOiBbXSxcbiAgICAgIFNUUkxBTkc6IFtdLFxuICAgICAgU1RSRFQ6IFtdLFxuICAgICAgU0FNRVRFUk06IFtdLFxuICAgICAgSVNJUkk6IFtdLFxuICAgICAgSVNVUkk6IFtdLFxuICAgICAgSVNCTEFOSzogW10sXG4gICAgICBJU0xJVEVSQUw6IFtdLFxuICAgICAgSVNOVU1FUklDOiBbXSxcbiAgICAgIFRSVUU6IFtdLFxuICAgICAgRkFMU0U6IFtdLFxuICAgICAgQ09VTlQ6IFtdLFxuICAgICAgU1VNOiBbXSxcbiAgICAgIE1JTjogW10sXG4gICAgICBNQVg6IFtdLFxuICAgICAgQVZHOiBbXSxcbiAgICAgIFNBTVBMRTogW10sXG4gICAgICBHUk9VUF9DT05DQVQ6IFtdLFxuICAgICAgU1VCU1RSOiBbXSxcbiAgICAgIFJFUExBQ0U6IFtdLFxuICAgICAgUkVHRVg6IFtdLFxuICAgICAgRVhJU1RTOiBbXSxcbiAgICAgIE5PVDogW10sXG4gICAgICBJUklfUkVGOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW10sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtdLFxuICAgICAgSU5URUdFUjogW10sXG4gICAgICBERUNJTUFMOiBbXSxcbiAgICAgIERPVUJMRTogW10sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW10sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtdLFxuICAgICAgUE5BTUVfTE46IFtdLFxuICAgICAgUE5BTUVfTlM6IFtdLFxuICAgICAgXCIqXCI6IFtdXG4gICAgfSxcbiAgICBcIj9HUkFQSFwiOiB7XG4gICAgICBHUkFQSDogW1wiR1JBUEhcIl0sXG4gICAgICBJUklfUkVGOiBbXSxcbiAgICAgIFBOQU1FX0xOOiBbXSxcbiAgICAgIFBOQU1FX05TOiBbXVxuICAgIH0sXG4gICAgXCI/U0lMRU5UXCI6IHtcbiAgICAgIFNJTEVOVDogW1wiU0lMRU5UXCJdLFxuICAgICAgVkFSMTogW10sXG4gICAgICBWQVIyOiBbXSxcbiAgICAgIElSSV9SRUY6IFtdLFxuICAgICAgUE5BTUVfTE46IFtdLFxuICAgICAgUE5BTUVfTlM6IFtdXG4gICAgfSxcbiAgICBcIj9TSUxFTlRfMVwiOiB7XG4gICAgICBTSUxFTlQ6IFtcIlNJTEVOVFwiXSxcbiAgICAgIElSSV9SRUY6IFtdLFxuICAgICAgUE5BTUVfTE46IFtdLFxuICAgICAgUE5BTUVfTlM6IFtdXG4gICAgfSxcbiAgICBcIj9TSUxFTlRfMlwiOiB7XG4gICAgICBTSUxFTlQ6IFtcIlNJTEVOVFwiXSxcbiAgICAgIEdSQVBIOiBbXSxcbiAgICAgIERFRkFVTFQ6IFtdLFxuICAgICAgTkFNRUQ6IFtdLFxuICAgICAgQUxMOiBbXVxuICAgIH0sXG4gICAgXCI/U0lMRU5UXzNcIjoge1xuICAgICAgU0lMRU5UOiBbXCJTSUxFTlRcIl0sXG4gICAgICBHUkFQSDogW11cbiAgICB9LFxuICAgIFwiP1NJTEVOVF80XCI6IHtcbiAgICAgIFNJTEVOVDogW1wiU0lMRU5UXCJdLFxuICAgICAgREVGQVVMVDogW10sXG4gICAgICBHUkFQSDogW10sXG4gICAgICBJUklfUkVGOiBbXSxcbiAgICAgIFBOQU1FX0xOOiBbXSxcbiAgICAgIFBOQU1FX05TOiBbXVxuICAgIH0sXG4gICAgXCI/V0hFUkVcIjoge1xuICAgICAgV0hFUkU6IFtcIldIRVJFXCJdLFxuICAgICAgXCJ7XCI6IFtdXG4gICAgfSxcbiAgICBcIj9bLCxleHByZXNzaW9uXVwiOiB7XG4gICAgICBcIixcIjogW1wiWywsZXhwcmVzc2lvbl1cIl0sXG4gICAgICBcIilcIjogW11cbiAgICB9LFxuICAgIFwiP1suLD9jb25zdHJ1Y3RUcmlwbGVzXVwiOiB7XG4gICAgICBcIi5cIjogW1wiWy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdLFxuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICBcIj9bLiw/dHJpcGxlc0Jsb2NrXVwiOiB7XG4gICAgICBcIi5cIjogW1wiWy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBcIntcIjogW10sXG4gICAgICBPUFRJT05BTDogW10sXG4gICAgICBNSU5VUzogW10sXG4gICAgICBHUkFQSDogW10sXG4gICAgICBTRVJWSUNFOiBbXSxcbiAgICAgIEZJTFRFUjogW10sXG4gICAgICBCSU5EOiBbXSxcbiAgICAgIFZBTFVFUzogW10sXG4gICAgICBcIn1cIjogW11cbiAgICB9LFxuICAgIFwiP1suLD90cmlwbGVzVGVtcGxhdGVdXCI6IHtcbiAgICAgIFwiLlwiOiBbXCJbLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIFwifVwiOiBbXSxcbiAgICAgIEdSQVBIOiBbXVxuICAgIH0sXG4gICAgXCI/WzssU0VQQVJBVE9SLD0sc3RyaW5nXVwiOiB7XG4gICAgICBcIjtcIjogW1wiWzssU0VQQVJBVE9SLD0sc3RyaW5nXVwiXSxcbiAgICAgIFwiKVwiOiBbXVxuICAgIH0sXG4gICAgXCI/WzssdXBkYXRlXVwiOiB7XG4gICAgICBcIjtcIjogW1wiWzssdXBkYXRlXVwiXSxcbiAgICAgICQ6IFtdXG4gICAgfSxcbiAgICBcIj9bQVMsdmFyXVwiOiB7XG4gICAgICBBUzogW1wiW0FTLHZhcl1cIl0sXG4gICAgICBcIilcIjogW11cbiAgICB9LFxuICAgIFwiP1tJTlRPLGdyYXBoUmVmXVwiOiB7XG4gICAgICBJTlRPOiBbXCJbSU5UTyxncmFwaFJlZl1cIl0sXG4gICAgICBcIjtcIjogW10sXG4gICAgICAkOiBbXVxuICAgIH0sXG4gICAgXCI/W29yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSksb2JqZWN0TGlzdF1cIjoge1xuICAgICAgVkFSMTogW1wiW29yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSksb2JqZWN0TGlzdF1cIl0sXG4gICAgICBWQVIyOiBbXCJbb3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKSxvYmplY3RMaXN0XVwiXSxcbiAgICAgIFwiXlwiOiBbXCJbb3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKSxvYmplY3RMaXN0XVwiXSxcbiAgICAgIGE6IFtcIltvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXCJdLFxuICAgICAgXCIhXCI6IFtcIltvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXCJdLFxuICAgICAgXCIoXCI6IFtcIltvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXCJdLFxuICAgICAgSVJJX1JFRjogW1wiW29yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSksb2JqZWN0TGlzdF1cIl0sXG4gICAgICBQTkFNRV9MTjogW1wiW29yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSksb2JqZWN0TGlzdF1cIl0sXG4gICAgICBQTkFNRV9OUzogW1wiW29yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSksb2JqZWN0TGlzdF1cIl0sXG4gICAgICBcIjtcIjogW10sXG4gICAgICBcIi5cIjogW10sXG4gICAgICBcIl1cIjogW10sXG4gICAgICBcIntcIjogW10sXG4gICAgICBPUFRJT05BTDogW10sXG4gICAgICBNSU5VUzogW10sXG4gICAgICBHUkFQSDogW10sXG4gICAgICBTRVJWSUNFOiBbXSxcbiAgICAgIEZJTFRFUjogW10sXG4gICAgICBCSU5EOiBbXSxcbiAgICAgIFZBTFVFUzogW10sXG4gICAgICBcIn1cIjogW11cbiAgICB9LFxuICAgIFwiP1twYXRoT25lSW5Qcm9wZXJ0eVNldCwqW3wscGF0aE9uZUluUHJvcGVydHlTZXRdXVwiOiB7XG4gICAgICBhOiBbXCJbcGF0aE9uZUluUHJvcGVydHlTZXQsKlt8LHBhdGhPbmVJblByb3BlcnR5U2V0XV1cIl0sXG4gICAgICBcIl5cIjogW1wiW3BhdGhPbmVJblByb3BlcnR5U2V0LCpbfCxwYXRoT25lSW5Qcm9wZXJ0eVNldF1dXCJdLFxuICAgICAgSVJJX1JFRjogW1wiW3BhdGhPbmVJblByb3BlcnR5U2V0LCpbfCxwYXRoT25lSW5Qcm9wZXJ0eVNldF1dXCJdLFxuICAgICAgUE5BTUVfTE46IFtcIltwYXRoT25lSW5Qcm9wZXJ0eVNldCwqW3wscGF0aE9uZUluUHJvcGVydHlTZXRdXVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJbcGF0aE9uZUluUHJvcGVydHlTZXQsKlt8LHBhdGhPbmVJblByb3BlcnR5U2V0XV1cIl0sXG4gICAgICBcIilcIjogW11cbiAgICB9LFxuICAgIFwiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiOiB7XG4gICAgICBJTlNFUlQ6IFtcIlt1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgIERFTEVURTogW1wiW3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgTE9BRDogW1wiW3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgQ0xFQVI6IFtcIlt1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgIERST1A6IFtcIlt1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgIEFERDogW1wiW3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgTU9WRTogW1wiW3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgQ09QWTogW1wiW3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgQ1JFQVRFOiBbXCJbdXBkYXRlMSw/WzssdXBkYXRlXV1cIl0sXG4gICAgICBXSVRIOiBbXCJbdXBkYXRlMSw/WzssdXBkYXRlXV1cIl0sXG4gICAgICAkOiBbXVxuICAgIH0sXG4gICAgXCI/W3ZlcmIsb2JqZWN0TGlzdF1cIjoge1xuICAgICAgYTogW1wiW3ZlcmIsb2JqZWN0TGlzdF1cIl0sXG4gICAgICBWQVIxOiBbXCJbdmVyYixvYmplY3RMaXN0XVwiXSxcbiAgICAgIFZBUjI6IFtcIlt2ZXJiLG9iamVjdExpc3RdXCJdLFxuICAgICAgSVJJX1JFRjogW1wiW3ZlcmIsb2JqZWN0TGlzdF1cIl0sXG4gICAgICBQTkFNRV9MTjogW1wiW3ZlcmIsb2JqZWN0TGlzdF1cIl0sXG4gICAgICBQTkFNRV9OUzogW1wiW3ZlcmIsb2JqZWN0TGlzdF1cIl0sXG4gICAgICBcIjtcIjogW10sXG4gICAgICBcIi5cIjogW10sXG4gICAgICBcIl1cIjogW10sXG4gICAgICBcIn1cIjogW10sXG4gICAgICBHUkFQSDogW10sXG4gICAgICBcIntcIjogW10sXG4gICAgICBPUFRJT05BTDogW10sXG4gICAgICBNSU5VUzogW10sXG4gICAgICBTRVJWSUNFOiBbXSxcbiAgICAgIEZJTFRFUjogW10sXG4gICAgICBCSU5EOiBbXSxcbiAgICAgIFZBTFVFUzogW11cbiAgICB9LFxuICAgIFwiP2FyZ0xpc3RcIjoge1xuICAgICAgTklMOiBbXCJhcmdMaXN0XCJdLFxuICAgICAgXCIoXCI6IFtcImFyZ0xpc3RcIl0sXG4gICAgICBBUzogW10sXG4gICAgICBcIilcIjogW10sXG4gICAgICBcIixcIjogW10sXG4gICAgICBcInx8XCI6IFtdLFxuICAgICAgXCImJlwiOiBbXSxcbiAgICAgIFwiPVwiOiBbXSxcbiAgICAgIFwiIT1cIjogW10sXG4gICAgICBcIjxcIjogW10sXG4gICAgICBcIj5cIjogW10sXG4gICAgICBcIjw9XCI6IFtdLFxuICAgICAgXCI+PVwiOiBbXSxcbiAgICAgIElOOiBbXSxcbiAgICAgIE5PVDogW10sXG4gICAgICBcIitcIjogW10sXG4gICAgICBcIi1cIjogW10sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW10sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtdLFxuICAgICAgXCIqXCI6IFtdLFxuICAgICAgXCIvXCI6IFtdLFxuICAgICAgXCI7XCI6IFtdXG4gICAgfSxcbiAgICBcIj9jb25zdHJ1Y3RUcmlwbGVzXCI6IHtcbiAgICAgIFZBUjE6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBWQVIyOiBbXCJjb25zdHJ1Y3RUcmlwbGVzXCJdLFxuICAgICAgTklMOiBbXCJjb25zdHJ1Y3RUcmlwbGVzXCJdLFxuICAgICAgXCIoXCI6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBcIltcIjogW1wiY29uc3RydWN0VHJpcGxlc1wiXSxcbiAgICAgIElSSV9SRUY6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBUUlVFOiBbXCJjb25zdHJ1Y3RUcmlwbGVzXCJdLFxuICAgICAgRkFMU0U6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXCJjb25zdHJ1Y3RUcmlwbGVzXCJdLFxuICAgICAgQU5PTjogW1wiY29uc3RydWN0VHJpcGxlc1wiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJjb25zdHJ1Y3RUcmlwbGVzXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1wiY29uc3RydWN0VHJpcGxlc1wiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJjb25zdHJ1Y3RUcmlwbGVzXCJdLFxuICAgICAgSU5URUdFUjogW1wiY29uc3RydWN0VHJpcGxlc1wiXSxcbiAgICAgIERFQ0lNQUw6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBET1VCTEU6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXCJjb25zdHJ1Y3RUcmlwbGVzXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1wiY29uc3RydWN0VHJpcGxlc1wiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1wiY29uc3RydWN0VHJpcGxlc1wiXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtcImNvbnN0cnVjdFRyaXBsZXNcIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJjb25zdHJ1Y3RUcmlwbGVzXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJjb25zdHJ1Y3RUcmlwbGVzXCJdLFxuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICBcIj9ncm91cENsYXVzZVwiOiB7XG4gICAgICBHUk9VUDogW1wiZ3JvdXBDbGF1c2VcIl0sXG4gICAgICBWQUxVRVM6IFtdLFxuICAgICAgTElNSVQ6IFtdLFxuICAgICAgT0ZGU0VUOiBbXSxcbiAgICAgIE9SREVSOiBbXSxcbiAgICAgIEhBVklORzogW10sXG4gICAgICAkOiBbXSxcbiAgICAgIFwifVwiOiBbXVxuICAgIH0sXG4gICAgXCI/aGF2aW5nQ2xhdXNlXCI6IHtcbiAgICAgIEhBVklORzogW1wiaGF2aW5nQ2xhdXNlXCJdLFxuICAgICAgVkFMVUVTOiBbXSxcbiAgICAgIExJTUlUOiBbXSxcbiAgICAgIE9GRlNFVDogW10sXG4gICAgICBPUkRFUjogW10sXG4gICAgICAkOiBbXSxcbiAgICAgIFwifVwiOiBbXVxuICAgIH0sXG4gICAgXCI/aW5zZXJ0Q2xhdXNlXCI6IHtcbiAgICAgIElOU0VSVDogW1wiaW5zZXJ0Q2xhdXNlXCJdLFxuICAgICAgV0hFUkU6IFtdLFxuICAgICAgVVNJTkc6IFtdXG4gICAgfSxcbiAgICBcIj9saW1pdENsYXVzZVwiOiB7XG4gICAgICBMSU1JVDogW1wibGltaXRDbGF1c2VcIl0sXG4gICAgICBWQUxVRVM6IFtdLFxuICAgICAgJDogW10sXG4gICAgICBcIn1cIjogW11cbiAgICB9LFxuICAgIFwiP2xpbWl0T2Zmc2V0Q2xhdXNlc1wiOiB7XG4gICAgICBMSU1JVDogW1wibGltaXRPZmZzZXRDbGF1c2VzXCJdLFxuICAgICAgT0ZGU0VUOiBbXCJsaW1pdE9mZnNldENsYXVzZXNcIl0sXG4gICAgICBWQUxVRVM6IFtdLFxuICAgICAgJDogW10sXG4gICAgICBcIn1cIjogW11cbiAgICB9LFxuICAgIFwiP29mZnNldENsYXVzZVwiOiB7XG4gICAgICBPRkZTRVQ6IFtcIm9mZnNldENsYXVzZVwiXSxcbiAgICAgIFZBTFVFUzogW10sXG4gICAgICAkOiBbXSxcbiAgICAgIFwifVwiOiBbXVxuICAgIH0sXG4gICAgXCI/b3IoW0RJU1RJTkNULFJFRFVDRURdKVwiOiB7XG4gICAgICBESVNUSU5DVDogW1wib3IoW0RJU1RJTkNULFJFRFVDRURdKVwiXSxcbiAgICAgIFJFRFVDRUQ6IFtcIm9yKFtESVNUSU5DVCxSRURVQ0VEXSlcIl0sXG4gICAgICBcIipcIjogW10sXG4gICAgICBcIihcIjogW10sXG4gICAgICBWQVIxOiBbXSxcbiAgICAgIFZBUjI6IFtdXG4gICAgfSxcbiAgICBcIj9vcihbTEFOR1RBRyxbXl4saXJpUmVmXV0pXCI6IHtcbiAgICAgIExBTkdUQUc6IFtcIm9yKFtMQU5HVEFHLFteXixpcmlSZWZdXSlcIl0sXG4gICAgICBcIl5eXCI6IFtcIm9yKFtMQU5HVEFHLFteXixpcmlSZWZdXSlcIl0sXG4gICAgICBVTkRFRjogW10sXG4gICAgICBJUklfUkVGOiBbXSxcbiAgICAgIFRSVUU6IFtdLFxuICAgICAgRkFMU0U6IFtdLFxuICAgICAgUE5BTUVfTE46IFtdLFxuICAgICAgUE5BTUVfTlM6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW10sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW10sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW10sXG4gICAgICBJTlRFR0VSOiBbXSxcbiAgICAgIERFQ0lNQUw6IFtdLFxuICAgICAgRE9VQkxFOiBbXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW10sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW10sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW10sXG4gICAgICBhOiBbXSxcbiAgICAgIFZBUjE6IFtdLFxuICAgICAgVkFSMjogW10sXG4gICAgICBcIl5cIjogW10sXG4gICAgICBcIiFcIjogW10sXG4gICAgICBcIihcIjogW10sXG4gICAgICBcIi5cIjogW10sXG4gICAgICBcIjtcIjogW10sXG4gICAgICBcIixcIjogW10sXG4gICAgICBBUzogW10sXG4gICAgICBcIilcIjogW10sXG4gICAgICBcInx8XCI6IFtdLFxuICAgICAgXCImJlwiOiBbXSxcbiAgICAgIFwiPVwiOiBbXSxcbiAgICAgIFwiIT1cIjogW10sXG4gICAgICBcIjxcIjogW10sXG4gICAgICBcIj5cIjogW10sXG4gICAgICBcIjw9XCI6IFtdLFxuICAgICAgXCI+PVwiOiBbXSxcbiAgICAgIElOOiBbXSxcbiAgICAgIE5PVDogW10sXG4gICAgICBcIitcIjogW10sXG4gICAgICBcIi1cIjogW10sXG4gICAgICBcIipcIjogW10sXG4gICAgICBcIi9cIjogW10sXG4gICAgICBcIn1cIjogW10sXG4gICAgICBcIltcIjogW10sXG4gICAgICBOSUw6IFtdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW10sXG4gICAgICBBTk9OOiBbXSxcbiAgICAgIFwiXVwiOiBbXSxcbiAgICAgIEdSQVBIOiBbXSxcbiAgICAgIFwie1wiOiBbXSxcbiAgICAgIE9QVElPTkFMOiBbXSxcbiAgICAgIE1JTlVTOiBbXSxcbiAgICAgIFNFUlZJQ0U6IFtdLFxuICAgICAgRklMVEVSOiBbXSxcbiAgICAgIEJJTkQ6IFtdLFxuICAgICAgVkFMVUVTOiBbXVxuICAgIH0sXG4gICAgXCI/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCI6IHtcbiAgICAgIFwiKlwiOiBbXCJvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIl0sXG4gICAgICBcIi9cIjogW1wib3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJdLFxuICAgICAgXCIrXCI6IFtdLFxuICAgICAgXCItXCI6IFtdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW10sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW10sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXSxcbiAgICAgIEFTOiBbXSxcbiAgICAgIFwiKVwiOiBbXSxcbiAgICAgIFwiLFwiOiBbXSxcbiAgICAgIFwifHxcIjogW10sXG4gICAgICBcIiYmXCI6IFtdLFxuICAgICAgXCI9XCI6IFtdLFxuICAgICAgXCIhPVwiOiBbXSxcbiAgICAgIFwiPFwiOiBbXSxcbiAgICAgIFwiPlwiOiBbXSxcbiAgICAgIFwiPD1cIjogW10sXG4gICAgICBcIj49XCI6IFtdLFxuICAgICAgSU46IFtdLFxuICAgICAgTk9UOiBbXSxcbiAgICAgIFwiO1wiOiBbXVxuICAgIH0sXG4gICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiOiB7XG4gICAgICBcIj1cIjogW1xuICAgICAgICBcIm9yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFwiIT1cIjogW1xuICAgICAgICBcIm9yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFwiPFwiOiBbXG4gICAgICAgIFwib3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgXCI+XCI6IFtcbiAgICAgICAgXCJvcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBcIjw9XCI6IFtcbiAgICAgICAgXCJvcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBcIj49XCI6IFtcbiAgICAgICAgXCJvcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBJTjogW1xuICAgICAgICBcIm9yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIE5PVDogW1xuICAgICAgICBcIm9yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIEFTOiBbXSxcbiAgICAgIFwiKVwiOiBbXSxcbiAgICAgIFwiLFwiOiBbXSxcbiAgICAgIFwifHxcIjogW10sXG4gICAgICBcIiYmXCI6IFtdLFxuICAgICAgXCI7XCI6IFtdXG4gICAgfSxcbiAgICBcIj9vcmRlckNsYXVzZVwiOiB7XG4gICAgICBPUkRFUjogW1wib3JkZXJDbGF1c2VcIl0sXG4gICAgICBWQUxVRVM6IFtdLFxuICAgICAgTElNSVQ6IFtdLFxuICAgICAgT0ZGU0VUOiBbXSxcbiAgICAgICQ6IFtdLFxuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICBcIj9wYXRoTW9kXCI6IHtcbiAgICAgIFwiKlwiOiBbXCJwYXRoTW9kXCJdLFxuICAgICAgXCI/XCI6IFtcInBhdGhNb2RcIl0sXG4gICAgICBcIitcIjogW1wicGF0aE1vZFwiXSxcbiAgICAgIFwie1wiOiBbXCJwYXRoTW9kXCJdLFxuICAgICAgXCJ8XCI6IFtdLFxuICAgICAgXCIvXCI6IFtdLFxuICAgICAgXCIpXCI6IFtdLFxuICAgICAgXCIoXCI6IFtdLFxuICAgICAgXCJbXCI6IFtdLFxuICAgICAgVkFSMTogW10sXG4gICAgICBWQVIyOiBbXSxcbiAgICAgIE5JTDogW10sXG4gICAgICBJUklfUkVGOiBbXSxcbiAgICAgIFRSVUU6IFtdLFxuICAgICAgRkFMU0U6IFtdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW10sXG4gICAgICBBTk9OOiBbXSxcbiAgICAgIFBOQU1FX0xOOiBbXSxcbiAgICAgIFBOQU1FX05TOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW10sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtdLFxuICAgICAgSU5URUdFUjogW10sXG4gICAgICBERUNJTUFMOiBbXSxcbiAgICAgIERPVUJMRTogW10sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW10sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtdXG4gICAgfSxcbiAgICBcIj90cmlwbGVzQmxvY2tcIjoge1xuICAgICAgVkFSMTogW1widHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgVkFSMjogW1widHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgTklMOiBbXCJ0cmlwbGVzQmxvY2tcIl0sXG4gICAgICBcIihcIjogW1widHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgXCJbXCI6IFtcInRyaXBsZXNCbG9ja1wiXSxcbiAgICAgIElSSV9SRUY6IFtcInRyaXBsZXNCbG9ja1wiXSxcbiAgICAgIFRSVUU6IFtcInRyaXBsZXNCbG9ja1wiXSxcbiAgICAgIEZBTFNFOiBbXCJ0cmlwbGVzQmxvY2tcIl0sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXCJ0cmlwbGVzQmxvY2tcIl0sXG4gICAgICBBTk9OOiBbXCJ0cmlwbGVzQmxvY2tcIl0sXG4gICAgICBQTkFNRV9MTjogW1widHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInRyaXBsZXNCbG9ja1wiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1widHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJ0cmlwbGVzQmxvY2tcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1widHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcInRyaXBsZXNCbG9ja1wiXSxcbiAgICAgIElOVEVHRVI6IFtcInRyaXBsZXNCbG9ja1wiXSxcbiAgICAgIERFQ0lNQUw6IFtcInRyaXBsZXNCbG9ja1wiXSxcbiAgICAgIERPVUJMRTogW1widHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1widHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1widHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJ0cmlwbGVzQmxvY2tcIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJ0cmlwbGVzQmxvY2tcIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJ0cmlwbGVzQmxvY2tcIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcInRyaXBsZXNCbG9ja1wiXSxcbiAgICAgIFwie1wiOiBbXSxcbiAgICAgIE9QVElPTkFMOiBbXSxcbiAgICAgIE1JTlVTOiBbXSxcbiAgICAgIEdSQVBIOiBbXSxcbiAgICAgIFNFUlZJQ0U6IFtdLFxuICAgICAgRklMVEVSOiBbXSxcbiAgICAgIEJJTkQ6IFtdLFxuICAgICAgVkFMVUVTOiBbXSxcbiAgICAgIFwifVwiOiBbXVxuICAgIH0sXG4gICAgXCI/dHJpcGxlc1RlbXBsYXRlXCI6IHtcbiAgICAgIFZBUjE6IFtcInRyaXBsZXNUZW1wbGF0ZVwiXSxcbiAgICAgIFZBUjI6IFtcInRyaXBsZXNUZW1wbGF0ZVwiXSxcbiAgICAgIE5JTDogW1widHJpcGxlc1RlbXBsYXRlXCJdLFxuICAgICAgXCIoXCI6IFtcInRyaXBsZXNUZW1wbGF0ZVwiXSxcbiAgICAgIFwiW1wiOiBbXCJ0cmlwbGVzVGVtcGxhdGVcIl0sXG4gICAgICBJUklfUkVGOiBbXCJ0cmlwbGVzVGVtcGxhdGVcIl0sXG4gICAgICBUUlVFOiBbXCJ0cmlwbGVzVGVtcGxhdGVcIl0sXG4gICAgICBGQUxTRTogW1widHJpcGxlc1RlbXBsYXRlXCJdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW1widHJpcGxlc1RlbXBsYXRlXCJdLFxuICAgICAgQU5PTjogW1widHJpcGxlc1RlbXBsYXRlXCJdLFxuICAgICAgUE5BTUVfTE46IFtcInRyaXBsZXNUZW1wbGF0ZVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJ0cmlwbGVzVGVtcGxhdGVcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcInRyaXBsZXNUZW1wbGF0ZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1widHJpcGxlc1RlbXBsYXRlXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcInRyaXBsZXNUZW1wbGF0ZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJ0cmlwbGVzVGVtcGxhdGVcIl0sXG4gICAgICBJTlRFR0VSOiBbXCJ0cmlwbGVzVGVtcGxhdGVcIl0sXG4gICAgICBERUNJTUFMOiBbXCJ0cmlwbGVzVGVtcGxhdGVcIl0sXG4gICAgICBET1VCTEU6IFtcInRyaXBsZXNUZW1wbGF0ZVwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcInRyaXBsZXNUZW1wbGF0ZVwiXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcInRyaXBsZXNUZW1wbGF0ZVwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1widHJpcGxlc1RlbXBsYXRlXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1widHJpcGxlc1RlbXBsYXRlXCJdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1widHJpcGxlc1RlbXBsYXRlXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJ0cmlwbGVzVGVtcGxhdGVcIl0sXG4gICAgICBcIn1cIjogW10sXG4gICAgICBHUkFQSDogW11cbiAgICB9LFxuICAgIFwiP3doZXJlQ2xhdXNlXCI6IHtcbiAgICAgIFdIRVJFOiBbXCJ3aGVyZUNsYXVzZVwiXSxcbiAgICAgIFwie1wiOiBbXCJ3aGVyZUNsYXVzZVwiXSxcbiAgICAgIE9SREVSOiBbXSxcbiAgICAgIEhBVklORzogW10sXG4gICAgICBHUk9VUDogW10sXG4gICAgICBMSU1JVDogW10sXG4gICAgICBPRkZTRVQ6IFtdLFxuICAgICAgVkFMVUVTOiBbXSxcbiAgICAgICQ6IFtdXG4gICAgfSxcbiAgICBcIlshPSxudW1lcmljRXhwcmVzc2lvbl1cIjoge1xuICAgICAgXCIhPVwiOiBbXCIhPVwiLCBcIm51bWVyaWNFeHByZXNzaW9uXCJdXG4gICAgfSxcbiAgICBcIlsmJix2YWx1ZUxvZ2ljYWxdXCI6IHtcbiAgICAgIFwiJiZcIjogW1wiJiZcIiwgXCJ2YWx1ZUxvZ2ljYWxcIl1cbiAgICB9LFxuICAgIFwiWygsKmRhdGFCbG9ja1ZhbHVlLCldXCI6IHtcbiAgICAgIFwiKFwiOiBbXCIoXCIsIFwiKmRhdGFCbG9ja1ZhbHVlXCIsIFwiKVwiXVxuICAgIH0sXG4gICAgXCJbKCwqdmFyLCldXCI6IHtcbiAgICAgIFwiKFwiOiBbXCIoXCIsIFwiKnZhclwiLCBcIilcIl1cbiAgICB9LFxuICAgIFwiWygsZXhwcmVzc2lvbiwpXVwiOiB7XG4gICAgICBcIihcIjogW1wiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdXG4gICAgfSxcbiAgICBcIlsoLGV4cHJlc3Npb24sQVMsdmFyLCldXCI6IHtcbiAgICAgIFwiKFwiOiBbXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIkFTXCIsIFwidmFyXCIsIFwiKVwiXVxuICAgIH0sXG4gICAgXCJbKix1bmFyeUV4cHJlc3Npb25dXCI6IHtcbiAgICAgIFwiKlwiOiBbXCIqXCIsIFwidW5hcnlFeHByZXNzaW9uXCJdXG4gICAgfSxcbiAgICBcIlsqZGF0YXNldENsYXVzZSxXSEVSRSx7LD90cmlwbGVzVGVtcGxhdGUsfSxzb2x1dGlvbk1vZGlmaWVyXVwiOiB7XG4gICAgICBXSEVSRTogW1xuICAgICAgICBcIipkYXRhc2V0Q2xhdXNlXCIsXG4gICAgICAgIFwiV0hFUkVcIixcbiAgICAgICAgXCJ7XCIsXG4gICAgICAgIFwiP3RyaXBsZXNUZW1wbGF0ZVwiLFxuICAgICAgICBcIn1cIixcbiAgICAgICAgXCJzb2x1dGlvbk1vZGlmaWVyXCJcbiAgICAgIF0sXG4gICAgICBGUk9NOiBbXG4gICAgICAgIFwiKmRhdGFzZXRDbGF1c2VcIixcbiAgICAgICAgXCJXSEVSRVwiLFxuICAgICAgICBcIntcIixcbiAgICAgICAgXCI/dHJpcGxlc1RlbXBsYXRlXCIsXG4gICAgICAgIFwifVwiLFxuICAgICAgICBcInNvbHV0aW9uTW9kaWZpZXJcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dXCI6IHtcbiAgICAgIFwiK1wiOiBbXCIrXCIsIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCJdXG4gICAgfSxcbiAgICBcIlssLGV4cHJlc3Npb25dXCI6IHtcbiAgICAgIFwiLFwiOiBbXCIsXCIsIFwiZXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgXCJbLCxpbnRlZ2VyLH1dXCI6IHtcbiAgICAgIFwiLFwiOiBbXCIsXCIsIFwiaW50ZWdlclwiLCBcIn1cIl1cbiAgICB9LFxuICAgIFwiWywsb2JqZWN0UGF0aF1cIjoge1xuICAgICAgXCIsXCI6IFtcIixcIiwgXCJvYmplY3RQYXRoXCJdXG4gICAgfSxcbiAgICBcIlssLG9iamVjdF1cIjoge1xuICAgICAgXCIsXCI6IFtcIixcIiwgXCJvYmplY3RcIl1cbiAgICB9LFxuICAgIFwiWywsb3IoW30sW2ludGVnZXIsfV1dKV1cIjoge1xuICAgICAgXCIsXCI6IFtcIixcIiwgXCJvcihbfSxbaW50ZWdlcix9XV0pXCJdXG4gICAgfSxcbiAgICBcIlstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl1cIjoge1xuICAgICAgXCItXCI6IFtcIi1cIiwgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIl1cbiAgICB9LFxuICAgIFwiWy4sP2NvbnN0cnVjdFRyaXBsZXNdXCI6IHtcbiAgICAgIFwiLlwiOiBbXCIuXCIsIFwiP2NvbnN0cnVjdFRyaXBsZXNcIl1cbiAgICB9LFxuICAgIFwiWy4sP3RyaXBsZXNCbG9ja11cIjoge1xuICAgICAgXCIuXCI6IFtcIi5cIiwgXCI/dHJpcGxlc0Jsb2NrXCJdXG4gICAgfSxcbiAgICBcIlsuLD90cmlwbGVzVGVtcGxhdGVdXCI6IHtcbiAgICAgIFwiLlwiOiBbXCIuXCIsIFwiP3RyaXBsZXNUZW1wbGF0ZVwiXVxuICAgIH0sXG4gICAgXCJbLyxwYXRoRWx0T3JJbnZlcnNlXVwiOiB7XG4gICAgICBcIi9cIjogW1wiL1wiLCBcInBhdGhFbHRPckludmVyc2VcIl1cbiAgICB9LFxuICAgIFwiWy8sdW5hcnlFeHByZXNzaW9uXVwiOiB7XG4gICAgICBcIi9cIjogW1wiL1wiLCBcInVuYXJ5RXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgXCJbOyw/W29yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSksb2JqZWN0TGlzdF1dXCI6IHtcbiAgICAgIFwiO1wiOiBbXCI7XCIsIFwiP1tvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXCJdXG4gICAgfSxcbiAgICBcIls7LD9bdmVyYixvYmplY3RMaXN0XV1cIjoge1xuICAgICAgXCI7XCI6IFtcIjtcIiwgXCI/W3ZlcmIsb2JqZWN0TGlzdF1cIl1cbiAgICB9LFxuICAgIFwiWzssU0VQQVJBVE9SLD0sc3RyaW5nXVwiOiB7XG4gICAgICBcIjtcIjogW1wiO1wiLCBcIlNFUEFSQVRPUlwiLCBcIj1cIiwgXCJzdHJpbmdcIl1cbiAgICB9LFxuICAgIFwiWzssdXBkYXRlXVwiOiB7XG4gICAgICBcIjtcIjogW1wiO1wiLCBcInVwZGF0ZVwiXVxuICAgIH0sXG4gICAgXCJbPCxudW1lcmljRXhwcmVzc2lvbl1cIjoge1xuICAgICAgXCI8XCI6IFtcIjxcIiwgXCJudW1lcmljRXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgXCJbPD0sbnVtZXJpY0V4cHJlc3Npb25dXCI6IHtcbiAgICAgIFwiPD1cIjogW1wiPD1cIiwgXCJudW1lcmljRXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgXCJbPSxudW1lcmljRXhwcmVzc2lvbl1cIjoge1xuICAgICAgXCI9XCI6IFtcIj1cIiwgXCJudW1lcmljRXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgXCJbPixudW1lcmljRXhwcmVzc2lvbl1cIjoge1xuICAgICAgXCI+XCI6IFtcIj5cIiwgXCJudW1lcmljRXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgXCJbPj0sbnVtZXJpY0V4cHJlc3Npb25dXCI6IHtcbiAgICAgIFwiPj1cIjogW1wiPj1cIiwgXCJudW1lcmljRXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgXCJbQVMsdmFyXVwiOiB7XG4gICAgICBBUzogW1wiQVNcIiwgXCJ2YXJcIl1cbiAgICB9LFxuICAgIFwiW0lOLGV4cHJlc3Npb25MaXN0XVwiOiB7XG4gICAgICBJTjogW1wiSU5cIiwgXCJleHByZXNzaW9uTGlzdFwiXVxuICAgIH0sXG4gICAgXCJbSU5UTyxncmFwaFJlZl1cIjoge1xuICAgICAgSU5UTzogW1wiSU5UT1wiLCBcImdyYXBoUmVmXCJdXG4gICAgfSxcbiAgICBcIltOQU1FRCxpcmlSZWZdXCI6IHtcbiAgICAgIE5BTUVEOiBbXCJOQU1FRFwiLCBcImlyaVJlZlwiXVxuICAgIH0sXG4gICAgXCJbTk9ULElOLGV4cHJlc3Npb25MaXN0XVwiOiB7XG4gICAgICBOT1Q6IFtcIk5PVFwiLCBcIklOXCIsIFwiZXhwcmVzc2lvbkxpc3RcIl1cbiAgICB9LFxuICAgIFwiW1VOSU9OLGdyb3VwR3JhcGhQYXR0ZXJuXVwiOiB7XG4gICAgICBVTklPTjogW1wiVU5JT05cIiwgXCJncm91cEdyYXBoUGF0dGVyblwiXVxuICAgIH0sXG4gICAgXCJbXl4saXJpUmVmXVwiOiB7XG4gICAgICBcIl5eXCI6IFtcIl5eXCIsIFwiaXJpUmVmXCJdXG4gICAgfSxcbiAgICBcIltjb25zdHJ1Y3RUZW1wbGF0ZSwqZGF0YXNldENsYXVzZSx3aGVyZUNsYXVzZSxzb2x1dGlvbk1vZGlmaWVyXVwiOiB7XG4gICAgICBcIntcIjogW1xuICAgICAgICBcImNvbnN0cnVjdFRlbXBsYXRlXCIsXG4gICAgICAgIFwiKmRhdGFzZXRDbGF1c2VcIixcbiAgICAgICAgXCJ3aGVyZUNsYXVzZVwiLFxuICAgICAgICBcInNvbHV0aW9uTW9kaWZpZXJcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJbZGVsZXRlQ2xhdXNlLD9pbnNlcnRDbGF1c2VdXCI6IHtcbiAgICAgIERFTEVURTogW1wiZGVsZXRlQ2xhdXNlXCIsIFwiP2luc2VydENsYXVzZVwiXVxuICAgIH0sXG4gICAgXCJbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiOiB7XG4gICAgICBcIntcIjogW1wiZ3JhcGhQYXR0ZXJuTm90VHJpcGxlc1wiLCBcIj8uXCIsIFwiP3RyaXBsZXNCbG9ja1wiXSxcbiAgICAgIE9QVElPTkFMOiBbXCJncmFwaFBhdHRlcm5Ob3RUcmlwbGVzXCIsIFwiPy5cIiwgXCI/dHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgTUlOVVM6IFtcImdyYXBoUGF0dGVybk5vdFRyaXBsZXNcIiwgXCI/LlwiLCBcIj90cmlwbGVzQmxvY2tcIl0sXG4gICAgICBHUkFQSDogW1wiZ3JhcGhQYXR0ZXJuTm90VHJpcGxlc1wiLCBcIj8uXCIsIFwiP3RyaXBsZXNCbG9ja1wiXSxcbiAgICAgIFNFUlZJQ0U6IFtcImdyYXBoUGF0dGVybk5vdFRyaXBsZXNcIiwgXCI/LlwiLCBcIj90cmlwbGVzQmxvY2tcIl0sXG4gICAgICBGSUxURVI6IFtcImdyYXBoUGF0dGVybk5vdFRyaXBsZXNcIiwgXCI/LlwiLCBcIj90cmlwbGVzQmxvY2tcIl0sXG4gICAgICBCSU5EOiBbXCJncmFwaFBhdHRlcm5Ob3RUcmlwbGVzXCIsIFwiPy5cIiwgXCI/dHJpcGxlc0Jsb2NrXCJdLFxuICAgICAgVkFMVUVTOiBbXCJncmFwaFBhdHRlcm5Ob3RUcmlwbGVzXCIsIFwiPy5cIiwgXCI/dHJpcGxlc0Jsb2NrXCJdXG4gICAgfSxcbiAgICBcIltpbnRlZ2VyLG9yKFtbLCxvcihbfSxbaW50ZWdlcix9XV0pXSx9XSldXCI6IHtcbiAgICAgIElOVEVHRVI6IFtcImludGVnZXJcIiwgXCJvcihbWywsb3IoW30sW2ludGVnZXIsfV1dKV0sfV0pXCJdXG4gICAgfSxcbiAgICBcIltpbnRlZ2VyLH1dXCI6IHtcbiAgICAgIElOVEVHRVI6IFtcImludGVnZXJcIiwgXCJ9XCJdXG4gICAgfSxcbiAgICBcIltvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1cIjoge1xuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1xuICAgICAgICBcIm9yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKVwiLFxuICAgICAgICBcIj9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcbiAgICAgICAgXCJvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSlcIixcbiAgICAgICAgXCI/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcbiAgICAgICAgXCJvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSlcIixcbiAgICAgICAgXCI/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXG4gICAgICAgIFwib3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pXCIsXG4gICAgICAgIFwiP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1xuICAgICAgICBcIm9yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKVwiLFxuICAgICAgICBcIj9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1xuICAgICAgICBcIm9yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKVwiLFxuICAgICAgICBcIj9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXVxuICAgIH0sXG4gICAgXCJbb3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKSxvYmplY3RMaXN0XVwiOiB7XG4gICAgICBWQVIxOiBbXCJvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pXCIsIFwib2JqZWN0TGlzdFwiXSxcbiAgICAgIFZBUjI6IFtcIm9yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSlcIiwgXCJvYmplY3RMaXN0XCJdLFxuICAgICAgXCJeXCI6IFtcIm9yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSlcIiwgXCJvYmplY3RMaXN0XCJdLFxuICAgICAgYTogW1wib3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKVwiLCBcIm9iamVjdExpc3RcIl0sXG4gICAgICBcIiFcIjogW1wib3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKVwiLCBcIm9iamVjdExpc3RcIl0sXG4gICAgICBcIihcIjogW1wib3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKVwiLCBcIm9iamVjdExpc3RcIl0sXG4gICAgICBJUklfUkVGOiBbXCJvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pXCIsIFwib2JqZWN0TGlzdFwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pXCIsIFwib2JqZWN0TGlzdFwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pXCIsIFwib2JqZWN0TGlzdFwiXVxuICAgIH0sXG4gICAgXCJbcGF0aE9uZUluUHJvcGVydHlTZXQsKlt8LHBhdGhPbmVJblByb3BlcnR5U2V0XV1cIjoge1xuICAgICAgYTogW1wicGF0aE9uZUluUHJvcGVydHlTZXRcIiwgXCIqW3wscGF0aE9uZUluUHJvcGVydHlTZXRdXCJdLFxuICAgICAgXCJeXCI6IFtcInBhdGhPbmVJblByb3BlcnR5U2V0XCIsIFwiKlt8LHBhdGhPbmVJblByb3BlcnR5U2V0XVwiXSxcbiAgICAgIElSSV9SRUY6IFtcInBhdGhPbmVJblByb3BlcnR5U2V0XCIsIFwiKlt8LHBhdGhPbmVJblByb3BlcnR5U2V0XVwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJwYXRoT25lSW5Qcm9wZXJ0eVNldFwiLCBcIipbfCxwYXRoT25lSW5Qcm9wZXJ0eVNldF1cIl0sXG4gICAgICBQTkFNRV9OUzogW1wicGF0aE9uZUluUHJvcGVydHlTZXRcIiwgXCIqW3wscGF0aE9uZUluUHJvcGVydHlTZXRdXCJdXG4gICAgfSxcbiAgICBcIltxdWFkc05vdFRyaXBsZXMsPy4sP3RyaXBsZXNUZW1wbGF0ZV1cIjoge1xuICAgICAgR1JBUEg6IFtcInF1YWRzTm90VHJpcGxlc1wiLCBcIj8uXCIsIFwiP3RyaXBsZXNUZW1wbGF0ZVwiXVxuICAgIH0sXG4gICAgXCJbdXBkYXRlMSw/WzssdXBkYXRlXV1cIjoge1xuICAgICAgSU5TRVJUOiBbXCJ1cGRhdGUxXCIsIFwiP1s7LHVwZGF0ZV1cIl0sXG4gICAgICBERUxFVEU6IFtcInVwZGF0ZTFcIiwgXCI/WzssdXBkYXRlXVwiXSxcbiAgICAgIExPQUQ6IFtcInVwZGF0ZTFcIiwgXCI/WzssdXBkYXRlXVwiXSxcbiAgICAgIENMRUFSOiBbXCJ1cGRhdGUxXCIsIFwiP1s7LHVwZGF0ZV1cIl0sXG4gICAgICBEUk9QOiBbXCJ1cGRhdGUxXCIsIFwiP1s7LHVwZGF0ZV1cIl0sXG4gICAgICBBREQ6IFtcInVwZGF0ZTFcIiwgXCI/WzssdXBkYXRlXVwiXSxcbiAgICAgIE1PVkU6IFtcInVwZGF0ZTFcIiwgXCI/WzssdXBkYXRlXVwiXSxcbiAgICAgIENPUFk6IFtcInVwZGF0ZTFcIiwgXCI/WzssdXBkYXRlXVwiXSxcbiAgICAgIENSRUFURTogW1widXBkYXRlMVwiLCBcIj9bOyx1cGRhdGVdXCJdLFxuICAgICAgV0lUSDogW1widXBkYXRlMVwiLCBcIj9bOyx1cGRhdGVdXCJdXG4gICAgfSxcbiAgICBcIlt2ZXJiLG9iamVjdExpc3RdXCI6IHtcbiAgICAgIGE6IFtcInZlcmJcIiwgXCJvYmplY3RMaXN0XCJdLFxuICAgICAgVkFSMTogW1widmVyYlwiLCBcIm9iamVjdExpc3RcIl0sXG4gICAgICBWQVIyOiBbXCJ2ZXJiXCIsIFwib2JqZWN0TGlzdFwiXSxcbiAgICAgIElSSV9SRUY6IFtcInZlcmJcIiwgXCJvYmplY3RMaXN0XCJdLFxuICAgICAgUE5BTUVfTE46IFtcInZlcmJcIiwgXCJvYmplY3RMaXN0XCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInZlcmJcIiwgXCJvYmplY3RMaXN0XCJdXG4gICAgfSxcbiAgICBcIlt8LHBhdGhPbmVJblByb3BlcnR5U2V0XVwiOiB7XG4gICAgICBcInxcIjogW1wifFwiLCBcInBhdGhPbmVJblByb3BlcnR5U2V0XCJdXG4gICAgfSxcbiAgICBcIlt8LHBhdGhTZXF1ZW5jZV1cIjoge1xuICAgICAgXCJ8XCI6IFtcInxcIiwgXCJwYXRoU2VxdWVuY2VcIl1cbiAgICB9LFxuICAgIFwiW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIjoge1xuICAgICAgXCJ8fFwiOiBbXCJ8fFwiLCBcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgYWRkOiB7XG4gICAgICBBREQ6IFtcIkFERFwiLCBcIj9TSUxFTlRfNFwiLCBcImdyYXBoT3JEZWZhdWx0XCIsIFwiVE9cIiwgXCJncmFwaE9yRGVmYXVsdFwiXVxuICAgIH0sXG4gICAgYWRkaXRpdmVFeHByZXNzaW9uOiB7XG4gICAgICBcIiFcIjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgXCIrXCI6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFwiLVwiOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBWQVIxOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBWQVIyOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBcIihcIjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBMQU5HOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBMQU5HTUFUQ0hFUzogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgREFUQVRZUEU6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIEJPVU5EOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBJUkk6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFVSSTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgQk5PREU6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFJBTkQ6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIEFCUzogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgQ0VJTDogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgRkxPT1I6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFJPVU5EOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBDT05DQVQ6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNUUkxFTjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgVUNBU0U6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIExDQVNFOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBFTkNPREVfRk9SX1VSSTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgQ09OVEFJTlM6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNUUlNUQVJUUzogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSRU5EUzogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSQkVGT1JFOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJBRlRFUjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgWUVBUjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgTU9OVEg6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIERBWTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgSE9VUlM6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIE1JTlVURVM6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNFQ09ORFM6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFRJTUVaT05FOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBUWjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgTk9XOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBVVUlEOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJVVUlEOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBNRDU6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNIQTE6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNIQTI1NjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgU0hBMzg0OiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBTSEE1MTI6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIENPQUxFU0NFOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBJRjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSTEFORzogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSRFQ6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNBTUVURVJNOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBJU0lSSTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgSVNVUkk6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIElTQkxBTks6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIElTTElURVJBTDogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgSVNOVU1FUklDOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBUUlVFOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBGQUxTRTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgQ09VTlQ6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNVTTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgTUlOOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBNQVg6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIEFWRzogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgU0FNUExFOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBHUk9VUF9DT05DQVQ6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNVQlNUUjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgUkVQTEFDRTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgUkVHRVg6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIEVYSVNUUzogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgTk9UOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBJUklfUkVGOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBJTlRFR0VSOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBERUNJTUFMOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBET1VCTEU6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXG4gICAgICAgIFwibXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCJcbiAgICAgIF0sXG4gICAgICBQTkFNRV9MTjogW1xuICAgICAgICBcIm11bHRpcGxpY2F0aXZlRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyssbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbLSxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFtvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1dKVwiXG4gICAgICBdLFxuICAgICAgUE5BTUVfTlM6IFtcbiAgICAgICAgXCJtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1srLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sWy0sbXVsdGlwbGljYXRpdmVFeHByZXNzaW9uXSxbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXSlcIlxuICAgICAgXVxuICAgIH0sXG4gICAgYWdncmVnYXRlOiB7XG4gICAgICBDT1VOVDogW1wiQ09VTlRcIiwgXCIoXCIsIFwiP0RJU1RJTkNUXCIsIFwib3IoWyosZXhwcmVzc2lvbl0pXCIsIFwiKVwiXSxcbiAgICAgIFNVTTogW1wiU1VNXCIsIFwiKFwiLCBcIj9ESVNUSU5DVFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgTUlOOiBbXCJNSU5cIiwgXCIoXCIsIFwiP0RJU1RJTkNUXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBNQVg6IFtcIk1BWFwiLCBcIihcIiwgXCI/RElTVElOQ1RcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIEFWRzogW1wiQVZHXCIsIFwiKFwiLCBcIj9ESVNUSU5DVFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgU0FNUExFOiBbXCJTQU1QTEVcIiwgXCIoXCIsIFwiP0RJU1RJTkNUXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBHUk9VUF9DT05DQVQ6IFtcbiAgICAgICAgXCJHUk9VUF9DT05DQVRcIixcbiAgICAgICAgXCIoXCIsXG4gICAgICAgIFwiP0RJU1RJTkNUXCIsXG4gICAgICAgIFwiZXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9bOyxTRVBBUkFUT1IsPSxzdHJpbmddXCIsXG4gICAgICAgIFwiKVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBhbGxvd0Jub2Rlczoge1xuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICBhbGxvd1ZhcnM6IHtcbiAgICAgIFwifVwiOiBbXVxuICAgIH0sXG4gICAgYXJnTGlzdDoge1xuICAgICAgTklMOiBbXCJOSUxcIl0sXG4gICAgICBcIihcIjogW1wiKFwiLCBcIj9ESVNUSU5DVFwiLCBcImV4cHJlc3Npb25cIiwgXCIqWywsZXhwcmVzc2lvbl1cIiwgXCIpXCJdXG4gICAgfSxcbiAgICBhc2tRdWVyeToge1xuICAgICAgQVNLOiBbXCJBU0tcIiwgXCIqZGF0YXNldENsYXVzZVwiLCBcIndoZXJlQ2xhdXNlXCIsIFwic29sdXRpb25Nb2RpZmllclwiXVxuICAgIH0sXG4gICAgYmFzZURlY2w6IHtcbiAgICAgIEJBU0U6IFtcIkJBU0VcIiwgXCJJUklfUkVGXCJdXG4gICAgfSxcbiAgICBiaW5kOiB7XG4gICAgICBCSU5EOiBbXCJCSU5EXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCJBU1wiLCBcInZhclwiLCBcIilcIl1cbiAgICB9LFxuICAgIGJsYW5rTm9kZToge1xuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW1wiQkxBTktfTk9ERV9MQUJFTFwiXSxcbiAgICAgIEFOT046IFtcIkFOT05cIl1cbiAgICB9LFxuICAgIGJsYW5rTm9kZVByb3BlcnR5TGlzdDoge1xuICAgICAgXCJbXCI6IFtcIltcIiwgXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiLCBcIl1cIl1cbiAgICB9LFxuICAgIGJsYW5rTm9kZVByb3BlcnR5TGlzdFBhdGg6IHtcbiAgICAgIFwiW1wiOiBbXCJbXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCIsIFwiXVwiXVxuICAgIH0sXG4gICAgYm9vbGVhbkxpdGVyYWw6IHtcbiAgICAgIFRSVUU6IFtcIlRSVUVcIl0sXG4gICAgICBGQUxTRTogW1wiRkFMU0VcIl1cbiAgICB9LFxuICAgIGJyYWNrZXR0ZWRFeHByZXNzaW9uOiB7XG4gICAgICBcIihcIjogW1wiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdXG4gICAgfSxcbiAgICBidWlsdEluQ2FsbDoge1xuICAgICAgU1RSOiBbXCJTVFJcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBMQU5HOiBbXCJMQU5HXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgTEFOR01BVENIRVM6IFtcIkxBTkdNQVRDSEVTXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIsXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBEQVRBVFlQRTogW1wiREFUQVRZUEVcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBCT1VORDogW1wiQk9VTkRcIiwgXCIoXCIsIFwidmFyXCIsIFwiKVwiXSxcbiAgICAgIElSSTogW1wiSVJJXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgVVJJOiBbXCJVUklcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBCTk9ERTogW1wiQk5PREVcIiwgXCJvcihbWygsZXhwcmVzc2lvbiwpXSxOSUxdKVwiXSxcbiAgICAgIFJBTkQ6IFtcIlJBTkRcIiwgXCJOSUxcIl0sXG4gICAgICBBQlM6IFtcIkFCU1wiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIENFSUw6IFtcIkNFSUxcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBGTE9PUjogW1wiRkxPT1JcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBST1VORDogW1wiUk9VTkRcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBDT05DQVQ6IFtcIkNPTkNBVFwiLCBcImV4cHJlc3Npb25MaXN0XCJdLFxuICAgICAgU1VCU1RSOiBbXCJzdWJzdHJpbmdFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSTEVOOiBbXCJTVFJMRU5cIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBSRVBMQUNFOiBbXCJzdHJSZXBsYWNlRXhwcmVzc2lvblwiXSxcbiAgICAgIFVDQVNFOiBbXCJVQ0FTRVwiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIExDQVNFOiBbXCJMQ0FTRVwiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIEVOQ09ERV9GT1JfVVJJOiBbXCJFTkNPREVfRk9SX1VSSVwiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIENPTlRBSU5TOiBbXCJDT05UQUlOU1wiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiLFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgU1RSU1RBUlRTOiBbXCJTVFJTVEFSVFNcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIixcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIFNUUkVORFM6IFtcIlNUUkVORFNcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIixcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIFNUUkJFRk9SRTogW1wiU1RSQkVGT1JFXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIsXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBTVFJBRlRFUjogW1wiU1RSQUZURVJcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIixcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIFlFQVI6IFtcIllFQVJcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBNT05USDogW1wiTU9OVEhcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBEQVk6IFtcIkRBWVwiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIEhPVVJTOiBbXCJIT1VSU1wiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIE1JTlVURVM6IFtcIk1JTlVURVNcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBTRUNPTkRTOiBbXCJTRUNPTkRTXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgVElNRVpPTkU6IFtcIlRJTUVaT05FXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgVFo6IFtcIlRaXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgTk9XOiBbXCJOT1dcIiwgXCJOSUxcIl0sXG4gICAgICBVVUlEOiBbXCJVVUlEXCIsIFwiTklMXCJdLFxuICAgICAgU1RSVVVJRDogW1wiU1RSVVVJRFwiLCBcIk5JTFwiXSxcbiAgICAgIE1ENTogW1wiTUQ1XCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgU0hBMTogW1wiU0hBMVwiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIFNIQTI1NjogW1wiU0hBMjU2XCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgU0hBMzg0OiBbXCJTSEEzODRcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBTSEE1MTI6IFtcIlNIQTUxMlwiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIENPQUxFU0NFOiBbXCJDT0FMRVNDRVwiLCBcImV4cHJlc3Npb25MaXN0XCJdLFxuICAgICAgSUY6IFtcIklGXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIsXCIsIFwiZXhwcmVzc2lvblwiLCBcIixcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIFNUUkxBTkc6IFtcIlNUUkxBTkdcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIixcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIFNUUkRUOiBbXCJTVFJEVFwiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiLFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgU0FNRVRFUk06IFtcIlNBTUVURVJNXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIsXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBJU0lSSTogW1wiSVNJUklcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBJU1VSSTogW1wiSVNVUklcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBJU0JMQU5LOiBbXCJJU0JMQU5LXCIsIFwiKFwiLCBcImV4cHJlc3Npb25cIiwgXCIpXCJdLFxuICAgICAgSVNMSVRFUkFMOiBbXCJJU0xJVEVSQUxcIiwgXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIilcIl0sXG4gICAgICBJU05VTUVSSUM6IFtcIklTTlVNRVJJQ1wiLCBcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiKVwiXSxcbiAgICAgIFJFR0VYOiBbXCJyZWdleEV4cHJlc3Npb25cIl0sXG4gICAgICBFWElTVFM6IFtcImV4aXN0c0Z1bmNcIl0sXG4gICAgICBOT1Q6IFtcIm5vdEV4aXN0c0Z1bmNcIl1cbiAgICB9LFxuICAgIGNsZWFyOiB7XG4gICAgICBDTEVBUjogW1wiQ0xFQVJcIiwgXCI/U0lMRU5UXzJcIiwgXCJncmFwaFJlZkFsbFwiXVxuICAgIH0sXG4gICAgY29sbGVjdGlvbjoge1xuICAgICAgXCIoXCI6IFtcIihcIiwgXCIrZ3JhcGhOb2RlXCIsIFwiKVwiXVxuICAgIH0sXG4gICAgY29sbGVjdGlvblBhdGg6IHtcbiAgICAgIFwiKFwiOiBbXCIoXCIsIFwiK2dyYXBoTm9kZVBhdGhcIiwgXCIpXCJdXG4gICAgfSxcbiAgICBjb25kaXRpb25hbEFuZEV4cHJlc3Npb246IHtcbiAgICAgIFwiIVwiOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBcIitcIjogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgXCItXCI6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFZBUjE6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFZBUjI6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFwiKFwiOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBTVFI6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIExBTkc6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIExBTkdNQVRDSEVTOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBEQVRBVFlQRTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgQk9VTkQ6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIElSSTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgVVJJOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBCTk9ERTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgUkFORDogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgQUJTOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBDRUlMOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBGTE9PUjogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgUk9VTkQ6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIENPTkNBVDogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU1RSTEVOOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBVQ0FTRTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgTENBU0U6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIEVOQ09ERV9GT1JfVVJJOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBDT05UQUlOUzogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU1RSU1RBUlRTOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBTVFJFTkRTOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBTVFJCRUZPUkU6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFNUUkFGVEVSOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBZRUFSOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBNT05USDogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgREFZOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBIT1VSUzogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgTUlOVVRFUzogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU0VDT05EUzogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgVElNRVpPTkU6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFRaOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBOT1c6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFVVSUQ6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFNUUlVVSUQ6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIE1ENTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU0hBMTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU0hBMjU2OiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBTSEEzODQ6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFNIQTUxMjogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgQ09BTEVTQ0U6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIElGOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBTVFJMQU5HOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBTVFJEVDogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU0FNRVRFUk06IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIElTSVJJOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBJU1VSSTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgSVNCTEFOSzogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgSVNMSVRFUkFMOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBJU05VTUVSSUM6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFRSVUU6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIEZBTFNFOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBDT1VOVDogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU1VNOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBNSU46IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIE1BWDogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgQVZHOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBTQU1QTEU6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIEdST1VQX0NPTkNBVDogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU1VCU1RSOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBSRVBMQUNFOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBSRUdFWDogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgRVhJU1RTOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBOT1Q6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIElSSV9SRUY6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIElOVEVHRVI6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIERFQ0lNQUw6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIERPVUJMRTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcInZhbHVlTG9naWNhbFwiLCBcIipbJiYsdmFsdWVMb2dpY2FsXVwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJ2YWx1ZUxvZ2ljYWxcIiwgXCIqWyYmLHZhbHVlTG9naWNhbF1cIl0sXG4gICAgICBQTkFNRV9OUzogW1widmFsdWVMb2dpY2FsXCIsIFwiKlsmJix2YWx1ZUxvZ2ljYWxdXCJdXG4gICAgfSxcbiAgICBjb25kaXRpb25hbE9yRXhwcmVzc2lvbjoge1xuICAgICAgXCIhXCI6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFwiK1wiOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBcIi1cIjogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgVkFSMTogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgVkFSMjogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgXCIoXCI6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFNUUjogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgTEFORzogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgTEFOR01BVENIRVM6IFtcbiAgICAgICAgXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIlxuICAgICAgXSxcbiAgICAgIERBVEFUWVBFOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBCT1VORDogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgSVJJOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBVUkk6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIEJOT0RFOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBSQU5EOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBBQlM6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIENFSUw6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIEZMT09SOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBST1VORDogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgQ09OQ0FUOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBTVFJMRU46IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFVDQVNFOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBMQ0FTRTogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgRU5DT0RFX0ZPUl9VUkk6IFtcbiAgICAgICAgXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIlxuICAgICAgXSxcbiAgICAgIENPTlRBSU5TOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBTVFJTVEFSVFM6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFNUUkVORFM6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFNUUkJFRk9SRTogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgU1RSQUZURVI6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFlFQVI6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIE1PTlRIOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBEQVk6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIEhPVVJTOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBNSU5VVEVTOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBTRUNPTkRTOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBUSU1FWk9ORTogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgVFo6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIE5PVzogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgVVVJRDogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgU1RSVVVJRDogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgTUQ1OiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBTSEExOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBTSEEyNTY6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFNIQTM4NDogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgU0hBNTEyOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBDT0FMRVNDRTogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgSUY6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFNUUkxBTkc6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFNUUkRUOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBTQU1FVEVSTTogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgSVNJUkk6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIElTVVJJOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBJU0JMQU5LOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBJU0xJVEVSQUw6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIElTTlVNRVJJQzogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgVFJVRTogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgRkFMU0U6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIENPVU5UOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBTVU06IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIE1JTjogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgTUFYOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBBVkc6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFNBTVBMRTogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgR1JPVVBfQ09OQ0FUOiBbXG4gICAgICAgIFwiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJcbiAgICAgIF0sXG4gICAgICBTVUJTVFI6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFJFUExBQ0U6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFJFR0VYOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBFWElTVFM6IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIE5PVDogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgSVJJX1JFRjogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXG4gICAgICAgIFwiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJcbiAgICAgIF0sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtcbiAgICAgICAgXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIlxuICAgICAgXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXG4gICAgICAgIFwiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJcbiAgICAgIF0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1xuICAgICAgICBcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXG4gICAgICBdLFxuICAgICAgSU5URUdFUjogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgREVDSU1BTDogW1wiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJdLFxuICAgICAgRE9VQkxFOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl0sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXG4gICAgICAgIFwiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJcbiAgICAgIF0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXG4gICAgICAgIFwiY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKlt8fCxjb25kaXRpb25hbEFuZEV4cHJlc3Npb25dXCJcbiAgICAgIF0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcbiAgICAgICAgXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIlxuICAgICAgXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtcbiAgICAgICAgXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIlxuICAgICAgXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcbiAgICAgICAgXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIlxuICAgICAgXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1xuICAgICAgICBcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLFxuICAgICAgICBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXG4gICAgICBdLFxuICAgICAgUE5BTUVfTE46IFtcImNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvblwiLCBcIipbfHwsY29uZGl0aW9uYWxBbmRFeHByZXNzaW9uXVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJjb25kaXRpb25hbEFuZEV4cHJlc3Npb25cIiwgXCIqW3x8LGNvbmRpdGlvbmFsQW5kRXhwcmVzc2lvbl1cIl1cbiAgICB9LFxuICAgIGNvbnN0cmFpbnQ6IHtcbiAgICAgIFwiKFwiOiBbXCJicmFja2V0dGVkRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBMQU5HOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIExBTkdNQVRDSEVTOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIERBVEFUWVBFOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIEJPVU5EOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElSSTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBVUkk6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgQk5PREU6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgUkFORDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBBQlM6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgQ0VJTDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBGTE9PUjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBST1VORDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBDT05DQVQ6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU1RSTEVOOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFVDQVNFOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIExDQVNFOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIEVOQ09ERV9GT1JfVVJJOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIENPTlRBSU5TOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNUUlNUQVJUUzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVFJFTkRTOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNUUkJFRk9SRTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVFJBRlRFUjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBZRUFSOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIE1PTlRIOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIERBWTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBIT1VSUzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBNSU5VVEVTOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNFQ09ORFM6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgVElNRVpPTkU6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgVFo6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgTk9XOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFVVSUQ6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU1RSVVVJRDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBNRDU6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU0hBMTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTSEEyNTY6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU0hBMzg0OiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNIQTUxMjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBDT0FMRVNDRTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBJRjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVFJMQU5HOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNUUkRUOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNBTUVURVJNOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElTSVJJOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElTVVJJOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElTQkxBTks6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgSVNMSVRFUkFMOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElTTlVNRVJJQzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVUJTVFI6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgUkVQTEFDRTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBSRUdFWDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBFWElTVFM6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgTk9UOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElSSV9SRUY6IFtcImZ1bmN0aW9uQ2FsbFwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJmdW5jdGlvbkNhbGxcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiZnVuY3Rpb25DYWxsXCJdXG4gICAgfSxcbiAgICBjb25zdHJ1Y3RRdWVyeToge1xuICAgICAgQ09OU1RSVUNUOiBbXG4gICAgICAgIFwiQ09OU1RSVUNUXCIsXG4gICAgICAgIFwib3IoW1tjb25zdHJ1Y3RUZW1wbGF0ZSwqZGF0YXNldENsYXVzZSx3aGVyZUNsYXVzZSxzb2x1dGlvbk1vZGlmaWVyXSxbKmRhdGFzZXRDbGF1c2UsV0hFUkUseyw/dHJpcGxlc1RlbXBsYXRlLH0sc29sdXRpb25Nb2RpZmllcl1dKVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBjb25zdHJ1Y3RUZW1wbGF0ZToge1xuICAgICAgXCJ7XCI6IFtcIntcIiwgXCI/Y29uc3RydWN0VHJpcGxlc1wiLCBcIn1cIl1cbiAgICB9LFxuICAgIGNvbnN0cnVjdFRyaXBsZXM6IHtcbiAgICAgIFZBUjE6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBWQVIyOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdLFxuICAgICAgTklMOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdLFxuICAgICAgXCIoXCI6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBcIltcIjogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD9jb25zdHJ1Y3RUcmlwbGVzXVwiXSxcbiAgICAgIElSSV9SRUY6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBUUlVFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdLFxuICAgICAgRkFMU0U6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdLFxuICAgICAgQU5PTjogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD9jb25zdHJ1Y3RUcmlwbGVzXVwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD9jb25zdHJ1Y3RUcmlwbGVzXVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdLFxuICAgICAgSU5URUdFUjogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD9jb25zdHJ1Y3RUcmlwbGVzXVwiXSxcbiAgICAgIERFQ0lNQUw6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBET1VCTEU6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD9jb25zdHJ1Y3RUcmlwbGVzXVwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD9jb25zdHJ1Y3RUcmlwbGVzXVwiXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/Y29uc3RydWN0VHJpcGxlc11cIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP2NvbnN0cnVjdFRyaXBsZXNdXCJdXG4gICAgfSxcbiAgICBjb3B5OiB7XG4gICAgICBDT1BZOiBbXCJDT1BZXCIsIFwiP1NJTEVOVF80XCIsIFwiZ3JhcGhPckRlZmF1bHRcIiwgXCJUT1wiLCBcImdyYXBoT3JEZWZhdWx0XCJdXG4gICAgfSxcbiAgICBjcmVhdGU6IHtcbiAgICAgIENSRUFURTogW1wiQ1JFQVRFXCIsIFwiP1NJTEVOVF8zXCIsIFwiZ3JhcGhSZWZcIl1cbiAgICB9LFxuICAgIGRhdGFCbG9jazoge1xuICAgICAgTklMOiBbXCJvcihbaW5saW5lRGF0YU9uZVZhcixpbmxpbmVEYXRhRnVsbF0pXCJdLFxuICAgICAgXCIoXCI6IFtcIm9yKFtpbmxpbmVEYXRhT25lVmFyLGlubGluZURhdGFGdWxsXSlcIl0sXG4gICAgICBWQVIxOiBbXCJvcihbaW5saW5lRGF0YU9uZVZhcixpbmxpbmVEYXRhRnVsbF0pXCJdLFxuICAgICAgVkFSMjogW1wib3IoW2lubGluZURhdGFPbmVWYXIsaW5saW5lRGF0YUZ1bGxdKVwiXVxuICAgIH0sXG4gICAgZGF0YUJsb2NrVmFsdWU6IHtcbiAgICAgIElSSV9SRUY6IFtcImlyaVJlZlwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJpcmlSZWZcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiaXJpUmVmXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXCJyZGZMaXRlcmFsXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJyZGZMaXRlcmFsXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcInJkZkxpdGVyYWxcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1wicmRmTGl0ZXJhbFwiXSxcbiAgICAgIElOVEVHRVI6IFtcIm51bWVyaWNMaXRlcmFsXCJdLFxuICAgICAgREVDSU1BTDogW1wibnVtZXJpY0xpdGVyYWxcIl0sXG4gICAgICBET1VCTEU6IFtcIm51bWVyaWNMaXRlcmFsXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wibnVtZXJpY0xpdGVyYWxcIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJudW1lcmljTGl0ZXJhbFwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1wibnVtZXJpY0xpdGVyYWxcIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJudW1lcmljTGl0ZXJhbFwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcIm51bWVyaWNMaXRlcmFsXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJudW1lcmljTGl0ZXJhbFwiXSxcbiAgICAgIFRSVUU6IFtcImJvb2xlYW5MaXRlcmFsXCJdLFxuICAgICAgRkFMU0U6IFtcImJvb2xlYW5MaXRlcmFsXCJdLFxuICAgICAgVU5ERUY6IFtcIlVOREVGXCJdXG4gICAgfSxcbiAgICBkYXRhc2V0Q2xhdXNlOiB7XG4gICAgICBGUk9NOiBbXCJGUk9NXCIsIFwib3IoW2RlZmF1bHRHcmFwaENsYXVzZSxuYW1lZEdyYXBoQ2xhdXNlXSlcIl1cbiAgICB9LFxuICAgIGRlZmF1bHRHcmFwaENsYXVzZToge1xuICAgICAgSVJJX1JFRjogW1wic291cmNlU2VsZWN0b3JcIl0sXG4gICAgICBQTkFNRV9MTjogW1wic291cmNlU2VsZWN0b3JcIl0sXG4gICAgICBQTkFNRV9OUzogW1wic291cmNlU2VsZWN0b3JcIl1cbiAgICB9LFxuICAgIGRlbGV0ZTE6IHtcbiAgICAgIERBVEE6IFtcIkRBVEFcIiwgXCJxdWFkRGF0YU5vQm5vZGVzXCJdLFxuICAgICAgV0hFUkU6IFtcIldIRVJFXCIsIFwicXVhZFBhdHRlcm5Ob0Jub2Rlc1wiXSxcbiAgICAgIFwie1wiOiBbXG4gICAgICAgIFwicXVhZFBhdHRlcm5Ob0Jub2Rlc1wiLFxuICAgICAgICBcIj9pbnNlcnRDbGF1c2VcIixcbiAgICAgICAgXCIqdXNpbmdDbGF1c2VcIixcbiAgICAgICAgXCJXSEVSRVwiLFxuICAgICAgICBcImdyb3VwR3JhcGhQYXR0ZXJuXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIGRlbGV0ZUNsYXVzZToge1xuICAgICAgREVMRVRFOiBbXCJERUxFVEVcIiwgXCJxdWFkUGF0dGVyblwiXVxuICAgIH0sXG4gICAgZGVzY3JpYmVEYXRhc2V0Q2xhdXNlOiB7XG4gICAgICBGUk9NOiBbXCJGUk9NXCIsIFwib3IoW2RlZmF1bHRHcmFwaENsYXVzZSxuYW1lZEdyYXBoQ2xhdXNlXSlcIl1cbiAgICB9LFxuICAgIGRlc2NyaWJlUXVlcnk6IHtcbiAgICAgIERFU0NSSUJFOiBbXG4gICAgICAgIFwiREVTQ1JJQkVcIixcbiAgICAgICAgXCJvcihbK3Zhck9ySVJJcmVmLCpdKVwiLFxuICAgICAgICBcIipkZXNjcmliZURhdGFzZXRDbGF1c2VcIixcbiAgICAgICAgXCI/d2hlcmVDbGF1c2VcIixcbiAgICAgICAgXCJzb2x1dGlvbk1vZGlmaWVyXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIGRpc2FsbG93Qm5vZGVzOiB7XG4gICAgICBcIn1cIjogW10sXG4gICAgICBHUkFQSDogW10sXG4gICAgICBWQVIxOiBbXSxcbiAgICAgIFZBUjI6IFtdLFxuICAgICAgTklMOiBbXSxcbiAgICAgIFwiKFwiOiBbXSxcbiAgICAgIFwiW1wiOiBbXSxcbiAgICAgIElSSV9SRUY6IFtdLFxuICAgICAgVFJVRTogW10sXG4gICAgICBGQUxTRTogW10sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXSxcbiAgICAgIEFOT046IFtdLFxuICAgICAgUE5BTUVfTE46IFtdLFxuICAgICAgUE5BTUVfTlM6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW10sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW10sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW10sXG4gICAgICBJTlRFR0VSOiBbXSxcbiAgICAgIERFQ0lNQUw6IFtdLFxuICAgICAgRE9VQkxFOiBbXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW10sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW10sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW11cbiAgICB9LFxuICAgIGRpc2FsbG93VmFyczoge1xuICAgICAgXCJ9XCI6IFtdLFxuICAgICAgR1JBUEg6IFtdLFxuICAgICAgVkFSMTogW10sXG4gICAgICBWQVIyOiBbXSxcbiAgICAgIE5JTDogW10sXG4gICAgICBcIihcIjogW10sXG4gICAgICBcIltcIjogW10sXG4gICAgICBJUklfUkVGOiBbXSxcbiAgICAgIFRSVUU6IFtdLFxuICAgICAgRkFMU0U6IFtdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW10sXG4gICAgICBBTk9OOiBbXSxcbiAgICAgIFBOQU1FX0xOOiBbXSxcbiAgICAgIFBOQU1FX05TOiBbXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW10sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtdLFxuICAgICAgSU5URUdFUjogW10sXG4gICAgICBERUNJTUFMOiBbXSxcbiAgICAgIERPVUJMRTogW10sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW10sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtdXG4gICAgfSxcbiAgICBkcm9wOiB7XG4gICAgICBEUk9QOiBbXCJEUk9QXCIsIFwiP1NJTEVOVF8yXCIsIFwiZ3JhcGhSZWZBbGxcIl1cbiAgICB9LFxuICAgIGV4aXN0c0Z1bmM6IHtcbiAgICAgIEVYSVNUUzogW1wiRVhJU1RTXCIsIFwiZ3JvdXBHcmFwaFBhdHRlcm5cIl1cbiAgICB9LFxuICAgIGV4cHJlc3Npb246IHtcbiAgICAgIFwiIVwiOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFwiK1wiOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFwiLVwiOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFZBUjE6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgVkFSMjogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBcIihcIjogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTVFI6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgTEFORzogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBMQU5HTUFUQ0hFUzogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBEQVRBVFlQRTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBCT1VORDogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBJUkk6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgVVJJOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIEJOT0RFOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFJBTkQ6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgQUJTOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIENFSUw6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgRkxPT1I6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgUk9VTkQ6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgQ09OQ0FUOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkxFTjogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBVQ0FTRTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBMQ0FTRTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBFTkNPREVfRk9SX1VSSTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBDT05UQUlOUzogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJTVEFSVFM6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSRU5EUzogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJCRUZPUkU6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSQUZURVI6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgWUVBUjogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBNT05USDogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBEQVk6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgSE9VUlM6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgTUlOVVRFUzogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTRUNPTkRTOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFRJTUVaT05FOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFRaOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIE5PVzogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBVVUlEOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUlVVSUQ6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgTUQ1OiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFNIQTE6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgU0hBMjU2OiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFNIQTM4NDogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTSEE1MTI6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgQ09BTEVTQ0U6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgSUY6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSTEFORzogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJEVDogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTQU1FVEVSTTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBJU0lSSTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBJU1VSSTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBJU0JMQU5LOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIElTTElURVJBTDogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBJU05VTUVSSUM6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgVFJVRTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBGQUxTRTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBDT1VOVDogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTVU06IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgTUlOOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIE1BWDogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBBVkc6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgU0FNUExFOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIEdST1VQX0NPTkNBVDogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTVUJTVFI6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgUkVQTEFDRTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBSRUdFWDogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBFWElTVFM6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgTk9UOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIElSSV9SRUY6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBJTlRFR0VSOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIERFQ0lNQUw6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgRE9VQkxFOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcImNvbmRpdGlvbmFsT3JFeHByZXNzaW9uXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJjb25kaXRpb25hbE9yRXhwcmVzc2lvblwiXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBQTkFNRV9MTjogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl0sXG4gICAgICBQTkFNRV9OUzogW1wiY29uZGl0aW9uYWxPckV4cHJlc3Npb25cIl1cbiAgICB9LFxuICAgIGV4cHJlc3Npb25MaXN0OiB7XG4gICAgICBOSUw6IFtcIk5JTFwiXSxcbiAgICAgIFwiKFwiOiBbXCIoXCIsIFwiZXhwcmVzc2lvblwiLCBcIipbLCxleHByZXNzaW9uXVwiLCBcIilcIl1cbiAgICB9LFxuICAgIGZpbHRlcjoge1xuICAgICAgRklMVEVSOiBbXCJGSUxURVJcIiwgXCJjb25zdHJhaW50XCJdXG4gICAgfSxcbiAgICBmdW5jdGlvbkNhbGw6IHtcbiAgICAgIElSSV9SRUY6IFtcImlyaVJlZlwiLCBcImFyZ0xpc3RcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiaXJpUmVmXCIsIFwiYXJnTGlzdFwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJpcmlSZWZcIiwgXCJhcmdMaXN0XCJdXG4gICAgfSxcbiAgICBncmFwaEdyYXBoUGF0dGVybjoge1xuICAgICAgR1JBUEg6IFtcIkdSQVBIXCIsIFwidmFyT3JJUklyZWZcIiwgXCJncm91cEdyYXBoUGF0dGVyblwiXVxuICAgIH0sXG4gICAgZ3JhcGhOb2RlOiB7XG4gICAgICBWQVIxOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBWQVIyOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBOSUw6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIElSSV9SRUY6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIFRSVUU6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIEZBTFNFOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBBTk9OOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBQTkFNRV9MTjogW1widmFyT3JUZXJtXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIElOVEVHRVI6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIERFQ0lNQUw6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIERPVUJMRTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIFwiKFwiOiBbXCJ0cmlwbGVzTm9kZVwiXSxcbiAgICAgIFwiW1wiOiBbXCJ0cmlwbGVzTm9kZVwiXVxuICAgIH0sXG4gICAgZ3JhcGhOb2RlUGF0aDoge1xuICAgICAgVkFSMTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgVkFSMjogW1widmFyT3JUZXJtXCJdLFxuICAgICAgTklMOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBJUklfUkVGOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBUUlVFOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBGQUxTRTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW1widmFyT3JUZXJtXCJdLFxuICAgICAgQU5PTjogW1widmFyT3JUZXJtXCJdLFxuICAgICAgUE5BTUVfTE46IFtcInZhck9yVGVybVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1widmFyT3JUZXJtXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBJTlRFR0VSOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBERUNJTUFMOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBET1VCTEU6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcInZhck9yVGVybVwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1widmFyT3JUZXJtXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJ2YXJPclRlcm1cIl0sXG4gICAgICBcIihcIjogW1widHJpcGxlc05vZGVQYXRoXCJdLFxuICAgICAgXCJbXCI6IFtcInRyaXBsZXNOb2RlUGF0aFwiXVxuICAgIH0sXG4gICAgZ3JhcGhPckRlZmF1bHQ6IHtcbiAgICAgIERFRkFVTFQ6IFtcIkRFRkFVTFRcIl0sXG4gICAgICBJUklfUkVGOiBbXCI/R1JBUEhcIiwgXCJpcmlSZWZcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiP0dSQVBIXCIsIFwiaXJpUmVmXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcIj9HUkFQSFwiLCBcImlyaVJlZlwiXSxcbiAgICAgIEdSQVBIOiBbXCI/R1JBUEhcIiwgXCJpcmlSZWZcIl1cbiAgICB9LFxuICAgIGdyYXBoUGF0dGVybk5vdFRyaXBsZXM6IHtcbiAgICAgIFwie1wiOiBbXCJncm91cE9yVW5pb25HcmFwaFBhdHRlcm5cIl0sXG4gICAgICBPUFRJT05BTDogW1wib3B0aW9uYWxHcmFwaFBhdHRlcm5cIl0sXG4gICAgICBNSU5VUzogW1wibWludXNHcmFwaFBhdHRlcm5cIl0sXG4gICAgICBHUkFQSDogW1wiZ3JhcGhHcmFwaFBhdHRlcm5cIl0sXG4gICAgICBTRVJWSUNFOiBbXCJzZXJ2aWNlR3JhcGhQYXR0ZXJuXCJdLFxuICAgICAgRklMVEVSOiBbXCJmaWx0ZXJcIl0sXG4gICAgICBCSU5EOiBbXCJiaW5kXCJdLFxuICAgICAgVkFMVUVTOiBbXCJpbmxpbmVEYXRhXCJdXG4gICAgfSxcbiAgICBncmFwaFJlZjoge1xuICAgICAgR1JBUEg6IFtcIkdSQVBIXCIsIFwiaXJpUmVmXCJdXG4gICAgfSxcbiAgICBncmFwaFJlZkFsbDoge1xuICAgICAgR1JBUEg6IFtcImdyYXBoUmVmXCJdLFxuICAgICAgREVGQVVMVDogW1wiREVGQVVMVFwiXSxcbiAgICAgIE5BTUVEOiBbXCJOQU1FRFwiXSxcbiAgICAgIEFMTDogW1wiQUxMXCJdXG4gICAgfSxcbiAgICBncmFwaFRlcm06IHtcbiAgICAgIElSSV9SRUY6IFtcImlyaVJlZlwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJpcmlSZWZcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiaXJpUmVmXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXCJyZGZMaXRlcmFsXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJyZGZMaXRlcmFsXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcInJkZkxpdGVyYWxcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1wicmRmTGl0ZXJhbFwiXSxcbiAgICAgIElOVEVHRVI6IFtcIm51bWVyaWNMaXRlcmFsXCJdLFxuICAgICAgREVDSU1BTDogW1wibnVtZXJpY0xpdGVyYWxcIl0sXG4gICAgICBET1VCTEU6IFtcIm51bWVyaWNMaXRlcmFsXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wibnVtZXJpY0xpdGVyYWxcIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJudW1lcmljTGl0ZXJhbFwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1wibnVtZXJpY0xpdGVyYWxcIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJudW1lcmljTGl0ZXJhbFwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcIm51bWVyaWNMaXRlcmFsXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJudW1lcmljTGl0ZXJhbFwiXSxcbiAgICAgIFRSVUU6IFtcImJvb2xlYW5MaXRlcmFsXCJdLFxuICAgICAgRkFMU0U6IFtcImJvb2xlYW5MaXRlcmFsXCJdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW1wiYmxhbmtOb2RlXCJdLFxuICAgICAgQU5PTjogW1wiYmxhbmtOb2RlXCJdLFxuICAgICAgTklMOiBbXCJOSUxcIl1cbiAgICB9LFxuICAgIGdyb3VwQ2xhdXNlOiB7XG4gICAgICBHUk9VUDogW1wiR1JPVVBcIiwgXCJCWVwiLCBcIitncm91cENvbmRpdGlvblwiXVxuICAgIH0sXG4gICAgZ3JvdXBDb25kaXRpb246IHtcbiAgICAgIFNUUjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBMQU5HOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIExBTkdNQVRDSEVTOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIERBVEFUWVBFOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIEJPVU5EOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElSSTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBVUkk6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgQk5PREU6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgUkFORDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBBQlM6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgQ0VJTDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBGTE9PUjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBST1VORDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBDT05DQVQ6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU1RSTEVOOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFVDQVNFOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIExDQVNFOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIEVOQ09ERV9GT1JfVVJJOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIENPTlRBSU5TOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNUUlNUQVJUUzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVFJFTkRTOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNUUkJFRk9SRTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVFJBRlRFUjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBZRUFSOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIE1PTlRIOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIERBWTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBIT1VSUzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBNSU5VVEVTOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNFQ09ORFM6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgVElNRVpPTkU6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgVFo6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgTk9XOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFVVSUQ6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU1RSVVVJRDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBNRDU6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU0hBMTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTSEEyNTY6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU0hBMzg0OiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNIQTUxMjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBDT0FMRVNDRTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBJRjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVFJMQU5HOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNUUkRUOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNBTUVURVJNOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElTSVJJOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElTVVJJOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElTQkxBTks6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgSVNMSVRFUkFMOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElTTlVNRVJJQzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVUJTVFI6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgUkVQTEFDRTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBSRUdFWDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBFWElTVFM6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgTk9UOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElSSV9SRUY6IFtcImZ1bmN0aW9uQ2FsbFwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJmdW5jdGlvbkNhbGxcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiZnVuY3Rpb25DYWxsXCJdLFxuICAgICAgXCIoXCI6IFtcIihcIiwgXCJleHByZXNzaW9uXCIsIFwiP1tBUyx2YXJdXCIsIFwiKVwiXSxcbiAgICAgIFZBUjE6IFtcInZhclwiXSxcbiAgICAgIFZBUjI6IFtcInZhclwiXVxuICAgIH0sXG4gICAgZ3JvdXBHcmFwaFBhdHRlcm46IHtcbiAgICAgIFwie1wiOiBbXCJ7XCIsIFwib3IoW3N1YlNlbGVjdCxncm91cEdyYXBoUGF0dGVyblN1Yl0pXCIsIFwifVwiXVxuICAgIH0sXG4gICAgZ3JvdXBHcmFwaFBhdHRlcm5TdWI6IHtcbiAgICAgIFwie1wiOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgT1BUSU9OQUw6IFtcIj90cmlwbGVzQmxvY2tcIiwgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBNSU5VUzogW1wiP3RyaXBsZXNCbG9ja1wiLCBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIEdSQVBIOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgU0VSVklDRTogW1wiP3RyaXBsZXNCbG9ja1wiLCBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIEZJTFRFUjogW1wiP3RyaXBsZXNCbG9ja1wiLCBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIEJJTkQ6IFtcIj90cmlwbGVzQmxvY2tcIiwgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBWQUxVRVM6IFtcIj90cmlwbGVzQmxvY2tcIiwgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBWQVIxOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgVkFSMjogW1wiP3RyaXBsZXNCbG9ja1wiLCBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIE5JTDogW1wiP3RyaXBsZXNCbG9ja1wiLCBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIFwiKFwiOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgXCJbXCI6IFtcIj90cmlwbGVzQmxvY2tcIiwgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBJUklfUkVGOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgVFJVRTogW1wiP3RyaXBsZXNCbG9ja1wiLCBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIEZBTFNFOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW1xuICAgICAgICBcIj90cmlwbGVzQmxvY2tcIixcbiAgICAgICAgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIlxuICAgICAgXSxcbiAgICAgIEFOT046IFtcIj90cmlwbGVzQmxvY2tcIiwgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBQTkFNRV9MTjogW1wiP3RyaXBsZXNCbG9ja1wiLCBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXG4gICAgICAgIFwiP3RyaXBsZXNCbG9ja1wiLFxuICAgICAgICBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXG4gICAgICBdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXG4gICAgICAgIFwiP3RyaXBsZXNCbG9ja1wiLFxuICAgICAgICBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXG4gICAgICBdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcbiAgICAgICAgXCI/dHJpcGxlc0Jsb2NrXCIsXG4gICAgICAgIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJcbiAgICAgIF0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1xuICAgICAgICBcIj90cmlwbGVzQmxvY2tcIixcbiAgICAgICAgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIlxuICAgICAgXSxcbiAgICAgIElOVEVHRVI6IFtcIj90cmlwbGVzQmxvY2tcIiwgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBERUNJTUFMOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgRE9VQkxFOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1xuICAgICAgICBcIj90cmlwbGVzQmxvY2tcIixcbiAgICAgICAgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIlxuICAgICAgXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcbiAgICAgICAgXCI/dHJpcGxlc0Jsb2NrXCIsXG4gICAgICAgIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJcbiAgICAgIF0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcbiAgICAgICAgXCI/dHJpcGxlc0Jsb2NrXCIsXG4gICAgICAgIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJcbiAgICAgIF0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXG4gICAgICAgIFwiP3RyaXBsZXNCbG9ja1wiLFxuICAgICAgICBcIipbZ3JhcGhQYXR0ZXJuTm90VHJpcGxlcyw/Liw/dHJpcGxlc0Jsb2NrXVwiXG4gICAgICBdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1xuICAgICAgICBcIj90cmlwbGVzQmxvY2tcIixcbiAgICAgICAgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIlxuICAgICAgXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1xuICAgICAgICBcIj90cmlwbGVzQmxvY2tcIixcbiAgICAgICAgXCIqW2dyYXBoUGF0dGVybk5vdFRyaXBsZXMsPy4sP3RyaXBsZXNCbG9ja11cIlxuICAgICAgXSxcbiAgICAgIFwifVwiOiBbXCI/dHJpcGxlc0Jsb2NrXCIsIFwiKltncmFwaFBhdHRlcm5Ob3RUcmlwbGVzLD8uLD90cmlwbGVzQmxvY2tdXCJdXG4gICAgfSxcbiAgICBncm91cE9yVW5pb25HcmFwaFBhdHRlcm46IHtcbiAgICAgIFwie1wiOiBbXCJncm91cEdyYXBoUGF0dGVyblwiLCBcIipbVU5JT04sZ3JvdXBHcmFwaFBhdHRlcm5dXCJdXG4gICAgfSxcbiAgICBoYXZpbmdDbGF1c2U6IHtcbiAgICAgIEhBVklORzogW1wiSEFWSU5HXCIsIFwiK2hhdmluZ0NvbmRpdGlvblwiXVxuICAgIH0sXG4gICAgaGF2aW5nQ29uZGl0aW9uOiB7XG4gICAgICBcIihcIjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNUUjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIExBTkc6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBMQU5HTUFUQ0hFUzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIERBVEFUWVBFOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgQk9VTkQ6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBJUkk6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBVUkk6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBCTk9ERTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFJBTkQ6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBBQlM6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBDRUlMOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgRkxPT1I6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBST1VORDogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIENPTkNBVDogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNUUkxFTjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFVDQVNFOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgTENBU0U6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBFTkNPREVfRk9SX1VSSTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIENPTlRBSU5TOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1RSU1RBUlRTOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1RSRU5EUzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNUUkJFRk9SRTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNUUkFGVEVSOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgWUVBUjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIE1PTlRIOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgREFZOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgSE9VUlM6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBNSU5VVEVTOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU0VDT05EUzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFRJTUVaT05FOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgVFo6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBOT1c6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBVVUlEOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1RSVVVJRDogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIE1ENTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNIQTE6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBTSEEyNTY6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBTSEEzODQ6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBTSEE1MTI6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBDT0FMRVNDRTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIElGOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1RSTEFORzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNUUkRUOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU0FNRVRFUk06IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBJU0lSSTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIElTVVJJOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgSVNCTEFOSzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIElTTElURVJBTDogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIElTTlVNRVJJQzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNVQlNUUjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFJFUExBQ0U6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBSRUdFWDogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIEVYSVNUUzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIE5PVDogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIElSSV9SRUY6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJjb25zdHJhaW50XCJdXG4gICAgfSxcbiAgICBpbmxpbmVEYXRhOiB7XG4gICAgICBWQUxVRVM6IFtcIlZBTFVFU1wiLCBcImRhdGFCbG9ja1wiXVxuICAgIH0sXG4gICAgaW5saW5lRGF0YUZ1bGw6IHtcbiAgICAgIE5JTDogW1xuICAgICAgICBcIm9yKFtOSUwsWygsKnZhciwpXV0pXCIsXG4gICAgICAgIFwie1wiLFxuICAgICAgICBcIipvcihbWygsKmRhdGFCbG9ja1ZhbHVlLCldLE5JTF0pXCIsXG4gICAgICAgIFwifVwiXG4gICAgICBdLFxuICAgICAgXCIoXCI6IFtcbiAgICAgICAgXCJvcihbTklMLFsoLCp2YXIsKV1dKVwiLFxuICAgICAgICBcIntcIixcbiAgICAgICAgXCIqb3IoW1soLCpkYXRhQmxvY2tWYWx1ZSwpXSxOSUxdKVwiLFxuICAgICAgICBcIn1cIlxuICAgICAgXVxuICAgIH0sXG4gICAgaW5saW5lRGF0YU9uZVZhcjoge1xuICAgICAgVkFSMTogW1widmFyXCIsIFwie1wiLCBcIipkYXRhQmxvY2tWYWx1ZVwiLCBcIn1cIl0sXG4gICAgICBWQVIyOiBbXCJ2YXJcIiwgXCJ7XCIsIFwiKmRhdGFCbG9ja1ZhbHVlXCIsIFwifVwiXVxuICAgIH0sXG4gICAgaW5zZXJ0MToge1xuICAgICAgREFUQTogW1wiREFUQVwiLCBcInF1YWREYXRhXCJdLFxuICAgICAgXCJ7XCI6IFtcInF1YWRQYXR0ZXJuXCIsIFwiKnVzaW5nQ2xhdXNlXCIsIFwiV0hFUkVcIiwgXCJncm91cEdyYXBoUGF0dGVyblwiXVxuICAgIH0sXG4gICAgaW5zZXJ0Q2xhdXNlOiB7XG4gICAgICBJTlNFUlQ6IFtcIklOU0VSVFwiLCBcInF1YWRQYXR0ZXJuXCJdXG4gICAgfSxcbiAgICBpbnRlZ2VyOiB7XG4gICAgICBJTlRFR0VSOiBbXCJJTlRFR0VSXCJdXG4gICAgfSxcbiAgICBpcmlSZWY6IHtcbiAgICAgIElSSV9SRUY6IFtcIklSSV9SRUZcIl0sXG4gICAgICBQTkFNRV9MTjogW1wicHJlZml4ZWROYW1lXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInByZWZpeGVkTmFtZVwiXVxuICAgIH0sXG4gICAgaXJpUmVmT3JGdW5jdGlvbjoge1xuICAgICAgSVJJX1JFRjogW1wiaXJpUmVmXCIsIFwiP2FyZ0xpc3RcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiaXJpUmVmXCIsIFwiP2FyZ0xpc3RcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiaXJpUmVmXCIsIFwiP2FyZ0xpc3RcIl1cbiAgICB9LFxuICAgIGxpbWl0Q2xhdXNlOiB7XG4gICAgICBMSU1JVDogW1wiTElNSVRcIiwgXCJJTlRFR0VSXCJdXG4gICAgfSxcbiAgICBsaW1pdE9mZnNldENsYXVzZXM6IHtcbiAgICAgIExJTUlUOiBbXCJsaW1pdENsYXVzZVwiLCBcIj9vZmZzZXRDbGF1c2VcIl0sXG4gICAgICBPRkZTRVQ6IFtcIm9mZnNldENsYXVzZVwiLCBcIj9saW1pdENsYXVzZVwiXVxuICAgIH0sXG4gICAgbG9hZDoge1xuICAgICAgTE9BRDogW1wiTE9BRFwiLCBcIj9TSUxFTlRfMVwiLCBcImlyaVJlZlwiLCBcIj9bSU5UTyxncmFwaFJlZl1cIl1cbiAgICB9LFxuICAgIG1pbnVzR3JhcGhQYXR0ZXJuOiB7XG4gICAgICBNSU5VUzogW1wiTUlOVVNcIiwgXCJncm91cEdyYXBoUGF0dGVyblwiXVxuICAgIH0sXG4gICAgbW9kaWZ5OiB7XG4gICAgICBXSVRIOiBbXG4gICAgICAgIFwiV0lUSFwiLFxuICAgICAgICBcImlyaVJlZlwiLFxuICAgICAgICBcIm9yKFtbZGVsZXRlQ2xhdXNlLD9pbnNlcnRDbGF1c2VdLGluc2VydENsYXVzZV0pXCIsXG4gICAgICAgIFwiKnVzaW5nQ2xhdXNlXCIsXG4gICAgICAgIFwiV0hFUkVcIixcbiAgICAgICAgXCJncm91cEdyYXBoUGF0dGVyblwiXG4gICAgICBdXG4gICAgfSxcbiAgICBtb3ZlOiB7XG4gICAgICBNT1ZFOiBbXCJNT1ZFXCIsIFwiP1NJTEVOVF80XCIsIFwiZ3JhcGhPckRlZmF1bHRcIiwgXCJUT1wiLCBcImdyYXBoT3JEZWZhdWx0XCJdXG4gICAgfSxcbiAgICBtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb246IHtcbiAgICAgIFwiIVwiOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgXCIrXCI6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBcIi1cIjogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFZBUjE6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBWQVIyOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgXCIoXCI6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFI6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBMQU5HOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgTEFOR01BVENIRVM6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBEQVRBVFlQRTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIEJPVU5EOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgSVJJOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgVVJJOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgQk5PREU6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBSQU5EOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgQUJTOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgQ0VJTDogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIEZMT09SOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgUk9VTkQ6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBDT05DQVQ6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJMRU46IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBVQ0FTRTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIExDQVNFOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgRU5DT0RFX0ZPUl9VUkk6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBDT05UQUlOUzogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFNUUlNUQVJUUzogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFNUUkVORFM6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJCRUZPUkU6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJBRlRFUjogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFlFQVI6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBNT05USDogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIERBWTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIEhPVVJTOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgTUlOVVRFUzogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFNFQ09ORFM6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBUSU1FWk9ORTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFRaOiBbXCJ1bmFyeUV4cHJlc3Npb25cIiwgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJdLFxuICAgICAgTk9XOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgVVVJRDogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFNUUlVVSUQ6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBNRDU6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBTSEExOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgU0hBMjU2OiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgU0hBMzg0OiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgU0hBNTEyOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgQ09BTEVTQ0U6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBJRjogW1widW5hcnlFeHByZXNzaW9uXCIsIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXSxcbiAgICAgIFNUUkxBTkc6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJEVDogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFNBTUVURVJNOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgSVNJUkk6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBJU1VSSTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIElTQkxBTks6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBJU0xJVEVSQUw6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBJU05VTUVSSUM6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBUUlVFOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgRkFMU0U6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBDT1VOVDogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFNVTTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIE1JTjogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIE1BWDogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIEFWRzogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFNBTVBMRTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIEdST1VQX0NPTkNBVDogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFNVQlNUUjogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFJFUExBQ0U6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBSRUdFWDogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIEVYSVNUUzogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIE5PVDogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIElSSV9SRUY6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgSU5URUdFUjogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIERFQ0lNQUw6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBET1VCTEU6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXG4gICAgICAgIFwidW5hcnlFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiKm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiXG4gICAgICBdLFxuICAgICAgUE5BTUVfTE46IFtcbiAgICAgICAgXCJ1bmFyeUV4cHJlc3Npb25cIixcbiAgICAgICAgXCIqb3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXCJcbiAgICAgIF0sXG4gICAgICBQTkFNRV9OUzogW1xuICAgICAgICBcInVuYXJ5RXhwcmVzc2lvblwiLFxuICAgICAgICBcIipvcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSlcIlxuICAgICAgXVxuICAgIH0sXG4gICAgbmFtZWRHcmFwaENsYXVzZToge1xuICAgICAgTkFNRUQ6IFtcIk5BTUVEXCIsIFwic291cmNlU2VsZWN0b3JcIl1cbiAgICB9LFxuICAgIG5vdEV4aXN0c0Z1bmM6IHtcbiAgICAgIE5PVDogW1wiTk9UXCIsIFwiRVhJU1RTXCIsIFwiZ3JvdXBHcmFwaFBhdHRlcm5cIl1cbiAgICB9LFxuICAgIG51bWVyaWNFeHByZXNzaW9uOiB7XG4gICAgICBcIiFcIjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgXCIrXCI6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFwiLVwiOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBWQVIxOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBWQVIyOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBcIihcIjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBMQU5HOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBMQU5HTUFUQ0hFUzogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgREFUQVRZUEU6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIEJPVU5EOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBJUkk6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFVSSTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgQk5PREU6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFJBTkQ6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIEFCUzogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgQ0VJTDogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgRkxPT1I6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFJPVU5EOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBDT05DQVQ6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkxFTjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgVUNBU0U6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIExDQVNFOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBFTkNPREVfRk9SX1VSSTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgQ09OVEFJTlM6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUlNUQVJUUzogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSRU5EUzogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSQkVGT1JFOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJBRlRFUjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgWUVBUjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgTU9OVEg6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIERBWTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgSE9VUlM6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIE1JTlVURVM6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNFQ09ORFM6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFRJTUVaT05FOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBUWjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgTk9XOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBVVUlEOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJVVUlEOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBNRDU6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNIQTE6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNIQTI1NjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgU0hBMzg0OiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBTSEE1MTI6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIENPQUxFU0NFOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBJRjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSTEFORzogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSRFQ6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNBTUVURVJNOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBJU0lSSTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgSVNVUkk6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIElTQkxBTks6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIElTTElURVJBTDogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgSVNOVU1FUklDOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBUUlVFOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBGQUxTRTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgQ09VTlQ6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNVTTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgTUlOOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBNQVg6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIEFWRzogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgU0FNUExFOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBHUk9VUF9DT05DQVQ6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNVQlNUUjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgUkVQTEFDRTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgUkVHRVg6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIEVYSVNUUzogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgTk9UOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBJUklfUkVGOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBJTlRFR0VSOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBERUNJTUFMOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBET1VCTEU6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJhZGRpdGl2ZUV4cHJlc3Npb25cIl0sXG4gICAgICBQTkFNRV9MTjogW1wiYWRkaXRpdmVFeHByZXNzaW9uXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImFkZGl0aXZlRXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgbnVtZXJpY0xpdGVyYWw6IHtcbiAgICAgIElOVEVHRVI6IFtcIm51bWVyaWNMaXRlcmFsVW5zaWduZWRcIl0sXG4gICAgICBERUNJTUFMOiBbXCJudW1lcmljTGl0ZXJhbFVuc2lnbmVkXCJdLFxuICAgICAgRE9VQkxFOiBbXCJudW1lcmljTGl0ZXJhbFVuc2lnbmVkXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wibnVtZXJpY0xpdGVyYWxQb3NpdGl2ZVwiXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcIm51bWVyaWNMaXRlcmFsUG9zaXRpdmVcIl0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcIm51bWVyaWNMaXRlcmFsUG9zaXRpdmVcIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXCJdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1wibnVtZXJpY0xpdGVyYWxOZWdhdGl2ZVwiXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1wibnVtZXJpY0xpdGVyYWxOZWdhdGl2ZVwiXVxuICAgIH0sXG4gICAgbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZToge1xuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wiSU5URUdFUl9ORUdBVElWRVwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcIkRFQ0lNQUxfTkVHQVRJVkVcIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcIkRPVUJMRV9ORUdBVElWRVwiXVxuICAgIH0sXG4gICAgbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZToge1xuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wiSU5URUdFUl9QT1NJVElWRVwiXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcIkRFQ0lNQUxfUE9TSVRJVkVcIl0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcIkRPVUJMRV9QT1NJVElWRVwiXVxuICAgIH0sXG4gICAgbnVtZXJpY0xpdGVyYWxVbnNpZ25lZDoge1xuICAgICAgSU5URUdFUjogW1wiSU5URUdFUlwiXSxcbiAgICAgIERFQ0lNQUw6IFtcIkRFQ0lNQUxcIl0sXG4gICAgICBET1VCTEU6IFtcIkRPVUJMRVwiXVxuICAgIH0sXG4gICAgb2JqZWN0OiB7XG4gICAgICBcIihcIjogW1wiZ3JhcGhOb2RlXCJdLFxuICAgICAgXCJbXCI6IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIFZBUjE6IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIFZBUjI6IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIE5JTDogW1wiZ3JhcGhOb2RlXCJdLFxuICAgICAgSVJJX1JFRjogW1wiZ3JhcGhOb2RlXCJdLFxuICAgICAgVFJVRTogW1wiZ3JhcGhOb2RlXCJdLFxuICAgICAgRkFMU0U6IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIEJMQU5LX05PREVfTEFCRUw6IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIEFOT046IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJncmFwaE5vZGVcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiZ3JhcGhOb2RlXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXCJncmFwaE5vZGVcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJncmFwaE5vZGVcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1wiZ3JhcGhOb2RlXCJdLFxuICAgICAgSU5URUdFUjogW1wiZ3JhcGhOb2RlXCJdLFxuICAgICAgREVDSU1BTDogW1wiZ3JhcGhOb2RlXCJdLFxuICAgICAgRE9VQkxFOiBbXCJncmFwaE5vZGVcIl0sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVcIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVcIl0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVwiXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1wiZ3JhcGhOb2RlXCJdXG4gICAgfSxcbiAgICBvYmplY3RMaXN0OiB7XG4gICAgICBcIihcIjogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBcIltcIjogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBWQVIxOiBbXCJvYmplY3RcIiwgXCIqWywsb2JqZWN0XVwiXSxcbiAgICAgIFZBUjI6IFtcIm9iamVjdFwiLCBcIipbLCxvYmplY3RdXCJdLFxuICAgICAgTklMOiBbXCJvYmplY3RcIiwgXCIqWywsb2JqZWN0XVwiXSxcbiAgICAgIElSSV9SRUY6IFtcIm9iamVjdFwiLCBcIipbLCxvYmplY3RdXCJdLFxuICAgICAgVFJVRTogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBGQUxTRTogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXCJvYmplY3RcIiwgXCIqWywsb2JqZWN0XVwiXSxcbiAgICAgIEFOT046IFtcIm9iamVjdFwiLCBcIipbLCxvYmplY3RdXCJdLFxuICAgICAgUE5BTUVfTE46IFtcIm9iamVjdFwiLCBcIipbLCxvYmplY3RdXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcIm9iamVjdFwiLCBcIipbLCxvYmplY3RdXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXCJvYmplY3RcIiwgXCIqWywsb2JqZWN0XVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBJTlRFR0VSOiBbXCJvYmplY3RcIiwgXCIqWywsb2JqZWN0XVwiXSxcbiAgICAgIERFQ0lNQUw6IFtcIm9iamVjdFwiLCBcIipbLCxvYmplY3RdXCJdLFxuICAgICAgRE9VQkxFOiBbXCJvYmplY3RcIiwgXCIqWywsb2JqZWN0XVwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcIm9iamVjdFwiLCBcIipbLCxvYmplY3RdXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcIm9iamVjdFwiLCBcIipbLCxvYmplY3RdXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJvYmplY3RcIiwgXCIqWywsb2JqZWN0XVwiXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1wib2JqZWN0XCIsIFwiKlssLG9iamVjdF1cIl1cbiAgICB9LFxuICAgIG9iamVjdExpc3RQYXRoOiB7XG4gICAgICBcIihcIjogW1wib2JqZWN0UGF0aFwiLCBcIipbLCxvYmplY3RQYXRoXVwiXSxcbiAgICAgIFwiW1wiOiBbXCJvYmplY3RQYXRoXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgVkFSMTogW1wib2JqZWN0UGF0aFwiLCBcIipbLCxvYmplY3RQYXRoXVwiXSxcbiAgICAgIFZBUjI6IFtcIm9iamVjdFBhdGhcIiwgXCIqWywsb2JqZWN0UGF0aF1cIl0sXG4gICAgICBOSUw6IFtcIm9iamVjdFBhdGhcIiwgXCIqWywsb2JqZWN0UGF0aF1cIl0sXG4gICAgICBJUklfUkVGOiBbXCJvYmplY3RQYXRoXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgVFJVRTogW1wib2JqZWN0UGF0aFwiLCBcIipbLCxvYmplY3RQYXRoXVwiXSxcbiAgICAgIEZBTFNFOiBbXCJvYmplY3RQYXRoXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW1wib2JqZWN0UGF0aFwiLCBcIipbLCxvYmplY3RQYXRoXVwiXSxcbiAgICAgIEFOT046IFtcIm9iamVjdFBhdGhcIiwgXCIqWywsb2JqZWN0UGF0aF1cIl0sXG4gICAgICBQTkFNRV9MTjogW1wib2JqZWN0UGF0aFwiLCBcIipbLCxvYmplY3RQYXRoXVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJvYmplY3RQYXRoXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXCJvYmplY3RQYXRoXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJvYmplY3RQYXRoXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcIm9iamVjdFBhdGhcIiwgXCIqWywsb2JqZWN0UGF0aF1cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1wib2JqZWN0UGF0aFwiLCBcIipbLCxvYmplY3RQYXRoXVwiXSxcbiAgICAgIElOVEVHRVI6IFtcIm9iamVjdFBhdGhcIiwgXCIqWywsb2JqZWN0UGF0aF1cIl0sXG4gICAgICBERUNJTUFMOiBbXCJvYmplY3RQYXRoXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgRE9VQkxFOiBbXCJvYmplY3RQYXRoXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wib2JqZWN0UGF0aFwiLCBcIipbLCxvYmplY3RQYXRoXVwiXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcIm9iamVjdFBhdGhcIiwgXCIqWywsb2JqZWN0UGF0aF1cIl0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcIm9iamVjdFBhdGhcIiwgXCIqWywsb2JqZWN0UGF0aF1cIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJvYmplY3RQYXRoXCIsIFwiKlssLG9iamVjdFBhdGhdXCJdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1wib2JqZWN0UGF0aFwiLCBcIipbLCxvYmplY3RQYXRoXVwiXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1wib2JqZWN0UGF0aFwiLCBcIipbLCxvYmplY3RQYXRoXVwiXVxuICAgIH0sXG4gICAgb2JqZWN0UGF0aDoge1xuICAgICAgXCIoXCI6IFtcImdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBcIltcIjogW1wiZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFZBUjE6IFtcImdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBWQVIyOiBbXCJncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgTklMOiBbXCJncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgSVJJX1JFRjogW1wiZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFRSVUU6IFtcImdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBGQUxTRTogW1wiZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIEJMQU5LX05PREVfTEFCRUw6IFtcImdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBBTk9OOiBbXCJncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1wiZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wiZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcImdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBJTlRFR0VSOiBbXCJncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgREVDSU1BTDogW1wiZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIERPVUJMRTogW1wiZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcImdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJncmFwaE5vZGVQYXRoXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wiZ3JhcGhOb2RlUGF0aFwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVBhdGhcIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcImdyYXBoTm9kZVBhdGhcIl1cbiAgICB9LFxuICAgIG9mZnNldENsYXVzZToge1xuICAgICAgT0ZGU0VUOiBbXCJPRkZTRVRcIiwgXCJJTlRFR0VSXCJdXG4gICAgfSxcbiAgICBvcHRpb25hbEdyYXBoUGF0dGVybjoge1xuICAgICAgT1BUSU9OQUw6IFtcIk9QVElPTkFMXCIsIFwiZ3JvdXBHcmFwaFBhdHRlcm5cIl1cbiAgICB9LFxuICAgIFwib3IoWyosZXhwcmVzc2lvbl0pXCI6IHtcbiAgICAgIFwiKlwiOiBbXCIqXCJdLFxuICAgICAgXCIhXCI6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBcIitcIjogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFwiLVwiOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgVkFSMTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFZBUjI6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBcIihcIjogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUjogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIExBTkc6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBMQU5HTUFUQ0hFUzogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIERBVEFUWVBFOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgQk9VTkQ6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBJUkk6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBVUkk6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBCTk9ERTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFJBTkQ6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBBQlM6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBDRUlMOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgRkxPT1I6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBST1VORDogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIENPTkNBVDogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkxFTjogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFVDQVNFOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgTENBU0U6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBFTkNPREVfRk9SX1VSSTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIENPTlRBSU5TOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU1RSU1RBUlRTOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU1RSRU5EUzogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkJFRk9SRTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkFGVEVSOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgWUVBUjogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIE1PTlRIOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgREFZOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgSE9VUlM6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBNSU5VVEVTOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU0VDT05EUzogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFRJTUVaT05FOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgVFo6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBOT1c6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBVVUlEOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU1RSVVVJRDogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIE1ENTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFNIQTE6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBTSEEyNTY6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBTSEEzODQ6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBTSEE1MTI6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBDT0FMRVNDRTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIElGOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU1RSTEFORzogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkRUOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU0FNRVRFUk06IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBJU0lSSTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIElTVVJJOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgSVNCTEFOSzogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIElTTElURVJBTDogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIElTTlVNRVJJQzogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFRSVUU6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBGQUxTRTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIENPVU5UOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU1VNOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgTUlOOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgTUFYOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgQVZHOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU0FNUExFOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgR1JPVVBfQ09OQ0FUOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU1VCU1RSOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgUkVQTEFDRTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFJFR0VYOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgRVhJU1RTOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgTk9UOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgSVJJX1JFRjogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBJTlRFR0VSOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgREVDSU1BTDogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIERPVUJMRTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJleHByZXNzaW9uXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcImV4cHJlc3Npb25cIl0sXG4gICAgICBQTkFNRV9MTjogW1wiZXhwcmVzc2lvblwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJleHByZXNzaW9uXCJdXG4gICAgfSxcbiAgICBcIm9yKFsrb3IoW3ZhcixbKCxleHByZXNzaW9uLEFTLHZhciwpXV0pLCpdKVwiOiB7XG4gICAgICBcIihcIjogW1wiK29yKFt2YXIsWygsZXhwcmVzc2lvbixBUyx2YXIsKV1dKVwiXSxcbiAgICAgIFZBUjE6IFtcIitvcihbdmFyLFsoLGV4cHJlc3Npb24sQVMsdmFyLCldXSlcIl0sXG4gICAgICBWQVIyOiBbXCIrb3IoW3ZhcixbKCxleHByZXNzaW9uLEFTLHZhciwpXV0pXCJdLFxuICAgICAgXCIqXCI6IFtcIipcIl1cbiAgICB9LFxuICAgIFwib3IoWyt2YXJPcklSSXJlZiwqXSlcIjoge1xuICAgICAgVkFSMTogW1wiK3Zhck9ySVJJcmVmXCJdLFxuICAgICAgVkFSMjogW1wiK3Zhck9ySVJJcmVmXCJdLFxuICAgICAgSVJJX1JFRjogW1wiK3Zhck9ySVJJcmVmXCJdLFxuICAgICAgUE5BTUVfTE46IFtcIit2YXJPcklSSXJlZlwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCIrdmFyT3JJUklyZWZcIl0sXG4gICAgICBcIipcIjogW1wiKlwiXVxuICAgIH0sXG4gICAgXCJvcihbQVNDLERFU0NdKVwiOiB7XG4gICAgICBBU0M6IFtcIkFTQ1wiXSxcbiAgICAgIERFU0M6IFtcIkRFU0NcIl1cbiAgICB9LFxuICAgIFwib3IoW0RJU1RJTkNULFJFRFVDRURdKVwiOiB7XG4gICAgICBESVNUSU5DVDogW1wiRElTVElOQ1RcIl0sXG4gICAgICBSRURVQ0VEOiBbXCJSRURVQ0VEXCJdXG4gICAgfSxcbiAgICBcIm9yKFtMQU5HVEFHLFteXixpcmlSZWZdXSlcIjoge1xuICAgICAgTEFOR1RBRzogW1wiTEFOR1RBR1wiXSxcbiAgICAgIFwiXl5cIjogW1wiW15eLGlyaVJlZl1cIl1cbiAgICB9LFxuICAgIFwib3IoW05JTCxbKCwqdmFyLCldXSlcIjoge1xuICAgICAgTklMOiBbXCJOSUxcIl0sXG4gICAgICBcIihcIjogW1wiWygsKnZhciwpXVwiXVxuICAgIH0sXG4gICAgXCJvcihbWygsKmRhdGFCbG9ja1ZhbHVlLCldLE5JTF0pXCI6IHtcbiAgICAgIFwiKFwiOiBbXCJbKCwqZGF0YUJsb2NrVmFsdWUsKV1cIl0sXG4gICAgICBOSUw6IFtcIk5JTFwiXVxuICAgIH0sXG4gICAgXCJvcihbWygsZXhwcmVzc2lvbiwpXSxOSUxdKVwiOiB7XG4gICAgICBcIihcIjogW1wiWygsZXhwcmVzc2lvbiwpXVwiXSxcbiAgICAgIE5JTDogW1wiTklMXCJdXG4gICAgfSxcbiAgICBcIm9yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKVwiOiB7XG4gICAgICBcIipcIjogW1wiWyosdW5hcnlFeHByZXNzaW9uXVwiXSxcbiAgICAgIFwiL1wiOiBbXCJbLyx1bmFyeUV4cHJlc3Npb25dXCJdXG4gICAgfSxcbiAgICBcIm9yKFtbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dLFstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl0sW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXV0pXCI6IHtcbiAgICAgIFwiK1wiOiBbXCJbKyxtdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb25dXCJdLFxuICAgICAgXCItXCI6IFtcIlstLG11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbl1cIl0sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXG4gICAgICAgIFwiW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXVwiXG4gICAgICBdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1xuICAgICAgICBcIltvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1cIlxuICAgICAgXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1xuICAgICAgICBcIltvcihbbnVtZXJpY0xpdGVyYWxQb3NpdGl2ZSxudW1lcmljTGl0ZXJhbE5lZ2F0aXZlXSksP29yKFtbKix1bmFyeUV4cHJlc3Npb25dLFsvLHVuYXJ5RXhwcmVzc2lvbl1dKV1cIlxuICAgICAgXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtcbiAgICAgICAgXCJbb3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pLD9vcihbWyosdW5hcnlFeHByZXNzaW9uXSxbLyx1bmFyeUV4cHJlc3Npb25dXSldXCJcbiAgICAgIF0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXG4gICAgICAgIFwiW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXVwiXG4gICAgICBdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXG4gICAgICAgIFwiW29yKFtudW1lcmljTGl0ZXJhbFBvc2l0aXZlLG51bWVyaWNMaXRlcmFsTmVnYXRpdmVdKSw/b3IoW1sqLHVuYXJ5RXhwcmVzc2lvbl0sWy8sdW5hcnlFeHByZXNzaW9uXV0pXVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBcIm9yKFtbLCxvcihbfSxbaW50ZWdlcix9XV0pXSx9XSlcIjoge1xuICAgICAgXCIsXCI6IFtcIlssLG9yKFt9LFtpbnRlZ2VyLH1dXSldXCJdLFxuICAgICAgXCJ9XCI6IFtcIn1cIl1cbiAgICB9LFxuICAgIFwib3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiOiB7XG4gICAgICBcIj1cIjogW1wiWz0sbnVtZXJpY0V4cHJlc3Npb25dXCJdLFxuICAgICAgXCIhPVwiOiBbXCJbIT0sbnVtZXJpY0V4cHJlc3Npb25dXCJdLFxuICAgICAgXCI8XCI6IFtcIls8LG51bWVyaWNFeHByZXNzaW9uXVwiXSxcbiAgICAgIFwiPlwiOiBbXCJbPixudW1lcmljRXhwcmVzc2lvbl1cIl0sXG4gICAgICBcIjw9XCI6IFtcIls8PSxudW1lcmljRXhwcmVzc2lvbl1cIl0sXG4gICAgICBcIj49XCI6IFtcIls+PSxudW1lcmljRXhwcmVzc2lvbl1cIl0sXG4gICAgICBJTjogW1wiW0lOLGV4cHJlc3Npb25MaXN0XVwiXSxcbiAgICAgIE5PVDogW1wiW05PVCxJTixleHByZXNzaW9uTGlzdF1cIl1cbiAgICB9LFxuICAgIFwib3IoW1tjb25zdHJ1Y3RUZW1wbGF0ZSwqZGF0YXNldENsYXVzZSx3aGVyZUNsYXVzZSxzb2x1dGlvbk1vZGlmaWVyXSxbKmRhdGFzZXRDbGF1c2UsV0hFUkUseyw/dHJpcGxlc1RlbXBsYXRlLH0sc29sdXRpb25Nb2RpZmllcl1dKVwiOiB7XG4gICAgICBcIntcIjogW1wiW2NvbnN0cnVjdFRlbXBsYXRlLCpkYXRhc2V0Q2xhdXNlLHdoZXJlQ2xhdXNlLHNvbHV0aW9uTW9kaWZpZXJdXCJdLFxuICAgICAgV0hFUkU6IFtcIlsqZGF0YXNldENsYXVzZSxXSEVSRSx7LD90cmlwbGVzVGVtcGxhdGUsfSxzb2x1dGlvbk1vZGlmaWVyXVwiXSxcbiAgICAgIEZST006IFtcIlsqZGF0YXNldENsYXVzZSxXSEVSRSx7LD90cmlwbGVzVGVtcGxhdGUsfSxzb2x1dGlvbk1vZGlmaWVyXVwiXVxuICAgIH0sXG4gICAgXCJvcihbW2RlbGV0ZUNsYXVzZSw/aW5zZXJ0Q2xhdXNlXSxpbnNlcnRDbGF1c2VdKVwiOiB7XG4gICAgICBERUxFVEU6IFtcIltkZWxldGVDbGF1c2UsP2luc2VydENsYXVzZV1cIl0sXG4gICAgICBJTlNFUlQ6IFtcImluc2VydENsYXVzZVwiXVxuICAgIH0sXG4gICAgXCJvcihbW2ludGVnZXIsb3IoW1ssLG9yKFt9LFtpbnRlZ2VyLH1dXSldLH1dKV0sWywsaW50ZWdlcix9XV0pXCI6IHtcbiAgICAgIElOVEVHRVI6IFtcIltpbnRlZ2VyLG9yKFtbLCxvcihbfSxbaW50ZWdlcix9XV0pXSx9XSldXCJdLFxuICAgICAgXCIsXCI6IFtcIlssLGludGVnZXIsfV1cIl1cbiAgICB9LFxuICAgIFwib3IoW2Jhc2VEZWNsLHByZWZpeERlY2xdKVwiOiB7XG4gICAgICBCQVNFOiBbXCJiYXNlRGVjbFwiXSxcbiAgICAgIFBSRUZJWDogW1wicHJlZml4RGVjbFwiXVxuICAgIH0sXG4gICAgXCJvcihbZGVmYXVsdEdyYXBoQ2xhdXNlLG5hbWVkR3JhcGhDbGF1c2VdKVwiOiB7XG4gICAgICBJUklfUkVGOiBbXCJkZWZhdWx0R3JhcGhDbGF1c2VcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiZGVmYXVsdEdyYXBoQ2xhdXNlXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImRlZmF1bHRHcmFwaENsYXVzZVwiXSxcbiAgICAgIE5BTUVEOiBbXCJuYW1lZEdyYXBoQ2xhdXNlXCJdXG4gICAgfSxcbiAgICBcIm9yKFtpbmxpbmVEYXRhT25lVmFyLGlubGluZURhdGFGdWxsXSlcIjoge1xuICAgICAgVkFSMTogW1wiaW5saW5lRGF0YU9uZVZhclwiXSxcbiAgICAgIFZBUjI6IFtcImlubGluZURhdGFPbmVWYXJcIl0sXG4gICAgICBOSUw6IFtcImlubGluZURhdGFGdWxsXCJdLFxuICAgICAgXCIoXCI6IFtcImlubGluZURhdGFGdWxsXCJdXG4gICAgfSxcbiAgICBcIm9yKFtpcmlSZWYsW05BTUVELGlyaVJlZl1dKVwiOiB7XG4gICAgICBJUklfUkVGOiBbXCJpcmlSZWZcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiaXJpUmVmXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImlyaVJlZlwiXSxcbiAgICAgIE5BTUVEOiBbXCJbTkFNRUQsaXJpUmVmXVwiXVxuICAgIH0sXG4gICAgXCJvcihbaXJpUmVmLGFdKVwiOiB7XG4gICAgICBJUklfUkVGOiBbXCJpcmlSZWZcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiaXJpUmVmXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImlyaVJlZlwiXSxcbiAgICAgIGE6IFtcImFcIl1cbiAgICB9LFxuICAgIFwib3IoW251bWVyaWNMaXRlcmFsUG9zaXRpdmUsbnVtZXJpY0xpdGVyYWxOZWdhdGl2ZV0pXCI6IHtcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcIm51bWVyaWNMaXRlcmFsUG9zaXRpdmVcIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJudW1lcmljTGl0ZXJhbFBvc2l0aXZlXCJdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXCJudW1lcmljTGl0ZXJhbFBvc2l0aXZlXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wibnVtZXJpY0xpdGVyYWxOZWdhdGl2ZVwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcIm51bWVyaWNMaXRlcmFsTmVnYXRpdmVcIl0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcIm51bWVyaWNMaXRlcmFsTmVnYXRpdmVcIl1cbiAgICB9LFxuICAgIFwib3IoW3F1ZXJ5QWxsLHVwZGF0ZUFsbF0pXCI6IHtcbiAgICAgIENPTlNUUlVDVDogW1wicXVlcnlBbGxcIl0sXG4gICAgICBERVNDUklCRTogW1wicXVlcnlBbGxcIl0sXG4gICAgICBBU0s6IFtcInF1ZXJ5QWxsXCJdLFxuICAgICAgU0VMRUNUOiBbXCJxdWVyeUFsbFwiXSxcbiAgICAgIElOU0VSVDogW1widXBkYXRlQWxsXCJdLFxuICAgICAgREVMRVRFOiBbXCJ1cGRhdGVBbGxcIl0sXG4gICAgICBMT0FEOiBbXCJ1cGRhdGVBbGxcIl0sXG4gICAgICBDTEVBUjogW1widXBkYXRlQWxsXCJdLFxuICAgICAgRFJPUDogW1widXBkYXRlQWxsXCJdLFxuICAgICAgQUREOiBbXCJ1cGRhdGVBbGxcIl0sXG4gICAgICBNT1ZFOiBbXCJ1cGRhdGVBbGxcIl0sXG4gICAgICBDT1BZOiBbXCJ1cGRhdGVBbGxcIl0sXG4gICAgICBDUkVBVEU6IFtcInVwZGF0ZUFsbFwiXSxcbiAgICAgIFdJVEg6IFtcInVwZGF0ZUFsbFwiXSxcbiAgICAgICQ6IFtcInVwZGF0ZUFsbFwiXVxuICAgIH0sXG4gICAgXCJvcihbc2VsZWN0UXVlcnksY29uc3RydWN0UXVlcnksZGVzY3JpYmVRdWVyeSxhc2tRdWVyeV0pXCI6IHtcbiAgICAgIFNFTEVDVDogW1wic2VsZWN0UXVlcnlcIl0sXG4gICAgICBDT05TVFJVQ1Q6IFtcImNvbnN0cnVjdFF1ZXJ5XCJdLFxuICAgICAgREVTQ1JJQkU6IFtcImRlc2NyaWJlUXVlcnlcIl0sXG4gICAgICBBU0s6IFtcImFza1F1ZXJ5XCJdXG4gICAgfSxcbiAgICBcIm9yKFtzdWJTZWxlY3QsZ3JvdXBHcmFwaFBhdHRlcm5TdWJdKVwiOiB7XG4gICAgICBTRUxFQ1Q6IFtcInN1YlNlbGVjdFwiXSxcbiAgICAgIFwie1wiOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIE9QVElPTkFMOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIE1JTlVTOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIEdSQVBIOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIFNFUlZJQ0U6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgRklMVEVSOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIEJJTkQ6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgVkFMVUVTOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIFZBUjE6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgVkFSMjogW1wiZ3JvdXBHcmFwaFBhdHRlcm5TdWJcIl0sXG4gICAgICBOSUw6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgXCIoXCI6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgXCJbXCI6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgSVJJX1JFRjogW1wiZ3JvdXBHcmFwaFBhdHRlcm5TdWJcIl0sXG4gICAgICBUUlVFOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIEZBTFNFOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIEJMQU5LX05PREVfTEFCRUw6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgQU5PTjogW1wiZ3JvdXBHcmFwaFBhdHRlcm5TdWJcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiZ3JvdXBHcmFwaFBhdHRlcm5TdWJcIl0sXG4gICAgICBQTkFNRV9OUzogW1wiZ3JvdXBHcmFwaFBhdHRlcm5TdWJcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIElOVEVHRVI6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgREVDSU1BTDogW1wiZ3JvdXBHcmFwaFBhdHRlcm5TdWJcIl0sXG4gICAgICBET1VCTEU6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wiZ3JvdXBHcmFwaFBhdHRlcm5TdWJcIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1wiZ3JvdXBHcmFwaFBhdHRlcm5TdWJcIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcImdyb3VwR3JhcGhQYXR0ZXJuU3ViXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXSxcbiAgICAgIFwifVwiOiBbXCJncm91cEdyYXBoUGF0dGVyblN1YlwiXVxuICAgIH0sXG4gICAgXCJvcihbdmFyLFsoLGV4cHJlc3Npb24sQVMsdmFyLCldXSlcIjoge1xuICAgICAgVkFSMTogW1widmFyXCJdLFxuICAgICAgVkFSMjogW1widmFyXCJdLFxuICAgICAgXCIoXCI6IFtcIlsoLGV4cHJlc3Npb24sQVMsdmFyLCldXCJdXG4gICAgfSxcbiAgICBcIm9yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSlcIjoge1xuICAgICAgXCJeXCI6IFtcInZlcmJQYXRoXCJdLFxuICAgICAgYTogW1widmVyYlBhdGhcIl0sXG4gICAgICBcIiFcIjogW1widmVyYlBhdGhcIl0sXG4gICAgICBcIihcIjogW1widmVyYlBhdGhcIl0sXG4gICAgICBJUklfUkVGOiBbXCJ2ZXJiUGF0aFwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJ2ZXJiUGF0aFwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJ2ZXJiUGF0aFwiXSxcbiAgICAgIFZBUjE6IFtcInZlcmJTaW1wbGVcIl0sXG4gICAgICBWQVIyOiBbXCJ2ZXJiU2ltcGxlXCJdXG4gICAgfSxcbiAgICBcIm9yKFt9LFtpbnRlZ2VyLH1dXSlcIjoge1xuICAgICAgXCJ9XCI6IFtcIn1cIl0sXG4gICAgICBJTlRFR0VSOiBbXCJbaW50ZWdlcix9XVwiXVxuICAgIH0sXG4gICAgb3JkZXJDbGF1c2U6IHtcbiAgICAgIE9SREVSOiBbXCJPUkRFUlwiLCBcIkJZXCIsIFwiK29yZGVyQ29uZGl0aW9uXCJdXG4gICAgfSxcbiAgICBvcmRlckNvbmRpdGlvbjoge1xuICAgICAgQVNDOiBbXCJvcihbQVNDLERFU0NdKVwiLCBcImJyYWNrZXR0ZWRFeHByZXNzaW9uXCJdLFxuICAgICAgREVTQzogW1wib3IoW0FTQyxERVNDXSlcIiwgXCJicmFja2V0dGVkRXhwcmVzc2lvblwiXSxcbiAgICAgIFwiKFwiOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1RSOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgTEFORzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIExBTkdNQVRDSEVTOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgREFUQVRZUEU6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBCT1VORDogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIElSSTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFVSSTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIEJOT0RFOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgUkFORDogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIEFCUzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIENFSUw6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBGTE9PUjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFJPVU5EOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgQ09OQ0FUOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1RSTEVOOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgVUNBU0U6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBMQ0FTRTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIEVOQ09ERV9GT1JfVVJJOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgQ09OVEFJTlM6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBTVFJTVEFSVFM6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBTVFJFTkRTOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1RSQkVGT1JFOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1RSQUZURVI6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBZRUFSOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgTU9OVEg6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBEQVk6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBIT1VSUzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIE1JTlVURVM6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBTRUNPTkRTOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgVElNRVpPTkU6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBUWjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIE5PVzogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFVVSUQ6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBTVFJVVUlEOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgTUQ1OiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU0hBMTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNIQTI1NjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNIQTM4NDogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFNIQTUxMjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIENPQUxFU0NFOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgSUY6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBTVFJMQU5HOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1RSRFQ6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBTQU1FVEVSTTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIElTSVJJOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgSVNVUkk6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBJU0JMQU5LOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgSVNMSVRFUkFMOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgSVNOVU1FUklDOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgU1VCU1RSOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgUkVQTEFDRTogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFJFR0VYOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgRVhJU1RTOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgTk9UOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgSVJJX1JFRjogW1wiY29uc3RyYWludFwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJjb25zdHJhaW50XCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImNvbnN0cmFpbnRcIl0sXG4gICAgICBWQVIxOiBbXCJ2YXJcIl0sXG4gICAgICBWQVIyOiBbXCJ2YXJcIl1cbiAgICB9LFxuICAgIHBhdGg6IHtcbiAgICAgIFwiXlwiOiBbXCJwYXRoQWx0ZXJuYXRpdmVcIl0sXG4gICAgICBhOiBbXCJwYXRoQWx0ZXJuYXRpdmVcIl0sXG4gICAgICBcIiFcIjogW1wicGF0aEFsdGVybmF0aXZlXCJdLFxuICAgICAgXCIoXCI6IFtcInBhdGhBbHRlcm5hdGl2ZVwiXSxcbiAgICAgIElSSV9SRUY6IFtcInBhdGhBbHRlcm5hdGl2ZVwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJwYXRoQWx0ZXJuYXRpdmVcIl0sXG4gICAgICBQTkFNRV9OUzogW1wicGF0aEFsdGVybmF0aXZlXCJdXG4gICAgfSxcbiAgICBwYXRoQWx0ZXJuYXRpdmU6IHtcbiAgICAgIFwiXlwiOiBbXCJwYXRoU2VxdWVuY2VcIiwgXCIqW3wscGF0aFNlcXVlbmNlXVwiXSxcbiAgICAgIGE6IFtcInBhdGhTZXF1ZW5jZVwiLCBcIipbfCxwYXRoU2VxdWVuY2VdXCJdLFxuICAgICAgXCIhXCI6IFtcInBhdGhTZXF1ZW5jZVwiLCBcIipbfCxwYXRoU2VxdWVuY2VdXCJdLFxuICAgICAgXCIoXCI6IFtcInBhdGhTZXF1ZW5jZVwiLCBcIipbfCxwYXRoU2VxdWVuY2VdXCJdLFxuICAgICAgSVJJX1JFRjogW1wicGF0aFNlcXVlbmNlXCIsIFwiKlt8LHBhdGhTZXF1ZW5jZV1cIl0sXG4gICAgICBQTkFNRV9MTjogW1wicGF0aFNlcXVlbmNlXCIsIFwiKlt8LHBhdGhTZXF1ZW5jZV1cIl0sXG4gICAgICBQTkFNRV9OUzogW1wicGF0aFNlcXVlbmNlXCIsIFwiKlt8LHBhdGhTZXF1ZW5jZV1cIl1cbiAgICB9LFxuICAgIHBhdGhFbHQ6IHtcbiAgICAgIGE6IFtcInBhdGhQcmltYXJ5XCIsIFwiP3BhdGhNb2RcIl0sXG4gICAgICBcIiFcIjogW1wicGF0aFByaW1hcnlcIiwgXCI/cGF0aE1vZFwiXSxcbiAgICAgIFwiKFwiOiBbXCJwYXRoUHJpbWFyeVwiLCBcIj9wYXRoTW9kXCJdLFxuICAgICAgSVJJX1JFRjogW1wicGF0aFByaW1hcnlcIiwgXCI/cGF0aE1vZFwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJwYXRoUHJpbWFyeVwiLCBcIj9wYXRoTW9kXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInBhdGhQcmltYXJ5XCIsIFwiP3BhdGhNb2RcIl1cbiAgICB9LFxuICAgIHBhdGhFbHRPckludmVyc2U6IHtcbiAgICAgIGE6IFtcInBhdGhFbHRcIl0sXG4gICAgICBcIiFcIjogW1wicGF0aEVsdFwiXSxcbiAgICAgIFwiKFwiOiBbXCJwYXRoRWx0XCJdLFxuICAgICAgSVJJX1JFRjogW1wicGF0aEVsdFwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJwYXRoRWx0XCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInBhdGhFbHRcIl0sXG4gICAgICBcIl5cIjogW1wiXlwiLCBcInBhdGhFbHRcIl1cbiAgICB9LFxuICAgIHBhdGhNb2Q6IHtcbiAgICAgIFwiKlwiOiBbXCIqXCJdLFxuICAgICAgXCI/XCI6IFtcIj9cIl0sXG4gICAgICBcIitcIjogW1wiK1wiXSxcbiAgICAgIFwie1wiOiBbXG4gICAgICAgIFwie1wiLFxuICAgICAgICBcIm9yKFtbaW50ZWdlcixvcihbWywsb3IoW30sW2ludGVnZXIsfV1dKV0sfV0pXSxbLCxpbnRlZ2VyLH1dXSlcIlxuICAgICAgXVxuICAgIH0sXG4gICAgcGF0aE5lZ2F0ZWRQcm9wZXJ0eVNldDoge1xuICAgICAgYTogW1wicGF0aE9uZUluUHJvcGVydHlTZXRcIl0sXG4gICAgICBcIl5cIjogW1wicGF0aE9uZUluUHJvcGVydHlTZXRcIl0sXG4gICAgICBJUklfUkVGOiBbXCJwYXRoT25lSW5Qcm9wZXJ0eVNldFwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJwYXRoT25lSW5Qcm9wZXJ0eVNldFwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJwYXRoT25lSW5Qcm9wZXJ0eVNldFwiXSxcbiAgICAgIFwiKFwiOiBbXCIoXCIsIFwiP1twYXRoT25lSW5Qcm9wZXJ0eVNldCwqW3wscGF0aE9uZUluUHJvcGVydHlTZXRdXVwiLCBcIilcIl1cbiAgICB9LFxuICAgIHBhdGhPbmVJblByb3BlcnR5U2V0OiB7XG4gICAgICBJUklfUkVGOiBbXCJpcmlSZWZcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiaXJpUmVmXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImlyaVJlZlwiXSxcbiAgICAgIGE6IFtcImFcIl0sXG4gICAgICBcIl5cIjogW1wiXlwiLCBcIm9yKFtpcmlSZWYsYV0pXCJdXG4gICAgfSxcbiAgICBwYXRoUHJpbWFyeToge1xuICAgICAgSVJJX1JFRjogW1wic3RvcmVQcm9wZXJ0eVwiLCBcImlyaVJlZlwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJzdG9yZVByb3BlcnR5XCIsIFwiaXJpUmVmXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInN0b3JlUHJvcGVydHlcIiwgXCJpcmlSZWZcIl0sXG4gICAgICBhOiBbXCJzdG9yZVByb3BlcnR5XCIsIFwiYVwiXSxcbiAgICAgIFwiIVwiOiBbXCIhXCIsIFwicGF0aE5lZ2F0ZWRQcm9wZXJ0eVNldFwiXSxcbiAgICAgIFwiKFwiOiBbXCIoXCIsIFwicGF0aFwiLCBcIilcIl1cbiAgICB9LFxuICAgIHBhdGhTZXF1ZW5jZToge1xuICAgICAgXCJeXCI6IFtcInBhdGhFbHRPckludmVyc2VcIiwgXCIqWy8scGF0aEVsdE9ySW52ZXJzZV1cIl0sXG4gICAgICBhOiBbXCJwYXRoRWx0T3JJbnZlcnNlXCIsIFwiKlsvLHBhdGhFbHRPckludmVyc2VdXCJdLFxuICAgICAgXCIhXCI6IFtcInBhdGhFbHRPckludmVyc2VcIiwgXCIqWy8scGF0aEVsdE9ySW52ZXJzZV1cIl0sXG4gICAgICBcIihcIjogW1wicGF0aEVsdE9ySW52ZXJzZVwiLCBcIipbLyxwYXRoRWx0T3JJbnZlcnNlXVwiXSxcbiAgICAgIElSSV9SRUY6IFtcInBhdGhFbHRPckludmVyc2VcIiwgXCIqWy8scGF0aEVsdE9ySW52ZXJzZV1cIl0sXG4gICAgICBQTkFNRV9MTjogW1wicGF0aEVsdE9ySW52ZXJzZVwiLCBcIipbLyxwYXRoRWx0T3JJbnZlcnNlXVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJwYXRoRWx0T3JJbnZlcnNlXCIsIFwiKlsvLHBhdGhFbHRPckludmVyc2VdXCJdXG4gICAgfSxcbiAgICBwcmVmaXhEZWNsOiB7XG4gICAgICBQUkVGSVg6IFtcIlBSRUZJWFwiLCBcIlBOQU1FX05TXCIsIFwiSVJJX1JFRlwiXVxuICAgIH0sXG4gICAgcHJlZml4ZWROYW1lOiB7XG4gICAgICBQTkFNRV9MTjogW1wiUE5BTUVfTE5cIl0sXG4gICAgICBQTkFNRV9OUzogW1wiUE5BTUVfTlNcIl1cbiAgICB9LFxuICAgIHByaW1hcnlFeHByZXNzaW9uOiB7XG4gICAgICBcIihcIjogW1wiYnJhY2tldHRlZEV4cHJlc3Npb25cIl0sXG4gICAgICBTVFI6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgTEFORzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBMQU5HTUFUQ0hFUzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBEQVRBVFlQRTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBCT1VORDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBJUkk6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgVVJJOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIEJOT0RFOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFJBTkQ6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgQUJTOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIENFSUw6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgRkxPT1I6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgUk9VTkQ6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgQ09OQ0FUOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNUUkxFTjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBVQ0FTRTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBMQ0FTRTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBFTkNPREVfRk9SX1VSSTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBDT05UQUlOUzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVFJTVEFSVFM6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU1RSRU5EUzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVFJCRUZPUkU6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU1RSQUZURVI6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgWUVBUjogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBNT05USDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBEQVk6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgSE9VUlM6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgTUlOVVRFUzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTRUNPTkRTOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFRJTUVaT05FOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFRaOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIE5PVzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBVVUlEOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNUUlVVSUQ6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgTUQ1OiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNIQTE6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU0hBMjU2OiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFNIQTM4NDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTSEE1MTI6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgQ09BTEVTQ0U6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgSUY6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU1RSTEFORzogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTVFJEVDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBTQU1FVEVSTTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBJU0lSSTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBJU1VSSTogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBJU0JMQU5LOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIElTTElURVJBTDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBJU05VTUVSSUM6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgU1VCU1RSOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIFJFUExBQ0U6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgUkVHRVg6IFtcImJ1aWx0SW5DYWxsXCJdLFxuICAgICAgRVhJU1RTOiBbXCJidWlsdEluQ2FsbFwiXSxcbiAgICAgIE5PVDogW1wiYnVpbHRJbkNhbGxcIl0sXG4gICAgICBJUklfUkVGOiBbXCJpcmlSZWZPckZ1bmN0aW9uXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImlyaVJlZk9yRnVuY3Rpb25cIl0sXG4gICAgICBQTkFNRV9OUzogW1wiaXJpUmVmT3JGdW5jdGlvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1wicmRmTGl0ZXJhbFwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wicmRmTGl0ZXJhbFwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJyZGZMaXRlcmFsXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcInJkZkxpdGVyYWxcIl0sXG4gICAgICBJTlRFR0VSOiBbXCJudW1lcmljTGl0ZXJhbFwiXSxcbiAgICAgIERFQ0lNQUw6IFtcIm51bWVyaWNMaXRlcmFsXCJdLFxuICAgICAgRE9VQkxFOiBbXCJudW1lcmljTGl0ZXJhbFwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcIm51bWVyaWNMaXRlcmFsXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1wibnVtZXJpY0xpdGVyYWxcIl0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcIm51bWVyaWNMaXRlcmFsXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wibnVtZXJpY0xpdGVyYWxcIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJudW1lcmljTGl0ZXJhbFwiXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1wibnVtZXJpY0xpdGVyYWxcIl0sXG4gICAgICBUUlVFOiBbXCJib29sZWFuTGl0ZXJhbFwiXSxcbiAgICAgIEZBTFNFOiBbXCJib29sZWFuTGl0ZXJhbFwiXSxcbiAgICAgIFZBUjE6IFtcInZhclwiXSxcbiAgICAgIFZBUjI6IFtcInZhclwiXSxcbiAgICAgIENPVU5UOiBbXCJhZ2dyZWdhdGVcIl0sXG4gICAgICBTVU06IFtcImFnZ3JlZ2F0ZVwiXSxcbiAgICAgIE1JTjogW1wiYWdncmVnYXRlXCJdLFxuICAgICAgTUFYOiBbXCJhZ2dyZWdhdGVcIl0sXG4gICAgICBBVkc6IFtcImFnZ3JlZ2F0ZVwiXSxcbiAgICAgIFNBTVBMRTogW1wiYWdncmVnYXRlXCJdLFxuICAgICAgR1JPVVBfQ09OQ0FUOiBbXCJhZ2dyZWdhdGVcIl1cbiAgICB9LFxuICAgIHByb2xvZ3VlOiB7XG4gICAgICBCQVNFOiBbXCIqb3IoW2Jhc2VEZWNsLHByZWZpeERlY2xdKVwiXSxcbiAgICAgIFBSRUZJWDogW1wiKm9yKFtiYXNlRGVjbCxwcmVmaXhEZWNsXSlcIl0sXG4gICAgICAkOiBbXCIqb3IoW2Jhc2VEZWNsLHByZWZpeERlY2xdKVwiXSxcbiAgICAgIENPTlNUUlVDVDogW1wiKm9yKFtiYXNlRGVjbCxwcmVmaXhEZWNsXSlcIl0sXG4gICAgICBERVNDUklCRTogW1wiKm9yKFtiYXNlRGVjbCxwcmVmaXhEZWNsXSlcIl0sXG4gICAgICBBU0s6IFtcIipvcihbYmFzZURlY2wscHJlZml4RGVjbF0pXCJdLFxuICAgICAgSU5TRVJUOiBbXCIqb3IoW2Jhc2VEZWNsLHByZWZpeERlY2xdKVwiXSxcbiAgICAgIERFTEVURTogW1wiKm9yKFtiYXNlRGVjbCxwcmVmaXhEZWNsXSlcIl0sXG4gICAgICBTRUxFQ1Q6IFtcIipvcihbYmFzZURlY2wscHJlZml4RGVjbF0pXCJdLFxuICAgICAgTE9BRDogW1wiKm9yKFtiYXNlRGVjbCxwcmVmaXhEZWNsXSlcIl0sXG4gICAgICBDTEVBUjogW1wiKm9yKFtiYXNlRGVjbCxwcmVmaXhEZWNsXSlcIl0sXG4gICAgICBEUk9QOiBbXCIqb3IoW2Jhc2VEZWNsLHByZWZpeERlY2xdKVwiXSxcbiAgICAgIEFERDogW1wiKm9yKFtiYXNlRGVjbCxwcmVmaXhEZWNsXSlcIl0sXG4gICAgICBNT1ZFOiBbXCIqb3IoW2Jhc2VEZWNsLHByZWZpeERlY2xdKVwiXSxcbiAgICAgIENPUFk6IFtcIipvcihbYmFzZURlY2wscHJlZml4RGVjbF0pXCJdLFxuICAgICAgQ1JFQVRFOiBbXCIqb3IoW2Jhc2VEZWNsLHByZWZpeERlY2xdKVwiXSxcbiAgICAgIFdJVEg6IFtcIipvcihbYmFzZURlY2wscHJlZml4RGVjbF0pXCJdXG4gICAgfSxcbiAgICBwcm9wZXJ0eUxpc3Q6IHtcbiAgICAgIGE6IFtcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgVkFSMTogW1wicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBWQVIyOiBbXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIElSSV9SRUY6IFtcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgUE5BTUVfTE46IFtcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgXCIuXCI6IFtdLFxuICAgICAgXCJ9XCI6IFtdLFxuICAgICAgR1JBUEg6IFtdXG4gICAgfSxcbiAgICBwcm9wZXJ0eUxpc3ROb3RFbXB0eToge1xuICAgICAgYTogW1widmVyYlwiLCBcIm9iamVjdExpc3RcIiwgXCIqWzssP1t2ZXJiLG9iamVjdExpc3RdXVwiXSxcbiAgICAgIFZBUjE6IFtcInZlcmJcIiwgXCJvYmplY3RMaXN0XCIsIFwiKls7LD9bdmVyYixvYmplY3RMaXN0XV1cIl0sXG4gICAgICBWQVIyOiBbXCJ2ZXJiXCIsIFwib2JqZWN0TGlzdFwiLCBcIipbOyw/W3ZlcmIsb2JqZWN0TGlzdF1dXCJdLFxuICAgICAgSVJJX1JFRjogW1widmVyYlwiLCBcIm9iamVjdExpc3RcIiwgXCIqWzssP1t2ZXJiLG9iamVjdExpc3RdXVwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJ2ZXJiXCIsIFwib2JqZWN0TGlzdFwiLCBcIipbOyw/W3ZlcmIsb2JqZWN0TGlzdF1dXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInZlcmJcIiwgXCJvYmplY3RMaXN0XCIsIFwiKls7LD9bdmVyYixvYmplY3RMaXN0XV1cIl1cbiAgICB9LFxuICAgIHByb3BlcnR5TGlzdFBhdGg6IHtcbiAgICAgIGE6IFtcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgVkFSMTogW1wicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBWQVIyOiBbXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIElSSV9SRUY6IFtcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgUE5BTUVfTE46IFtcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgXCIuXCI6IFtdLFxuICAgICAgXCJ7XCI6IFtdLFxuICAgICAgT1BUSU9OQUw6IFtdLFxuICAgICAgTUlOVVM6IFtdLFxuICAgICAgR1JBUEg6IFtdLFxuICAgICAgU0VSVklDRTogW10sXG4gICAgICBGSUxURVI6IFtdLFxuICAgICAgQklORDogW10sXG4gICAgICBWQUxVRVM6IFtdLFxuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICBwcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHk6IHtcbiAgICAgIFZBUjE6IFtcbiAgICAgICAgXCJvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pXCIsXG4gICAgICAgIFwib2JqZWN0TGlzdFBhdGhcIixcbiAgICAgICAgXCIqWzssP1tvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXVwiXG4gICAgICBdLFxuICAgICAgVkFSMjogW1xuICAgICAgICBcIm9yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSlcIixcbiAgICAgICAgXCJvYmplY3RMaXN0UGF0aFwiLFxuICAgICAgICBcIipbOyw/W29yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSksb2JqZWN0TGlzdF1dXCJcbiAgICAgIF0sXG4gICAgICBcIl5cIjogW1xuICAgICAgICBcIm9yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSlcIixcbiAgICAgICAgXCJvYmplY3RMaXN0UGF0aFwiLFxuICAgICAgICBcIipbOyw/W29yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSksb2JqZWN0TGlzdF1dXCJcbiAgICAgIF0sXG4gICAgICBhOiBbXG4gICAgICAgIFwib3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKVwiLFxuICAgICAgICBcIm9iamVjdExpc3RQYXRoXCIsXG4gICAgICAgIFwiKls7LD9bb3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKSxvYmplY3RMaXN0XV1cIlxuICAgICAgXSxcbiAgICAgIFwiIVwiOiBbXG4gICAgICAgIFwib3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKVwiLFxuICAgICAgICBcIm9iamVjdExpc3RQYXRoXCIsXG4gICAgICAgIFwiKls7LD9bb3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKSxvYmplY3RMaXN0XV1cIlxuICAgICAgXSxcbiAgICAgIFwiKFwiOiBbXG4gICAgICAgIFwib3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKVwiLFxuICAgICAgICBcIm9iamVjdExpc3RQYXRoXCIsXG4gICAgICAgIFwiKls7LD9bb3IoW3ZlcmJQYXRoLHZlcmJTaW1wbGVdKSxvYmplY3RMaXN0XV1cIlxuICAgICAgXSxcbiAgICAgIElSSV9SRUY6IFtcbiAgICAgICAgXCJvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pXCIsXG4gICAgICAgIFwib2JqZWN0TGlzdFBhdGhcIixcbiAgICAgICAgXCIqWzssP1tvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXVwiXG4gICAgICBdLFxuICAgICAgUE5BTUVfTE46IFtcbiAgICAgICAgXCJvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pXCIsXG4gICAgICAgIFwib2JqZWN0TGlzdFBhdGhcIixcbiAgICAgICAgXCIqWzssP1tvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXVwiXG4gICAgICBdLFxuICAgICAgUE5BTUVfTlM6IFtcbiAgICAgICAgXCJvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pXCIsXG4gICAgICAgIFwib2JqZWN0TGlzdFBhdGhcIixcbiAgICAgICAgXCIqWzssP1tvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBxdWFkRGF0YToge1xuICAgICAgXCJ7XCI6IFtcIntcIiwgXCJkaXNhbGxvd1ZhcnNcIiwgXCJxdWFkc1wiLCBcImFsbG93VmFyc1wiLCBcIn1cIl1cbiAgICB9LFxuICAgIHF1YWREYXRhTm9Cbm9kZXM6IHtcbiAgICAgIFwie1wiOiBbXG4gICAgICAgIFwie1wiLFxuICAgICAgICBcImRpc2FsbG93Qm5vZGVzXCIsXG4gICAgICAgIFwiZGlzYWxsb3dWYXJzXCIsXG4gICAgICAgIFwicXVhZHNcIixcbiAgICAgICAgXCJhbGxvd1ZhcnNcIixcbiAgICAgICAgXCJhbGxvd0Jub2Rlc1wiLFxuICAgICAgICBcIn1cIlxuICAgICAgXVxuICAgIH0sXG4gICAgcXVhZFBhdHRlcm46IHtcbiAgICAgIFwie1wiOiBbXCJ7XCIsIFwicXVhZHNcIiwgXCJ9XCJdXG4gICAgfSxcbiAgICBxdWFkUGF0dGVybk5vQm5vZGVzOiB7XG4gICAgICBcIntcIjogW1wie1wiLCBcImRpc2FsbG93Qm5vZGVzXCIsIFwicXVhZHNcIiwgXCJhbGxvd0Jub2Rlc1wiLCBcIn1cIl1cbiAgICB9LFxuICAgIHF1YWRzOiB7XG4gICAgICBHUkFQSDogW1wiP3RyaXBsZXNUZW1wbGF0ZVwiLCBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgVkFSMTogW1wiP3RyaXBsZXNUZW1wbGF0ZVwiLCBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgVkFSMjogW1wiP3RyaXBsZXNUZW1wbGF0ZVwiLCBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgTklMOiBbXCI/dHJpcGxlc1RlbXBsYXRlXCIsIFwiKltxdWFkc05vdFRyaXBsZXMsPy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBcIihcIjogW1wiP3RyaXBsZXNUZW1wbGF0ZVwiLCBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgXCJbXCI6IFtcIj90cmlwbGVzVGVtcGxhdGVcIiwgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIElSSV9SRUY6IFtcIj90cmlwbGVzVGVtcGxhdGVcIiwgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIFRSVUU6IFtcIj90cmlwbGVzVGVtcGxhdGVcIiwgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIEZBTFNFOiBbXCI/dHJpcGxlc1RlbXBsYXRlXCIsIFwiKltxdWFkc05vdFRyaXBsZXMsPy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXG4gICAgICAgIFwiP3RyaXBsZXNUZW1wbGF0ZVwiLFxuICAgICAgICBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJcbiAgICAgIF0sXG4gICAgICBBTk9OOiBbXCI/dHJpcGxlc1RlbXBsYXRlXCIsIFwiKltxdWFkc05vdFRyaXBsZXMsPy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBQTkFNRV9MTjogW1wiP3RyaXBsZXNUZW1wbGF0ZVwiLCBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcIj90cmlwbGVzVGVtcGxhdGVcIiwgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMTogW1xuICAgICAgICBcIj90cmlwbGVzVGVtcGxhdGVcIixcbiAgICAgICAgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXG4gICAgICBdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXG4gICAgICAgIFwiP3RyaXBsZXNUZW1wbGF0ZVwiLFxuICAgICAgICBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJcbiAgICAgIF0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1xuICAgICAgICBcIj90cmlwbGVzVGVtcGxhdGVcIixcbiAgICAgICAgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXG4gICAgICBdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcbiAgICAgICAgXCI/dHJpcGxlc1RlbXBsYXRlXCIsXG4gICAgICAgIFwiKltxdWFkc05vdFRyaXBsZXMsPy4sP3RyaXBsZXNUZW1wbGF0ZV1cIlxuICAgICAgXSxcbiAgICAgIElOVEVHRVI6IFtcIj90cmlwbGVzVGVtcGxhdGVcIiwgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIERFQ0lNQUw6IFtcIj90cmlwbGVzVGVtcGxhdGVcIiwgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIERPVUJMRTogW1wiP3RyaXBsZXNUZW1wbGF0ZVwiLCBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1xuICAgICAgICBcIj90cmlwbGVzVGVtcGxhdGVcIixcbiAgICAgICAgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXG4gICAgICBdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1xuICAgICAgICBcIj90cmlwbGVzVGVtcGxhdGVcIixcbiAgICAgICAgXCIqW3F1YWRzTm90VHJpcGxlcyw/Liw/dHJpcGxlc1RlbXBsYXRlXVwiXG4gICAgICBdLFxuICAgICAgRE9VQkxFX1BPU0lUSVZFOiBbXG4gICAgICAgIFwiP3RyaXBsZXNUZW1wbGF0ZVwiLFxuICAgICAgICBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJcbiAgICAgIF0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXG4gICAgICAgIFwiP3RyaXBsZXNUZW1wbGF0ZVwiLFxuICAgICAgICBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJcbiAgICAgIF0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXG4gICAgICAgIFwiP3RyaXBsZXNUZW1wbGF0ZVwiLFxuICAgICAgICBcIipbcXVhZHNOb3RUcmlwbGVzLD8uLD90cmlwbGVzVGVtcGxhdGVdXCJcbiAgICAgIF0sXG4gICAgICBET1VCTEVfTkVHQVRJVkU6IFtcbiAgICAgICAgXCI/dHJpcGxlc1RlbXBsYXRlXCIsXG4gICAgICAgIFwiKltxdWFkc05vdFRyaXBsZXMsPy4sP3RyaXBsZXNUZW1wbGF0ZV1cIlxuICAgICAgXSxcbiAgICAgIFwifVwiOiBbXCI/dHJpcGxlc1RlbXBsYXRlXCIsIFwiKltxdWFkc05vdFRyaXBsZXMsPy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl1cbiAgICB9LFxuICAgIHF1YWRzTm90VHJpcGxlczoge1xuICAgICAgR1JBUEg6IFtcIkdSQVBIXCIsIFwidmFyT3JJUklyZWZcIiwgXCJ7XCIsIFwiP3RyaXBsZXNUZW1wbGF0ZVwiLCBcIn1cIl1cbiAgICB9LFxuICAgIHF1ZXJ5QWxsOiB7XG4gICAgICBDT05TVFJVQ1Q6IFtcbiAgICAgICAgXCJvcihbc2VsZWN0UXVlcnksY29uc3RydWN0UXVlcnksZGVzY3JpYmVRdWVyeSxhc2tRdWVyeV0pXCIsXG4gICAgICAgIFwidmFsdWVzQ2xhdXNlXCJcbiAgICAgIF0sXG4gICAgICBERVNDUklCRTogW1xuICAgICAgICBcIm9yKFtzZWxlY3RRdWVyeSxjb25zdHJ1Y3RRdWVyeSxkZXNjcmliZVF1ZXJ5LGFza1F1ZXJ5XSlcIixcbiAgICAgICAgXCJ2YWx1ZXNDbGF1c2VcIlxuICAgICAgXSxcbiAgICAgIEFTSzogW1xuICAgICAgICBcIm9yKFtzZWxlY3RRdWVyeSxjb25zdHJ1Y3RRdWVyeSxkZXNjcmliZVF1ZXJ5LGFza1F1ZXJ5XSlcIixcbiAgICAgICAgXCJ2YWx1ZXNDbGF1c2VcIlxuICAgICAgXSxcbiAgICAgIFNFTEVDVDogW1xuICAgICAgICBcIm9yKFtzZWxlY3RRdWVyeSxjb25zdHJ1Y3RRdWVyeSxkZXNjcmliZVF1ZXJ5LGFza1F1ZXJ5XSlcIixcbiAgICAgICAgXCJ2YWx1ZXNDbGF1c2VcIlxuICAgICAgXVxuICAgIH0sXG4gICAgcmRmTGl0ZXJhbDoge1xuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXCJzdHJpbmdcIiwgXCI/b3IoW0xBTkdUQUcsW15eLGlyaVJlZl1dKVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wic3RyaW5nXCIsIFwiP29yKFtMQU5HVEFHLFteXixpcmlSZWZdXSlcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1wic3RyaW5nXCIsIFwiP29yKFtMQU5HVEFHLFteXixpcmlSZWZdXSlcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1wic3RyaW5nXCIsIFwiP29yKFtMQU5HVEFHLFteXixpcmlSZWZdXSlcIl1cbiAgICB9LFxuICAgIHJlZ2V4RXhwcmVzc2lvbjoge1xuICAgICAgUkVHRVg6IFtcbiAgICAgICAgXCJSRUdFWFwiLFxuICAgICAgICBcIihcIixcbiAgICAgICAgXCJleHByZXNzaW9uXCIsXG4gICAgICAgIFwiLFwiLFxuICAgICAgICBcImV4cHJlc3Npb25cIixcbiAgICAgICAgXCI/WywsZXhwcmVzc2lvbl1cIixcbiAgICAgICAgXCIpXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIHJlbGF0aW9uYWxFeHByZXNzaW9uOiB7XG4gICAgICBcIiFcIjogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFwiK1wiOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgXCItXCI6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBWQVIxOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgVkFSMjogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFwiKFwiOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgTEFORzogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIExBTkdNQVRDSEVTOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgREFUQVRZUEU6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBCT1VORDogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIElSSTogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFVSSTogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIEJOT0RFOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgUkFORDogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIEFCUzogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIENFSUw6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBGTE9PUjogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFJPVU5EOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgQ09OQ0FUOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSTEVOOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgVUNBU0U6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBMQ0FTRTogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIEVOQ09ERV9GT1JfVVJJOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgQ09OVEFJTlM6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJTVEFSVFM6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJFTkRTOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSQkVGT1JFOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSQUZURVI6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBZRUFSOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgTU9OVEg6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBEQVk6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBIT1VSUzogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIE1JTlVURVM6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTRUNPTkRTOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgVElNRVpPTkU6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBUWjogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIE5PVzogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFVVSUQ6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJVVUlEOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgTUQ1OiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgU0hBMTogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFNIQTI1NjogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFNIQTM4NDogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFNIQTUxMjogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIENPQUxFU0NFOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgSUY6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJMQU5HOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSRFQ6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTQU1FVEVSTTogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIElTSVJJOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgSVNVUkk6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBJU0JMQU5LOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgSVNMSVRFUkFMOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgSVNOVU1FUklDOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgVFJVRTogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIEZBTFNFOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgQ09VTlQ6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTVU06IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBNSU46IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBNQVg6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBBVkc6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTQU1QTEU6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBHUk9VUF9DT05DQVQ6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTVUJTVFI6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBSRVBMQUNFOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgUkVHRVg6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBFWElTVFM6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBOT1Q6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBJUklfUkVGOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwxOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMjogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIElOVEVHRVI6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBERUNJTUFMOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgRE9VQkxFOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBET1VCTEVfUE9TSVRJVkU6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIERPVUJMRV9ORUdBVElWRTogW1xuICAgICAgICBcIm51bWVyaWNFeHByZXNzaW9uXCIsXG4gICAgICAgIFwiP29yKFtbPSxudW1lcmljRXhwcmVzc2lvbl0sWyE9LG51bWVyaWNFeHByZXNzaW9uXSxbPCxudW1lcmljRXhwcmVzc2lvbl0sWz4sbnVtZXJpY0V4cHJlc3Npb25dLFs8PSxudW1lcmljRXhwcmVzc2lvbl0sWz49LG51bWVyaWNFeHByZXNzaW9uXSxbSU4sZXhwcmVzc2lvbkxpc3RdLFtOT1QsSU4sZXhwcmVzc2lvbkxpc3RdXSlcIlxuICAgICAgXSxcbiAgICAgIFBOQU1FX0xOOiBbXG4gICAgICAgIFwibnVtZXJpY0V4cHJlc3Npb25cIixcbiAgICAgICAgXCI/b3IoW1s9LG51bWVyaWNFeHByZXNzaW9uXSxbIT0sbnVtZXJpY0V4cHJlc3Npb25dLFs8LG51bWVyaWNFeHByZXNzaW9uXSxbPixudW1lcmljRXhwcmVzc2lvbl0sWzw9LG51bWVyaWNFeHByZXNzaW9uXSxbPj0sbnVtZXJpY0V4cHJlc3Npb25dLFtJTixleHByZXNzaW9uTGlzdF0sW05PVCxJTixleHByZXNzaW9uTGlzdF1dKVwiXG4gICAgICBdLFxuICAgICAgUE5BTUVfTlM6IFtcbiAgICAgICAgXCJudW1lcmljRXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9vcihbWz0sbnVtZXJpY0V4cHJlc3Npb25dLFshPSxudW1lcmljRXhwcmVzc2lvbl0sWzwsbnVtZXJpY0V4cHJlc3Npb25dLFs+LG51bWVyaWNFeHByZXNzaW9uXSxbPD0sbnVtZXJpY0V4cHJlc3Npb25dLFs+PSxudW1lcmljRXhwcmVzc2lvbl0sW0lOLGV4cHJlc3Npb25MaXN0XSxbTk9ULElOLGV4cHJlc3Npb25MaXN0XV0pXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIHNlbGVjdENsYXVzZToge1xuICAgICAgU0VMRUNUOiBbXG4gICAgICAgIFwiU0VMRUNUXCIsXG4gICAgICAgIFwiP29yKFtESVNUSU5DVCxSRURVQ0VEXSlcIixcbiAgICAgICAgXCJvcihbK29yKFt2YXIsWygsZXhwcmVzc2lvbixBUyx2YXIsKV1dKSwqXSlcIlxuICAgICAgXVxuICAgIH0sXG4gICAgc2VsZWN0UXVlcnk6IHtcbiAgICAgIFNFTEVDVDogW1xuICAgICAgICBcInNlbGVjdENsYXVzZVwiLFxuICAgICAgICBcIipkYXRhc2V0Q2xhdXNlXCIsXG4gICAgICAgIFwid2hlcmVDbGF1c2VcIixcbiAgICAgICAgXCJzb2x1dGlvbk1vZGlmaWVyXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIHNlcnZpY2VHcmFwaFBhdHRlcm46IHtcbiAgICAgIFNFUlZJQ0U6IFtcIlNFUlZJQ0VcIiwgXCI/U0lMRU5UXCIsIFwidmFyT3JJUklyZWZcIiwgXCJncm91cEdyYXBoUGF0dGVyblwiXVxuICAgIH0sXG4gICAgc29sdXRpb25Nb2RpZmllcjoge1xuICAgICAgTElNSVQ6IFtcbiAgICAgICAgXCI/Z3JvdXBDbGF1c2VcIixcbiAgICAgICAgXCI/aGF2aW5nQ2xhdXNlXCIsXG4gICAgICAgIFwiP29yZGVyQ2xhdXNlXCIsXG4gICAgICAgIFwiP2xpbWl0T2Zmc2V0Q2xhdXNlc1wiXG4gICAgICBdLFxuICAgICAgT0ZGU0VUOiBbXG4gICAgICAgIFwiP2dyb3VwQ2xhdXNlXCIsXG4gICAgICAgIFwiP2hhdmluZ0NsYXVzZVwiLFxuICAgICAgICBcIj9vcmRlckNsYXVzZVwiLFxuICAgICAgICBcIj9saW1pdE9mZnNldENsYXVzZXNcIlxuICAgICAgXSxcbiAgICAgIE9SREVSOiBbXG4gICAgICAgIFwiP2dyb3VwQ2xhdXNlXCIsXG4gICAgICAgIFwiP2hhdmluZ0NsYXVzZVwiLFxuICAgICAgICBcIj9vcmRlckNsYXVzZVwiLFxuICAgICAgICBcIj9saW1pdE9mZnNldENsYXVzZXNcIlxuICAgICAgXSxcbiAgICAgIEhBVklORzogW1xuICAgICAgICBcIj9ncm91cENsYXVzZVwiLFxuICAgICAgICBcIj9oYXZpbmdDbGF1c2VcIixcbiAgICAgICAgXCI/b3JkZXJDbGF1c2VcIixcbiAgICAgICAgXCI/bGltaXRPZmZzZXRDbGF1c2VzXCJcbiAgICAgIF0sXG4gICAgICBHUk9VUDogW1xuICAgICAgICBcIj9ncm91cENsYXVzZVwiLFxuICAgICAgICBcIj9oYXZpbmdDbGF1c2VcIixcbiAgICAgICAgXCI/b3JkZXJDbGF1c2VcIixcbiAgICAgICAgXCI/bGltaXRPZmZzZXRDbGF1c2VzXCJcbiAgICAgIF0sXG4gICAgICBWQUxVRVM6IFtcbiAgICAgICAgXCI/Z3JvdXBDbGF1c2VcIixcbiAgICAgICAgXCI/aGF2aW5nQ2xhdXNlXCIsXG4gICAgICAgIFwiP29yZGVyQ2xhdXNlXCIsXG4gICAgICAgIFwiP2xpbWl0T2Zmc2V0Q2xhdXNlc1wiXG4gICAgICBdLFxuICAgICAgJDogW1xuICAgICAgICBcIj9ncm91cENsYXVzZVwiLFxuICAgICAgICBcIj9oYXZpbmdDbGF1c2VcIixcbiAgICAgICAgXCI/b3JkZXJDbGF1c2VcIixcbiAgICAgICAgXCI/bGltaXRPZmZzZXRDbGF1c2VzXCJcbiAgICAgIF0sXG4gICAgICBcIn1cIjogW1xuICAgICAgICBcIj9ncm91cENsYXVzZVwiLFxuICAgICAgICBcIj9oYXZpbmdDbGF1c2VcIixcbiAgICAgICAgXCI/b3JkZXJDbGF1c2VcIixcbiAgICAgICAgXCI/bGltaXRPZmZzZXRDbGF1c2VzXCJcbiAgICAgIF1cbiAgICB9LFxuICAgIHNvdXJjZVNlbGVjdG9yOiB7XG4gICAgICBJUklfUkVGOiBbXCJpcmlSZWZcIl0sXG4gICAgICBQTkFNRV9MTjogW1wiaXJpUmVmXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcImlyaVJlZlwiXVxuICAgIH0sXG4gICAgc3BhcnFsMTE6IHtcbiAgICAgICQ6IFtcInByb2xvZ3VlXCIsIFwib3IoW3F1ZXJ5QWxsLHVwZGF0ZUFsbF0pXCIsIFwiJFwiXSxcbiAgICAgIENPTlNUUlVDVDogW1wicHJvbG9ndWVcIiwgXCJvcihbcXVlcnlBbGwsdXBkYXRlQWxsXSlcIiwgXCIkXCJdLFxuICAgICAgREVTQ1JJQkU6IFtcInByb2xvZ3VlXCIsIFwib3IoW3F1ZXJ5QWxsLHVwZGF0ZUFsbF0pXCIsIFwiJFwiXSxcbiAgICAgIEFTSzogW1wicHJvbG9ndWVcIiwgXCJvcihbcXVlcnlBbGwsdXBkYXRlQWxsXSlcIiwgXCIkXCJdLFxuICAgICAgSU5TRVJUOiBbXCJwcm9sb2d1ZVwiLCBcIm9yKFtxdWVyeUFsbCx1cGRhdGVBbGxdKVwiLCBcIiRcIl0sXG4gICAgICBERUxFVEU6IFtcInByb2xvZ3VlXCIsIFwib3IoW3F1ZXJ5QWxsLHVwZGF0ZUFsbF0pXCIsIFwiJFwiXSxcbiAgICAgIFNFTEVDVDogW1wicHJvbG9ndWVcIiwgXCJvcihbcXVlcnlBbGwsdXBkYXRlQWxsXSlcIiwgXCIkXCJdLFxuICAgICAgTE9BRDogW1wicHJvbG9ndWVcIiwgXCJvcihbcXVlcnlBbGwsdXBkYXRlQWxsXSlcIiwgXCIkXCJdLFxuICAgICAgQ0xFQVI6IFtcInByb2xvZ3VlXCIsIFwib3IoW3F1ZXJ5QWxsLHVwZGF0ZUFsbF0pXCIsIFwiJFwiXSxcbiAgICAgIERST1A6IFtcInByb2xvZ3VlXCIsIFwib3IoW3F1ZXJ5QWxsLHVwZGF0ZUFsbF0pXCIsIFwiJFwiXSxcbiAgICAgIEFERDogW1wicHJvbG9ndWVcIiwgXCJvcihbcXVlcnlBbGwsdXBkYXRlQWxsXSlcIiwgXCIkXCJdLFxuICAgICAgTU9WRTogW1wicHJvbG9ndWVcIiwgXCJvcihbcXVlcnlBbGwsdXBkYXRlQWxsXSlcIiwgXCIkXCJdLFxuICAgICAgQ09QWTogW1wicHJvbG9ndWVcIiwgXCJvcihbcXVlcnlBbGwsdXBkYXRlQWxsXSlcIiwgXCIkXCJdLFxuICAgICAgQ1JFQVRFOiBbXCJwcm9sb2d1ZVwiLCBcIm9yKFtxdWVyeUFsbCx1cGRhdGVBbGxdKVwiLCBcIiRcIl0sXG4gICAgICBXSVRIOiBbXCJwcm9sb2d1ZVwiLCBcIm9yKFtxdWVyeUFsbCx1cGRhdGVBbGxdKVwiLCBcIiRcIl0sXG4gICAgICBCQVNFOiBbXCJwcm9sb2d1ZVwiLCBcIm9yKFtxdWVyeUFsbCx1cGRhdGVBbGxdKVwiLCBcIiRcIl0sXG4gICAgICBQUkVGSVg6IFtcInByb2xvZ3VlXCIsIFwib3IoW3F1ZXJ5QWxsLHVwZGF0ZUFsbF0pXCIsIFwiJFwiXVxuICAgIH0sXG4gICAgc3RvcmVQcm9wZXJ0eToge1xuICAgICAgVkFSMTogW10sXG4gICAgICBWQVIyOiBbXSxcbiAgICAgIElSSV9SRUY6IFtdLFxuICAgICAgUE5BTUVfTE46IFtdLFxuICAgICAgUE5BTUVfTlM6IFtdLFxuICAgICAgYTogW11cbiAgICB9LFxuICAgIHN0clJlcGxhY2VFeHByZXNzaW9uOiB7XG4gICAgICBSRVBMQUNFOiBbXG4gICAgICAgIFwiUkVQTEFDRVwiLFxuICAgICAgICBcIihcIixcbiAgICAgICAgXCJleHByZXNzaW9uXCIsXG4gICAgICAgIFwiLFwiLFxuICAgICAgICBcImV4cHJlc3Npb25cIixcbiAgICAgICAgXCIsXCIsXG4gICAgICAgIFwiZXhwcmVzc2lvblwiLFxuICAgICAgICBcIj9bLCxleHByZXNzaW9uXVwiLFxuICAgICAgICBcIilcIlxuICAgICAgXVxuICAgIH0sXG4gICAgc3RyaW5nOiB7XG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcIlNUUklOR19MSVRFUkFMMVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wiU1RSSU5HX0xJVEVSQUwyXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcIlNUUklOR19MSVRFUkFMX0xPTkcxXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzI6IFtcIlNUUklOR19MSVRFUkFMX0xPTkcyXCJdXG4gICAgfSxcbiAgICBzdWJTZWxlY3Q6IHtcbiAgICAgIFNFTEVDVDogW1xuICAgICAgICBcInNlbGVjdENsYXVzZVwiLFxuICAgICAgICBcIndoZXJlQ2xhdXNlXCIsXG4gICAgICAgIFwic29sdXRpb25Nb2RpZmllclwiLFxuICAgICAgICBcInZhbHVlc0NsYXVzZVwiXG4gICAgICBdXG4gICAgfSxcbiAgICBzdWJzdHJpbmdFeHByZXNzaW9uOiB7XG4gICAgICBTVUJTVFI6IFtcbiAgICAgICAgXCJTVUJTVFJcIixcbiAgICAgICAgXCIoXCIsXG4gICAgICAgIFwiZXhwcmVzc2lvblwiLFxuICAgICAgICBcIixcIixcbiAgICAgICAgXCJleHByZXNzaW9uXCIsXG4gICAgICAgIFwiP1ssLGV4cHJlc3Npb25dXCIsXG4gICAgICAgIFwiKVwiXG4gICAgICBdXG4gICAgfSxcbiAgICB0cmlwbGVzQmxvY2s6IHtcbiAgICAgIFZBUjE6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBWQVIyOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RQYXRoXCIsIFwiP1suLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgTklMOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RQYXRoXCIsIFwiP1suLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgXCIoXCI6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBcIltcIjogW1widHJpcGxlc1NhbWVTdWJqZWN0UGF0aFwiLCBcIj9bLiw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIElSSV9SRUY6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBUUlVFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RQYXRoXCIsIFwiP1suLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgRkFMU0U6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBCTEFOS19OT0RFX0xBQkVMOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RQYXRoXCIsIFwiP1suLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgQU5PTjogW1widHJpcGxlc1NhbWVTdWJqZWN0UGF0aFwiLCBcIj9bLiw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RQYXRoXCIsIFwiP1suLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDI6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTF9MT05HMTogW1widHJpcGxlc1NhbWVTdWJqZWN0UGF0aFwiLCBcIj9bLiw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RQYXRoXCIsIFwiP1suLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgSU5URUdFUjogW1widHJpcGxlc1NhbWVTdWJqZWN0UGF0aFwiLCBcIj9bLiw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIERFQ0lNQUw6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBET1VCTEU6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBJTlRFR0VSX1BPU0lUSVZFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RQYXRoXCIsIFwiP1suLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgREVDSU1BTF9QT1NJVElWRTogW1widHJpcGxlc1NhbWVTdWJqZWN0UGF0aFwiLCBcIj9bLiw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1widHJpcGxlc1NhbWVTdWJqZWN0UGF0aFwiLCBcIj9bLiw/dHJpcGxlc0Jsb2NrXVwiXSxcbiAgICAgIElOVEVHRVJfTkVHQVRJVkU6IFtcInRyaXBsZXNTYW1lU3ViamVjdFBhdGhcIiwgXCI/Wy4sP3RyaXBsZXNCbG9ja11cIl0sXG4gICAgICBERUNJTUFMX05FR0FUSVZFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RQYXRoXCIsIFwiP1suLD90cmlwbGVzQmxvY2tdXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RQYXRoXCIsIFwiP1suLD90cmlwbGVzQmxvY2tdXCJdXG4gICAgfSxcbiAgICB0cmlwbGVzTm9kZToge1xuICAgICAgXCIoXCI6IFtcImNvbGxlY3Rpb25cIl0sXG4gICAgICBcIltcIjogW1wiYmxhbmtOb2RlUHJvcGVydHlMaXN0XCJdXG4gICAgfSxcbiAgICB0cmlwbGVzTm9kZVBhdGg6IHtcbiAgICAgIFwiKFwiOiBbXCJjb2xsZWN0aW9uUGF0aFwiXSxcbiAgICAgIFwiW1wiOiBbXCJibGFua05vZGVQcm9wZXJ0eUxpc3RQYXRoXCJdXG4gICAgfSxcbiAgICB0cmlwbGVzU2FtZVN1YmplY3Q6IHtcbiAgICAgIFZBUjE6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgVkFSMjogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBOSUw6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgSVJJX1JFRjogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBUUlVFOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIEZBTFNFOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIEJMQU5LX05PREVfTEFCRUw6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgQU5PTjogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBQTkFNRV9MTjogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBQTkFNRV9OUzogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIElOVEVHRVI6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgREVDSU1BTDogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBET1VCTEU6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0Tm90RW1wdHlcIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdE5vdEVtcHR5XCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3ROb3RFbXB0eVwiXSxcbiAgICAgIFwiKFwiOiBbXCJ0cmlwbGVzTm9kZVwiLCBcInByb3BlcnR5TGlzdFwiXSxcbiAgICAgIFwiW1wiOiBbXCJ0cmlwbGVzTm9kZVwiLCBcInByb3BlcnR5TGlzdFwiXVxuICAgIH0sXG4gICAgdHJpcGxlc1NhbWVTdWJqZWN0UGF0aDoge1xuICAgICAgVkFSMTogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCJdLFxuICAgICAgVkFSMjogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCJdLFxuICAgICAgTklMOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlcIl0sXG4gICAgICBJUklfUkVGOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlcIl0sXG4gICAgICBUUlVFOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlcIl0sXG4gICAgICBGQUxTRTogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCJdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCJdLFxuICAgICAgQU5PTjogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCJdLFxuICAgICAgUE5BTUVfTE46IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlcIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlcIl0sXG4gICAgICBJTlRFR0VSOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlcIl0sXG4gICAgICBERUNJTUFMOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlcIl0sXG4gICAgICBET1VCTEU6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eVwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eVwiXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcInZhck9yVGVybVwiLCBcInByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eVwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCJdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1widmFyT3JUZXJtXCIsIFwicHJvcGVydHlMaXN0UGF0aE5vdEVtcHR5XCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJ2YXJPclRlcm1cIiwgXCJwcm9wZXJ0eUxpc3RQYXRoTm90RW1wdHlcIl0sXG4gICAgICBcIihcIjogW1widHJpcGxlc05vZGVQYXRoXCIsIFwicHJvcGVydHlMaXN0UGF0aFwiXSxcbiAgICAgIFwiW1wiOiBbXCJ0cmlwbGVzTm9kZVBhdGhcIiwgXCJwcm9wZXJ0eUxpc3RQYXRoXCJdXG4gICAgfSxcbiAgICB0cmlwbGVzVGVtcGxhdGU6IHtcbiAgICAgIFZBUjE6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIFZBUjI6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIE5JTDogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgXCIoXCI6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIFwiW1wiOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBJUklfUkVGOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBUUlVFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBGQUxTRTogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgQU5PTjogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgUE5BTUVfTE46IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBJTlRFR0VSOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBERUNJTUFMOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl0sXG4gICAgICBET1VCTEU6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcInRyaXBsZXNTYW1lU3ViamVjdFwiLCBcIj9bLiw/dHJpcGxlc1RlbXBsYXRlXVwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1widHJpcGxlc1NhbWVTdWJqZWN0XCIsIFwiP1suLD90cmlwbGVzVGVtcGxhdGVdXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJ0cmlwbGVzU2FtZVN1YmplY3RcIiwgXCI/Wy4sP3RyaXBsZXNUZW1wbGF0ZV1cIl1cbiAgICB9LFxuICAgIHVuYXJ5RXhwcmVzc2lvbjoge1xuICAgICAgXCIhXCI6IFtcIiFcIiwgXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFwiK1wiOiBbXCIrXCIsIFwicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBcIi1cIjogW1wiLVwiLCBcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgVkFSMTogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBWQVIyOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFwiKFwiOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUjogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBMQU5HOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIExBTkdNQVRDSEVTOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIERBVEFUWVBFOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIEJPVU5EOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIElSSTogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBVUkk6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgQk5PREU6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgUkFORDogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBBQlM6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgQ0VJTDogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBGTE9PUjogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBST1VORDogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBDT05DQVQ6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSTEVOOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFVDQVNFOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIExDQVNFOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIEVOQ09ERV9GT1JfVVJJOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIENPTlRBSU5TOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUlNUQVJUUzogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJFTkRTOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkJFRk9SRTogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJBRlRFUjogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBZRUFSOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIE1PTlRIOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIERBWTogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBIT1VSUzogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBNSU5VVEVTOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNFQ09ORFM6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgVElNRVpPTkU6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgVFo6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgTk9XOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFVVSUQ6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSVVVJRDogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBNRDU6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgU0hBMTogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBTSEEyNTY6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgU0hBMzg0OiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNIQTUxMjogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBDT0FMRVNDRTogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBJRjogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJMQU5HOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkRUOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNBTUVURVJNOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIElTSVJJOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIElTVVJJOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIElTQkxBTks6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgSVNMSVRFUkFMOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIElTTlVNRVJJQzogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBUUlVFOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIEZBTFNFOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIENPVU5UOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNVTTogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBNSU46IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgTUFYOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIEFWRzogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBTQU1QTEU6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgR1JPVVBfQ09OQ0FUOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNVQlNUUjogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBSRVBMQUNFOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFJFR0VYOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIEVYSVNUUzogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBOT1Q6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgSVJJX1JFRjogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIElOVEVHRVI6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgREVDSU1BTDogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBET1VCTEU6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1wicHJpbWFyeUV4cHJlc3Npb25cIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcInByaW1hcnlFeHByZXNzaW9uXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJwcmltYXJ5RXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgdXBkYXRlOiB7XG4gICAgICBJTlNFUlQ6IFtcInByb2xvZ3VlXCIsIFwiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgIERFTEVURTogW1wicHJvbG9ndWVcIiwgXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgTE9BRDogW1wicHJvbG9ndWVcIiwgXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgQ0xFQVI6IFtcInByb2xvZ3VlXCIsIFwiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgIERST1A6IFtcInByb2xvZ3VlXCIsIFwiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgIEFERDogW1wicHJvbG9ndWVcIiwgXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgTU9WRTogW1wicHJvbG9ndWVcIiwgXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgQ09QWTogW1wicHJvbG9ndWVcIiwgXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgQ1JFQVRFOiBbXCJwcm9sb2d1ZVwiLCBcIj9bdXBkYXRlMSw/WzssdXBkYXRlXV1cIl0sXG4gICAgICBXSVRIOiBbXCJwcm9sb2d1ZVwiLCBcIj9bdXBkYXRlMSw/WzssdXBkYXRlXV1cIl0sXG4gICAgICBCQVNFOiBbXCJwcm9sb2d1ZVwiLCBcIj9bdXBkYXRlMSw/WzssdXBkYXRlXV1cIl0sXG4gICAgICBQUkVGSVg6IFtcInByb2xvZ3VlXCIsIFwiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgICQ6IFtcInByb2xvZ3VlXCIsIFwiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXVxuICAgIH0sXG4gICAgdXBkYXRlMToge1xuICAgICAgTE9BRDogW1wibG9hZFwiXSxcbiAgICAgIENMRUFSOiBbXCJjbGVhclwiXSxcbiAgICAgIERST1A6IFtcImRyb3BcIl0sXG4gICAgICBBREQ6IFtcImFkZFwiXSxcbiAgICAgIE1PVkU6IFtcIm1vdmVcIl0sXG4gICAgICBDT1BZOiBbXCJjb3B5XCJdLFxuICAgICAgQ1JFQVRFOiBbXCJjcmVhdGVcIl0sXG4gICAgICBJTlNFUlQ6IFtcIklOU0VSVFwiLCBcImluc2VydDFcIl0sXG4gICAgICBERUxFVEU6IFtcIkRFTEVURVwiLCBcImRlbGV0ZTFcIl0sXG4gICAgICBXSVRIOiBbXCJtb2RpZnlcIl1cbiAgICB9LFxuICAgIHVwZGF0ZUFsbDoge1xuICAgICAgSU5TRVJUOiBbXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgREVMRVRFOiBbXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgTE9BRDogW1wiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgIENMRUFSOiBbXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgRFJPUDogW1wiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgIEFERDogW1wiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgIE1PVkU6IFtcIj9bdXBkYXRlMSw/WzssdXBkYXRlXV1cIl0sXG4gICAgICBDT1BZOiBbXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgQ1JFQVRFOiBbXCI/W3VwZGF0ZTEsP1s7LHVwZGF0ZV1dXCJdLFxuICAgICAgV0lUSDogW1wiP1t1cGRhdGUxLD9bOyx1cGRhdGVdXVwiXSxcbiAgICAgICQ6IFtcIj9bdXBkYXRlMSw/WzssdXBkYXRlXV1cIl1cbiAgICB9LFxuICAgIHVzaW5nQ2xhdXNlOiB7XG4gICAgICBVU0lORzogW1wiVVNJTkdcIiwgXCJvcihbaXJpUmVmLFtOQU1FRCxpcmlSZWZdXSlcIl1cbiAgICB9LFxuICAgIHZhbHVlTG9naWNhbDoge1xuICAgICAgXCIhXCI6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgXCIrXCI6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgXCItXCI6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgVkFSMTogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBWQVIyOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFwiKFwiOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUjogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBMQU5HOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIExBTkdNQVRDSEVTOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIERBVEFUWVBFOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIEJPVU5EOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIElSSTogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBVUkk6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgQk5PREU6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgUkFORDogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBBQlM6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgQ0VJTDogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBGTE9PUjogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBST1VORDogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBDT05DQVQ6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSTEVOOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFVDQVNFOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIExDQVNFOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIEVOQ09ERV9GT1JfVVJJOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIENPTlRBSU5TOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUlNUQVJUUzogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJFTkRTOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkJFRk9SRTogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJBRlRFUjogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBZRUFSOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIE1PTlRIOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIERBWTogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBIT1VSUzogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBNSU5VVEVTOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNFQ09ORFM6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgVElNRVpPTkU6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgVFo6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgTk9XOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFVVSUQ6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSVVVJRDogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBNRDU6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgU0hBMTogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBTSEEyNTY6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgU0hBMzg0OiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNIQTUxMjogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBDT0FMRVNDRTogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBJRjogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJMQU5HOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUkRUOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNBTUVURVJNOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIElTSVJJOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIElTVVJJOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIElTQkxBTks6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgSVNMSVRFUkFMOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIElTTlVNRVJJQzogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBUUlVFOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIEZBTFNFOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIENPVU5UOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNVTTogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBNSU46IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgTUFYOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIEFWRzogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBTQU1QTEU6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgR1JPVVBfQ09OQ0FUOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNVQlNUUjogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBSRVBMQUNFOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFJFR0VYOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIEVYSVNUUzogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBOT1Q6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgSVJJX1JFRjogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUwyOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcxOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIElOVEVHRVI6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgREVDSU1BTDogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBET1VCTEU6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgSU5URUdFUl9QT1NJVElWRTogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBERUNJTUFMX1BPU0lUSVZFOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1wicmVsYXRpb25hbEV4cHJlc3Npb25cIl0sXG4gICAgICBJTlRFR0VSX05FR0FUSVZFOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIERFQ0lNQUxfTkVHQVRJVkU6IFtcInJlbGF0aW9uYWxFeHByZXNzaW9uXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJyZWxhdGlvbmFsRXhwcmVzc2lvblwiXVxuICAgIH0sXG4gICAgdmFsdWVzQ2xhdXNlOiB7XG4gICAgICBWQUxVRVM6IFtcIlZBTFVFU1wiLCBcImRhdGFCbG9ja1wiXSxcbiAgICAgICQ6IFtdLFxuICAgICAgXCJ9XCI6IFtdXG4gICAgfSxcbiAgICB2YXI6IHtcbiAgICAgIFZBUjE6IFtcIlZBUjFcIl0sXG4gICAgICBWQVIyOiBbXCJWQVIyXCJdXG4gICAgfSxcbiAgICB2YXJPcklSSXJlZjoge1xuICAgICAgVkFSMTogW1widmFyXCJdLFxuICAgICAgVkFSMjogW1widmFyXCJdLFxuICAgICAgSVJJX1JFRjogW1wiaXJpUmVmXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImlyaVJlZlwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJpcmlSZWZcIl1cbiAgICB9LFxuICAgIHZhck9yVGVybToge1xuICAgICAgVkFSMTogW1widmFyXCJdLFxuICAgICAgVkFSMjogW1widmFyXCJdLFxuICAgICAgTklMOiBbXCJncmFwaFRlcm1cIl0sXG4gICAgICBJUklfUkVGOiBbXCJncmFwaFRlcm1cIl0sXG4gICAgICBUUlVFOiBbXCJncmFwaFRlcm1cIl0sXG4gICAgICBGQUxTRTogW1wiZ3JhcGhUZXJtXCJdLFxuICAgICAgQkxBTktfTk9ERV9MQUJFTDogW1wiZ3JhcGhUZXJtXCJdLFxuICAgICAgQU5PTjogW1wiZ3JhcGhUZXJtXCJdLFxuICAgICAgUE5BTUVfTE46IFtcImdyYXBoVGVybVwiXSxcbiAgICAgIFBOQU1FX05TOiBbXCJncmFwaFRlcm1cIl0sXG4gICAgICBTVFJJTkdfTElURVJBTDE6IFtcImdyYXBoVGVybVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMMjogW1wiZ3JhcGhUZXJtXCJdLFxuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9ORzE6IFtcImdyYXBoVGVybVwiXSxcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkcyOiBbXCJncmFwaFRlcm1cIl0sXG4gICAgICBJTlRFR0VSOiBbXCJncmFwaFRlcm1cIl0sXG4gICAgICBERUNJTUFMOiBbXCJncmFwaFRlcm1cIl0sXG4gICAgICBET1VCTEU6IFtcImdyYXBoVGVybVwiXSxcbiAgICAgIElOVEVHRVJfUE9TSVRJVkU6IFtcImdyYXBoVGVybVwiXSxcbiAgICAgIERFQ0lNQUxfUE9TSVRJVkU6IFtcImdyYXBoVGVybVwiXSxcbiAgICAgIERPVUJMRV9QT1NJVElWRTogW1wiZ3JhcGhUZXJtXCJdLFxuICAgICAgSU5URUdFUl9ORUdBVElWRTogW1wiZ3JhcGhUZXJtXCJdLFxuICAgICAgREVDSU1BTF9ORUdBVElWRTogW1wiZ3JhcGhUZXJtXCJdLFxuICAgICAgRE9VQkxFX05FR0FUSVZFOiBbXCJncmFwaFRlcm1cIl1cbiAgICB9LFxuICAgIHZlcmI6IHtcbiAgICAgIFZBUjE6IFtcInN0b3JlUHJvcGVydHlcIiwgXCJ2YXJPcklSSXJlZlwiXSxcbiAgICAgIFZBUjI6IFtcInN0b3JlUHJvcGVydHlcIiwgXCJ2YXJPcklSSXJlZlwiXSxcbiAgICAgIElSSV9SRUY6IFtcInN0b3JlUHJvcGVydHlcIiwgXCJ2YXJPcklSSXJlZlwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJzdG9yZVByb3BlcnR5XCIsIFwidmFyT3JJUklyZWZcIl0sXG4gICAgICBQTkFNRV9OUzogW1wic3RvcmVQcm9wZXJ0eVwiLCBcInZhck9ySVJJcmVmXCJdLFxuICAgICAgYTogW1wic3RvcmVQcm9wZXJ0eVwiLCBcImFcIl1cbiAgICB9LFxuICAgIHZlcmJQYXRoOiB7XG4gICAgICBcIl5cIjogW1wicGF0aFwiXSxcbiAgICAgIGE6IFtcInBhdGhcIl0sXG4gICAgICBcIiFcIjogW1wicGF0aFwiXSxcbiAgICAgIFwiKFwiOiBbXCJwYXRoXCJdLFxuICAgICAgSVJJX1JFRjogW1wicGF0aFwiXSxcbiAgICAgIFBOQU1FX0xOOiBbXCJwYXRoXCJdLFxuICAgICAgUE5BTUVfTlM6IFtcInBhdGhcIl1cbiAgICB9LFxuICAgIHZlcmJTaW1wbGU6IHtcbiAgICAgIFZBUjE6IFtcInZhclwiXSxcbiAgICAgIFZBUjI6IFtcInZhclwiXVxuICAgIH0sXG4gICAgd2hlcmVDbGF1c2U6IHtcbiAgICAgIFwie1wiOiBbXCI/V0hFUkVcIiwgXCJncm91cEdyYXBoUGF0dGVyblwiXSxcbiAgICAgIFdIRVJFOiBbXCI/V0hFUkVcIiwgXCJncm91cEdyYXBoUGF0dGVyblwiXVxuICAgIH1cbiAgfSxcblxuICBrZXl3b3JkczogL14oR1JPVVBfQ09OQ0FUfERBVEFUWVBFfEJBU0V8UFJFRklYfFNFTEVDVHxDT05TVFJVQ1R8REVTQ1JJQkV8QVNLfEZST018TkFNRUR8T1JERVJ8Qll8TElNSVR8QVNDfERFU0N8T0ZGU0VUfERJU1RJTkNUfFJFRFVDRUR8V0hFUkV8R1JBUEh8T1BUSU9OQUx8VU5JT058RklMVEVSfEdST1VQfEhBVklOR3xBU3xWQUxVRVN8TE9BRHxDTEVBUnxEUk9QfENSRUFURXxNT1ZFfENPUFl8U0lMRU5UfElOU0VSVHxERUxFVEV8REFUQXxXSVRIfFRPfFVTSU5HfE5BTUVEfE1JTlVTfEJJTkR8TEFOR01BVENIRVN8TEFOR3xCT1VORHxTQU1FVEVSTXxJU0lSSXxJU1VSSXxJU0JMQU5LfElTTElURVJBTHxSRUdFWHxUUlVFfEZBTFNFfFVOREVGfEFERHxERUZBVUxUfEFMTHxTRVJWSUNFfElOVE98SU58Tk9UfElSSXxVUkl8Qk5PREV8UkFORHxBQlN8Q0VJTHxGTE9PUnxST1VORHxDT05DQVR8U1RSTEVOfFVDQVNFfExDQVNFfEVOQ09ERV9GT1JfVVJJfENPTlRBSU5TfFNUUlNUQVJUU3xTVFJFTkRTfFNUUkJFRk9SRXxTVFJBRlRFUnxZRUFSfE1PTlRIfERBWXxIT1VSU3xNSU5VVEVTfFNFQ09ORFN8VElNRVpPTkV8VFp8Tk9XfFVVSUR8U1RSVVVJRHxNRDV8U0hBMXxTSEEyNTZ8U0hBMzg0fFNIQTUxMnxDT0FMRVNDRXxJRnxTVFJMQU5HfFNUUkRUfElTTlVNRVJJQ3xTVUJTVFJ8UkVQTEFDRXxFWElTVFN8Q09VTlR8U1VNfE1JTnxNQVh8QVZHfFNBTVBMRXxTRVBBUkFUT1J8U1RSKS9pLFxuXG4gIHB1bmN0OiAvXihcXCp8YXxcXC58XFx7fFxcfXwsfFxcKHxcXCl8O3xcXFt8XFxdfFxcfFxcfHwmJnw9fCE9fCF8PD18Pj18PHw+fFxcK3wtfFxcL3xcXF5cXF58XFw/fFxcfHxcXF4pLyxcblxuICBzdGFydFN5bWJvbDogXCJzcGFycWwxMVwiLFxuICBhY2NlcHRFbXB0eTogdHJ1ZVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIENvZGVNaXJyb3IgPSByZXF1aXJlKFwiY29kZW1pcnJvclwiKTtcbkNvZGVNaXJyb3IuZGVmaW5lTW9kZShcInNwYXJxbDExXCIsIGZ1bmN0aW9uKGNvbmZpZywgcGFyc2VyQ29uZmlnKSB7XG4gIHZhciBpbmRlbnRVbml0ID0gY29uZmlnLmluZGVudFVuaXQ7XG5cbiAgdmFyIGdyYW1tYXIgPSByZXF1aXJlKFwiLi9fdG9rZW5pemVyLXRhYmxlLmpzXCIpO1xuICB2YXIgbGwxX3RhYmxlID0gZ3JhbW1hci50YWJsZTtcblxuICB2YXIgSVJJX1JFRiA9ICc8W148PlwiYFxcfFxce1xcfVxcXlxcXFxcXHgwMC1cXHgyMF0qPic7XG4gIC8qXG5cdCAqIFBOX0NIQVJTX0JBU0UgPVxuXHQgKiAnW0EtWl18W2Etel18W1xcXFx1MDBDMC1cXFxcdTAwRDZdfFtcXFxcdTAwRDgtXFxcXHUwMEY2XXxbXFxcXHUwMEY4LVxcXFx1MDJGRl18W1xcXFx1MDM3MC1cXFxcdTAzN0RdfFtcXFxcdTAzN0YtXFxcXHUxRkZGXXxbXFxcXHUyMDBDLVxcXFx1MjAwRF18W1xcXFx1MjA3MC1cXFxcdTIxOEZdfFtcXFxcdTJDMDAtXFxcXHUyRkVGXXxbXFxcXHUzMDAxLVxcXFx1RDdGRl18W1xcXFx1RjkwMC1cXFxcdUZEQ0ZdfFtcXFxcdUZERjAtXFxcXHVGRkZEXXxbXFxcXHUxMDAwMC1cXFxcdUVGRkZGXSc7XG5cdCAqL1xuXG4gIHZhciBQTl9DSEFSU19CQVNFID0gXCJbQS1aYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRdXCI7XG4gIHZhciBQTl9DSEFSU19VID0gUE5fQ0hBUlNfQkFTRSArIFwifF9cIjtcblxuICB2YXIgUE5fQ0hBUlMgPSBcIihcIiArIFBOX0NIQVJTX1UgKyBcInwtfFswLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF0pXCI7XG4gIHZhciBWQVJOQU1FID0gXCIoXCIgKyBQTl9DSEFSU19VICsgXCJ8WzAtOV0pXCIgKyBcIihcIiArIFBOX0NIQVJTX1UgKyBcInxbMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKSpcIjtcbiAgdmFyIFZBUjEgPSBcIlxcXFw/XCIgKyBWQVJOQU1FO1xuICB2YXIgVkFSMiA9IFwiXFxcXCRcIiArIFZBUk5BTUU7XG5cbiAgdmFyIFBOX1BSRUZJWCA9IFwiKFwiICsgUE5fQ0hBUlNfQkFTRSArIFwiKSgoKFwiICsgUE5fQ0hBUlMgKyBcIil8XFxcXC4pKihcIiArIFBOX0NIQVJTICsgXCIpKT9cIjtcblxuICB2YXIgSEVYID0gXCJbMC05QS1GYS1mXVwiO1xuICB2YXIgUEVSQ0VOVCA9IFwiKCVcIiArIEhFWCArIEhFWCArIFwiKVwiO1xuICB2YXIgUE5fTE9DQUxfRVNDID0gXCIoXFxcXFxcXFxbX35cXFxcLlxcXFwtIVxcXFwkJidcXFxcKFxcXFwpXFxcXCpcXFxcKyw7PS9cXFxcPyNAJV0pXCI7XG4gIHZhciBQTFggPSBcIihcIiArIFBFUkNFTlQgKyBcInxcIiArIFBOX0xPQ0FMX0VTQyArIFwiKVwiO1xuICB2YXIgUE5fTE9DQUwgPSBcIihcIiArXG4gICAgUE5fQ0hBUlNfVSArXG4gICAgXCJ8OnxbMC05XXxcIiArXG4gICAgUExYICtcbiAgICBcIikoKFwiICtcbiAgICBQTl9DSEFSUyArXG4gICAgXCJ8XFxcXC58OnxcIiArXG4gICAgUExYICtcbiAgICBcIikqKFwiICtcbiAgICBQTl9DSEFSUyArXG4gICAgXCJ8OnxcIiArXG4gICAgUExYICtcbiAgICBcIikpP1wiO1xuICB2YXIgQkxBTktfTk9ERV9MQUJFTCA9IFwiXzooXCIgKyBQTl9DSEFSU19VICsgXCJ8WzAtOV0pKChcIiArIFBOX0NIQVJTICsgXCJ8XFxcXC4pKlwiICsgUE5fQ0hBUlMgKyBcIik/XCI7XG4gIHZhciBQTkFNRV9OUyA9IFwiKFwiICsgUE5fUFJFRklYICsgXCIpPzpcIjtcbiAgdmFyIFBOQU1FX0xOID0gUE5BTUVfTlMgKyBQTl9MT0NBTDtcbiAgdmFyIExBTkdUQUcgPSBcIkBbYS16QS1aXSsoLVthLXpBLVowLTldKykqXCI7XG5cbiAgdmFyIEVYUE9ORU5UID0gXCJbZUVdW1xcXFwrLV0/WzAtOV0rXCI7XG4gIHZhciBJTlRFR0VSID0gXCJbMC05XStcIjtcbiAgdmFyIERFQ0lNQUwgPSBcIigoWzAtOV0rXFxcXC5bMC05XSopfChcXFxcLlswLTldKykpXCI7XG4gIHZhciBET1VCTEUgPSBcIigoWzAtOV0rXFxcXC5bMC05XSpcIiArIEVYUE9ORU5UICsgXCIpfFwiICsgXCIoXFxcXC5bMC05XStcIiArIEVYUE9ORU5UICsgXCIpfFwiICsgXCIoWzAtOV0rXCIgKyBFWFBPTkVOVCArIFwiKSlcIjtcblxuICB2YXIgSU5URUdFUl9QT1NJVElWRSA9IFwiXFxcXCtcIiArIElOVEVHRVI7XG4gIHZhciBERUNJTUFMX1BPU0lUSVZFID0gXCJcXFxcK1wiICsgREVDSU1BTDtcbiAgdmFyIERPVUJMRV9QT1NJVElWRSA9IFwiXFxcXCtcIiArIERPVUJMRTtcbiAgdmFyIElOVEVHRVJfTkVHQVRJVkUgPSBcIi1cIiArIElOVEVHRVI7XG4gIHZhciBERUNJTUFMX05FR0FUSVZFID0gXCItXCIgKyBERUNJTUFMO1xuICB2YXIgRE9VQkxFX05FR0FUSVZFID0gXCItXCIgKyBET1VCTEU7XG5cbiAgdmFyIEVDSEFSID0gXCJcXFxcXFxcXFt0Ym5yZlxcXFxcXFxcXFxcIiddXCI7XG5cbiAgLy9JTVBPUlRBTlQ6IHRoaXMgdW5pY29kZSBydWxlIGlzIG5vdCBpbiB0aGUgb2ZmaWNpYWwgZ3JhbW1hci5cbiAgLy9SZWFzb246IGh0dHBzOi8vZ2l0aHViLmNvbS9ZQVNHVUkvWUFTUUUvaXNzdWVzLzQ5XG4gIC8vdW5pY29kZSBlc2NhcGUgc2VxdWVuY2VzICh3aGljaCB0aGUgc3BhcnFsIHNwZWMgY29uc2lkZXJzIHBhcnQgb2YgdGhlIHByZS1wcm9jZXNzaW5nIG9mIHNwYXJxbCBxdWVyaWVzKVxuICAvL2FyZSBtYXJrZWQgYXMgaW52YWxpZC4gV2UgaGF2ZSBsaXR0bGUgY2hvaWNlIChvdGhlciB0aGFuIGFkZGluZyBhIGxheWVyIG9mIGNvbXBsaXhpdHkpIHRoYW4gdG8gbW9kaWZ5IHRoZSBncmFtbWFyIGFjY29yZGluZ2x5XG4gIC8vaG93ZXZlciwgZm9yIG5vdyBvbmx5IGFsbG93IHRoZXNlIGVzY2FwZSBzZXF1ZW5jZXMgaW4gbGl0ZXJhbHMgKHdoZXJlIGFjdHVhbGx5LCB0aGlzIHNob3VsZCBiZSBhbGxvd3MgaW4gZS5nLiBwcmVmaXhlcyBhcyB3ZWxsKVxuICB2YXIgaGV4NCA9IEhFWCArIFwiezR9XCI7XG4gIHZhciB1bmljb2RlID0gXCIoXFxcXFxcXFx1XCIgKyBoZXg0ICsgXCJ8XFxcXFxcXFxVMDAoMTB8MFwiICsgSEVYICsgXCIpXCIgKyBoZXg0ICsgXCIpXCI7XG4gIHZhciBMSU5FX0JSRUFLID0gXCJcXG5cIjtcbiAgdmFyIFNUUklOR19MSVRFUkFMMSA9IFwiJygoW15cXFxceDI3XFxcXHg1Q1xcXFx4MEFcXFxceDBEXSl8XCIgKyBFQ0hBUiArIFwifFwiICsgdW5pY29kZSArIFwiKSonXCI7XG4gIHZhciBTVFJJTkdfTElURVJBTDIgPSAnXCIoKFteXFxcXHgyMlxcXFx4NUNcXFxceDBBXFxcXHgwRF0pfCcgKyBFQ0hBUiArIFwifFwiICsgdW5pY29kZSArICcpKlwiJztcblxuICB2YXIgU1RSSU5HX0xJVEVSQUxfTE9ORyA9IHtcbiAgICBTSU5HTEU6IHtcbiAgICAgIENBVDogXCJTVFJJTkdfTElURVJBTF9MT05HMVwiLFxuICAgICAgUVVPVEVTOiBcIicnJ1wiLFxuICAgICAgQ09OVEVOVFM6IFwiKCgnfCcnKT8oW14nXFxcXFxcXFxdfFwiICsgRUNIQVIgKyBcInxcIiArIHVuaWNvZGUgKyBcIikpKlwiXG4gICAgfSxcbiAgICBET1VCTEU6IHtcbiAgICAgIENBVDogXCJTVFJJTkdfTElURVJBTF9MT05HMlwiLFxuICAgICAgUVVPVEVTOiAnXCJcIlwiJyxcbiAgICAgIENPTlRFTlRTOiAnKChcInxcIlwiKT8oW15cIlxcXFxcXFxcXXwnICsgRUNIQVIgKyBcInxcIiArIHVuaWNvZGUgKyBcIikpKlwiXG4gICAgfVxuICB9O1xuICBmb3IgKHZhciBrZXkgaW4gU1RSSU5HX0xJVEVSQUxfTE9ORykge1xuICAgIFNUUklOR19MSVRFUkFMX0xPTkdba2V5XS5DT01QTEVURSA9IFNUUklOR19MSVRFUkFMX0xPTkdba2V5XS5RVU9URVMgK1xuICAgICAgU1RSSU5HX0xJVEVSQUxfTE9OR1trZXldLkNPTlRFTlRTICtcbiAgICAgIFNUUklOR19MSVRFUkFMX0xPTkdba2V5XS5RVU9URVM7XG4gIH1cbiAgLy9cdHZhciBTVFJJTkdfTElURVJBTF9MT05HX1FVT1RFUyA9IHtcbiAgLy9cdFx0XCJTVFJJTkdfTElURVJBTF9MT05HX1FVT1RFUzFcIjogXCInJydcIixcbiAgLy9cdFx0XCJTVFJJTkdfTElURVJBTF9MT05HX1FVT1RFUzJcIjogJ1wiXCJcIicsXG4gIC8vXHR9XG4gIC8vXHR2YXIgU1RSSU5HX0xJVEVSQUxfTE9OR19DT05URU5UUyA9IHtcbiAgLy9cdFx0XCJTVFJJTkdfTElURVJBTF9MT05HX1FVT1RFUzFcIjogXCIoKCd8JycpPyhbXidcXFxcXFxcXF18XCIrRUNIQVIrXCJ8XCIrdW5pY29kZStcIikpKlwiLFxuICAvL1x0XHRcIlNUUklOR19MSVRFUkFMX0xPTkdfUVVPVEVTMlwiOiAnKChcInxcIlwiKT8oW15cIlxcXFxcXFxcXXwnK0VDSEFSKyd8Jyt1bmljb2RlKycpKSonXG4gIC8vXHR9O1xuICAvL1x0dmFyIFNUUklOR19MSVRFUkFMX0xPTkcxID0gU1RSSU5HX0xJVEVSQUxfTE9OR1snU0lOR0xFJ10uUVVPVEVTICsgU1RSSU5HX0xJVEVSQUxfTE9OR1snU0lOR0xFJ10uQ09OVEVOVFMgKyBTVFJJTkdfTElURVJBTF9MT05HWydTSU5HTEUnXS5RVU9URVM7XG4gIC8vXHR2YXIgU1RSSU5HX0xJVEVSQUxfTE9ORzIgPSBTVFJJTkdfTElURVJBTF9MT05HWydET1VCTEUnXS5RVU9URVMgKyBTVFJJTkdfTElURVJBTF9MT05HWydET1VCTEUnXS5DT05URU5UUyArIFNUUklOR19MSVRFUkFMX0xPTkdbJ0RPVUJMRSddLlFVT1RFUztcblxuICAvL1x0dmFyIHN0cmluZ0xpdGVyYWxMb25nQ29udGVudFRlcm1pbmFscyA9IHt9O1xuICAvL1x0Zm9yICh2YXIga2V5IGluIFNUUklOR19MSVRFUkFMX0xPTkcpIHtcbiAgLy9cdFx0c3RyaW5nTGl0ZXJhbExvbmdDb250ZW50VGVybWluYWxzW2tleV0gPSB7XG4gIC8vXHRcdFx0bmFtZToga2V5LFxuICAvL1x0XHRcdHJlZ2V4Om5ldyBSZWdFeHAoXCJeXCIrU1RSSU5HX0xJVEVSQUxfTE9OR19DT05URU5UU1trZXldKSxcbiAgLy9cdFx0XHRzdHlsZTpcInN0cmluZ1wiXG4gIC8vXHRcdH07XG4gIC8vXHR9XG4gIC8vc29tZSByZWd1bGFyIGV4cHJlc3Npb25zIG5vdCB1c2VkIGluIHJlZ3VsYXIgdGVybWluYWxzLCBiZWNhdXNlIHRoaXMgaXMgdXNlZCBhY2Nyb3NzIGxpbmVzXG4gIHZhciBzdHJpbmdMaXRlcmFsTG9uZ1JlZ2V4ID0ge307XG4gIGZvciAodmFyIGtleSBpbiBTVFJJTkdfTElURVJBTF9MT05HKSB7XG4gICAgc3RyaW5nTGl0ZXJhbExvbmdSZWdleFtrZXldID0ge1xuICAgICAgY29tcGxldGU6IHtcbiAgICAgICAgbmFtZTogXCJTVFJJTkdfTElURVJBTF9MT05HX1wiICsga2V5LFxuICAgICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIFNUUklOR19MSVRFUkFMX0xPTkdba2V5XS5DT01QTEVURSksXG4gICAgICAgIHN0eWxlOiBcInN0cmluZ1wiXG4gICAgICB9LFxuICAgICAgY29udGVudHM6IHtcbiAgICAgICAgbmFtZTogXCJTVFJJTkdfTElURVJBTF9MT05HX1wiICsga2V5LFxuICAgICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIFNUUklOR19MSVRFUkFMX0xPTkdba2V5XS5DT05URU5UUyksXG4gICAgICAgIHN0eWxlOiBcInN0cmluZ1wiXG4gICAgICB9LFxuICAgICAgY2xvc2luZzoge1xuICAgICAgICBuYW1lOiBcIlNUUklOR19MSVRFUkFMX0xPTkdfXCIgKyBrZXksXG4gICAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFwiXlwiICsgU1RSSU5HX0xJVEVSQUxfTE9OR1trZXldLkNPTlRFTlRTICsgU1RSSU5HX0xJVEVSQUxfTE9OR1trZXldLlFVT1RFUyksXG4gICAgICAgIHN0eWxlOiBcInN0cmluZ1wiXG4gICAgICB9LFxuICAgICAgcXVvdGVzOiB7XG4gICAgICAgIG5hbWU6IFwiU1RSSU5HX0xJVEVSQUxfTE9OR19RVU9URVNfXCIgKyBrZXksXG4gICAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFwiXlwiICsgU1RSSU5HX0xJVEVSQUxfTE9OR1trZXldLlFVT1RFUyksXG4gICAgICAgIHN0eWxlOiBcInN0cmluZ1wiXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBXUyA9IFwiW1xcXFx4MjBcXFxceDA5XFxcXHgwRFxcXFx4MEFdXCI7XG4gIC8vIENhcmVmdWwhIENvZGUgbWlycm9yIGZlZWRzIG9uZSBsaW5lIGF0IGEgdGltZSB3aXRoIG5vIFxcblxuICAvLyAuLi4gYnV0IG90aGVyd2lzZSBjb21tZW50IGlzIHRlcm1pbmF0ZWQgYnkgXFxuXG4gIHZhciBDT01NRU5UID0gXCIjKFteXFxcXG5cXFxccl0qW1xcXFxuXFxcXHJdfFteXFxcXG5cXFxccl0qJClcIjtcbiAgdmFyIFdTX09SX0NPTU1FTlRfU1RBUiA9IFwiKFwiICsgV1MgKyBcInwoXCIgKyBDT01NRU5UICsgXCIpKSpcIjtcbiAgdmFyIE5JTCA9IFwiXFxcXChcIiArIFdTX09SX0NPTU1FTlRfU1RBUiArIFwiXFxcXClcIjtcbiAgdmFyIEFOT04gPSBcIlxcXFxbXCIgKyBXU19PUl9DT01NRU5UX1NUQVIgKyBcIlxcXFxdXCI7XG4gIHZhciB0ZXJtaW5hbHMgPSBbXG4gICAge1xuICAgICAgbmFtZTogXCJXU1wiLFxuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoXCJeXCIgKyBXUyArIFwiK1wiKSxcbiAgICAgIHN0eWxlOiBcIndzXCJcbiAgICB9LFxuXG4gICAge1xuICAgICAgbmFtZTogXCJDT01NRU5UXCIsXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIENPTU1FTlQpLFxuICAgICAgc3R5bGU6IFwiY29tbWVudFwiXG4gICAgfSxcblxuICAgIHtcbiAgICAgIG5hbWU6IFwiSVJJX1JFRlwiLFxuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoXCJeXCIgKyBJUklfUkVGKSxcbiAgICAgIHN0eWxlOiBcInZhcmlhYmxlLTNcIlxuICAgIH0sXG5cbiAgICB7XG4gICAgICBuYW1lOiBcIlZBUjFcIixcbiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFwiXlwiICsgVkFSMSksXG4gICAgICBzdHlsZTogXCJhdG9tXCJcbiAgICB9LFxuXG4gICAge1xuICAgICAgbmFtZTogXCJWQVIyXCIsXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIFZBUjIpLFxuICAgICAgc3R5bGU6IFwiYXRvbVwiXG4gICAgfSxcblxuICAgIHtcbiAgICAgIG5hbWU6IFwiTEFOR1RBR1wiLFxuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoXCJeXCIgKyBMQU5HVEFHKSxcbiAgICAgIHN0eWxlOiBcIm1ldGFcIlxuICAgIH0sXG5cbiAgICB7XG4gICAgICBuYW1lOiBcIkRPVUJMRVwiLFxuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoXCJeXCIgKyBET1VCTEUpLFxuICAgICAgc3R5bGU6IFwibnVtYmVyXCJcbiAgICB9LFxuXG4gICAge1xuICAgICAgbmFtZTogXCJERUNJTUFMXCIsXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIERFQ0lNQUwpLFxuICAgICAgc3R5bGU6IFwibnVtYmVyXCJcbiAgICB9LFxuXG4gICAge1xuICAgICAgbmFtZTogXCJJTlRFR0VSXCIsXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIElOVEVHRVIpLFxuICAgICAgc3R5bGU6IFwibnVtYmVyXCJcbiAgICB9LFxuXG4gICAge1xuICAgICAgbmFtZTogXCJET1VCTEVfUE9TSVRJVkVcIixcbiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFwiXlwiICsgRE9VQkxFX1BPU0lUSVZFKSxcbiAgICAgIHN0eWxlOiBcIm51bWJlclwiXG4gICAgfSxcblxuICAgIHtcbiAgICAgIG5hbWU6IFwiREVDSU1BTF9QT1NJVElWRVwiLFxuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoXCJeXCIgKyBERUNJTUFMX1BPU0lUSVZFKSxcbiAgICAgIHN0eWxlOiBcIm51bWJlclwiXG4gICAgfSxcblxuICAgIHtcbiAgICAgIG5hbWU6IFwiSU5URUdFUl9QT1NJVElWRVwiLFxuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoXCJeXCIgKyBJTlRFR0VSX1BPU0lUSVZFKSxcbiAgICAgIHN0eWxlOiBcIm51bWJlclwiXG4gICAgfSxcblxuICAgIHtcbiAgICAgIG5hbWU6IFwiRE9VQkxFX05FR0FUSVZFXCIsXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIERPVUJMRV9ORUdBVElWRSksXG4gICAgICBzdHlsZTogXCJudW1iZXJcIlxuICAgIH0sXG5cbiAgICB7XG4gICAgICBuYW1lOiBcIkRFQ0lNQUxfTkVHQVRJVkVcIixcbiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFwiXlwiICsgREVDSU1BTF9ORUdBVElWRSksXG4gICAgICBzdHlsZTogXCJudW1iZXJcIlxuICAgIH0sXG5cbiAgICB7XG4gICAgICBuYW1lOiBcIklOVEVHRVJfTkVHQVRJVkVcIixcbiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFwiXlwiICsgSU5URUdFUl9ORUdBVElWRSksXG4gICAgICBzdHlsZTogXCJudW1iZXJcIlxuICAgIH0sXG4gICAgLy9cdFx0c3RyaW5nTGl0ZXJhbExvbmdSZWdleC5TSU5HTEUuY29tcGxldGUsXG4gICAgLy9cdFx0c3RyaW5nTGl0ZXJhbExvbmdSZWdleC5ET1VCTEUuY29tcGxldGUsXG4gICAgLy9cdFx0c3RyaW5nTGl0ZXJhbExvbmdSZWdleC5TSU5HTEUucXVvdGVzLFxuICAgIC8vXHRcdHN0cmluZ0xpdGVyYWxMb25nUmVnZXguRE9VQkxFLnF1b3RlcyxcblxuICAgIHtcbiAgICAgIG5hbWU6IFwiU1RSSU5HX0xJVEVSQUwxXCIsXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIFNUUklOR19MSVRFUkFMMSksXG4gICAgICBzdHlsZTogXCJzdHJpbmdcIlxuICAgIH0sXG5cbiAgICB7XG4gICAgICBuYW1lOiBcIlNUUklOR19MSVRFUkFMMlwiLFxuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoXCJeXCIgKyBTVFJJTkdfTElURVJBTDIpLFxuICAgICAgc3R5bGU6IFwic3RyaW5nXCJcbiAgICB9LFxuXG4gICAgLy8gRW5jbG9zZWQgY29tbWVudHMgd29uJ3QgYmUgaGlnaGxpZ2h0ZWRcbiAgICB7XG4gICAgICBuYW1lOiBcIk5JTFwiLFxuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoXCJeXCIgKyBOSUwpLFxuICAgICAgc3R5bGU6IFwicHVuY1wiXG4gICAgfSxcblxuICAgIC8vIEVuY2xvc2VkIGNvbW1lbnRzIHdvbid0IGJlIGhpZ2hsaWdodGVkXG4gICAge1xuICAgICAgbmFtZTogXCJBTk9OXCIsXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIEFOT04pLFxuICAgICAgc3R5bGU6IFwicHVuY1wiXG4gICAgfSxcblxuICAgIHtcbiAgICAgIG5hbWU6IFwiUE5BTUVfTE5cIixcbiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFwiXlwiICsgUE5BTUVfTE4pLFxuICAgICAgc3R5bGU6IFwic3RyaW5nLTJcIlxuICAgIH0sXG5cbiAgICB7XG4gICAgICBuYW1lOiBcIlBOQU1FX05TXCIsXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIFBOQU1FX05TKSxcbiAgICAgIHN0eWxlOiBcInN0cmluZy0yXCJcbiAgICB9LFxuXG4gICAge1xuICAgICAgbmFtZTogXCJCTEFOS19OT0RFX0xBQkVMXCIsXG4gICAgICByZWdleDogbmV3IFJlZ0V4cChcIl5cIiArIEJMQU5LX05PREVfTEFCRUwpLFxuICAgICAgc3R5bGU6IFwic3RyaW5nLTJcIlxuICAgIH1cbiAgXTtcblxuICBmdW5jdGlvbiBnZXRQb3NzaWJsZXMoc3ltYm9sKSB7XG4gICAgdmFyIHBvc3NpYmxlcyA9IFtdLCBwb3NzaWJsZXNPYiA9IGxsMV90YWJsZVtzeW1ib2xdO1xuICAgIGlmIChwb3NzaWJsZXNPYiAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHBvc3NpYmxlc09iKSB7XG4gICAgICAgIHBvc3NpYmxlcy5wdXNoKHByb3BlcnR5LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwb3NzaWJsZXMucHVzaChzeW1ib2wpO1xuICAgIH1cbiAgICByZXR1cm4gcG9zc2libGVzO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5CYXNlKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBmdW5jdGlvbiBuZXh0VG9rZW4oKSB7XG4gICAgICB2YXIgY29uc3VtZWQgPSBudWxsO1xuICAgICAgaWYgKHN0YXRlLmluTGl0ZXJhbCkge1xuICAgICAgICB2YXIgY2xvc2luZ1F1b3RlcyA9IGZhbHNlO1xuICAgICAgICAvL211bHRpLWxpbmUgbGl0ZXJhbC4gdHJ5IHRvIHBhcnNlIGNvbnRlbnRzLlxuICAgICAgICBjb25zdW1lZCA9IHN0cmVhbS5tYXRjaChzdHJpbmdMaXRlcmFsTG9uZ1JlZ2V4W3N0YXRlLmluTGl0ZXJhbF0uY29udGVudHMucmVnZXgsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgaWYgKGNvbnN1bWVkICYmIGNvbnN1bWVkWzBdLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgLy90cnkgc2VlaW5nIHdoZXRoZXIgd2UgY2FuIGNvbnN1bWUgY2xvc2luZyBxdW90ZXMsIHRvIGF2b2lkIHN0b3BwaW5nXG4gICAgICAgICAgY29uc3VtZWQgPSBzdHJlYW0ubWF0Y2goc3RyaW5nTGl0ZXJhbExvbmdSZWdleFtzdGF0ZS5pbkxpdGVyYWxdLmNsb3NpbmcucmVnZXgsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICBjbG9zaW5nUXVvdGVzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25zdW1lZCAmJiBjb25zdW1lZFswXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy9zb21lIHN0cmluZyBjb250ZW50IGhlcmUuXG4gICAgICAgICAgdmFyIHJldHVybk9iaiA9IHtcbiAgICAgICAgICAgIHF1b3RlUG9zOiBjbG9zaW5nUXVvdGVzID8gXCJlbmRcIiA6IFwiY29udGVudFwiLFxuICAgICAgICAgICAgY2F0OiBTVFJJTkdfTElURVJBTF9MT05HW3N0YXRlLmluTGl0ZXJhbF0uQ0FULFxuICAgICAgICAgICAgc3R5bGU6IHN0cmluZ0xpdGVyYWxMb25nUmVnZXhbc3RhdGUuaW5MaXRlcmFsXS5jb21wbGV0ZS5zdHlsZSxcbiAgICAgICAgICAgIHRleHQ6IGNvbnN1bWVkWzBdLFxuICAgICAgICAgICAgc3RhcnQ6IHN0cmVhbS5zdGFydFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGNsb3NpbmdRdW90ZXMpIHN0YXRlLmluTGl0ZXJhbCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiByZXR1cm5PYmo7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9NdWx0aWxpbmUgbGl0ZXJhbHNcbiAgICAgIGZvciAodmFyIHF1b3RlVHlwZSBpbiBzdHJpbmdMaXRlcmFsTG9uZ1JlZ2V4KSB7XG4gICAgICAgIGNvbnN1bWVkID0gc3RyZWFtLm1hdGNoKHN0cmluZ0xpdGVyYWxMb25nUmVnZXhbcXVvdGVUeXBlXS5xdW90ZXMucmVnZXgsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgaWYgKGNvbnN1bWVkKSB7XG4gICAgICAgICAgdmFyIHF1b3RlUG9zO1xuICAgICAgICAgIGlmIChzdGF0ZS5pbkxpdGVyYWwpIHtcbiAgICAgICAgICAgIC8vZW5kIG9mIGxpdGVyYWwuIGV2ZXJ5dGhpbmcgaXMgZmluZVxuICAgICAgICAgICAgc3RhdGUuaW5MaXRlcmFsID0gZmFsc2U7XG4gICAgICAgICAgICBxdW90ZVBvcyA9IFwiZW5kXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLmluTGl0ZXJhbCA9IHF1b3RlVHlwZTtcbiAgICAgICAgICAgIHF1b3RlUG9zID0gXCJzdGFydFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2F0OiBTVFJJTkdfTElURVJBTF9MT05HW3F1b3RlVHlwZV0uQ0FULFxuICAgICAgICAgICAgc3R5bGU6IHN0cmluZ0xpdGVyYWxMb25nUmVnZXhbcXVvdGVUeXBlXS5xdW90ZXMuc3R5bGUsXG4gICAgICAgICAgICB0ZXh0OiBjb25zdW1lZFswXSxcbiAgICAgICAgICAgIHF1b3RlUG9zOiBxdW90ZVBvcyxcbiAgICAgICAgICAgIHN0YXJ0OiBzdHJlYW0uc3RhcnRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRva2VucyBkZWZpbmVkIGJ5IGluZGl2aWR1YWwgcmVndWxhciBleHByZXNzaW9uc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXJtaW5hbHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3VtZWQgPSBzdHJlYW0ubWF0Y2godGVybWluYWxzW2ldLnJlZ2V4LCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXQ6IHRlcm1pbmFsc1tpXS5uYW1lLFxuICAgICAgICAgICAgc3R5bGU6IHRlcm1pbmFsc1tpXS5zdHlsZSxcbiAgICAgICAgICAgIHRleHQ6IGNvbnN1bWVkWzBdLFxuICAgICAgICAgICAgc3RhcnQ6IHN0cmVhbS5zdGFydFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gS2V5d29yZHNcbiAgICAgIGNvbnN1bWVkID0gc3RyZWFtLm1hdGNoKGdyYW1tYXIua2V5d29yZHMsIHRydWUsIGZhbHNlKTtcbiAgICAgIGlmIChjb25zdW1lZClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjYXQ6IHN0cmVhbS5jdXJyZW50KCkudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICBzdHlsZTogXCJrZXl3b3JkXCIsXG4gICAgICAgICAgdGV4dDogY29uc3VtZWRbMF0sXG4gICAgICAgICAgc3RhcnQ6IHN0cmVhbS5zdGFydFxuICAgICAgICB9O1xuXG4gICAgICAvLyBQdW5jdHVhdGlvblxuICAgICAgY29uc3VtZWQgPSBzdHJlYW0ubWF0Y2goZ3JhbW1hci5wdW5jdCwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgaWYgKGNvbnN1bWVkKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNhdDogc3RyZWFtLmN1cnJlbnQoKSxcbiAgICAgICAgICBzdHlsZTogXCJwdW5jXCIsXG4gICAgICAgICAgdGV4dDogY29uc3VtZWRbMF0sXG4gICAgICAgICAgc3RhcnQ6IHN0cmVhbS5zdGFydFxuICAgICAgICB9O1xuXG4gICAgICAvLyBUb2tlbiBpcyBpbnZhbGlkXG4gICAgICAvLyBiZXR0ZXIgY29uc3VtZSBzb21ldGhpbmcgYW55d2F5LCBvciBlbHNlIHdlJ3JlIHN0dWNrXG4gICAgICBjb25zdW1lZCA9IHN0cmVhbS5tYXRjaCgvXi5bQS1aYS16MC05XSovLCB0cnVlLCBmYWxzZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjYXQ6IFwiPGludmFsaWRfdG9rZW4+XCIsXG4gICAgICAgIHN0eWxlOiBcImVycm9yXCIsXG4gICAgICAgIHRleHQ6IGNvbnN1bWVkWzBdLFxuICAgICAgICBzdGFydDogc3RyZWFtLnN0YXJ0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlY29yZEZhaWx1cmVQb3MoKSB7XG4gICAgICAvLyB0b2tlbk9iLnN0eWxlPSBcInNwLWludmFsaWRcIjtcbiAgICAgIHZhciBjb2wgPSBzdHJlYW0uY29sdW1uKCk7XG4gICAgICBzdGF0ZS5lcnJvclN0YXJ0UG9zID0gY29sO1xuICAgICAgc3RhdGUuZXJyb3JFbmRQb3MgPSBjb2wgKyB0b2tlbk9iLnRleHQubGVuZ3RoO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRRdWVyeVR5cGUocykge1xuICAgICAgaWYgKHN0YXRlLnF1ZXJ5VHlwZSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzID09IFwiU0VMRUNUXCIgfHxcbiAgICAgICAgICBzID09IFwiQ09OU1RSVUNUXCIgfHxcbiAgICAgICAgICBzID09IFwiQVNLXCIgfHxcbiAgICAgICAgICBzID09IFwiREVTQ1JJQkVcIiB8fFxuICAgICAgICAgIHMgPT0gXCJJTlNFUlRcIiB8fFxuICAgICAgICAgIHMgPT0gXCJERUxFVEVcIiB8fFxuICAgICAgICAgIHMgPT0gXCJMT0FEXCIgfHxcbiAgICAgICAgICBzID09IFwiQ0xFQVJcIiB8fFxuICAgICAgICAgIHMgPT0gXCJDUkVBVEVcIiB8fFxuICAgICAgICAgIHMgPT0gXCJEUk9QXCIgfHxcbiAgICAgICAgICBzID09IFwiQ09QWVwiIHx8XG4gICAgICAgICAgcyA9PSBcIk1PVkVcIiB8fFxuICAgICAgICAgIHMgPT0gXCJBRERcIlxuICAgICAgICApXG4gICAgICAgICAgc3RhdGUucXVlcnlUeXBlID0gcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTb21lIGZha2Ugbm9uLXRlcm1pbmFscyBhcmUganVzdCB0aGVyZSB0byBoYXZlIHNpZGUtZWZmZWN0IG9uIHN0YXRlXG4gICAgLy8gLSBpLmUuIGFsbG93IG9yIGRpc2FsbG93IHZhcmlhYmxlcyBhbmQgYm5vZGVzIGluIGNlcnRhaW4gbm9uLW5lc3RpbmdcbiAgICAvLyBjb250ZXh0c1xuICAgIGZ1bmN0aW9uIHNldFNpZGVDb25kaXRpb25zKHRvcFN5bWJvbCkge1xuICAgICAgaWYgKHRvcFN5bWJvbCA9PT0gXCJwcmVmaXhEZWNsXCIpIHtcbiAgICAgICAgc3RhdGUuaW5QcmVmaXhEZWNsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLmluUHJlZml4RGVjbCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0b3BTeW1ib2wpIHtcbiAgICAgICAgY2FzZSBcImRpc2FsbG93VmFyc1wiOlxuICAgICAgICAgIHN0YXRlLmFsbG93VmFycyA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWxsb3dWYXJzXCI6XG4gICAgICAgICAgc3RhdGUuYWxsb3dWYXJzID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRpc2FsbG93Qm5vZGVzXCI6XG4gICAgICAgICAgc3RhdGUuYWxsb3dCbm9kZXMgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFsbG93Qm5vZGVzXCI6XG4gICAgICAgICAgc3RhdGUuYWxsb3dCbm9kZXMgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3RvcmVQcm9wZXJ0eVwiOlxuICAgICAgICAgIHN0YXRlLnN0b3JlUHJvcGVydHkgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrU2lkZUNvbmRpdGlvbnModG9wU3ltYm9sKSB7XG4gICAgICByZXR1cm4gKHN0YXRlLmFsbG93VmFycyB8fCB0b3BTeW1ib2wgIT0gXCJ2YXJcIikgJiZcbiAgICAgICAgKHN0YXRlLmFsbG93Qm5vZGVzIHx8XG4gICAgICAgICAgKHRvcFN5bWJvbCAhPSBcImJsYW5rTm9kZVwiICYmXG4gICAgICAgICAgICB0b3BTeW1ib2wgIT0gXCJibGFua05vZGVQcm9wZXJ0eUxpc3RcIiAmJlxuICAgICAgICAgICAgdG9wU3ltYm9sICE9IFwiYmxhbmtOb2RlUHJvcGVydHlMaXN0UGF0aFwiKSk7XG4gICAgfVxuXG4gICAgLy8gQ29kZU1pcnJvciB3b3JrcyB3aXRoIG9uZSBsaW5lIGF0IGEgdGltZSxcbiAgICAvLyBidXQgbmV3bGluZSBzaG91bGQgYmVoYXZlIGxpa2Ugd2hpdGVzcGFjZVxuICAgIC8vIC0gaS5lLiBhIGRlZmluaXRlIGJyZWFrIGJldHdlZW4gdG9rZW5zIChmb3IgYXV0b2NvbXBsZXRlcilcbiAgICBpZiAoc3RyZWFtLnBvcyA9PSAwKSBzdGF0ZS5wb3NzaWJsZUN1cnJlbnQgPSBzdGF0ZS5wb3NzaWJsZU5leHQ7XG5cbiAgICB2YXIgdG9rZW5PYiA9IG5leHRUb2tlbigpO1xuXG4gICAgaWYgKHRva2VuT2IuY2F0ID09IFwiPGludmFsaWRfdG9rZW4+XCIpIHtcbiAgICAgIC8vIHNldCBlcnJvciBzdGF0ZSwgYW5kXG4gICAgICBpZiAoc3RhdGUuT0sgPT0gdHJ1ZSkge1xuICAgICAgICBzdGF0ZS5PSyA9IGZhbHNlO1xuICAgICAgICByZWNvcmRGYWlsdXJlUG9zKCk7XG4gICAgICB9XG4gICAgICBzdGF0ZS5jb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgLy8gYWxlcnQoXCJJbnZhbGlkOlwiK3Rva2VuT2IudGV4dCk7XG4gICAgICByZXR1cm4gdG9rZW5PYi5zdHlsZTtcbiAgICB9XG5cbiAgICBpZiAodG9rZW5PYi5jYXQgPT0gXCJXU1wiIHx8IHRva2VuT2IuY2F0ID09IFwiQ09NTUVOVFwiIHx8ICh0b2tlbk9iLnF1b3RlUG9zICYmIHRva2VuT2IucXVvdGVQb3MgIT0gXCJlbmRcIikpIHtcbiAgICAgIHN0YXRlLnBvc3NpYmxlQ3VycmVudCA9IHN0YXRlLnBvc3NpYmxlTmV4dDtcbiAgICAgIHJldHVybiB0b2tlbk9iLnN0eWxlO1xuICAgIH1cbiAgICAvLyBPdGhlcndpc2UsIHJ1biB0aGUgcGFyc2VyIHVudGlsIHRoZSB0b2tlbiBpcyBkaWdlc3RlZFxuICAgIC8vIG9yIGZhaWx1cmVcbiAgICB2YXIgZmluaXNoZWQgPSBmYWxzZTtcbiAgICB2YXIgdG9wU3ltYm9sO1xuICAgIHZhciB0b2tlbiA9IHRva2VuT2IuY2F0O1xuXG4gICAgaWYgKCF0b2tlbk9iLnF1b3RlUG9zIHx8IHRva2VuT2IucXVvdGVQb3MgPT0gXCJlbmRcIikge1xuICAgICAgLy8gSW5jcmVtZW50YWwgTEwxIHBhcnNlXG4gICAgICB3aGlsZSAoc3RhdGUuc3RhY2subGVuZ3RoID4gMCAmJiB0b2tlbiAmJiBzdGF0ZS5PSyAmJiAhZmluaXNoZWQpIHtcbiAgICAgICAgdG9wU3ltYm9sID0gc3RhdGUuc3RhY2sucG9wKCk7XG4gICAgICAgIGlmICh0b3BTeW1ib2wgPT09ICd2YXInICYmIHRva2VuT2IudGV4dCkgc3RhdGUudmFyaWFibGVzW3Rva2VuT2IudGV4dF0gPSB0b2tlbk9iLnRleHQ7XG4gICAgICAgIGlmICghbGwxX3RhYmxlW3RvcFN5bWJvbF0pIHtcbiAgICAgICAgICAvLyBUb3Agc3ltYm9sIGlzIGEgdGVybWluYWxcbiAgICAgICAgICBpZiAodG9wU3ltYm9sID09IHRva2VuKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuaW5QcmVmaXhEZWNsKSB7XG4gICAgICAgICAgICAgIGlmICh0b3BTeW1ib2wgPT09IFwiUE5BTUVfTlNcIiAmJiB0b2tlbk9iLnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRQbmFtZU5zID0gdG9rZW5PYi50ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5jdXJyZW50UG5hbWVOcyAhPT0gdW5kZWZpbmVkICYmIHRva2VuT2IudGV4dC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUucHJlZml4ZXNbc3RhdGUuY3VycmVudFBuYW1lTnNdID0gdG9rZW5PYi50ZXh0LnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICAvL3Jlc2V0IGN1cnJlbnQgcG5hbWUgbnNcbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50UG5hbWVOcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWF0Y2hpbmcgdGVybWluYWxzXG4gICAgICAgICAgICAvLyAtIGNvbnN1bWUgdG9rZW4gZnJvbSBpbnB1dCBzdHJlYW1cbiAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldFF1ZXJ5VHlwZSh0b3BTeW1ib2wpO1xuICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciAkIChlbmQgb2YgaW5wdXQgdG9rZW4pIGlzIHBvc3MgbmV4dFxuICAgICAgICAgICAgLy8gZm9yIGV2ZXJ5dGhpbmcgb24gc3RhY2tcbiAgICAgICAgICAgIHZhciBhbGxOaWxsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKHZhciBzcCA9IHN0YXRlLnN0YWNrLmxlbmd0aDsgc3AgPiAwOyAtLXNwKSB7XG4gICAgICAgICAgICAgIHZhciBpdGVtID0gbGwxX3RhYmxlW3N0YXRlLnN0YWNrW3NwIC0gMV1dO1xuICAgICAgICAgICAgICBpZiAoIWl0ZW0gfHwgIWl0ZW1bXCIkXCJdKSBhbGxOaWxsYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUuY29tcGxldGUgPSBhbGxOaWxsYWJsZTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5zdG9yZVByb3BlcnR5ICYmIHRva2VuLmNhdCAhPSBcInB1bmNcIikge1xuICAgICAgICAgICAgICBzdGF0ZS5sYXN0UHJvcGVydHkgPSB0b2tlbk9iLnRleHQ7XG4gICAgICAgICAgICAgIHN0YXRlLnN0b3JlUHJvcGVydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9jaGVjayB3aGV0aGVyIGEgdXNlZCBwcmVmaXggaXMgYWN0dWFsbHkgZGVmaW5lZFxuICAgICAgICAgICAgaWYgKCFzdGF0ZS5pblByZWZpeERlY2wgJiYgKHRva2VuID09PSBcIlBOQU1FX05TXCIgfHwgdG9rZW4gPT09IFwiUE5BTUVfTE5cIikpIHtcbiAgICAgICAgICAgICAgdmFyIGNvbG9uSW5kZXggPSB0b2tlbk9iLnRleHQuaW5kZXhPZihcIjpcIik7XG4gICAgICAgICAgICAgIGlmIChjb2xvbkluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJlZk5zID0gdG9rZW5PYi50ZXh0LnNsaWNlKDAsIGNvbG9uSW5kZXgpO1xuICAgICAgICAgICAgICAgIC8vYXZvaWQgd2FybmluZ3MgZm9yIG1pc3NpbmcgYmlmIHByZWZpeGVzICh5dWNrLCB2aXJ0dW9zby1zcGVjaWZpYylcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLnByZWZpeGVzW3ByZWZOc10gJiYgW1wiYmlmXCIsIFwieHNkXCIsIFwic3FsXCJdLmluZGV4T2YocHJlZk5zKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRlLk9LID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICByZWNvcmRGYWlsdXJlUG9zKCk7XG4gICAgICAgICAgICAgICAgICBzdGF0ZS5lcnJvck1zZyA9IFwiUHJlZml4ICdcIiArIHByZWZOcyArIFwiJyBpcyBub3QgZGVmaW5lZFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5PSyA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUuY29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlY29yZEZhaWx1cmVQb3MoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdG9wU3ltYm9sIGlzIG5vbnRlcm1pbmFsXG4gICAgICAgICAgLy8gLSBzZWUgaWYgdGhlcmUgaXMgYW4gZW50cnkgZm9yIHRvcFN5bWJvbFxuICAgICAgICAgIC8vIGFuZCBuZXh0VG9rZW4gaW4gdGFibGVcbiAgICAgICAgICB2YXIgbmV4dFN5bWJvbHMgPSBsbDFfdGFibGVbdG9wU3ltYm9sXVt0b2tlbl07XG4gICAgICAgICAgaWYgKG5leHRTeW1ib2xzICE9IHVuZGVmaW5lZCAmJiBjaGVja1NpZGVDb25kaXRpb25zKHRvcFN5bWJvbCkpIHtcbiAgICAgICAgICAgIC8vIE1hdGNoIC0gY29weSBSSFMgb2YgcnVsZSB0byBzdGFja1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IG5leHRTeW1ib2xzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnN0YWNrLnB1c2gobmV4dFN5bWJvbHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGVmb3JtIGFueSBub24tZ3JhbW1hdGljYWwgc2lkZS1lZmZlY3RzXG4gICAgICAgICAgICBzZXRTaWRlQ29uZGl0aW9ucyh0b3BTeW1ib2wpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBObyBtYXRjaCBpbiB0YWJsZSAtIGZhaWxcbiAgICAgICAgICAgIHN0YXRlLk9LID0gZmFsc2U7XG4gICAgICAgICAgICBzdGF0ZS5jb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVjb3JkRmFpbHVyZVBvcygpO1xuICAgICAgICAgICAgc3RhdGUuc3RhY2sucHVzaCh0b3BTeW1ib2wpOyAvLyBTaG92ZSB0b3BTeW1ib2wgYmFjayBvbiBzdGFja1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWZpbmlzaGVkICYmIHN0YXRlLk9LKSB7XG4gICAgICBzdGF0ZS5PSyA9IGZhbHNlO1xuICAgICAgc3RhdGUuY29tcGxldGUgPSBmYWxzZTtcbiAgICAgIHJlY29yZEZhaWx1cmVQb3MoKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUucG9zc2libGVDdXJyZW50LmluZGV4T2YoXCJhXCIpID49IDApIHtcbiAgICAgIHN0YXRlLmxhc3RQcmVkaWNhdGVPZmZzZXQgPSB0b2tlbk9iLnN0YXJ0O1xuICAgIH1cbiAgICBzdGF0ZS5wb3NzaWJsZUN1cnJlbnQgPSBzdGF0ZS5wb3NzaWJsZU5leHQ7XG5cbiAgICBzdGF0ZS5wb3NzaWJsZU5leHQgPSBnZXRQb3NzaWJsZXMoc3RhdGUuc3RhY2tbc3RhdGUuc3RhY2subGVuZ3RoIC0gMV0pO1xuXG4gICAgcmV0dXJuIHRva2VuT2Iuc3R5bGU7XG4gIH1cblxuICB2YXIgaW5kZW50VG9wID0ge1xuICAgIFwiKlssLCBvYmplY3RdXCI6IDMsXG4gICAgXCIqWygsKSxvYmplY3RdXCI6IDMsXG4gICAgXCIqWygsKSxvYmplY3RQYXRoXVwiOiAzLFxuICAgIFwiKlsvLHBhdGhFbHRPckludmVyc2VdXCI6IDIsXG4gICAgb2JqZWN0OiAyLFxuICAgIG9iamVjdFBhdGg6IDIsXG4gICAgb2JqZWN0TGlzdDogMixcbiAgICBvYmplY3RMaXN0UGF0aDogMixcbiAgICBzdG9yZVByb3BlcnR5OiAyLFxuICAgIHBhdGhNb2Q6IDIsXG4gICAgXCI/cGF0aE1vZFwiOiAyLFxuICAgIHByb3BlcnR5TGlzdE5vdEVtcHR5OiAxLFxuICAgIHByb3BlcnR5TGlzdDogMSxcbiAgICBwcm9wZXJ0eUxpc3RQYXRoOiAxLFxuICAgIHByb3BlcnR5TGlzdFBhdGhOb3RFbXB0eTogMSxcbiAgICBcIj9bdmVyYixvYmplY3RMaXN0XVwiOiAxXG4gICAgLy9cdFx0XCI/W29yKFt2ZXJiUGF0aCwgdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXCI6IDEsXG4gIH07XG5cbiAgdmFyIGluZGVudFRhYmxlID0ge1xuICAgIFwifVwiOiAxLFxuICAgIFwiXVwiOiAxLFxuICAgIFwiKVwiOiAxLFxuICAgIFwie1wiOiAtMSxcbiAgICBcIihcIjogLTEsXG4gICAgXCJbXCI6IC0xXG4gICAgLy9cdFx0XCIqWzssP1tvcihbdmVyYlBhdGgsdmVyYlNpbXBsZV0pLG9iamVjdExpc3RdXVwiOiAxLFxuICB9O1xuXG4gIGZ1bmN0aW9uIGluZGVudChzdGF0ZSwgdGV4dEFmdGVyKSB7XG4gICAgLy9qdXN0IGF2b2lkIHdlIGRvbid0IGluZGVudCBtdWx0aS1saW5lICBsaXRlcmFsc1xuICAgIGlmIChzdGF0ZS5pbkxpdGVyYWwpIHJldHVybiAwO1xuICAgIGlmIChzdGF0ZS5zdGFjay5sZW5ndGggJiYgc3RhdGUuc3RhY2tbc3RhdGUuc3RhY2subGVuZ3RoIC0gMV0gPT0gXCI/W29yKFt2ZXJiUGF0aCx2ZXJiU2ltcGxlXSksb2JqZWN0TGlzdF1cIikge1xuICAgICAgLy93ZSBhcmUgYWZ0ZXIgYSBzZW1pLWNvbG9uLiBJLmUuLCBuaWNlbHkgYWxpZ24gdGhpcyBsaW5lIHdpdGggcHJlZGljYXRlIHBvc2l0aW9uIG9mIHByZXZpb3VzIGxpbmVcbiAgICAgIHJldHVybiBzdGF0ZS5sYXN0UHJlZGljYXRlT2Zmc2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbiA9IDA7IC8vIGluZGVudCBsZXZlbFxuICAgICAgdmFyIGkgPSBzdGF0ZS5zdGFjay5sZW5ndGggLSAxO1xuICAgICAgaWYgKC9eW1xcfVxcXVxcKV0vLnRlc3QodGV4dEFmdGVyKSkge1xuICAgICAgICAvLyBTa2lwIHN0YWNrIGl0ZW1zIHVudGlsIGFmdGVyIG1hdGNoaW5nIGJyYWNrZXRcbiAgICAgICAgdmFyIGNsb3NlQnJhY2tldCA9IHRleHRBZnRlci5zdWJzdHIoMCwgMSk7XG4gICAgICAgIGZvciAoOyBpID49IDA7IC0taSkge1xuICAgICAgICAgIGlmIChzdGF0ZS5zdGFja1tpXSA9PSBjbG9zZUJyYWNrZXQpIHtcbiAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ29uc2lkZXIgbnVsbGFibGUgbm9uLXRlcm1pbmFscyBpZiBhdCB0b3Agb2Ygc3RhY2tcbiAgICAgICAgdmFyIGRuID0gaW5kZW50VG9wW3N0YXRlLnN0YWNrW2ldXTtcbiAgICAgICAgaWYgKGRuKSB7XG4gICAgICAgICAgbiArPSBkbjtcbiAgICAgICAgICAtLWk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZG4gPSBpbmRlbnRUYWJsZVtzdGF0ZS5zdGFja1tpXV07XG4gICAgICAgIGlmIChkbikge1xuICAgICAgICAgIG4gKz0gZG47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuICogY29uZmlnLmluZGVudFVuaXQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW5CYXNlLFxuICAgIHN0YXJ0U3RhdGU6IGZ1bmN0aW9uKGJhc2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuaXplOiB0b2tlbkJhc2UsXG4gICAgICAgIE9LOiB0cnVlLFxuICAgICAgICBjb21wbGV0ZTogZ3JhbW1hci5hY2NlcHRFbXB0eSxcbiAgICAgICAgZXJyb3JTdGFydFBvczogbnVsbCxcbiAgICAgICAgZXJyb3JFbmRQb3M6IG51bGwsXG4gICAgICAgIHF1ZXJ5VHlwZTogbnVsbCxcbiAgICAgICAgcG9zc2libGVDdXJyZW50OiBnZXRQb3NzaWJsZXMoZ3JhbW1hci5zdGFydFN5bWJvbCksXG4gICAgICAgIHBvc3NpYmxlTmV4dDogZ2V0UG9zc2libGVzKGdyYW1tYXIuc3RhcnRTeW1ib2wpLFxuICAgICAgICBhbGxvd1ZhcnM6IHRydWUsXG4gICAgICAgIGFsbG93Qm5vZGVzOiB0cnVlLFxuICAgICAgICBzdG9yZVByb3BlcnR5OiBmYWxzZSxcbiAgICAgICAgbGFzdFByb3BlcnR5OiBcIlwiLFxuICAgICAgICBpbkxpdGVyYWw6IGZhbHNlLFxuICAgICAgICBzdGFjazogW2dyYW1tYXIuc3RhcnRTeW1ib2xdLFxuICAgICAgICBsYXN0UHJlZGljYXRlT2Zmc2V0OiBjb25maWcuaW5kZW50VW5pdCxcbiAgICAgICAgcHJlZml4ZXM6IHt9LFxuICAgICAgICB2YXJpYWJsZXM6IHt9XG4gICAgICB9O1xuICAgIH0sXG4gICAgaW5kZW50OiBpbmRlbnQsXG4gICAgZWxlY3RyaWNDaGFyczogXCJ9XSlcIlxuICB9O1xufSk7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94LXNwYXJxbC1xdWVyeVwiLCBcInNwYXJxbDExXCIpO1xuIiwiLypcbiogVFJJRSBpbXBsZW1lbnRhdGlvbiBpbiBKYXZhc2NyaXB0XG4qIENvcHlyaWdodCAoYykgMjAxMCBTYXVyYWJoIE9kaHlhbiB8IGh0dHA6Ly9vZGh5YW4uY29tXG4qXG4qIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4qIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4qIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4qXG4qIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4qIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuKlxuKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4qIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4qIFRIRSBTT0ZUV0FSRS5cbipcbiogRGF0ZTogTm92IDcsIDIwMTBcbiovXG5cbi8qXG4qIEEgdHJpZSwgb3IgcHJlZml4IHRyZWUsIGlzIGEgbXVsdGktd2F5IHRyZWUgc3RydWN0dXJlIHVzZWZ1bCBmb3Igc3RvcmluZyBzdHJpbmdzIG92ZXIgYW4gYWxwaGFiZXQuXG4qIEl0IGhhcyBiZWVuIHVzZWQgdG8gc3RvcmUgbGFyZ2UgZGljdGlvbmFyaWVzIG9mIEVuZ2xpc2ggKHNheSkgd29yZHMgaW4gc3BlbGwtY2hlY2tpbmcgcHJvZ3JhbXNcbiogYW5kIGluIG5hdHVyYWwtbGFuZ3VhZ2UgXCJ1bmRlcnN0YW5kaW5nXCIgcHJvZ3JhbXMuXG4qIEBzZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9UcmllXG4qIEBzZWUgaHR0cDovL3d3dy5jc3NlLm1vbmFzaC5lZHUuYXUvfmxsb3lkL3RpbGRlQWxnRFMvVHJlZS9UcmllL1xuLypcblxuKiBAY2xhc3MgVHJpZVxuKiBAY29uc3RydWN0b3JcbiovXG5cbnZhciBUcmllID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy53b3JkcyA9IDA7XG4gIHRoaXMucHJlZml4ZXMgPSAwO1xuICB0aGlzLmNoaWxkcmVuID0gW107XG59O1xuXG5UcmllLnByb3RvdHlwZSA9IHtcbiAgLypcbiAgICAqIEluc2VydCBhIHdvcmQgaW50byB0aGUgZGljdGlvbmFyeS5cbiAgICAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIHRocm91Z2ggdGhlIHRyaWUgbm9kZXMsIGFuZCBjcmVhdGUgbmV3IG5vZGUgaWYgZG9lcyBub3QgYWxyZWFkeSBleGlzdC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGluc2VydFxuICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBXb3JkIHRvIGluc2VydCBpbiB0aGUgZGljdGlvbmFyeVxuICAgICogQHBhcmFtIHtJbnRlZ2VyfSBwb3MgQ3VycmVudCBpbmRleCBvZiB0aGUgc3RyaW5nIHRvIGJlIGluc2VydGVkXG4gICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICovXG4gIGluc2VydDogZnVuY3Rpb24oc3RyLCBwb3MpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA9PSAwKSB7XG4gICAgICAvL2JsYW5rIHN0cmluZyBjYW5ub3QgYmUgaW5zZXJ0ZWRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgVCA9IHRoaXMsIGssIGNoaWxkO1xuXG4gICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwb3MgPSAwO1xuICAgIH1cbiAgICBpZiAocG9zID09PSBzdHIubGVuZ3RoKSB7XG4gICAgICBULndvcmRzKys7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFQucHJlZml4ZXMrKztcbiAgICBrID0gc3RyW3Bvc107XG4gICAgaWYgKFQuY2hpbGRyZW5ba10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy9pZiBub2RlIGZvciB0aGlzIGNoYXIgZG9lc24ndCBleGlzdCwgY3JlYXRlIG9uZVxuICAgICAgVC5jaGlsZHJlbltrXSA9IG5ldyBUcmllKCk7XG4gICAgfVxuICAgIGNoaWxkID0gVC5jaGlsZHJlbltrXTtcbiAgICBjaGlsZC5pbnNlcnQoc3RyLCBwb3MgKyAxKTtcbiAgfSxcblxuICAvKlxuICAgICogUmVtb3ZlIGEgd29yZCBmcm9tIHRoZSBkaWN0aW9uYXJ5LlxuICAgICpcbiAgICAqIEBtZXRob2QgcmVtb3ZlXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFdvcmQgdG8gYmUgcmVtb3ZlZFxuICAgICogQHBhcmFtIHtJbnRlZ2VyfSBwb3MgQ3VycmVudCBpbmRleCBvZiB0aGUgc3RyaW5nIHRvIGJlIHJlbW92ZWRcbiAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgKi9cbiAgcmVtb3ZlOiBmdW5jdGlvbihzdHIsIHBvcykge1xuICAgIGlmIChzdHIubGVuZ3RoID09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgVCA9IHRoaXMsIGssIGNoaWxkO1xuXG4gICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwb3MgPSAwO1xuICAgIH1cbiAgICBpZiAoVCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwb3MgPT09IHN0ci5sZW5ndGgpIHtcbiAgICAgIFQud29yZHMtLTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgVC5wcmVmaXhlcy0tO1xuICAgIGsgPSBzdHJbcG9zXTtcbiAgICBjaGlsZCA9IFQuY2hpbGRyZW5ba107XG4gICAgY2hpbGQucmVtb3ZlKHN0ciwgcG9zICsgMSk7XG4gIH0sXG5cbiAgLypcbiAgICAqIFVwZGF0ZSBhbiBleGlzdGluZyB3b3JkIGluIHRoZSBkaWN0aW9uYXJ5LlxuICAgICogVGhpcyBtZXRob2QgcmVtb3ZlcyB0aGUgb2xkIHdvcmQgZnJvbSB0aGUgZGljdGlvbmFyeSBhbmQgaW5zZXJ0cyB0aGUgbmV3IHdvcmQuXG4gICAgKlxuICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJPbGQgVGhlIG9sZCB3b3JkIHRvIGJlIHJlcGxhY2VkXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyTmV3IFRoZSBuZXcgd29yZCB0byBiZSBpbnNlcnRlZFxuICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAqL1xuICB1cGRhdGU6IGZ1bmN0aW9uKHN0ck9sZCwgc3RyTmV3KSB7XG4gICAgaWYgKHN0ck9sZC5sZW5ndGggPT0gMCB8fCBzdHJOZXcubGVuZ3RoID09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZW1vdmUoc3RyT2xkKTtcbiAgICB0aGlzLmluc2VydChzdHJOZXcpO1xuICB9LFxuXG4gIC8qXG4gICAgKiBDb3VudCB0aGUgbnVtYmVyIG9mIHRpbWVzIGEgZ2l2ZW4gd29yZCBoYXMgYmVlbiBpbnNlcnRlZCBpbnRvIHRoZSBkaWN0aW9uYXJ5XG4gICAgKlxuICAgICogQG1ldGhvZCBjb3VudFdvcmRcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgV29yZCB0byBnZXQgY291bnQgb2ZcbiAgICAqIEBwYXJhbSB7SW50ZWdlcn0gcG9zIEN1cnJlbnQgaW5kZXggb2YgdGhlIGdpdmVuIHdvcmRcbiAgICAqIEByZXR1cm4ge0ludGVnZXJ9IFRoZSBudW1iZXIgb2YgdGltZXMgYSBnaXZlbiB3b3JkIGV4aXN0cyBpbiB0aGUgZGljdGlvbmFyeVxuICAgICovXG4gIGNvdW50V29yZDogZnVuY3Rpb24oc3RyLCBwb3MpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICB2YXIgVCA9IHRoaXMsIGssIGNoaWxkLCByZXQgPSAwO1xuXG4gICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwb3MgPSAwO1xuICAgIH1cbiAgICBpZiAocG9zID09PSBzdHIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gVC53b3JkcztcbiAgICB9XG4gICAgayA9IHN0cltwb3NdO1xuICAgIGNoaWxkID0gVC5jaGlsZHJlbltrXTtcbiAgICBpZiAoY2hpbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy9ub2RlIGV4aXN0c1xuICAgICAgcmV0ID0gY2hpbGQuY291bnRXb3JkKHN0ciwgcG9zICsgMSk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH0sXG5cbiAgLypcbiAgICAqIENvdW50IHRoZSBudW1iZXIgb2YgdGltZXMgYSBnaXZlbiBwcmVmaXggZXhpc3RzIGluIHRoZSBkaWN0aW9uYXJ5XG4gICAgKlxuICAgICogQG1ldGhvZCBjb3VudFByZWZpeFxuICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBQcmVmaXggdG8gZ2V0IGNvdW50IG9mXG4gICAgKiBAcGFyYW0ge0ludGVnZXJ9IHBvcyBDdXJyZW50IGluZGV4IG9mIHRoZSBnaXZlbiBwcmVmaXhcbiAgICAqIEByZXR1cm4ge0ludGVnZXJ9IFRoZSBudW1iZXIgb2YgdGltZXMgYSBnaXZlbiBwcmVmaXggZXhpc3RzIGluIHRoZSBkaWN0aW9uYXJ5XG4gICAgKi9cbiAgY291bnRQcmVmaXg6IGZ1bmN0aW9uKHN0ciwgcG9zKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgdmFyIFQgPSB0aGlzLCBrLCBjaGlsZCwgcmV0ID0gMDtcblxuICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcG9zID0gMDtcbiAgICB9XG4gICAgaWYgKHBvcyA9PT0gc3RyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFQucHJlZml4ZXM7XG4gICAgfVxuICAgIHZhciBrID0gc3RyW3Bvc107XG4gICAgY2hpbGQgPSBULmNoaWxkcmVuW2tdO1xuICAgIGlmIChjaGlsZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvL25vZGUgZXhpc3RzXG4gICAgICByZXQgPSBjaGlsZC5jb3VudFByZWZpeChzdHIsIHBvcyArIDEpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIC8qXG4gICAgKiBGaW5kIGEgd29yZCBpbiB0aGUgZGljdGlvbmFyeVxuICAgICpcbiAgICAqIEBtZXRob2QgZmluZFxuICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgd29yZCB0byBmaW5kIGluIHRoZSBkaWN0aW9uYXJ5XG4gICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSB3b3JkIGV4aXN0cyBpbiB0aGUgZGljdGlvbmFyeSwgZWxzZSBmYWxzZVxuICAgICovXG4gIGZpbmQ6IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmIChzdHIubGVuZ3RoID09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb3VudFdvcmQoc3RyKSA+IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIC8qXG4gICAgKiBHZXQgYWxsIHdvcmRzIGluIHRoZSBkaWN0aW9uYXJ5XG4gICAgKlxuICAgICogQG1ldGhvZCBnZXRBbGxXb3Jkc1xuICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBQcmVmaXggb2YgY3VycmVudCB3b3JkXG4gICAgKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2Ygd29yZHMgaW4gdGhlIGRpY3Rpb25hcnlcbiAgICAqL1xuICBnZXRBbGxXb3JkczogZnVuY3Rpb24oc3RyKSB7XG4gICAgdmFyIFQgPSB0aGlzLCBrLCBjaGlsZCwgcmV0ID0gW107XG4gICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdHIgPSBcIlwiO1xuICAgIH1cbiAgICBpZiAoVCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChULndvcmRzID4gMCkge1xuICAgICAgcmV0LnB1c2goc3RyKTtcbiAgICB9XG4gICAgZm9yIChrIGluIFQuY2hpbGRyZW4pIHtcbiAgICAgIGlmIChULmNoaWxkcmVuLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgIGNoaWxkID0gVC5jaGlsZHJlbltrXTtcbiAgICAgICAgcmV0ID0gcmV0LmNvbmNhdChjaGlsZC5nZXRBbGxXb3JkcyhzdHIgKyBrKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH0sXG5cbiAgLypcbiAgICAqIEF1dG9jb21wbGV0ZSBhIGdpdmVuIHByZWZpeFxuICAgICpcbiAgICAqIEBtZXRob2QgYXV0b0NvbXBsZXRlXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFByZWZpeCB0byBiZSBjb21wbGV0ZWQgYmFzZWQgb24gZGljdGlvbmFyeSBlbnRyaWVzXG4gICAgKiBAcGFyYW0ge0ludGVnZXJ9IHBvcyBDdXJyZW50IGluZGV4IG9mIHRoZSBwcmVmaXhcbiAgICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiBwb3NzaWJsZSBzdWdnZXN0aW9uc1xuICAgICovXG4gIGF1dG9Db21wbGV0ZTogZnVuY3Rpb24oc3RyLCBwb3MpIHtcbiAgICB2YXIgVCA9IHRoaXMsIGssIGNoaWxkO1xuICAgIGlmIChzdHIubGVuZ3RoID09IDApIHtcbiAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gVC5nZXRBbGxXb3JkcyhzdHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBvcyA9IDA7XG4gICAgfVxuICAgIGsgPSBzdHJbcG9zXTtcbiAgICBjaGlsZCA9IFQuY2hpbGRyZW5ba107XG4gICAgaWYgKGNoaWxkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vbm9kZSBkb2Vzbid0IGV4aXN0XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmIChwb3MgPT09IHN0ci5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gY2hpbGQuZ2V0QWxsV29yZHMoc3RyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkLmF1dG9Db21wbGV0ZShzdHIsIHBvcyArIDEpO1xuICB9XG59O1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBDb2RlTWlycm9yLmRlZmluZU9wdGlvbihcImZ1bGxTY3JlZW5cIiwgZmFsc2UsIGZ1bmN0aW9uKGNtLCB2YWwsIG9sZCkge1xuICAgIGlmIChvbGQgPT0gQ29kZU1pcnJvci5Jbml0KSBvbGQgPSBmYWxzZTtcbiAgICBpZiAoIW9sZCA9PSAhdmFsKSByZXR1cm47XG4gICAgaWYgKHZhbCkgc2V0RnVsbHNjcmVlbihjbSk7XG4gICAgZWxzZSBzZXROb3JtYWwoY20pO1xuICB9KTtcblxuICBmdW5jdGlvbiBzZXRGdWxsc2NyZWVuKGNtKSB7XG4gICAgdmFyIHdyYXAgPSBjbS5nZXRXcmFwcGVyRWxlbWVudCgpO1xuICAgIGNtLnN0YXRlLmZ1bGxTY3JlZW5SZXN0b3JlID0ge3Njcm9sbFRvcDogd2luZG93LnBhZ2VZT2Zmc2V0LCBzY3JvbGxMZWZ0OiB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdyYXAuc3R5bGUud2lkdGgsIGhlaWdodDogd3JhcC5zdHlsZS5oZWlnaHR9O1xuICAgIHdyYXAuc3R5bGUud2lkdGggPSBcIlwiO1xuICAgIHdyYXAuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4gICAgd3JhcC5jbGFzc05hbWUgKz0gXCIgQ29kZU1pcnJvci1mdWxsc2NyZWVuXCI7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICBjbS5yZWZyZXNoKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXROb3JtYWwoY20pIHtcbiAgICB2YXIgd3JhcCA9IGNtLmdldFdyYXBwZXJFbGVtZW50KCk7XG4gICAgd3JhcC5jbGFzc05hbWUgPSB3cmFwLmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMqQ29kZU1pcnJvci1mdWxsc2NyZWVuXFxiLywgXCJcIik7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcbiAgICB2YXIgaW5mbyA9IGNtLnN0YXRlLmZ1bGxTY3JlZW5SZXN0b3JlO1xuICAgIHdyYXAuc3R5bGUud2lkdGggPSBpbmZvLndpZHRoOyB3cmFwLnN0eWxlLmhlaWdodCA9IGluZm8uaGVpZ2h0O1xuICAgIHdpbmRvdy5zY3JvbGxUbyhpbmZvLnNjcm9sbExlZnQsIGluZm8uc2Nyb2xsVG9wKTtcbiAgICBjbS5yZWZyZXNoKCk7XG4gIH1cbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuICB2YXIgaWVfbHQ4ID0gL01TSUUgXFxkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgKGRvY3VtZW50LmRvY3VtZW50TW9kZSA9PSBudWxsIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA8IDgpO1xuXG4gIHZhciBQb3MgPSBDb2RlTWlycm9yLlBvcztcblxuICB2YXIgbWF0Y2hpbmcgPSB7XCIoXCI6IFwiKT5cIiwgXCIpXCI6IFwiKDxcIiwgXCJbXCI6IFwiXT5cIiwgXCJdXCI6IFwiWzxcIiwgXCJ7XCI6IFwifT5cIiwgXCJ9XCI6IFwiezxcIn07XG5cbiAgZnVuY3Rpb24gZmluZE1hdGNoaW5nQnJhY2tldChjbSwgd2hlcmUsIHN0cmljdCwgY29uZmlnKSB7XG4gICAgdmFyIGxpbmUgPSBjbS5nZXRMaW5lSGFuZGxlKHdoZXJlLmxpbmUpLCBwb3MgPSB3aGVyZS5jaCAtIDE7XG4gICAgdmFyIG1hdGNoID0gKHBvcyA+PSAwICYmIG1hdGNoaW5nW2xpbmUudGV4dC5jaGFyQXQocG9zKV0pIHx8IG1hdGNoaW5nW2xpbmUudGV4dC5jaGFyQXQoKytwb3MpXTtcbiAgICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgZGlyID0gbWF0Y2guY2hhckF0KDEpID09IFwiPlwiID8gMSA6IC0xO1xuICAgIGlmIChzdHJpY3QgJiYgKGRpciA+IDApICE9IChwb3MgPT0gd2hlcmUuY2gpKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgc3R5bGUgPSBjbS5nZXRUb2tlblR5cGVBdChQb3Mod2hlcmUubGluZSwgcG9zICsgMSkpO1xuXG4gICAgdmFyIGZvdW5kID0gc2NhbkZvckJyYWNrZXQoY20sIFBvcyh3aGVyZS5saW5lLCBwb3MgKyAoZGlyID4gMCA/IDEgOiAwKSksIGRpciwgc3R5bGUgfHwgbnVsbCwgY29uZmlnKTtcbiAgICBpZiAoZm91bmQgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtmcm9tOiBQb3Mod2hlcmUubGluZSwgcG9zKSwgdG86IGZvdW5kICYmIGZvdW5kLnBvcyxcbiAgICAgICAgICAgIG1hdGNoOiBmb3VuZCAmJiBmb3VuZC5jaCA9PSBtYXRjaC5jaGFyQXQoMCksIGZvcndhcmQ6IGRpciA+IDB9O1xuICB9XG5cbiAgLy8gYnJhY2tldFJlZ2V4IGlzIHVzZWQgdG8gc3BlY2lmeSB3aGljaCB0eXBlIG9mIGJyYWNrZXQgdG8gc2NhblxuICAvLyBzaG91bGQgYmUgYSByZWdleHAsIGUuZy4gL1tbXFxdXS9cbiAgLy9cbiAgLy8gTm90ZTogSWYgXCJ3aGVyZVwiIGlzIG9uIGFuIG9wZW4gYnJhY2tldCwgdGhlbiB0aGlzIGJyYWNrZXQgaXMgaWdub3JlZC5cbiAgLy9cbiAgLy8gUmV0dXJucyBmYWxzZSB3aGVuIG5vIGJyYWNrZXQgd2FzIGZvdW5kLCBudWxsIHdoZW4gaXQgcmVhY2hlZFxuICAvLyBtYXhTY2FuTGluZXMgYW5kIGdhdmUgdXBcbiAgZnVuY3Rpb24gc2NhbkZvckJyYWNrZXQoY20sIHdoZXJlLCBkaXIsIHN0eWxlLCBjb25maWcpIHtcbiAgICB2YXIgbWF4U2NhbkxlbiA9IChjb25maWcgJiYgY29uZmlnLm1heFNjYW5MaW5lTGVuZ3RoKSB8fCAxMDAwMDtcbiAgICB2YXIgbWF4U2NhbkxpbmVzID0gKGNvbmZpZyAmJiBjb25maWcubWF4U2NhbkxpbmVzKSB8fCAxMDAwO1xuXG4gICAgdmFyIHN0YWNrID0gW107XG4gICAgdmFyIHJlID0gY29uZmlnICYmIGNvbmZpZy5icmFja2V0UmVnZXggPyBjb25maWcuYnJhY2tldFJlZ2V4IDogL1soKXt9W1xcXV0vO1xuICAgIHZhciBsaW5lRW5kID0gZGlyID4gMCA/IE1hdGgubWluKHdoZXJlLmxpbmUgKyBtYXhTY2FuTGluZXMsIGNtLmxhc3RMaW5lKCkgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IE1hdGgubWF4KGNtLmZpcnN0TGluZSgpIC0gMSwgd2hlcmUubGluZSAtIG1heFNjYW5MaW5lcyk7XG4gICAgZm9yICh2YXIgbGluZU5vID0gd2hlcmUubGluZTsgbGluZU5vICE9IGxpbmVFbmQ7IGxpbmVObyArPSBkaXIpIHtcbiAgICAgIHZhciBsaW5lID0gY20uZ2V0TGluZShsaW5lTm8pO1xuICAgICAgaWYgKCFsaW5lKSBjb250aW51ZTtcbiAgICAgIHZhciBwb3MgPSBkaXIgPiAwID8gMCA6IGxpbmUubGVuZ3RoIC0gMSwgZW5kID0gZGlyID4gMCA/IGxpbmUubGVuZ3RoIDogLTE7XG4gICAgICBpZiAobGluZS5sZW5ndGggPiBtYXhTY2FuTGVuKSBjb250aW51ZTtcbiAgICAgIGlmIChsaW5lTm8gPT0gd2hlcmUubGluZSkgcG9zID0gd2hlcmUuY2ggLSAoZGlyIDwgMCA/IDEgOiAwKTtcbiAgICAgIGZvciAoOyBwb3MgIT0gZW5kOyBwb3MgKz0gZGlyKSB7XG4gICAgICAgIHZhciBjaCA9IGxpbmUuY2hhckF0KHBvcyk7XG4gICAgICAgIGlmIChyZS50ZXN0KGNoKSAmJiAoc3R5bGUgPT09IHVuZGVmaW5lZCB8fCBjbS5nZXRUb2tlblR5cGVBdChQb3MobGluZU5vLCBwb3MgKyAxKSkgPT0gc3R5bGUpKSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gbWF0Y2hpbmdbY2hdO1xuICAgICAgICAgIGlmICgobWF0Y2guY2hhckF0KDEpID09IFwiPlwiKSA9PSAoZGlyID4gMCkpIHN0YWNrLnB1c2goY2gpO1xuICAgICAgICAgIGVsc2UgaWYgKCFzdGFjay5sZW5ndGgpIHJldHVybiB7cG9zOiBQb3MobGluZU5vLCBwb3MpLCBjaDogY2h9O1xuICAgICAgICAgIGVsc2Ugc3RhY2sucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpbmVObyAtIGRpciA9PSAoZGlyID4gMCA/IGNtLmxhc3RMaW5lKCkgOiBjbS5maXJzdExpbmUoKSkgPyBmYWxzZSA6IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBtYXRjaEJyYWNrZXRzKGNtLCBhdXRvY2xlYXIsIGNvbmZpZykge1xuICAgIC8vIERpc2FibGUgYnJhY2UgbWF0Y2hpbmcgaW4gbG9uZyBsaW5lcywgc2luY2UgaXQnbGwgY2F1c2UgaHVnZWx5IHNsb3cgdXBkYXRlc1xuICAgIHZhciBtYXhIaWdobGlnaHRMZW4gPSBjbS5zdGF0ZS5tYXRjaEJyYWNrZXRzLm1heEhpZ2hsaWdodExpbmVMZW5ndGggfHwgMTAwMDtcbiAgICB2YXIgbWFya3MgPSBbXSwgcmFuZ2VzID0gY20ubGlzdFNlbGVjdGlvbnMoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1hdGNoID0gcmFuZ2VzW2ldLmVtcHR5KCkgJiYgZmluZE1hdGNoaW5nQnJhY2tldChjbSwgcmFuZ2VzW2ldLmhlYWQsIGZhbHNlLCBjb25maWcpO1xuICAgICAgaWYgKG1hdGNoICYmIGNtLmdldExpbmUobWF0Y2guZnJvbS5saW5lKS5sZW5ndGggPD0gbWF4SGlnaGxpZ2h0TGVuKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IG1hdGNoLm1hdGNoID8gXCJDb2RlTWlycm9yLW1hdGNoaW5nYnJhY2tldFwiIDogXCJDb2RlTWlycm9yLW5vbm1hdGNoaW5nYnJhY2tldFwiO1xuICAgICAgICBtYXJrcy5wdXNoKGNtLm1hcmtUZXh0KG1hdGNoLmZyb20sIFBvcyhtYXRjaC5mcm9tLmxpbmUsIG1hdGNoLmZyb20uY2ggKyAxKSwge2NsYXNzTmFtZTogc3R5bGV9KSk7XG4gICAgICAgIGlmIChtYXRjaC50byAmJiBjbS5nZXRMaW5lKG1hdGNoLnRvLmxpbmUpLmxlbmd0aCA8PSBtYXhIaWdobGlnaHRMZW4pXG4gICAgICAgICAgbWFya3MucHVzaChjbS5tYXJrVGV4dChtYXRjaC50bywgUG9zKG1hdGNoLnRvLmxpbmUsIG1hdGNoLnRvLmNoICsgMSksIHtjbGFzc05hbWU6IHN0eWxlfSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtYXJrcy5sZW5ndGgpIHtcbiAgICAgIC8vIEtsdWRnZSB0byB3b3JrIGFyb3VuZCB0aGUgSUUgYnVnIGZyb20gaXNzdWUgIzExOTMsIHdoZXJlIHRleHRcbiAgICAgIC8vIGlucHV0IHN0b3BzIGdvaW5nIHRvIHRoZSB0ZXh0YXJlIHdoZXZlciB0aGlzIGZpcmVzLlxuICAgICAgaWYgKGllX2x0OCAmJiBjbS5zdGF0ZS5mb2N1c2VkKSBjbS5mb2N1cygpO1xuXG4gICAgICB2YXIgY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyBpKyspIG1hcmtzW2ldLmNsZWFyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGlmIChhdXRvY2xlYXIpIHNldFRpbWVvdXQoY2xlYXIsIDgwMCk7XG4gICAgICBlbHNlIHJldHVybiBjbGVhcjtcbiAgICB9XG4gIH1cblxuICB2YXIgY3VycmVudGx5SGlnaGxpZ2h0ZWQgPSBudWxsO1xuICBmdW5jdGlvbiBkb01hdGNoQnJhY2tldHMoY20pIHtcbiAgICBjbS5vcGVyYXRpb24oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY3VycmVudGx5SGlnaGxpZ2h0ZWQpIHtjdXJyZW50bHlIaWdobGlnaHRlZCgpOyBjdXJyZW50bHlIaWdobGlnaHRlZCA9IG51bGw7fVxuICAgICAgY3VycmVudGx5SGlnaGxpZ2h0ZWQgPSBtYXRjaEJyYWNrZXRzKGNtLCBmYWxzZSwgY20uc3RhdGUubWF0Y2hCcmFja2V0cyk7XG4gICAgfSk7XG4gIH1cblxuICBDb2RlTWlycm9yLmRlZmluZU9wdGlvbihcIm1hdGNoQnJhY2tldHNcIiwgZmFsc2UsIGZ1bmN0aW9uKGNtLCB2YWwsIG9sZCkge1xuICAgIGlmIChvbGQgJiYgb2xkICE9IENvZGVNaXJyb3IuSW5pdClcbiAgICAgIGNtLm9mZihcImN1cnNvckFjdGl2aXR5XCIsIGRvTWF0Y2hCcmFja2V0cyk7XG4gICAgaWYgKHZhbCkge1xuICAgICAgY20uc3RhdGUubWF0Y2hCcmFja2V0cyA9IHR5cGVvZiB2YWwgPT0gXCJvYmplY3RcIiA/IHZhbCA6IHt9O1xuICAgICAgY20ub24oXCJjdXJzb3JBY3Rpdml0eVwiLCBkb01hdGNoQnJhY2tldHMpO1xuICAgIH1cbiAgfSk7XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVFeHRlbnNpb24oXCJtYXRjaEJyYWNrZXRzXCIsIGZ1bmN0aW9uKCkge21hdGNoQnJhY2tldHModGhpcywgdHJ1ZSk7fSk7XG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwiZmluZE1hdGNoaW5nQnJhY2tldFwiLCBmdW5jdGlvbihwb3MsIHN0cmljdCwgY29uZmlnKXtcbiAgICByZXR1cm4gZmluZE1hdGNoaW5nQnJhY2tldCh0aGlzLCBwb3MsIHN0cmljdCwgY29uZmlnKTtcbiAgfSk7XG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwic2NhbkZvckJyYWNrZXRcIiwgZnVuY3Rpb24ocG9zLCBkaXIsIHN0eWxlLCBjb25maWcpe1xuICAgIHJldHVybiBzY2FuRm9yQnJhY2tldCh0aGlzLCBwb3MsIGRpciwgc3R5bGUsIGNvbmZpZyk7XG4gIH0pO1xufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlcihcImZvbGRcIiwgXCJicmFjZVwiLCBmdW5jdGlvbihjbSwgc3RhcnQpIHtcbiAgdmFyIGxpbmUgPSBzdGFydC5saW5lLCBsaW5lVGV4dCA9IGNtLmdldExpbmUobGluZSk7XG4gIHZhciB0b2tlblR5cGU7XG5cbiAgZnVuY3Rpb24gZmluZE9wZW5pbmcob3BlbkNoKSB7XG4gICAgZm9yICh2YXIgYXQgPSBzdGFydC5jaCwgcGFzcyA9IDA7Oykge1xuICAgICAgdmFyIGZvdW5kID0gYXQgPD0gMCA/IC0xIDogbGluZVRleHQubGFzdEluZGV4T2Yob3BlbkNoLCBhdCAtIDEpO1xuICAgICAgaWYgKGZvdW5kID09IC0xKSB7XG4gICAgICAgIGlmIChwYXNzID09IDEpIGJyZWFrO1xuICAgICAgICBwYXNzID0gMTtcbiAgICAgICAgYXQgPSBsaW5lVGV4dC5sZW5ndGg7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHBhc3MgPT0gMSAmJiBmb3VuZCA8IHN0YXJ0LmNoKSBicmVhaztcbiAgICAgIHRva2VuVHlwZSA9IGNtLmdldFRva2VuVHlwZUF0KENvZGVNaXJyb3IuUG9zKGxpbmUsIGZvdW5kICsgMSkpO1xuICAgICAgaWYgKCEvXihjb21tZW50fHN0cmluZykvLnRlc3QodG9rZW5UeXBlKSkgcmV0dXJuIGZvdW5kICsgMTtcbiAgICAgIGF0ID0gZm91bmQgLSAxO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdGFydFRva2VuID0gXCJ7XCIsIGVuZFRva2VuID0gXCJ9XCIsIHN0YXJ0Q2ggPSBmaW5kT3BlbmluZyhcIntcIik7XG4gIGlmIChzdGFydENoID09IG51bGwpIHtcbiAgICBzdGFydFRva2VuID0gXCJbXCIsIGVuZFRva2VuID0gXCJdXCI7XG4gICAgc3RhcnRDaCA9IGZpbmRPcGVuaW5nKFwiW1wiKTtcbiAgfVxuXG4gIGlmIChzdGFydENoID09IG51bGwpIHJldHVybjtcbiAgdmFyIGNvdW50ID0gMSwgbGFzdExpbmUgPSBjbS5sYXN0TGluZSgpLCBlbmQsIGVuZENoO1xuICBvdXRlcjogZm9yICh2YXIgaSA9IGxpbmU7IGkgPD0gbGFzdExpbmU7ICsraSkge1xuICAgIHZhciB0ZXh0ID0gY20uZ2V0TGluZShpKSwgcG9zID0gaSA9PSBsaW5lID8gc3RhcnRDaCA6IDA7XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIG5leHRPcGVuID0gdGV4dC5pbmRleE9mKHN0YXJ0VG9rZW4sIHBvcyksIG5leHRDbG9zZSA9IHRleHQuaW5kZXhPZihlbmRUb2tlbiwgcG9zKTtcbiAgICAgIGlmIChuZXh0T3BlbiA8IDApIG5leHRPcGVuID0gdGV4dC5sZW5ndGg7XG4gICAgICBpZiAobmV4dENsb3NlIDwgMCkgbmV4dENsb3NlID0gdGV4dC5sZW5ndGg7XG4gICAgICBwb3MgPSBNYXRoLm1pbihuZXh0T3BlbiwgbmV4dENsb3NlKTtcbiAgICAgIGlmIChwb3MgPT0gdGV4dC5sZW5ndGgpIGJyZWFrO1xuICAgICAgaWYgKGNtLmdldFRva2VuVHlwZUF0KENvZGVNaXJyb3IuUG9zKGksIHBvcyArIDEpKSA9PSB0b2tlblR5cGUpIHtcbiAgICAgICAgaWYgKHBvcyA9PSBuZXh0T3BlbikgKytjb3VudDtcbiAgICAgICAgZWxzZSBpZiAoIS0tY291bnQpIHsgZW5kID0gaTsgZW5kQ2ggPSBwb3M7IGJyZWFrIG91dGVyOyB9XG4gICAgICB9XG4gICAgICArK3BvcztcbiAgICB9XG4gIH1cbiAgaWYgKGVuZCA9PSBudWxsIHx8IGxpbmUgPT0gZW5kICYmIGVuZENoID09IHN0YXJ0Q2gpIHJldHVybjtcbiAgcmV0dXJuIHtmcm9tOiBDb2RlTWlycm9yLlBvcyhsaW5lLCBzdGFydENoKSxcbiAgICAgICAgICB0bzogQ29kZU1pcnJvci5Qb3MoZW5kLCBlbmRDaCl9O1xufSk7XG5cbkNvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIoXCJmb2xkXCIsIFwiaW1wb3J0XCIsIGZ1bmN0aW9uKGNtLCBzdGFydCkge1xuICBmdW5jdGlvbiBoYXNJbXBvcnQobGluZSkge1xuICAgIGlmIChsaW5lIDwgY20uZmlyc3RMaW5lKCkgfHwgbGluZSA+IGNtLmxhc3RMaW5lKCkpIHJldHVybiBudWxsO1xuICAgIHZhciBzdGFydCA9IGNtLmdldFRva2VuQXQoQ29kZU1pcnJvci5Qb3MobGluZSwgMSkpO1xuICAgIGlmICghL1xcUy8udGVzdChzdGFydC5zdHJpbmcpKSBzdGFydCA9IGNtLmdldFRva2VuQXQoQ29kZU1pcnJvci5Qb3MobGluZSwgc3RhcnQuZW5kICsgMSkpO1xuICAgIGlmIChzdGFydC50eXBlICE9IFwia2V5d29yZFwiIHx8IHN0YXJ0LnN0cmluZyAhPSBcImltcG9ydFwiKSByZXR1cm4gbnVsbDtcbiAgICAvLyBOb3cgZmluZCBjbG9zaW5nIHNlbWljb2xvbiwgcmV0dXJuIGl0cyBwb3NpdGlvblxuICAgIGZvciAodmFyIGkgPSBsaW5lLCBlID0gTWF0aC5taW4oY20ubGFzdExpbmUoKSwgbGluZSArIDEwKTsgaSA8PSBlOyArK2kpIHtcbiAgICAgIHZhciB0ZXh0ID0gY20uZ2V0TGluZShpKSwgc2VtaSA9IHRleHQuaW5kZXhPZihcIjtcIik7XG4gICAgICBpZiAoc2VtaSAhPSAtMSkgcmV0dXJuIHtzdGFydENoOiBzdGFydC5lbmQsIGVuZDogQ29kZU1pcnJvci5Qb3MoaSwgc2VtaSl9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdGFydExpbmUgPSBzdGFydC5saW5lLCBoYXMgPSBoYXNJbXBvcnQoc3RhcnRMaW5lKSwgcHJldjtcbiAgaWYgKCFoYXMgfHwgaGFzSW1wb3J0KHN0YXJ0TGluZSAtIDEpIHx8ICgocHJldiA9IGhhc0ltcG9ydChzdGFydExpbmUgLSAyKSkgJiYgcHJldi5lbmQubGluZSA9PSBzdGFydExpbmUgLSAxKSlcbiAgICByZXR1cm4gbnVsbDtcbiAgZm9yICh2YXIgZW5kID0gaGFzLmVuZDs7KSB7XG4gICAgdmFyIG5leHQgPSBoYXNJbXBvcnQoZW5kLmxpbmUgKyAxKTtcbiAgICBpZiAobmV4dCA9PSBudWxsKSBicmVhaztcbiAgICBlbmQgPSBuZXh0LmVuZDtcbiAgfVxuICByZXR1cm4ge2Zyb206IGNtLmNsaXBQb3MoQ29kZU1pcnJvci5Qb3Moc3RhcnRMaW5lLCBoYXMuc3RhcnRDaCArIDEpKSwgdG86IGVuZH07XG59KTtcblxuQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlcihcImZvbGRcIiwgXCJpbmNsdWRlXCIsIGZ1bmN0aW9uKGNtLCBzdGFydCkge1xuICBmdW5jdGlvbiBoYXNJbmNsdWRlKGxpbmUpIHtcbiAgICBpZiAobGluZSA8IGNtLmZpcnN0TGluZSgpIHx8IGxpbmUgPiBjbS5sYXN0TGluZSgpKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgc3RhcnQgPSBjbS5nZXRUb2tlbkF0KENvZGVNaXJyb3IuUG9zKGxpbmUsIDEpKTtcbiAgICBpZiAoIS9cXFMvLnRlc3Qoc3RhcnQuc3RyaW5nKSkgc3RhcnQgPSBjbS5nZXRUb2tlbkF0KENvZGVNaXJyb3IuUG9zKGxpbmUsIHN0YXJ0LmVuZCArIDEpKTtcbiAgICBpZiAoc3RhcnQudHlwZSA9PSBcIm1ldGFcIiAmJiBzdGFydC5zdHJpbmcuc2xpY2UoMCwgOCkgPT0gXCIjaW5jbHVkZVwiKSByZXR1cm4gc3RhcnQuc3RhcnQgKyA4O1xuICB9XG5cbiAgdmFyIHN0YXJ0TGluZSA9IHN0YXJ0LmxpbmUsIGhhcyA9IGhhc0luY2x1ZGUoc3RhcnRMaW5lKTtcbiAgaWYgKGhhcyA9PSBudWxsIHx8IGhhc0luY2x1ZGUoc3RhcnRMaW5lIC0gMSkgIT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gIGZvciAodmFyIGVuZCA9IHN0YXJ0TGluZTs7KSB7XG4gICAgdmFyIG5leHQgPSBoYXNJbmNsdWRlKGVuZCArIDEpO1xuICAgIGlmIChuZXh0ID09IG51bGwpIGJyZWFrO1xuICAgICsrZW5kO1xuICB9XG4gIHJldHVybiB7ZnJvbTogQ29kZU1pcnJvci5Qb3Moc3RhcnRMaW5lLCBoYXMgKyAxKSxcbiAgICAgICAgICB0bzogY20uY2xpcFBvcyhDb2RlTWlycm9yLlBvcyhlbmQpKX07XG59KTtcblxufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGZ1bmN0aW9uIGRvRm9sZChjbSwgcG9zLCBvcHRpb25zLCBmb3JjZSkge1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY2FsbCkge1xuICAgICAgdmFyIGZpbmRlciA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGZpbmRlciA9IGdldE9wdGlvbihjbSwgb3B0aW9ucywgXCJyYW5nZUZpbmRlclwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwb3MgPT0gXCJudW1iZXJcIikgcG9zID0gQ29kZU1pcnJvci5Qb3MocG9zLCAwKTtcbiAgICB2YXIgbWluU2l6ZSA9IGdldE9wdGlvbihjbSwgb3B0aW9ucywgXCJtaW5Gb2xkU2l6ZVwiKTtcblxuICAgIGZ1bmN0aW9uIGdldFJhbmdlKGFsbG93Rm9sZGVkKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBmaW5kZXIoY20sIHBvcyk7XG4gICAgICBpZiAoIXJhbmdlIHx8IHJhbmdlLnRvLmxpbmUgLSByYW5nZS5mcm9tLmxpbmUgPCBtaW5TaXplKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBtYXJrcyA9IGNtLmZpbmRNYXJrc0F0KHJhbmdlLmZyb20pO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAobWFya3NbaV0uX19pc0ZvbGQgJiYgZm9yY2UgIT09IFwiZm9sZFwiKSB7XG4gICAgICAgICAgaWYgKCFhbGxvd0ZvbGRlZCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgcmFuZ2UuY2xlYXJlZCA9IHRydWU7XG4gICAgICAgICAgbWFya3NbaV0uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH1cblxuICAgIHZhciByYW5nZSA9IGdldFJhbmdlKHRydWUpO1xuICAgIGlmIChnZXRPcHRpb24oY20sIG9wdGlvbnMsIFwic2NhblVwXCIpKSB3aGlsZSAoIXJhbmdlICYmIHBvcy5saW5lID4gY20uZmlyc3RMaW5lKCkpIHtcbiAgICAgIHBvcyA9IENvZGVNaXJyb3IuUG9zKHBvcy5saW5lIC0gMSwgMCk7XG4gICAgICByYW5nZSA9IGdldFJhbmdlKGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKCFyYW5nZSB8fCByYW5nZS5jbGVhcmVkIHx8IGZvcmNlID09PSBcInVuZm9sZFwiKSByZXR1cm47XG5cbiAgICB2YXIgbXlXaWRnZXQgPSBtYWtlV2lkZ2V0KGNtLCBvcHRpb25zKTtcbiAgICBDb2RlTWlycm9yLm9uKG15V2lkZ2V0LCBcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICBteVJhbmdlLmNsZWFyKCk7XG4gICAgICBDb2RlTWlycm9yLmVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgfSk7XG4gICAgdmFyIG15UmFuZ2UgPSBjbS5tYXJrVGV4dChyYW5nZS5mcm9tLCByYW5nZS50bywge1xuICAgICAgcmVwbGFjZWRXaXRoOiBteVdpZGdldCxcbiAgICAgIGNsZWFyT25FbnRlcjogZ2V0T3B0aW9uKGNtLCBvcHRpb25zLCBcImNsZWFyT25FbnRlclwiKSxcbiAgICAgIF9faXNGb2xkOiB0cnVlXG4gICAgfSk7XG4gICAgbXlSYW5nZS5vbihcImNsZWFyXCIsIGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gICAgICBDb2RlTWlycm9yLnNpZ25hbChjbSwgXCJ1bmZvbGRcIiwgY20sIGZyb20sIHRvKTtcbiAgICB9KTtcbiAgICBDb2RlTWlycm9yLnNpZ25hbChjbSwgXCJmb2xkXCIsIGNtLCByYW5nZS5mcm9tLCByYW5nZS50byk7XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlV2lkZ2V0KGNtLCBvcHRpb25zKSB7XG4gICAgdmFyIHdpZGdldCA9IGdldE9wdGlvbihjbSwgb3B0aW9ucywgXCJ3aWRnZXRcIik7XG4gICAgaWYgKHR5cGVvZiB3aWRnZXQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFyIHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh3aWRnZXQpO1xuICAgICAgd2lkZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICB3aWRnZXQuYXBwZW5kQ2hpbGQodGV4dCk7XG4gICAgICB3aWRnZXQuY2xhc3NOYW1lID0gXCJDb2RlTWlycm9yLWZvbGRtYXJrZXJcIjtcbiAgICB9XG4gICAgcmV0dXJuIHdpZGdldDtcbiAgfVxuXG4gIC8vIENsdW1zeSBiYWNrd2FyZHMtY29tcGF0aWJsZSBpbnRlcmZhY2VcbiAgQ29kZU1pcnJvci5uZXdGb2xkRnVuY3Rpb24gPSBmdW5jdGlvbihyYW5nZUZpbmRlciwgd2lkZ2V0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNtLCBwb3MpIHsgZG9Gb2xkKGNtLCBwb3MsIHtyYW5nZUZpbmRlcjogcmFuZ2VGaW5kZXIsIHdpZGdldDogd2lkZ2V0fSk7IH07XG4gIH07XG5cbiAgLy8gTmV3LXN0eWxlIGludGVyZmFjZVxuICBDb2RlTWlycm9yLmRlZmluZUV4dGVuc2lvbihcImZvbGRDb2RlXCIsIGZ1bmN0aW9uKHBvcywgb3B0aW9ucywgZm9yY2UpIHtcbiAgICBkb0ZvbGQodGhpcywgcG9zLCBvcHRpb25zLCBmb3JjZSk7XG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwiaXNGb2xkZWRcIiwgZnVuY3Rpb24ocG9zKSB7XG4gICAgdmFyIG1hcmtzID0gdGhpcy5maW5kTWFya3NBdChwb3MpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyArK2kpXG4gICAgICBpZiAobWFya3NbaV0uX19pc0ZvbGQpIHJldHVybiB0cnVlO1xuICB9KTtcblxuICBDb2RlTWlycm9yLmNvbW1hbmRzLnRvZ2dsZUZvbGQgPSBmdW5jdGlvbihjbSkge1xuICAgIGNtLmZvbGRDb2RlKGNtLmdldEN1cnNvcigpKTtcbiAgfTtcbiAgQ29kZU1pcnJvci5jb21tYW5kcy5mb2xkID0gZnVuY3Rpb24oY20pIHtcbiAgICBjbS5mb2xkQ29kZShjbS5nZXRDdXJzb3IoKSwgbnVsbCwgXCJmb2xkXCIpO1xuICB9O1xuICBDb2RlTWlycm9yLmNvbW1hbmRzLnVuZm9sZCA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgY20uZm9sZENvZGUoY20uZ2V0Q3Vyc29yKCksIG51bGwsIFwidW5mb2xkXCIpO1xuICB9O1xuICBDb2RlTWlycm9yLmNvbW1hbmRzLmZvbGRBbGwgPSBmdW5jdGlvbihjbSkge1xuICAgIGNtLm9wZXJhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIGkgPSBjbS5maXJzdExpbmUoKSwgZSA9IGNtLmxhc3RMaW5lKCk7IGkgPD0gZTsgaSsrKVxuICAgICAgICBjbS5mb2xkQ29kZShDb2RlTWlycm9yLlBvcyhpLCAwKSwgbnVsbCwgXCJmb2xkXCIpO1xuICAgIH0pO1xuICB9O1xuICBDb2RlTWlycm9yLmNvbW1hbmRzLnVuZm9sZEFsbCA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgaSA9IGNtLmZpcnN0TGluZSgpLCBlID0gY20ubGFzdExpbmUoKTsgaSA8PSBlOyBpKyspXG4gICAgICAgIGNtLmZvbGRDb2RlKENvZGVNaXJyb3IuUG9zKGksIDApLCBudWxsLCBcInVuZm9sZFwiKTtcbiAgICB9KTtcbiAgfTtcblxuICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwiZm9sZFwiLCBcImNvbWJpbmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZ1bmNzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oY20sIHN0YXJ0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZ1bmNzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGZ1bmNzW2ldKGNtLCBzdGFydCk7XG4gICAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGZvdW5kO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG4gIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIoXCJmb2xkXCIsIFwiYXV0b1wiLCBmdW5jdGlvbihjbSwgc3RhcnQpIHtcbiAgICB2YXIgaGVscGVycyA9IGNtLmdldEhlbHBlcnMoc3RhcnQsIFwiZm9sZFwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhlbHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjdXIgPSBoZWxwZXJzW2ldKGNtLCBzdGFydCk7XG4gICAgICBpZiAoY3VyKSByZXR1cm4gY3VyO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIHJhbmdlRmluZGVyOiBDb2RlTWlycm9yLmZvbGQuYXV0byxcbiAgICB3aWRnZXQ6IFwiXFx1MjE5NFwiLFxuICAgIG1pbkZvbGRTaXplOiAwLFxuICAgIHNjYW5VcDogZmFsc2UsXG4gICAgY2xlYXJPbkVudGVyOiB0cnVlXG4gIH07XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVPcHRpb24oXCJmb2xkT3B0aW9uc1wiLCBudWxsKTtcblxuICBmdW5jdGlvbiBnZXRPcHRpb24oY20sIG9wdGlvbnMsIG5hbWUpIHtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zW25hbWVdICE9PSB1bmRlZmluZWQpXG4gICAgICByZXR1cm4gb3B0aW9uc1tuYW1lXTtcbiAgICB2YXIgZWRpdG9yT3B0aW9ucyA9IGNtLm9wdGlvbnMuZm9sZE9wdGlvbnM7XG4gICAgaWYgKGVkaXRvck9wdGlvbnMgJiYgZWRpdG9yT3B0aW9uc1tuYW1lXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuIGVkaXRvck9wdGlvbnNbbmFtZV07XG4gICAgcmV0dXJuIGRlZmF1bHRPcHRpb25zW25hbWVdO1xuICB9XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVFeHRlbnNpb24oXCJmb2xkT3B0aW9uXCIsIGZ1bmN0aW9uKG9wdGlvbnMsIG5hbWUpIHtcbiAgICByZXR1cm4gZ2V0T3B0aW9uKHRoaXMsIG9wdGlvbnMsIG5hbWUpO1xuICB9KTtcbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpLCByZXF1aXJlKFwiLi9mb2xkY29kZVwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiLCBcIi4vZm9sZGNvZGVcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lT3B0aW9uKFwiZm9sZEd1dHRlclwiLCBmYWxzZSwgZnVuY3Rpb24oY20sIHZhbCwgb2xkKSB7XG4gICAgaWYgKG9sZCAmJiBvbGQgIT0gQ29kZU1pcnJvci5Jbml0KSB7XG4gICAgICBjbS5jbGVhckd1dHRlcihjbS5zdGF0ZS5mb2xkR3V0dGVyLm9wdGlvbnMuZ3V0dGVyKTtcbiAgICAgIGNtLnN0YXRlLmZvbGRHdXR0ZXIgPSBudWxsO1xuICAgICAgY20ub2ZmKFwiZ3V0dGVyQ2xpY2tcIiwgb25HdXR0ZXJDbGljayk7XG4gICAgICBjbS5vZmYoXCJjaGFuZ2VcIiwgb25DaGFuZ2UpO1xuICAgICAgY20ub2ZmKFwidmlld3BvcnRDaGFuZ2VcIiwgb25WaWV3cG9ydENoYW5nZSk7XG4gICAgICBjbS5vZmYoXCJmb2xkXCIsIG9uRm9sZCk7XG4gICAgICBjbS5vZmYoXCJ1bmZvbGRcIiwgb25Gb2xkKTtcbiAgICAgIGNtLm9mZihcInN3YXBEb2NcIiwgb25DaGFuZ2UpO1xuICAgIH1cbiAgICBpZiAodmFsKSB7XG4gICAgICBjbS5zdGF0ZS5mb2xkR3V0dGVyID0gbmV3IFN0YXRlKHBhcnNlT3B0aW9ucyh2YWwpKTtcbiAgICAgIHVwZGF0ZUluVmlld3BvcnQoY20pO1xuICAgICAgY20ub24oXCJndXR0ZXJDbGlja1wiLCBvbkd1dHRlckNsaWNrKTtcbiAgICAgIGNtLm9uKFwiY2hhbmdlXCIsIG9uQ2hhbmdlKTtcbiAgICAgIGNtLm9uKFwidmlld3BvcnRDaGFuZ2VcIiwgb25WaWV3cG9ydENoYW5nZSk7XG4gICAgICBjbS5vbihcImZvbGRcIiwgb25Gb2xkKTtcbiAgICAgIGNtLm9uKFwidW5mb2xkXCIsIG9uRm9sZCk7XG4gICAgICBjbS5vbihcInN3YXBEb2NcIiwgb25DaGFuZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIFBvcyA9IENvZGVNaXJyb3IuUG9zO1xuXG4gIGZ1bmN0aW9uIFN0YXRlKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuZnJvbSA9IHRoaXMudG8gPSAwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAob3B0cyA9PT0gdHJ1ZSkgb3B0cyA9IHt9O1xuICAgIGlmIChvcHRzLmd1dHRlciA9PSBudWxsKSBvcHRzLmd1dHRlciA9IFwiQ29kZU1pcnJvci1mb2xkZ3V0dGVyXCI7XG4gICAgaWYgKG9wdHMuaW5kaWNhdG9yT3BlbiA9PSBudWxsKSBvcHRzLmluZGljYXRvck9wZW4gPSBcIkNvZGVNaXJyb3ItZm9sZGd1dHRlci1vcGVuXCI7XG4gICAgaWYgKG9wdHMuaW5kaWNhdG9yRm9sZGVkID09IG51bGwpIG9wdHMuaW5kaWNhdG9yRm9sZGVkID0gXCJDb2RlTWlycm9yLWZvbGRndXR0ZXItZm9sZGVkXCI7XG4gICAgcmV0dXJuIG9wdHM7XG4gIH1cblxuICBmdW5jdGlvbiBpc0ZvbGRlZChjbSwgbGluZSkge1xuICAgIHZhciBtYXJrcyA9IGNtLmZpbmRNYXJrcyhQb3MobGluZSwgMCksIFBvcyhsaW5lICsgMSwgMCkpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya3MubGVuZ3RoOyArK2kpXG4gICAgICBpZiAobWFya3NbaV0uX19pc0ZvbGQgJiYgbWFya3NbaV0uZmluZCgpLmZyb20ubGluZSA9PSBsaW5lKSByZXR1cm4gbWFya3NbaV07XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrZXIoc3BlYykge1xuICAgIGlmICh0eXBlb2Ygc3BlYyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YXIgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGVsdC5jbGFzc05hbWUgPSBzcGVjICsgXCIgQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXItc3VidGxlXCI7XG4gICAgICByZXR1cm4gZWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3BlYy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRm9sZEluZm8oY20sIGZyb20sIHRvKSB7XG4gICAgdmFyIG9wdHMgPSBjbS5zdGF0ZS5mb2xkR3V0dGVyLm9wdGlvbnMsIGN1ciA9IGZyb207XG4gICAgdmFyIG1pblNpemUgPSBjbS5mb2xkT3B0aW9uKG9wdHMsIFwibWluRm9sZFNpemVcIik7XG4gICAgdmFyIGZ1bmMgPSBjbS5mb2xkT3B0aW9uKG9wdHMsIFwicmFuZ2VGaW5kZXJcIik7XG4gICAgY20uZWFjaExpbmUoZnJvbSwgdG8sIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBtYXJrID0gbnVsbDtcbiAgICAgIGlmIChpc0ZvbGRlZChjbSwgY3VyKSkge1xuICAgICAgICBtYXJrID0gbWFya2VyKG9wdHMuaW5kaWNhdG9yRm9sZGVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBwb3MgPSBQb3MoY3VyLCAwKTtcbiAgICAgICAgdmFyIHJhbmdlID0gZnVuYyAmJiBmdW5jKGNtLCBwb3MpO1xuICAgICAgICBpZiAocmFuZ2UgJiYgcmFuZ2UudG8ubGluZSAtIHJhbmdlLmZyb20ubGluZSA+PSBtaW5TaXplKVxuICAgICAgICAgIG1hcmsgPSBtYXJrZXIob3B0cy5pbmRpY2F0b3JPcGVuKTtcbiAgICAgIH1cbiAgICAgIGNtLnNldEd1dHRlck1hcmtlcihsaW5lLCBvcHRzLmd1dHRlciwgbWFyayk7XG4gICAgICArK2N1cjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUluVmlld3BvcnQoY20pIHtcbiAgICB2YXIgdnAgPSBjbS5nZXRWaWV3cG9ydCgpLCBzdGF0ZSA9IGNtLnN0YXRlLmZvbGRHdXR0ZXI7XG4gICAgaWYgKCFzdGF0ZSkgcmV0dXJuO1xuICAgIGNtLm9wZXJhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgIHVwZGF0ZUZvbGRJbmZvKGNtLCB2cC5mcm9tLCB2cC50byk7XG4gICAgfSk7XG4gICAgc3RhdGUuZnJvbSA9IHZwLmZyb207IHN0YXRlLnRvID0gdnAudG87XG4gIH1cblxuICBmdW5jdGlvbiBvbkd1dHRlckNsaWNrKGNtLCBsaW5lLCBndXR0ZXIpIHtcbiAgICB2YXIgc3RhdGUgPSBjbS5zdGF0ZS5mb2xkR3V0dGVyO1xuICAgIGlmICghc3RhdGUpIHJldHVybjtcbiAgICB2YXIgb3B0cyA9IHN0YXRlLm9wdGlvbnM7XG4gICAgaWYgKGd1dHRlciAhPSBvcHRzLmd1dHRlcikgcmV0dXJuO1xuICAgIHZhciBmb2xkZWQgPSBpc0ZvbGRlZChjbSwgbGluZSk7XG4gICAgaWYgKGZvbGRlZCkgZm9sZGVkLmNsZWFyKCk7XG4gICAgZWxzZSBjbS5mb2xkQ29kZShQb3MobGluZSwgMCksIG9wdHMucmFuZ2VGaW5kZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DaGFuZ2UoY20pIHtcbiAgICB2YXIgc3RhdGUgPSBjbS5zdGF0ZS5mb2xkR3V0dGVyO1xuICAgIGlmICghc3RhdGUpIHJldHVybjtcbiAgICB2YXIgb3B0cyA9IHN0YXRlLm9wdGlvbnM7XG4gICAgc3RhdGUuZnJvbSA9IHN0YXRlLnRvID0gMDtcbiAgICBjbGVhclRpbWVvdXQoc3RhdGUuY2hhbmdlVXBkYXRlKTtcbiAgICBzdGF0ZS5jaGFuZ2VVcGRhdGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyB1cGRhdGVJblZpZXdwb3J0KGNtKTsgfSwgb3B0cy5mb2xkT25DaGFuZ2VUaW1lU3BhbiB8fCA2MDApO1xuICB9XG5cbiAgZnVuY3Rpb24gb25WaWV3cG9ydENoYW5nZShjbSkge1xuICAgIHZhciBzdGF0ZSA9IGNtLnN0YXRlLmZvbGRHdXR0ZXI7XG4gICAgaWYgKCFzdGF0ZSkgcmV0dXJuO1xuICAgIHZhciBvcHRzID0gc3RhdGUub3B0aW9ucztcbiAgICBjbGVhclRpbWVvdXQoc3RhdGUuY2hhbmdlVXBkYXRlKTtcbiAgICBzdGF0ZS5jaGFuZ2VVcGRhdGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZwID0gY20uZ2V0Vmlld3BvcnQoKTtcbiAgICAgIGlmIChzdGF0ZS5mcm9tID09IHN0YXRlLnRvIHx8IHZwLmZyb20gLSBzdGF0ZS50byA+IDIwIHx8IHN0YXRlLmZyb20gLSB2cC50byA+IDIwKSB7XG4gICAgICAgIHVwZGF0ZUluVmlld3BvcnQoY20pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh2cC5mcm9tIDwgc3RhdGUuZnJvbSkge1xuICAgICAgICAgICAgdXBkYXRlRm9sZEluZm8oY20sIHZwLmZyb20sIHN0YXRlLmZyb20pO1xuICAgICAgICAgICAgc3RhdGUuZnJvbSA9IHZwLmZyb207XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2cC50byA+IHN0YXRlLnRvKSB7XG4gICAgICAgICAgICB1cGRhdGVGb2xkSW5mbyhjbSwgc3RhdGUudG8sIHZwLnRvKTtcbiAgICAgICAgICAgIHN0YXRlLnRvID0gdnAudG87XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LCBvcHRzLnVwZGF0ZVZpZXdwb3J0VGltZVNwYW4gfHwgNDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRm9sZChjbSwgZnJvbSkge1xuICAgIHZhciBzdGF0ZSA9IGNtLnN0YXRlLmZvbGRHdXR0ZXI7XG4gICAgaWYgKCFzdGF0ZSkgcmV0dXJuO1xuICAgIHZhciBsaW5lID0gZnJvbS5saW5lO1xuICAgIGlmIChsaW5lID49IHN0YXRlLmZyb20gJiYgbGluZSA8IHN0YXRlLnRvKVxuICAgICAgdXBkYXRlRm9sZEluZm8oY20sIGxpbmUsIGxpbmUgKyAxKTtcbiAgfVxufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBQb3MgPSBDb2RlTWlycm9yLlBvcztcbiAgZnVuY3Rpb24gY21wKGEsIGIpIHsgcmV0dXJuIGEubGluZSAtIGIubGluZSB8fCBhLmNoIC0gYi5jaDsgfVxuXG4gIHZhciBuYW1lU3RhcnRDaGFyID0gXCJBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcIjtcbiAgdmFyIG5hbWVDaGFyID0gbmFtZVN0YXJ0Q2hhciArIFwiXFwtXFw6XFwuMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBcIjtcbiAgdmFyIHhtbFRhZ1N0YXJ0ID0gbmV3IFJlZ0V4cChcIjwoLz8pKFtcIiArIG5hbWVTdGFydENoYXIgKyBcIl1bXCIgKyBuYW1lQ2hhciArIFwiXSopXCIsIFwiZ1wiKTtcblxuICBmdW5jdGlvbiBJdGVyKGNtLCBsaW5lLCBjaCwgcmFuZ2UpIHtcbiAgICB0aGlzLmxpbmUgPSBsaW5lOyB0aGlzLmNoID0gY2g7XG4gICAgdGhpcy5jbSA9IGNtOyB0aGlzLnRleHQgPSBjbS5nZXRMaW5lKGxpbmUpO1xuICAgIHRoaXMubWluID0gcmFuZ2UgPyByYW5nZS5mcm9tIDogY20uZmlyc3RMaW5lKCk7XG4gICAgdGhpcy5tYXggPSByYW5nZSA/IHJhbmdlLnRvIC0gMSA6IGNtLmxhc3RMaW5lKCk7XG4gIH1cblxuICBmdW5jdGlvbiB0YWdBdChpdGVyLCBjaCkge1xuICAgIHZhciB0eXBlID0gaXRlci5jbS5nZXRUb2tlblR5cGVBdChQb3MoaXRlci5saW5lLCBjaCkpO1xuICAgIHJldHVybiB0eXBlICYmIC9cXGJ0YWdcXGIvLnRlc3QodHlwZSk7XG4gIH1cblxuICBmdW5jdGlvbiBuZXh0TGluZShpdGVyKSB7XG4gICAgaWYgKGl0ZXIubGluZSA+PSBpdGVyLm1heCkgcmV0dXJuO1xuICAgIGl0ZXIuY2ggPSAwO1xuICAgIGl0ZXIudGV4dCA9IGl0ZXIuY20uZ2V0TGluZSgrK2l0ZXIubGluZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gcHJldkxpbmUoaXRlcikge1xuICAgIGlmIChpdGVyLmxpbmUgPD0gaXRlci5taW4pIHJldHVybjtcbiAgICBpdGVyLnRleHQgPSBpdGVyLmNtLmdldExpbmUoLS1pdGVyLmxpbmUpO1xuICAgIGl0ZXIuY2ggPSBpdGVyLnRleHQubGVuZ3RoO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9UYWdFbmQoaXRlcikge1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBndCA9IGl0ZXIudGV4dC5pbmRleE9mKFwiPlwiLCBpdGVyLmNoKTtcbiAgICAgIGlmIChndCA9PSAtMSkgeyBpZiAobmV4dExpbmUoaXRlcikpIGNvbnRpbnVlOyBlbHNlIHJldHVybjsgfVxuICAgICAgaWYgKCF0YWdBdChpdGVyLCBndCArIDEpKSB7IGl0ZXIuY2ggPSBndCArIDE7IGNvbnRpbnVlOyB9XG4gICAgICB2YXIgbGFzdFNsYXNoID0gaXRlci50ZXh0Lmxhc3RJbmRleE9mKFwiL1wiLCBndCk7XG4gICAgICB2YXIgc2VsZkNsb3NlID0gbGFzdFNsYXNoID4gLTEgJiYgIS9cXFMvLnRlc3QoaXRlci50ZXh0LnNsaWNlKGxhc3RTbGFzaCArIDEsIGd0KSk7XG4gICAgICBpdGVyLmNoID0gZ3QgKyAxO1xuICAgICAgcmV0dXJuIHNlbGZDbG9zZSA/IFwic2VsZkNsb3NlXCIgOiBcInJlZ3VsYXJcIjtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdG9UYWdTdGFydChpdGVyKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIGx0ID0gaXRlci5jaCA/IGl0ZXIudGV4dC5sYXN0SW5kZXhPZihcIjxcIiwgaXRlci5jaCAtIDEpIDogLTE7XG4gICAgICBpZiAobHQgPT0gLTEpIHsgaWYgKHByZXZMaW5lKGl0ZXIpKSBjb250aW51ZTsgZWxzZSByZXR1cm47IH1cbiAgICAgIGlmICghdGFnQXQoaXRlciwgbHQgKyAxKSkgeyBpdGVyLmNoID0gbHQ7IGNvbnRpbnVlOyB9XG4gICAgICB4bWxUYWdTdGFydC5sYXN0SW5kZXggPSBsdDtcbiAgICAgIGl0ZXIuY2ggPSBsdDtcbiAgICAgIHZhciBtYXRjaCA9IHhtbFRhZ1N0YXJ0LmV4ZWMoaXRlci50ZXh0KTtcbiAgICAgIGlmIChtYXRjaCAmJiBtYXRjaC5pbmRleCA9PSBsdCkgcmV0dXJuIG1hdGNoO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvTmV4dFRhZyhpdGVyKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgeG1sVGFnU3RhcnQubGFzdEluZGV4ID0gaXRlci5jaDtcbiAgICAgIHZhciBmb3VuZCA9IHhtbFRhZ1N0YXJ0LmV4ZWMoaXRlci50ZXh0KTtcbiAgICAgIGlmICghZm91bmQpIHsgaWYgKG5leHRMaW5lKGl0ZXIpKSBjb250aW51ZTsgZWxzZSByZXR1cm47IH1cbiAgICAgIGlmICghdGFnQXQoaXRlciwgZm91bmQuaW5kZXggKyAxKSkgeyBpdGVyLmNoID0gZm91bmQuaW5kZXggKyAxOyBjb250aW51ZTsgfVxuICAgICAgaXRlci5jaCA9IGZvdW5kLmluZGV4ICsgZm91bmRbMF0ubGVuZ3RoO1xuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0b1ByZXZUYWcoaXRlcikge1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBndCA9IGl0ZXIuY2ggPyBpdGVyLnRleHQubGFzdEluZGV4T2YoXCI+XCIsIGl0ZXIuY2ggLSAxKSA6IC0xO1xuICAgICAgaWYgKGd0ID09IC0xKSB7IGlmIChwcmV2TGluZShpdGVyKSkgY29udGludWU7IGVsc2UgcmV0dXJuOyB9XG4gICAgICBpZiAoIXRhZ0F0KGl0ZXIsIGd0ICsgMSkpIHsgaXRlci5jaCA9IGd0OyBjb250aW51ZTsgfVxuICAgICAgdmFyIGxhc3RTbGFzaCA9IGl0ZXIudGV4dC5sYXN0SW5kZXhPZihcIi9cIiwgZ3QpO1xuICAgICAgdmFyIHNlbGZDbG9zZSA9IGxhc3RTbGFzaCA+IC0xICYmICEvXFxTLy50ZXN0KGl0ZXIudGV4dC5zbGljZShsYXN0U2xhc2ggKyAxLCBndCkpO1xuICAgICAgaXRlci5jaCA9IGd0ICsgMTtcbiAgICAgIHJldHVybiBzZWxmQ2xvc2UgPyBcInNlbGZDbG9zZVwiIDogXCJyZWd1bGFyXCI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluZE1hdGNoaW5nQ2xvc2UoaXRlciwgdGFnKSB7XG4gICAgdmFyIHN0YWNrID0gW107XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIG5leHQgPSB0b05leHRUYWcoaXRlciksIGVuZCwgc3RhcnRMaW5lID0gaXRlci5saW5lLCBzdGFydENoID0gaXRlci5jaCAtIChuZXh0ID8gbmV4dFswXS5sZW5ndGggOiAwKTtcbiAgICAgIGlmICghbmV4dCB8fCAhKGVuZCA9IHRvVGFnRW5kKGl0ZXIpKSkgcmV0dXJuO1xuICAgICAgaWYgKGVuZCA9PSBcInNlbGZDbG9zZVwiKSBjb250aW51ZTtcbiAgICAgIGlmIChuZXh0WzFdKSB7IC8vIGNsb3NpbmcgdGFnXG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgaWYgKHN0YWNrW2ldID09IG5leHRbMl0pIHtcbiAgICAgICAgICBzdGFjay5sZW5ndGggPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpIDwgMCAmJiAoIXRhZyB8fCB0YWcgPT0gbmV4dFsyXSkpIHJldHVybiB7XG4gICAgICAgICAgdGFnOiBuZXh0WzJdLFxuICAgICAgICAgIGZyb206IFBvcyhzdGFydExpbmUsIHN0YXJ0Q2gpLFxuICAgICAgICAgIHRvOiBQb3MoaXRlci5saW5lLCBpdGVyLmNoKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHsgLy8gb3BlbmluZyB0YWdcbiAgICAgICAgc3RhY2sucHVzaChuZXh0WzJdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZmluZE1hdGNoaW5nT3BlbihpdGVyLCB0YWcpIHtcbiAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgcHJldiA9IHRvUHJldlRhZyhpdGVyKTtcbiAgICAgIGlmICghcHJldikgcmV0dXJuO1xuICAgICAgaWYgKHByZXYgPT0gXCJzZWxmQ2xvc2VcIikgeyB0b1RhZ1N0YXJ0KGl0ZXIpOyBjb250aW51ZTsgfVxuICAgICAgdmFyIGVuZExpbmUgPSBpdGVyLmxpbmUsIGVuZENoID0gaXRlci5jaDtcbiAgICAgIHZhciBzdGFydCA9IHRvVGFnU3RhcnQoaXRlcik7XG4gICAgICBpZiAoIXN0YXJ0KSByZXR1cm47XG4gICAgICBpZiAoc3RhcnRbMV0pIHsgLy8gY2xvc2luZyB0YWdcbiAgICAgICAgc3RhY2sucHVzaChzdGFydFsyXSk7XG4gICAgICB9IGVsc2UgeyAvLyBvcGVuaW5nIHRhZ1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIGlmIChzdGFja1tpXSA9PSBzdGFydFsyXSkge1xuICAgICAgICAgIHN0YWNrLmxlbmd0aCA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCAwICYmICghdGFnIHx8IHRhZyA9PSBzdGFydFsyXSkpIHJldHVybiB7XG4gICAgICAgICAgdGFnOiBzdGFydFsyXSxcbiAgICAgICAgICBmcm9tOiBQb3MoaXRlci5saW5lLCBpdGVyLmNoKSxcbiAgICAgICAgICB0bzogUG9zKGVuZExpbmUsIGVuZENoKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIoXCJmb2xkXCIsIFwieG1sXCIsIGZ1bmN0aW9uKGNtLCBzdGFydCkge1xuICAgIHZhciBpdGVyID0gbmV3IEl0ZXIoY20sIHN0YXJ0LmxpbmUsIDApO1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBvcGVuVGFnID0gdG9OZXh0VGFnKGl0ZXIpLCBlbmQ7XG4gICAgICBpZiAoIW9wZW5UYWcgfHwgaXRlci5saW5lICE9IHN0YXJ0LmxpbmUgfHwgIShlbmQgPSB0b1RhZ0VuZChpdGVyKSkpIHJldHVybjtcbiAgICAgIGlmICghb3BlblRhZ1sxXSAmJiBlbmQgIT0gXCJzZWxmQ2xvc2VcIikge1xuICAgICAgICB2YXIgc3RhcnRQb3MgPSBQb3MoaXRlci5saW5lLCBpdGVyLmNoKTtcbiAgICAgICAgdmFyIGVuZFBvcyA9IGZpbmRNYXRjaGluZ0Nsb3NlKGl0ZXIsIG9wZW5UYWdbMl0pO1xuICAgICAgICByZXR1cm4gZW5kUG9zICYmIHtmcm9tOiBzdGFydFBvcywgdG86IGVuZFBvcy5mcm9tfTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBDb2RlTWlycm9yLmZpbmRNYXRjaGluZ1RhZyA9IGZ1bmN0aW9uKGNtLCBwb3MsIHJhbmdlKSB7XG4gICAgdmFyIGl0ZXIgPSBuZXcgSXRlcihjbSwgcG9zLmxpbmUsIHBvcy5jaCwgcmFuZ2UpO1xuICAgIGlmIChpdGVyLnRleHQuaW5kZXhPZihcIj5cIikgPT0gLTEgJiYgaXRlci50ZXh0LmluZGV4T2YoXCI8XCIpID09IC0xKSByZXR1cm47XG4gICAgdmFyIGVuZCA9IHRvVGFnRW5kKGl0ZXIpLCB0byA9IGVuZCAmJiBQb3MoaXRlci5saW5lLCBpdGVyLmNoKTtcbiAgICB2YXIgc3RhcnQgPSBlbmQgJiYgdG9UYWdTdGFydChpdGVyKTtcbiAgICBpZiAoIWVuZCB8fCAhc3RhcnQgfHwgY21wKGl0ZXIsIHBvcykgPiAwKSByZXR1cm47XG4gICAgdmFyIGhlcmUgPSB7ZnJvbTogUG9zKGl0ZXIubGluZSwgaXRlci5jaCksIHRvOiB0bywgdGFnOiBzdGFydFsyXX07XG4gICAgaWYgKGVuZCA9PSBcInNlbGZDbG9zZVwiKSByZXR1cm4ge29wZW46IGhlcmUsIGNsb3NlOiBudWxsLCBhdDogXCJvcGVuXCJ9O1xuXG4gICAgaWYgKHN0YXJ0WzFdKSB7IC8vIGNsb3NpbmcgdGFnXG4gICAgICByZXR1cm4ge29wZW46IGZpbmRNYXRjaGluZ09wZW4oaXRlciwgc3RhcnRbMl0pLCBjbG9zZTogaGVyZSwgYXQ6IFwiY2xvc2VcIn07XG4gICAgfSBlbHNlIHsgLy8gb3BlbmluZyB0YWdcbiAgICAgIGl0ZXIgPSBuZXcgSXRlcihjbSwgdG8ubGluZSwgdG8uY2gsIHJhbmdlKTtcbiAgICAgIHJldHVybiB7b3BlbjogaGVyZSwgY2xvc2U6IGZpbmRNYXRjaGluZ0Nsb3NlKGl0ZXIsIHN0YXJ0WzJdKSwgYXQ6IFwib3BlblwifTtcbiAgICB9XG4gIH07XG5cbiAgQ29kZU1pcnJvci5maW5kRW5jbG9zaW5nVGFnID0gZnVuY3Rpb24oY20sIHBvcywgcmFuZ2UpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBJdGVyKGNtLCBwb3MubGluZSwgcG9zLmNoLCByYW5nZSk7XG4gICAgZm9yICg7Oykge1xuICAgICAgdmFyIG9wZW4gPSBmaW5kTWF0Y2hpbmdPcGVuKGl0ZXIpO1xuICAgICAgaWYgKCFvcGVuKSBicmVhaztcbiAgICAgIHZhciBmb3J3YXJkID0gbmV3IEl0ZXIoY20sIHBvcy5saW5lLCBwb3MuY2gsIHJhbmdlKTtcbiAgICAgIHZhciBjbG9zZSA9IGZpbmRNYXRjaGluZ0Nsb3NlKGZvcndhcmQsIG9wZW4udGFnKTtcbiAgICAgIGlmIChjbG9zZSkgcmV0dXJuIHtvcGVuOiBvcGVuLCBjbG9zZTogY2xvc2V9O1xuICAgIH1cbiAgfTtcblxuICAvLyBVc2VkIGJ5IGFkZG9uL2VkaXQvY2xvc2V0YWcuanNcbiAgQ29kZU1pcnJvci5zY2FuRm9yQ2xvc2luZ1RhZyA9IGZ1bmN0aW9uKGNtLCBwb3MsIG5hbWUsIGVuZCkge1xuICAgIHZhciBpdGVyID0gbmV3IEl0ZXIoY20sIHBvcy5saW5lLCBwb3MuY2gsIGVuZCA/IHtmcm9tOiAwLCB0bzogZW5kfSA6IG51bGwpO1xuICAgIHJldHVybiBmaW5kTWF0Y2hpbmdDbG9zZShpdGVyLCBuYW1lKTtcbiAgfTtcbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwOi8vY29kZW1pcnJvci5uZXQvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgSElOVF9FTEVNRU5UX0NMQVNTICAgICAgICA9IFwiQ29kZU1pcnJvci1oaW50XCI7XG4gIHZhciBBQ1RJVkVfSElOVF9FTEVNRU5UX0NMQVNTID0gXCJDb2RlTWlycm9yLWhpbnQtYWN0aXZlXCI7XG5cbiAgLy8gVGhpcyBpcyB0aGUgb2xkIGludGVyZmFjZSwga2VwdCBhcm91bmQgZm9yIG5vdyB0byBzdGF5XG4gIC8vIGJhY2t3YXJkcy1jb21wYXRpYmxlLlxuICBDb2RlTWlycm9yLnNob3dIaW50ID0gZnVuY3Rpb24oY20sIGdldEhpbnRzLCBvcHRpb25zKSB7XG4gICAgaWYgKCFnZXRIaW50cykgcmV0dXJuIGNtLnNob3dIaW50KG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuYXN5bmMpIGdldEhpbnRzLmFzeW5jID0gdHJ1ZTtcbiAgICB2YXIgbmV3T3B0cyA9IHtoaW50OiBnZXRIaW50c307XG4gICAgaWYgKG9wdGlvbnMpIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykgbmV3T3B0c1twcm9wXSA9IG9wdGlvbnNbcHJvcF07XG4gICAgcmV0dXJuIGNtLnNob3dIaW50KG5ld09wdHMpO1xuICB9O1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwic2hvd0hpbnRcIiwgZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBwYXJzZU9wdGlvbnModGhpcywgdGhpcy5nZXRDdXJzb3IoXCJzdGFydFwiKSwgb3B0aW9ucyk7XG4gICAgdmFyIHNlbGVjdGlvbnMgPSB0aGlzLmxpc3RTZWxlY3Rpb25zKClcbiAgICBpZiAoc2VsZWN0aW9ucy5sZW5ndGggPiAxKSByZXR1cm47XG4gICAgLy8gQnkgZGVmYXVsdCwgZG9uJ3QgYWxsb3cgY29tcGxldGlvbiB3aGVuIHNvbWV0aGluZyBpcyBzZWxlY3RlZC5cbiAgICAvLyBBIGhpbnQgZnVuY3Rpb24gY2FuIGhhdmUgYSBgc3VwcG9ydHNTZWxlY3Rpb25gIHByb3BlcnR5IHRvXG4gICAgLy8gaW5kaWNhdGUgdGhhdCBpdCBjYW4gaGFuZGxlIHNlbGVjdGlvbnMuXG4gICAgaWYgKHRoaXMuc29tZXRoaW5nU2VsZWN0ZWQoKSkge1xuICAgICAgaWYgKCFvcHRpb25zLmhpbnQuc3VwcG9ydHNTZWxlY3Rpb24pIHJldHVybjtcbiAgICAgIC8vIERvbid0IHRyeSB3aXRoIGNyb3NzLWxpbmUgc2VsZWN0aW9uc1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3Rpb25zLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoc2VsZWN0aW9uc1tpXS5oZWFkLmxpbmUgIT0gc2VsZWN0aW9uc1tpXS5hbmNob3IubGluZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLmNvbXBsZXRpb25BY3RpdmUpIHRoaXMuc3RhdGUuY29tcGxldGlvbkFjdGl2ZS5jbG9zZSgpO1xuICAgIHZhciBjb21wbGV0aW9uID0gdGhpcy5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlID0gbmV3IENvbXBsZXRpb24odGhpcywgb3B0aW9ucyk7XG4gICAgaWYgKCFjb21wbGV0aW9uLm9wdGlvbnMuaGludCkgcmV0dXJuO1xuXG4gICAgQ29kZU1pcnJvci5zaWduYWwodGhpcywgXCJzdGFydENvbXBsZXRpb25cIiwgdGhpcyk7XG4gICAgY29tcGxldGlvbi51cGRhdGUodHJ1ZSk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIENvbXBsZXRpb24oY20sIG9wdGlvbnMpIHtcbiAgICB0aGlzLmNtID0gY207XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLndpZGdldCA9IG51bGw7XG4gICAgdGhpcy5kZWJvdW5jZSA9IDA7XG4gICAgdGhpcy50aWNrID0gMDtcbiAgICB0aGlzLnN0YXJ0UG9zID0gdGhpcy5jbS5nZXRDdXJzb3IoXCJzdGFydFwiKTtcbiAgICB0aGlzLnN0YXJ0TGVuID0gdGhpcy5jbS5nZXRMaW5lKHRoaXMuc3RhcnRQb3MubGluZSkubGVuZ3RoIC0gdGhpcy5jbS5nZXRTZWxlY3Rpb24oKS5sZW5ndGg7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgY20ub24oXCJjdXJzb3JBY3Rpdml0eVwiLCB0aGlzLmFjdGl2aXR5RnVuYyA9IGZ1bmN0aW9uKCkgeyBzZWxmLmN1cnNvckFjdGl2aXR5KCk7IH0pO1xuICB9XG5cbiAgdmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24oZm4pIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChmbiwgMTAwMC82MCk7XG4gIH07XG4gIHZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCBjbGVhclRpbWVvdXQ7XG5cbiAgQ29tcGxldGlvbi5wcm90b3R5cGUgPSB7XG4gICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmFjdGl2ZSgpKSByZXR1cm47XG4gICAgICB0aGlzLmNtLnN0YXRlLmNvbXBsZXRpb25BY3RpdmUgPSBudWxsO1xuICAgICAgdGhpcy50aWNrID0gbnVsbDtcbiAgICAgIHRoaXMuY20ub2ZmKFwiY3Vyc29yQWN0aXZpdHlcIiwgdGhpcy5hY3Rpdml0eUZ1bmMpO1xuXG4gICAgICBpZiAodGhpcy53aWRnZXQgJiYgdGhpcy5kYXRhKSBDb2RlTWlycm9yLnNpZ25hbCh0aGlzLmRhdGEsIFwiY2xvc2VcIik7XG4gICAgICBpZiAodGhpcy53aWRnZXQpIHRoaXMud2lkZ2V0LmNsb3NlKCk7XG4gICAgICBDb2RlTWlycm9yLnNpZ25hbCh0aGlzLmNtLCBcImVuZENvbXBsZXRpb25cIiwgdGhpcy5jbSk7XG4gICAgfSxcblxuICAgIGFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbS5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlID09IHRoaXM7XG4gICAgfSxcblxuICAgIHBpY2s6IGZ1bmN0aW9uKGRhdGEsIGkpIHtcbiAgICAgIHZhciBjb21wbGV0aW9uID0gZGF0YS5saXN0W2ldO1xuICAgICAgaWYgKGNvbXBsZXRpb24uaGludCkgY29tcGxldGlvbi5oaW50KHRoaXMuY20sIGRhdGEsIGNvbXBsZXRpb24pO1xuICAgICAgZWxzZSB0aGlzLmNtLnJlcGxhY2VSYW5nZShnZXRUZXh0KGNvbXBsZXRpb24pLCBjb21wbGV0aW9uLmZyb20gfHwgZGF0YS5mcm9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uLnRvIHx8IGRhdGEudG8sIFwiY29tcGxldGVcIik7XG4gICAgICBDb2RlTWlycm9yLnNpZ25hbChkYXRhLCBcInBpY2tcIiwgY29tcGxldGlvbik7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSxcblxuICAgIGN1cnNvckFjdGl2aXR5OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmRlYm91bmNlKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZGVib3VuY2UpO1xuICAgICAgICB0aGlzLmRlYm91bmNlID0gMDtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvcyA9IHRoaXMuY20uZ2V0Q3Vyc29yKCksIGxpbmUgPSB0aGlzLmNtLmdldExpbmUocG9zLmxpbmUpO1xuICAgICAgaWYgKHBvcy5saW5lICE9IHRoaXMuc3RhcnRQb3MubGluZSB8fCBsaW5lLmxlbmd0aCAtIHBvcy5jaCAhPSB0aGlzLnN0YXJ0TGVuIC0gdGhpcy5zdGFydFBvcy5jaCB8fFxuICAgICAgICAgIHBvcy5jaCA8IHRoaXMuc3RhcnRQb3MuY2ggfHwgdGhpcy5jbS5zb21ldGhpbmdTZWxlY3RlZCgpIHx8XG4gICAgICAgICAgKHBvcy5jaCAmJiB0aGlzLm9wdGlvbnMuY2xvc2VDaGFyYWN0ZXJzLnRlc3QobGluZS5jaGFyQXQocG9zLmNoIC0gMSkpKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGVib3VuY2UgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7c2VsZi51cGRhdGUoKTt9KTtcbiAgICAgICAgaWYgKHRoaXMud2lkZ2V0KSB0aGlzLndpZGdldC5kaXNhYmxlKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHVwZGF0ZTogZnVuY3Rpb24oZmlyc3QpIHtcbiAgICAgIGlmICh0aGlzLnRpY2sgPT0gbnVsbCkgcmV0dXJuXG4gICAgICB2YXIgc2VsZiA9IHRoaXMsIG15VGljayA9ICsrdGhpcy50aWNrXG4gICAgICBmZXRjaEhpbnRzKHRoaXMub3B0aW9ucy5oaW50LCB0aGlzLmNtLCB0aGlzLm9wdGlvbnMsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaWYgKHNlbGYudGljayA9PSBteVRpY2spIHNlbGYuZmluaXNoVXBkYXRlKGRhdGEsIGZpcnN0KVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgZmluaXNoVXBkYXRlOiBmdW5jdGlvbihkYXRhLCBmaXJzdCkge1xuICAgICAgaWYgKHRoaXMuZGF0YSkgQ29kZU1pcnJvci5zaWduYWwodGhpcy5kYXRhLCBcInVwZGF0ZVwiKTtcblxuICAgICAgdmFyIHBpY2tlZCA9ICh0aGlzLndpZGdldCAmJiB0aGlzLndpZGdldC5waWNrZWQpIHx8IChmaXJzdCAmJiB0aGlzLm9wdGlvbnMuY29tcGxldGVTaW5nbGUpO1xuICAgICAgaWYgKHRoaXMud2lkZ2V0KSB0aGlzLndpZGdldC5jbG9zZSgpO1xuXG4gICAgICBpZiAoZGF0YSAmJiB0aGlzLmRhdGEgJiYgaXNOZXdDb21wbGV0aW9uKHRoaXMuZGF0YSwgZGF0YSkpIHJldHVybjtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAgIGlmIChkYXRhICYmIGRhdGEubGlzdC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHBpY2tlZCAmJiBkYXRhLmxpc3QubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICB0aGlzLnBpY2soZGF0YSwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy53aWRnZXQgPSBuZXcgV2lkZ2V0KHRoaXMsIGRhdGEpO1xuICAgICAgICAgIENvZGVNaXJyb3Iuc2lnbmFsKGRhdGEsIFwic2hvd25cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gaXNOZXdDb21wbGV0aW9uKG9sZCwgbncpIHtcbiAgICB2YXIgbW92ZWQgPSBDb2RlTWlycm9yLmNtcFBvcyhudy5mcm9tLCBvbGQuZnJvbSlcbiAgICByZXR1cm4gbW92ZWQgPiAwICYmIG9sZC50by5jaCAtIG9sZC5mcm9tLmNoICE9IG53LnRvLmNoIC0gbncuZnJvbS5jaFxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VPcHRpb25zKGNtLCBwb3MsIG9wdGlvbnMpIHtcbiAgICB2YXIgZWRpdG9yID0gY20ub3B0aW9ucy5oaW50T3B0aW9ucztcbiAgICB2YXIgb3V0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBkZWZhdWx0T3B0aW9ucykgb3V0W3Byb3BdID0gZGVmYXVsdE9wdGlvbnNbcHJvcF07XG4gICAgaWYgKGVkaXRvcikgZm9yICh2YXIgcHJvcCBpbiBlZGl0b3IpXG4gICAgICBpZiAoZWRpdG9yW3Byb3BdICE9PSB1bmRlZmluZWQpIG91dFtwcm9wXSA9IGVkaXRvcltwcm9wXTtcbiAgICBpZiAob3B0aW9ucykgZm9yICh2YXIgcHJvcCBpbiBvcHRpb25zKVxuICAgICAgaWYgKG9wdGlvbnNbcHJvcF0gIT09IHVuZGVmaW5lZCkgb3V0W3Byb3BdID0gb3B0aW9uc1twcm9wXTtcbiAgICBpZiAob3V0LmhpbnQucmVzb2x2ZSkgb3V0LmhpbnQgPSBvdXQuaGludC5yZXNvbHZlKGNtLCBwb3MpXG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRleHQoY29tcGxldGlvbikge1xuICAgIGlmICh0eXBlb2YgY29tcGxldGlvbiA9PSBcInN0cmluZ1wiKSByZXR1cm4gY29tcGxldGlvbjtcbiAgICBlbHNlIHJldHVybiBjb21wbGV0aW9uLnRleHQ7XG4gIH1cblxuICBmdW5jdGlvbiBidWlsZEtleU1hcChjb21wbGV0aW9uLCBoYW5kbGUpIHtcbiAgICB2YXIgYmFzZU1hcCA9IHtcbiAgICAgIFVwOiBmdW5jdGlvbigpIHtoYW5kbGUubW92ZUZvY3VzKC0xKTt9LFxuICAgICAgRG93bjogZnVuY3Rpb24oKSB7aGFuZGxlLm1vdmVGb2N1cygxKTt9LFxuICAgICAgUGFnZVVwOiBmdW5jdGlvbigpIHtoYW5kbGUubW92ZUZvY3VzKC1oYW5kbGUubWVudVNpemUoKSArIDEsIHRydWUpO30sXG4gICAgICBQYWdlRG93bjogZnVuY3Rpb24oKSB7aGFuZGxlLm1vdmVGb2N1cyhoYW5kbGUubWVudVNpemUoKSAtIDEsIHRydWUpO30sXG4gICAgICBIb21lOiBmdW5jdGlvbigpIHtoYW5kbGUuc2V0Rm9jdXMoMCk7fSxcbiAgICAgIEVuZDogZnVuY3Rpb24oKSB7aGFuZGxlLnNldEZvY3VzKGhhbmRsZS5sZW5ndGggLSAxKTt9LFxuICAgICAgRW50ZXI6IGhhbmRsZS5waWNrLFxuICAgICAgVGFiOiBoYW5kbGUucGljayxcbiAgICAgIEVzYzogaGFuZGxlLmNsb3NlXG4gICAgfTtcbiAgICB2YXIgY3VzdG9tID0gY29tcGxldGlvbi5vcHRpb25zLmN1c3RvbUtleXM7XG4gICAgdmFyIG91ck1hcCA9IGN1c3RvbSA/IHt9IDogYmFzZU1hcDtcbiAgICBmdW5jdGlvbiBhZGRCaW5kaW5nKGtleSwgdmFsKSB7XG4gICAgICB2YXIgYm91bmQ7XG4gICAgICBpZiAodHlwZW9mIHZhbCAhPSBcInN0cmluZ1wiKVxuICAgICAgICBib3VuZCA9IGZ1bmN0aW9uKGNtKSB7IHJldHVybiB2YWwoY20sIGhhbmRsZSk7IH07XG4gICAgICAvLyBUaGlzIG1lY2hhbmlzbSBpcyBkZXByZWNhdGVkXG4gICAgICBlbHNlIGlmIChiYXNlTWFwLmhhc093blByb3BlcnR5KHZhbCkpXG4gICAgICAgIGJvdW5kID0gYmFzZU1hcFt2YWxdO1xuICAgICAgZWxzZVxuICAgICAgICBib3VuZCA9IHZhbDtcbiAgICAgIG91ck1hcFtrZXldID0gYm91bmQ7XG4gICAgfVxuICAgIGlmIChjdXN0b20pXG4gICAgICBmb3IgKHZhciBrZXkgaW4gY3VzdG9tKSBpZiAoY3VzdG9tLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgIGFkZEJpbmRpbmcoa2V5LCBjdXN0b21ba2V5XSk7XG4gICAgdmFyIGV4dHJhID0gY29tcGxldGlvbi5vcHRpb25zLmV4dHJhS2V5cztcbiAgICBpZiAoZXh0cmEpXG4gICAgICBmb3IgKHZhciBrZXkgaW4gZXh0cmEpIGlmIChleHRyYS5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICBhZGRCaW5kaW5nKGtleSwgZXh0cmFba2V5XSk7XG4gICAgcmV0dXJuIG91ck1hcDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEhpbnRFbGVtZW50KGhpbnRzRWxlbWVudCwgZWwpIHtcbiAgICB3aGlsZSAoZWwgJiYgZWwgIT0gaGludHNFbGVtZW50KSB7XG4gICAgICBpZiAoZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gXCJMSVwiICYmIGVsLnBhcmVudE5vZGUgPT0gaGludHNFbGVtZW50KSByZXR1cm4gZWw7XG4gICAgICBlbCA9IGVsLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gV2lkZ2V0KGNvbXBsZXRpb24sIGRhdGEpIHtcbiAgICB0aGlzLmNvbXBsZXRpb24gPSBjb21wbGV0aW9uO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5waWNrZWQgPSBmYWxzZTtcbiAgICB2YXIgd2lkZ2V0ID0gdGhpcywgY20gPSBjb21wbGV0aW9uLmNtO1xuXG4gICAgdmFyIGhpbnRzID0gdGhpcy5oaW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgICBoaW50cy5jbGFzc05hbWUgPSBcIkNvZGVNaXJyb3ItaGludHNcIjtcbiAgICB0aGlzLnNlbGVjdGVkSGludCA9IGRhdGEuc2VsZWN0ZWRIaW50IHx8IDA7XG5cbiAgICB2YXIgY29tcGxldGlvbnMgPSBkYXRhLmxpc3Q7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wbGV0aW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGVsdCA9IGhpbnRzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSksIGN1ciA9IGNvbXBsZXRpb25zW2ldO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IEhJTlRfRUxFTUVOVF9DTEFTUyArIChpICE9IHRoaXMuc2VsZWN0ZWRIaW50ID8gXCJcIiA6IFwiIFwiICsgQUNUSVZFX0hJTlRfRUxFTUVOVF9DTEFTUyk7XG4gICAgICBpZiAoY3VyLmNsYXNzTmFtZSAhPSBudWxsKSBjbGFzc05hbWUgPSBjdXIuY2xhc3NOYW1lICsgXCIgXCIgKyBjbGFzc05hbWU7XG4gICAgICBlbHQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgaWYgKGN1ci5yZW5kZXIpIGN1ci5yZW5kZXIoZWx0LCBkYXRhLCBjdXIpO1xuICAgICAgZWxzZSBlbHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3VyLmRpc3BsYXlUZXh0IHx8IGdldFRleHQoY3VyKSkpO1xuICAgICAgZWx0LmhpbnRJZCA9IGk7XG4gICAgfVxuXG4gICAgdmFyIHBvcyA9IGNtLmN1cnNvckNvb3Jkcyhjb21wbGV0aW9uLm9wdGlvbnMuYWxpZ25XaXRoV29yZCA/IGRhdGEuZnJvbSA6IG51bGwpO1xuICAgIHZhciBsZWZ0ID0gcG9zLmxlZnQsIHRvcCA9IHBvcy5ib3R0b20sIGJlbG93ID0gdHJ1ZTtcbiAgICBoaW50cy5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICBoaW50cy5zdHlsZS50b3AgPSB0b3AgKyBcInB4XCI7XG4gICAgLy8gSWYgd2UncmUgYXQgdGhlIGVkZ2Ugb2YgdGhlIHNjcmVlbiwgdGhlbiB3ZSB3YW50IHRoZSBtZW51IHRvIGFwcGVhciBvbiB0aGUgbGVmdCBvZiB0aGUgY3Vyc29yLlxuICAgIHZhciB3aW5XID0gd2luZG93LmlubmVyV2lkdGggfHwgTWF0aC5tYXgoZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKTtcbiAgICB2YXIgd2luSCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBNYXRoLm1heChkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCk7XG4gICAgKGNvbXBsZXRpb24ub3B0aW9ucy5jb250YWluZXIgfHwgZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoaGludHMpO1xuICAgIHZhciBib3ggPSBoaW50cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgb3ZlcmxhcFkgPSBib3guYm90dG9tIC0gd2luSDtcbiAgICB2YXIgc2Nyb2xscyA9IGhpbnRzLnNjcm9sbEhlaWdodCA+IGhpbnRzLmNsaWVudEhlaWdodCArIDFcbiAgICB2YXIgc3RhcnRTY3JvbGwgPSBjbS5nZXRTY3JvbGxJbmZvKCk7XG5cbiAgICBpZiAob3ZlcmxhcFkgPiAwKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gYm94LmJvdHRvbSAtIGJveC50b3AsIGN1clRvcCA9IHBvcy50b3AgLSAocG9zLmJvdHRvbSAtIGJveC50b3ApO1xuICAgICAgaWYgKGN1clRvcCAtIGhlaWdodCA+IDApIHsgLy8gRml0cyBhYm92ZSBjdXJzb3JcbiAgICAgICAgaGludHMuc3R5bGUudG9wID0gKHRvcCA9IHBvcy50b3AgLSBoZWlnaHQpICsgXCJweFwiO1xuICAgICAgICBiZWxvdyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChoZWlnaHQgPiB3aW5IKSB7XG4gICAgICAgIGhpbnRzLnN0eWxlLmhlaWdodCA9ICh3aW5IIC0gNSkgKyBcInB4XCI7XG4gICAgICAgIGhpbnRzLnN0eWxlLnRvcCA9ICh0b3AgPSBwb3MuYm90dG9tIC0gYm94LnRvcCkgKyBcInB4XCI7XG4gICAgICAgIHZhciBjdXJzb3IgPSBjbS5nZXRDdXJzb3IoKTtcbiAgICAgICAgaWYgKGRhdGEuZnJvbS5jaCAhPSBjdXJzb3IuY2gpIHtcbiAgICAgICAgICBwb3MgPSBjbS5jdXJzb3JDb29yZHMoY3Vyc29yKTtcbiAgICAgICAgICBoaW50cy5zdHlsZS5sZWZ0ID0gKGxlZnQgPSBwb3MubGVmdCkgKyBcInB4XCI7XG4gICAgICAgICAgYm94ID0gaGludHMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG92ZXJsYXBYID0gYm94LnJpZ2h0IC0gd2luVztcbiAgICBpZiAob3ZlcmxhcFggPiAwKSB7XG4gICAgICBpZiAoYm94LnJpZ2h0IC0gYm94LmxlZnQgPiB3aW5XKSB7XG4gICAgICAgIGhpbnRzLnN0eWxlLndpZHRoID0gKHdpblcgLSA1KSArIFwicHhcIjtcbiAgICAgICAgb3ZlcmxhcFggLT0gKGJveC5yaWdodCAtIGJveC5sZWZ0KSAtIHdpblc7XG4gICAgICB9XG4gICAgICBoaW50cy5zdHlsZS5sZWZ0ID0gKGxlZnQgPSBwb3MubGVmdCAtIG92ZXJsYXBYKSArIFwicHhcIjtcbiAgICB9XG4gICAgaWYgKHNjcm9sbHMpIGZvciAodmFyIG5vZGUgPSBoaW50cy5maXJzdENoaWxkOyBub2RlOyBub2RlID0gbm9kZS5uZXh0U2libGluZylcbiAgICAgIG5vZGUuc3R5bGUucGFkZGluZ1JpZ2h0ID0gY20uZGlzcGxheS5uYXRpdmVCYXJXaWR0aCArIFwicHhcIlxuXG4gICAgY20uYWRkS2V5TWFwKHRoaXMua2V5TWFwID0gYnVpbGRLZXlNYXAoY29tcGxldGlvbiwge1xuICAgICAgbW92ZUZvY3VzOiBmdW5jdGlvbihuLCBhdm9pZFdyYXApIHsgd2lkZ2V0LmNoYW5nZUFjdGl2ZSh3aWRnZXQuc2VsZWN0ZWRIaW50ICsgbiwgYXZvaWRXcmFwKTsgfSxcbiAgICAgIHNldEZvY3VzOiBmdW5jdGlvbihuKSB7IHdpZGdldC5jaGFuZ2VBY3RpdmUobik7IH0sXG4gICAgICBtZW51U2l6ZTogZnVuY3Rpb24oKSB7IHJldHVybiB3aWRnZXQuc2NyZWVuQW1vdW50KCk7IH0sXG4gICAgICBsZW5ndGg6IGNvbXBsZXRpb25zLmxlbmd0aCxcbiAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHsgY29tcGxldGlvbi5jbG9zZSgpOyB9LFxuICAgICAgcGljazogZnVuY3Rpb24oKSB7IHdpZGdldC5waWNrKCk7IH0sXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuXG4gICAgaWYgKGNvbXBsZXRpb24ub3B0aW9ucy5jbG9zZU9uVW5mb2N1cykge1xuICAgICAgdmFyIGNsb3NpbmdPbkJsdXI7XG4gICAgICBjbS5vbihcImJsdXJcIiwgdGhpcy5vbkJsdXIgPSBmdW5jdGlvbigpIHsgY2xvc2luZ09uQmx1ciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNvbXBsZXRpb24uY2xvc2UoKTsgfSwgMTAwKTsgfSk7XG4gICAgICBjbS5vbihcImZvY3VzXCIsIHRoaXMub25Gb2N1cyA9IGZ1bmN0aW9uKCkgeyBjbGVhclRpbWVvdXQoY2xvc2luZ09uQmx1cik7IH0pO1xuICAgIH1cblxuICAgIGNtLm9uKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJTY3JvbGwgPSBjbS5nZXRTY3JvbGxJbmZvKCksIGVkaXRvciA9IGNtLmdldFdyYXBwZXJFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgbmV3VG9wID0gdG9wICsgc3RhcnRTY3JvbGwudG9wIC0gY3VyU2Nyb2xsLnRvcDtcbiAgICAgIHZhciBwb2ludCA9IG5ld1RvcCAtICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5KS5zY3JvbGxUb3ApO1xuICAgICAgaWYgKCFiZWxvdykgcG9pbnQgKz0gaGludHMub2Zmc2V0SGVpZ2h0O1xuICAgICAgaWYgKHBvaW50IDw9IGVkaXRvci50b3AgfHwgcG9pbnQgPj0gZWRpdG9yLmJvdHRvbSkgcmV0dXJuIGNvbXBsZXRpb24uY2xvc2UoKTtcbiAgICAgIGhpbnRzLnN0eWxlLnRvcCA9IG5ld1RvcCArIFwicHhcIjtcbiAgICAgIGhpbnRzLnN0eWxlLmxlZnQgPSAobGVmdCArIHN0YXJ0U2Nyb2xsLmxlZnQgLSBjdXJTY3JvbGwubGVmdCkgKyBcInB4XCI7XG4gICAgfSk7XG5cbiAgICBDb2RlTWlycm9yLm9uKGhpbnRzLCBcImRibGNsaWNrXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciB0ID0gZ2V0SGludEVsZW1lbnQoaGludHMsIGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCk7XG4gICAgICBpZiAodCAmJiB0LmhpbnRJZCAhPSBudWxsKSB7d2lkZ2V0LmNoYW5nZUFjdGl2ZSh0LmhpbnRJZCk7IHdpZGdldC5waWNrKCk7fVxuICAgIH0pO1xuXG4gICAgQ29kZU1pcnJvci5vbihoaW50cywgXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgdCA9IGdldEhpbnRFbGVtZW50KGhpbnRzLCBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpO1xuICAgICAgaWYgKHQgJiYgdC5oaW50SWQgIT0gbnVsbCkge1xuICAgICAgICB3aWRnZXQuY2hhbmdlQWN0aXZlKHQuaGludElkKTtcbiAgICAgICAgaWYgKGNvbXBsZXRpb24ub3B0aW9ucy5jb21wbGV0ZU9uU2luZ2xlQ2xpY2spIHdpZGdldC5waWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBDb2RlTWlycm9yLm9uKGhpbnRzLCBcIm1vdXNlZG93blwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjbS5mb2N1cygpO30sIDIwKTtcbiAgICB9KTtcblxuICAgIENvZGVNaXJyb3Iuc2lnbmFsKGRhdGEsIFwic2VsZWN0XCIsIGNvbXBsZXRpb25zWzBdLCBoaW50cy5maXJzdENoaWxkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIFdpZGdldC5wcm90b3R5cGUgPSB7XG4gICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY29tcGxldGlvbi53aWRnZXQgIT0gdGhpcykgcmV0dXJuO1xuICAgICAgdGhpcy5jb21wbGV0aW9uLndpZGdldCA9IG51bGw7XG4gICAgICB0aGlzLmhpbnRzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5oaW50cyk7XG4gICAgICB0aGlzLmNvbXBsZXRpb24uY20ucmVtb3ZlS2V5TWFwKHRoaXMua2V5TWFwKTtcblxuICAgICAgdmFyIGNtID0gdGhpcy5jb21wbGV0aW9uLmNtO1xuICAgICAgaWYgKHRoaXMuY29tcGxldGlvbi5vcHRpb25zLmNsb3NlT25VbmZvY3VzKSB7XG4gICAgICAgIGNtLm9mZihcImJsdXJcIiwgdGhpcy5vbkJsdXIpO1xuICAgICAgICBjbS5vZmYoXCJmb2N1c1wiLCB0aGlzLm9uRm9jdXMpO1xuICAgICAgfVxuICAgICAgY20ub2ZmKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgIH0sXG5cbiAgICBkaXNhYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY29tcGxldGlvbi5jbS5yZW1vdmVLZXlNYXAodGhpcy5rZXlNYXApO1xuICAgICAgdmFyIHdpZGdldCA9IHRoaXM7XG4gICAgICB0aGlzLmtleU1hcCA9IHtFbnRlcjogZnVuY3Rpb24oKSB7IHdpZGdldC5waWNrZWQgPSB0cnVlOyB9fTtcbiAgICAgIHRoaXMuY29tcGxldGlvbi5jbS5hZGRLZXlNYXAodGhpcy5rZXlNYXApO1xuICAgIH0sXG5cbiAgICBwaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY29tcGxldGlvbi5waWNrKHRoaXMuZGF0YSwgdGhpcy5zZWxlY3RlZEhpbnQpO1xuICAgIH0sXG5cbiAgICBjaGFuZ2VBY3RpdmU6IGZ1bmN0aW9uKGksIGF2b2lkV3JhcCkge1xuICAgICAgaWYgKGkgPj0gdGhpcy5kYXRhLmxpc3QubGVuZ3RoKVxuICAgICAgICBpID0gYXZvaWRXcmFwID8gdGhpcy5kYXRhLmxpc3QubGVuZ3RoIC0gMSA6IDA7XG4gICAgICBlbHNlIGlmIChpIDwgMClcbiAgICAgICAgaSA9IGF2b2lkV3JhcCA/IDAgIDogdGhpcy5kYXRhLmxpc3QubGVuZ3RoIC0gMTtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSGludCA9PSBpKSByZXR1cm47XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuaGludHMuY2hpbGROb2Rlc1t0aGlzLnNlbGVjdGVkSGludF07XG4gICAgICBub2RlLmNsYXNzTmFtZSA9IG5vZGUuY2xhc3NOYW1lLnJlcGxhY2UoXCIgXCIgKyBBQ1RJVkVfSElOVF9FTEVNRU5UX0NMQVNTLCBcIlwiKTtcbiAgICAgIG5vZGUgPSB0aGlzLmhpbnRzLmNoaWxkTm9kZXNbdGhpcy5zZWxlY3RlZEhpbnQgPSBpXTtcbiAgICAgIG5vZGUuY2xhc3NOYW1lICs9IFwiIFwiICsgQUNUSVZFX0hJTlRfRUxFTUVOVF9DTEFTUztcbiAgICAgIGlmIChub2RlLm9mZnNldFRvcCA8IHRoaXMuaGludHMuc2Nyb2xsVG9wKVxuICAgICAgICB0aGlzLmhpbnRzLnNjcm9sbFRvcCA9IG5vZGUub2Zmc2V0VG9wIC0gMztcbiAgICAgIGVsc2UgaWYgKG5vZGUub2Zmc2V0VG9wICsgbm9kZS5vZmZzZXRIZWlnaHQgPiB0aGlzLmhpbnRzLnNjcm9sbFRvcCArIHRoaXMuaGludHMuY2xpZW50SGVpZ2h0KVxuICAgICAgICB0aGlzLmhpbnRzLnNjcm9sbFRvcCA9IG5vZGUub2Zmc2V0VG9wICsgbm9kZS5vZmZzZXRIZWlnaHQgLSB0aGlzLmhpbnRzLmNsaWVudEhlaWdodCArIDM7XG4gICAgICBDb2RlTWlycm9yLnNpZ25hbCh0aGlzLmRhdGEsIFwic2VsZWN0XCIsIHRoaXMuZGF0YS5saXN0W3RoaXMuc2VsZWN0ZWRIaW50XSwgbm9kZSk7XG4gICAgfSxcblxuICAgIHNjcmVlbkFtb3VudDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLmhpbnRzLmNsaWVudEhlaWdodCAvIHRoaXMuaGludHMuZmlyc3RDaGlsZC5vZmZzZXRIZWlnaHQpIHx8IDE7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGFwcGxpY2FibGVIZWxwZXJzKGNtLCBoZWxwZXJzKSB7XG4gICAgaWYgKCFjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSByZXR1cm4gaGVscGVyc1xuICAgIHZhciByZXN1bHQgPSBbXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVscGVycy5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChoZWxwZXJzW2ldLnN1cHBvcnRzU2VsZWN0aW9uKSByZXN1bHQucHVzaChoZWxwZXJzW2ldKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoSGludHMoaGludCwgY20sIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGhpbnQuYXN5bmMpIHtcbiAgICAgIGhpbnQoY20sIGNhbGxiYWNrLCBvcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcmVzdWx0ID0gaGludChjbSwgb3B0aW9ucylcbiAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRoZW4pIHJlc3VsdC50aGVuKGNhbGxiYWNrKVxuICAgICAgZWxzZSBjYWxsYmFjayhyZXN1bHQpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUF1dG9IaW50cyhjbSwgcG9zKSB7XG4gICAgdmFyIGhlbHBlcnMgPSBjbS5nZXRIZWxwZXJzKHBvcywgXCJoaW50XCIpLCB3b3Jkc1xuICAgIGlmIChoZWxwZXJzLmxlbmd0aCkge1xuICAgICAgdmFyIHJlc29sdmVkID0gZnVuY3Rpb24oY20sIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBhcHAgPSBhcHBsaWNhYmxlSGVscGVycyhjbSwgaGVscGVycyk7XG4gICAgICAgIGZ1bmN0aW9uIHJ1bihpKSB7XG4gICAgICAgICAgaWYgKGkgPT0gYXBwLmxlbmd0aCkgcmV0dXJuIGNhbGxiYWNrKG51bGwpXG4gICAgICAgICAgZmV0Y2hIaW50cyhhcHBbaV0sIGNtLCBvcHRpb25zLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lmxpc3QubGVuZ3RoID4gMCkgY2FsbGJhY2socmVzdWx0KVxuICAgICAgICAgICAgZWxzZSBydW4oaSArIDEpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBydW4oMClcbiAgICAgIH1cbiAgICAgIHJlc29sdmVkLmFzeW5jID0gdHJ1ZVxuICAgICAgcmVzb2x2ZWQuc3VwcG9ydHNTZWxlY3Rpb24gPSB0cnVlXG4gICAgICByZXR1cm4gcmVzb2x2ZWRcbiAgICB9IGVsc2UgaWYgKHdvcmRzID0gY20uZ2V0SGVscGVyKGNtLmdldEN1cnNvcigpLCBcImhpbnRXb3Jkc1wiKSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNtKSB7IHJldHVybiBDb2RlTWlycm9yLmhpbnQuZnJvbUxpc3QoY20sIHt3b3Jkczogd29yZHN9KSB9XG4gICAgfSBlbHNlIGlmIChDb2RlTWlycm9yLmhpbnQuYW55d29yZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNtLCBvcHRpb25zKSB7IHJldHVybiBDb2RlTWlycm9yLmhpbnQuYW55d29yZChjbSwgb3B0aW9ucykgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7fVxuICAgIH1cbiAgfVxuXG4gIENvZGVNaXJyb3IucmVnaXN0ZXJIZWxwZXIoXCJoaW50XCIsIFwiYXV0b1wiLCB7XG4gICAgcmVzb2x2ZTogcmVzb2x2ZUF1dG9IaW50c1xuICB9KTtcblxuICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwiaGludFwiLCBcImZyb21MaXN0XCIsIGZ1bmN0aW9uKGNtLCBvcHRpb25zKSB7XG4gICAgdmFyIGN1ciA9IGNtLmdldEN1cnNvcigpLCB0b2tlbiA9IGNtLmdldFRva2VuQXQoY3VyKTtcbiAgICB2YXIgdG8gPSBDb2RlTWlycm9yLlBvcyhjdXIubGluZSwgdG9rZW4uZW5kKTtcbiAgICBpZiAodG9rZW4uc3RyaW5nICYmIC9cXHcvLnRlc3QodG9rZW4uc3RyaW5nW3Rva2VuLnN0cmluZy5sZW5ndGggLSAxXSkpIHtcbiAgICAgIHZhciB0ZXJtID0gdG9rZW4uc3RyaW5nLCBmcm9tID0gQ29kZU1pcnJvci5Qb3MoY3VyLmxpbmUsIHRva2VuLnN0YXJ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHRlcm0gPSBcIlwiLCBmcm9tID0gdG87XG4gICAgfVxuICAgIHZhciBmb3VuZCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy53b3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHdvcmQgPSBvcHRpb25zLndvcmRzW2ldO1xuICAgICAgaWYgKHdvcmQuc2xpY2UoMCwgdGVybS5sZW5ndGgpID09IHRlcm0pXG4gICAgICAgIGZvdW5kLnB1c2god29yZCk7XG4gICAgfVxuXG4gICAgaWYgKGZvdW5kLmxlbmd0aCkgcmV0dXJuIHtsaXN0OiBmb3VuZCwgZnJvbTogZnJvbSwgdG86IHRvfTtcbiAgfSk7XG5cbiAgQ29kZU1pcnJvci5jb21tYW5kcy5hdXRvY29tcGxldGUgPSBDb2RlTWlycm9yLnNob3dIaW50O1xuXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBoaW50OiBDb2RlTWlycm9yLmhpbnQuYXV0byxcbiAgICBjb21wbGV0ZVNpbmdsZTogdHJ1ZSxcbiAgICBhbGlnbldpdGhXb3JkOiB0cnVlLFxuICAgIGNsb3NlQ2hhcmFjdGVyczogL1tcXHMoKVxcW1xcXXt9Ozo+LF0vLFxuICAgIGNsb3NlT25VbmZvY3VzOiB0cnVlLFxuICAgIGNvbXBsZXRlT25TaW5nbGVDbGljazogdHJ1ZSxcbiAgICBjb250YWluZXI6IG51bGwsXG4gICAgY3VzdG9tS2V5czogbnVsbCxcbiAgICBleHRyYUtleXM6IG51bGxcbiAgfTtcblxuICBDb2RlTWlycm9yLmRlZmluZU9wdGlvbihcImhpbnRPcHRpb25zXCIsIG51bGwpO1xufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuQ29kZU1pcnJvci5ydW5Nb2RlID0gZnVuY3Rpb24oc3RyaW5nLCBtb2Rlc3BlYywgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgdmFyIG1vZGUgPSBDb2RlTWlycm9yLmdldE1vZGUoQ29kZU1pcnJvci5kZWZhdWx0cywgbW9kZXNwZWMpO1xuICB2YXIgaWUgPSAvTVNJRSBcXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIHZhciBpZV9sdDkgPSBpZSAmJiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlID09IG51bGwgfHwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDwgOSk7XG5cbiAgaWYgKGNhbGxiYWNrLmFwcGVuZENoaWxkKSB7XG4gICAgdmFyIHRhYlNpemUgPSAob3B0aW9ucyAmJiBvcHRpb25zLnRhYlNpemUpIHx8IENvZGVNaXJyb3IuZGVmYXVsdHMudGFiU2l6ZTtcbiAgICB2YXIgbm9kZSA9IGNhbGxiYWNrLCBjb2wgPSAwO1xuICAgIG5vZGUuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKHRleHQsIHN0eWxlKSB7XG4gICAgICBpZiAodGV4dCA9PSBcIlxcblwiKSB7XG4gICAgICAgIC8vIEVtaXR0aW5nIExGIG9yIENSTEYgb24gSUU4IG9yIGVhcmxpZXIgcmVzdWx0cyBpbiBhbiBpbmNvcnJlY3QgZGlzcGxheS5cbiAgICAgICAgLy8gRW1pdHRpbmcgYSBjYXJyaWFnZSByZXR1cm4gbWFrZXMgZXZlcnl0aGluZyBvay5cbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpZV9sdDkgPyAnXFxyJyA6IHRleHQpKTtcbiAgICAgICAgY29sID0gMDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgLy8gcmVwbGFjZSB0YWJzXG4gICAgICBmb3IgKHZhciBwb3MgPSAwOzspIHtcbiAgICAgICAgdmFyIGlkeCA9IHRleHQuaW5kZXhPZihcIlxcdFwiLCBwb3MpO1xuICAgICAgICBpZiAoaWR4ID09IC0xKSB7XG4gICAgICAgICAgY29udGVudCArPSB0ZXh0LnNsaWNlKHBvcyk7XG4gICAgICAgICAgY29sICs9IHRleHQubGVuZ3RoIC0gcG9zO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbCArPSBpZHggLSBwb3M7XG4gICAgICAgICAgY29udGVudCArPSB0ZXh0LnNsaWNlKHBvcywgaWR4KTtcbiAgICAgICAgICB2YXIgc2l6ZSA9IHRhYlNpemUgLSBjb2wgJSB0YWJTaXplO1xuICAgICAgICAgIGNvbCArPSBzaXplO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSBjb250ZW50ICs9IFwiIFwiO1xuICAgICAgICAgIHBvcyA9IGlkeCArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIHZhciBzcCA9IG5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO1xuICAgICAgICBzcC5jbGFzc05hbWUgPSBcImNtLVwiICsgc3R5bGUucmVwbGFjZSgvICsvZywgXCIgY20tXCIpO1xuICAgICAgICBzcC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb250ZW50KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbnRlbnQpKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGxpbmVzID0gQ29kZU1pcnJvci5zcGxpdExpbmVzKHN0cmluZyksIHN0YXRlID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5zdGF0ZSkgfHwgQ29kZU1pcnJvci5zdGFydFN0YXRlKG1vZGUpO1xuICBmb3IgKHZhciBpID0gMCwgZSA9IGxpbmVzLmxlbmd0aDsgaSA8IGU7ICsraSkge1xuICAgIGlmIChpKSBjYWxsYmFjayhcIlxcblwiKTtcbiAgICB2YXIgc3RyZWFtID0gbmV3IENvZGVNaXJyb3IuU3RyaW5nU3RyZWFtKGxpbmVzW2ldKTtcbiAgICBpZiAoIXN0cmVhbS5zdHJpbmcgJiYgbW9kZS5ibGFua0xpbmUpIG1vZGUuYmxhbmtMaW5lKHN0YXRlKTtcbiAgICB3aGlsZSAoIXN0cmVhbS5lb2woKSkge1xuICAgICAgdmFyIHN0eWxlID0gbW9kZS50b2tlbihzdHJlYW0sIHN0YXRlKTtcbiAgICAgIGNhbGxiYWNrKHN0cmVhbS5jdXJyZW50KCksIHN0eWxlLCBpLCBzdHJlYW0uc3RhcnQsIHN0YXRlKTtcbiAgICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgfVxuICB9XG59O1xuXG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cDovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi8uLi9saWIvY29kZW1pcnJvclwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHZhciBQb3MgPSBDb2RlTWlycm9yLlBvcztcblxuICBmdW5jdGlvbiBTZWFyY2hDdXJzb3IoZG9jLCBxdWVyeSwgcG9zLCBjYXNlRm9sZCkge1xuICAgIHRoaXMuYXRPY2N1cnJlbmNlID0gZmFsc2U7IHRoaXMuZG9jID0gZG9jO1xuICAgIGlmIChjYXNlRm9sZCA9PSBudWxsICYmIHR5cGVvZiBxdWVyeSA9PSBcInN0cmluZ1wiKSBjYXNlRm9sZCA9IGZhbHNlO1xuXG4gICAgcG9zID0gcG9zID8gZG9jLmNsaXBQb3MocG9zKSA6IFBvcygwLCAwKTtcbiAgICB0aGlzLnBvcyA9IHtmcm9tOiBwb3MsIHRvOiBwb3N9O1xuXG4gICAgLy8gVGhlIG1hdGNoZXMgbWV0aG9kIGlzIGZpbGxlZCBpbiBiYXNlZCBvbiB0aGUgdHlwZSBvZiBxdWVyeS5cbiAgICAvLyBJdCB0YWtlcyBhIHBvc2l0aW9uIGFuZCBhIGRpcmVjdGlvbiwgYW5kIHJldHVybnMgYW4gb2JqZWN0XG4gICAgLy8gZGVzY3JpYmluZyB0aGUgbmV4dCBvY2N1cnJlbmNlIG9mIHRoZSBxdWVyeSwgb3IgbnVsbCBpZiBub1xuICAgIC8vIG1vcmUgbWF0Y2hlcyB3ZXJlIGZvdW5kLlxuICAgIGlmICh0eXBlb2YgcXVlcnkgIT0gXCJzdHJpbmdcIikgeyAvLyBSZWdleHAgbWF0Y2hcbiAgICAgIGlmICghcXVlcnkuZ2xvYmFsKSBxdWVyeSA9IG5ldyBSZWdFeHAocXVlcnkuc291cmNlLCBxdWVyeS5pZ25vcmVDYXNlID8gXCJpZ1wiIDogXCJnXCIpO1xuICAgICAgdGhpcy5tYXRjaGVzID0gZnVuY3Rpb24ocmV2ZXJzZSwgcG9zKSB7XG4gICAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgICAgcXVlcnkubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICB2YXIgbGluZSA9IGRvYy5nZXRMaW5lKHBvcy5saW5lKS5zbGljZSgwLCBwb3MuY2gpLCBjdXRPZmYgPSAwLCBtYXRjaCwgc3RhcnQ7XG4gICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgcXVlcnkubGFzdEluZGV4ID0gY3V0T2ZmO1xuICAgICAgICAgICAgdmFyIG5ld01hdGNoID0gcXVlcnkuZXhlYyhsaW5lKTtcbiAgICAgICAgICAgIGlmICghbmV3TWF0Y2gpIGJyZWFrO1xuICAgICAgICAgICAgbWF0Y2ggPSBuZXdNYXRjaDtcbiAgICAgICAgICAgIHN0YXJ0ID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgICBjdXRPZmYgPSBtYXRjaC5pbmRleCArIChtYXRjaFswXS5sZW5ndGggfHwgMSk7XG4gICAgICAgICAgICBpZiAoY3V0T2ZmID09IGxpbmUubGVuZ3RoKSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG1hdGNoTGVuID0gKG1hdGNoICYmIG1hdGNoWzBdLmxlbmd0aCkgfHwgMDtcbiAgICAgICAgICBpZiAoIW1hdGNoTGVuKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnQgPT0gMCAmJiBsaW5lLmxlbmd0aCA9PSAwKSB7bWF0Y2ggPSB1bmRlZmluZWQ7fVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhcnQgIT0gZG9jLmdldExpbmUocG9zLmxpbmUpLmxlbmd0aCkge1xuICAgICAgICAgICAgICBtYXRjaExlbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBxdWVyeS5sYXN0SW5kZXggPSBwb3MuY2g7XG4gICAgICAgICAgdmFyIGxpbmUgPSBkb2MuZ2V0TGluZShwb3MubGluZSksIG1hdGNoID0gcXVlcnkuZXhlYyhsaW5lKTtcbiAgICAgICAgICB2YXIgbWF0Y2hMZW4gPSAobWF0Y2ggJiYgbWF0Y2hbMF0ubGVuZ3RoKSB8fCAwO1xuICAgICAgICAgIHZhciBzdGFydCA9IG1hdGNoICYmIG1hdGNoLmluZGV4O1xuICAgICAgICAgIGlmIChzdGFydCArIG1hdGNoTGVuICE9IGxpbmUubGVuZ3RoICYmICFtYXRjaExlbikgbWF0Y2hMZW4gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaExlbilcbiAgICAgICAgICByZXR1cm4ge2Zyb206IFBvcyhwb3MubGluZSwgc3RhcnQpLFxuICAgICAgICAgICAgICAgICAgdG86IFBvcyhwb3MubGluZSwgc3RhcnQgKyBtYXRjaExlbiksXG4gICAgICAgICAgICAgICAgICBtYXRjaDogbWF0Y2h9O1xuICAgICAgfTtcbiAgICB9IGVsc2UgeyAvLyBTdHJpbmcgcXVlcnlcbiAgICAgIHZhciBvcmlnUXVlcnkgPSBxdWVyeTtcbiAgICAgIGlmIChjYXNlRm9sZCkgcXVlcnkgPSBxdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdmFyIGZvbGQgPSBjYXNlRm9sZCA/IGZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO30gOiBmdW5jdGlvbihzdHIpe3JldHVybiBzdHI7fTtcbiAgICAgIHZhciB0YXJnZXQgPSBxdWVyeS5zcGxpdChcIlxcblwiKTtcbiAgICAgIC8vIERpZmZlcmVudCBtZXRob2RzIGZvciBzaW5nbGUtbGluZSBhbmQgbXVsdGktbGluZSBxdWVyaWVzXG4gICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGlmICghcXVlcnkubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gRW1wdHkgc3RyaW5nIHdvdWxkIG1hdGNoIGFueXRoaW5nIGFuZCBuZXZlciBwcm9ncmVzcywgc29cbiAgICAgICAgICAvLyB3ZSBkZWZpbmUgaXQgdG8gbWF0Y2ggbm90aGluZyBpbnN0ZWFkLlxuICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5tYXRjaGVzID0gZnVuY3Rpb24ocmV2ZXJzZSwgcG9zKSB7XG4gICAgICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgICB2YXIgb3JpZyA9IGRvYy5nZXRMaW5lKHBvcy5saW5lKS5zbGljZSgwLCBwb3MuY2gpLCBsaW5lID0gZm9sZChvcmlnKTtcbiAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZS5sYXN0SW5kZXhPZihxdWVyeSk7XG4gICAgICAgICAgICAgIGlmIChtYXRjaCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBhZGp1c3RQb3Mob3JpZywgbGluZSwgbWF0Y2gpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7ZnJvbTogUG9zKHBvcy5saW5lLCBtYXRjaCksIHRvOiBQb3MocG9zLmxpbmUsIG1hdGNoICsgb3JpZ1F1ZXJ5Lmxlbmd0aCl9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgIHZhciBvcmlnID0gZG9jLmdldExpbmUocG9zLmxpbmUpLnNsaWNlKHBvcy5jaCksIGxpbmUgPSBmb2xkKG9yaWcpO1xuICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZS5pbmRleE9mKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgIGlmIChtYXRjaCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgIG1hdGNoID0gYWRqdXN0UG9zKG9yaWcsIGxpbmUsIG1hdGNoKSArIHBvcy5jaDtcbiAgICAgICAgICAgICAgICAgcmV0dXJuIHtmcm9tOiBQb3MocG9zLmxpbmUsIG1hdGNoKSwgdG86IFBvcyhwb3MubGluZSwgbWF0Y2ggKyBvcmlnUXVlcnkubGVuZ3RoKX07XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9yaWdUYXJnZXQgPSBvcmlnUXVlcnkuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIHRoaXMubWF0Y2hlcyA9IGZ1bmN0aW9uKHJldmVyc2UsIHBvcykge1xuICAgICAgICAgIHZhciBsYXN0ID0gdGFyZ2V0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIGlmIChwb3MubGluZSAtICh0YXJnZXQubGVuZ3RoIC0gMSkgPCBkb2MuZmlyc3RMaW5lKCkpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChmb2xkKGRvYy5nZXRMaW5lKHBvcy5saW5lKS5zbGljZSgwLCBvcmlnVGFyZ2V0W2xhc3RdLmxlbmd0aCkpICE9IHRhcmdldFt0YXJnZXQubGVuZ3RoIC0gMV0pIHJldHVybjtcbiAgICAgICAgICAgIHZhciB0byA9IFBvcyhwb3MubGluZSwgb3JpZ1RhcmdldFtsYXN0XS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgbG4gPSBwb3MubGluZSAtIDEsIGkgPSBsYXN0IC0gMTsgaSA+PSAxOyAtLWksIC0tbG4pXG4gICAgICAgICAgICAgIGlmICh0YXJnZXRbaV0gIT0gZm9sZChkb2MuZ2V0TGluZShsbikpKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgbGluZSA9IGRvYy5nZXRMaW5lKGxuKSwgY3V0ID0gbGluZS5sZW5ndGggLSBvcmlnVGFyZ2V0WzBdLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChmb2xkKGxpbmUuc2xpY2UoY3V0KSkgIT0gdGFyZ2V0WzBdKSByZXR1cm47XG4gICAgICAgICAgICByZXR1cm4ge2Zyb206IFBvcyhsbiwgY3V0KSwgdG86IHRvfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBvcy5saW5lICsgKHRhcmdldC5sZW5ndGggLSAxKSA+IGRvYy5sYXN0TGluZSgpKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgbGluZSA9IGRvYy5nZXRMaW5lKHBvcy5saW5lKSwgY3V0ID0gbGluZS5sZW5ndGggLSBvcmlnVGFyZ2V0WzBdLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChmb2xkKGxpbmUuc2xpY2UoY3V0KSkgIT0gdGFyZ2V0WzBdKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgZnJvbSA9IFBvcyhwb3MubGluZSwgY3V0KTtcbiAgICAgICAgICAgIGZvciAodmFyIGxuID0gcG9zLmxpbmUgKyAxLCBpID0gMTsgaSA8IGxhc3Q7ICsraSwgKytsbilcbiAgICAgICAgICAgICAgaWYgKHRhcmdldFtpXSAhPSBmb2xkKGRvYy5nZXRMaW5lKGxuKSkpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChmb2xkKGRvYy5nZXRMaW5lKGxuKS5zbGljZSgwLCBvcmlnVGFyZ2V0W2xhc3RdLmxlbmd0aCkpICE9IHRhcmdldFtsYXN0XSkgcmV0dXJuO1xuICAgICAgICAgICAgcmV0dXJuIHtmcm9tOiBmcm9tLCB0bzogUG9zKGxuLCBvcmlnVGFyZ2V0W2xhc3RdLmxlbmd0aCl9O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBTZWFyY2hDdXJzb3IucHJvdG90eXBlID0ge1xuICAgIGZpbmROZXh0OiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5maW5kKGZhbHNlKTt9LFxuICAgIGZpbmRQcmV2aW91czogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZmluZCh0cnVlKTt9LFxuXG4gICAgZmluZDogZnVuY3Rpb24ocmV2ZXJzZSkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLCBwb3MgPSB0aGlzLmRvYy5jbGlwUG9zKHJldmVyc2UgPyB0aGlzLnBvcy5mcm9tIDogdGhpcy5wb3MudG8pO1xuICAgICAgZnVuY3Rpb24gc2F2ZVBvc0FuZEZhaWwobGluZSkge1xuICAgICAgICB2YXIgcG9zID0gUG9zKGxpbmUsIDApO1xuICAgICAgICBzZWxmLnBvcyA9IHtmcm9tOiBwb3MsIHRvOiBwb3N9O1xuICAgICAgICBzZWxmLmF0T2NjdXJyZW5jZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKHRoaXMucG9zID0gdGhpcy5tYXRjaGVzKHJldmVyc2UsIHBvcykpIHtcbiAgICAgICAgICB0aGlzLmF0T2NjdXJyZW5jZSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucG9zLm1hdGNoIHx8IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICBpZiAoIXBvcy5saW5lKSByZXR1cm4gc2F2ZVBvc0FuZEZhaWwoMCk7XG4gICAgICAgICAgcG9zID0gUG9zKHBvcy5saW5lLTEsIHRoaXMuZG9jLmdldExpbmUocG9zLmxpbmUtMSkubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbWF4TGluZSA9IHRoaXMuZG9jLmxpbmVDb3VudCgpO1xuICAgICAgICAgIGlmIChwb3MubGluZSA9PSBtYXhMaW5lIC0gMSkgcmV0dXJuIHNhdmVQb3NBbmRGYWlsKG1heExpbmUpO1xuICAgICAgICAgIHBvcyA9IFBvcyhwb3MubGluZSArIDEsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGZyb206IGZ1bmN0aW9uKCkge2lmICh0aGlzLmF0T2NjdXJyZW5jZSkgcmV0dXJuIHRoaXMucG9zLmZyb207fSxcbiAgICB0bzogZnVuY3Rpb24oKSB7aWYgKHRoaXMuYXRPY2N1cnJlbmNlKSByZXR1cm4gdGhpcy5wb3MudG87fSxcblxuICAgIHJlcGxhY2U6IGZ1bmN0aW9uKG5ld1RleHQsIG9yaWdpbikge1xuICAgICAgaWYgKCF0aGlzLmF0T2NjdXJyZW5jZSkgcmV0dXJuO1xuICAgICAgdmFyIGxpbmVzID0gQ29kZU1pcnJvci5zcGxpdExpbmVzKG5ld1RleHQpO1xuICAgICAgdGhpcy5kb2MucmVwbGFjZVJhbmdlKGxpbmVzLCB0aGlzLnBvcy5mcm9tLCB0aGlzLnBvcy50bywgb3JpZ2luKTtcbiAgICAgIHRoaXMucG9zLnRvID0gUG9zKHRoaXMucG9zLmZyb20ubGluZSArIGxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGggKyAobGluZXMubGVuZ3RoID09IDEgPyB0aGlzLnBvcy5mcm9tLmNoIDogMCkpO1xuICAgIH1cbiAgfTtcblxuICAvLyBNYXBzIGEgcG9zaXRpb24gaW4gYSBjYXNlLWZvbGRlZCBsaW5lIGJhY2sgdG8gYSBwb3NpdGlvbiBpbiB0aGUgb3JpZ2luYWwgbGluZVxuICAvLyAoY29tcGVuc2F0aW5nIGZvciBjb2RlcG9pbnRzIGluY3JlYXNpbmcgaW4gbnVtYmVyIGR1cmluZyBmb2xkaW5nKVxuICBmdW5jdGlvbiBhZGp1c3RQb3Mob3JpZywgZm9sZGVkLCBwb3MpIHtcbiAgICBpZiAob3JpZy5sZW5ndGggPT0gZm9sZGVkLmxlbmd0aCkgcmV0dXJuIHBvcztcbiAgICBmb3IgKHZhciBwb3MxID0gTWF0aC5taW4ocG9zLCBvcmlnLmxlbmd0aCk7Oykge1xuICAgICAgdmFyIGxlbjEgPSBvcmlnLnNsaWNlKDAsIHBvczEpLnRvTG93ZXJDYXNlKCkubGVuZ3RoO1xuICAgICAgaWYgKGxlbjEgPCBwb3MpICsrcG9zMTtcbiAgICAgIGVsc2UgaWYgKGxlbjEgPiBwb3MpIC0tcG9zMTtcbiAgICAgIGVsc2UgcmV0dXJuIHBvczE7XG4gICAgfVxuICB9XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVFeHRlbnNpb24oXCJnZXRTZWFyY2hDdXJzb3JcIiwgZnVuY3Rpb24ocXVlcnksIHBvcywgY2FzZUZvbGQpIHtcbiAgICByZXR1cm4gbmV3IFNlYXJjaEN1cnNvcih0aGlzLmRvYywgcXVlcnksIHBvcywgY2FzZUZvbGQpO1xuICB9KTtcbiAgQ29kZU1pcnJvci5kZWZpbmVEb2NFeHRlbnNpb24oXCJnZXRTZWFyY2hDdXJzb3JcIiwgZnVuY3Rpb24ocXVlcnksIHBvcywgY2FzZUZvbGQpIHtcbiAgICByZXR1cm4gbmV3IFNlYXJjaEN1cnNvcih0aGlzLCBxdWVyeSwgcG9zLCBjYXNlRm9sZCk7XG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lRXh0ZW5zaW9uKFwic2VsZWN0TWF0Y2hlc1wiLCBmdW5jdGlvbihxdWVyeSwgY2FzZUZvbGQpIHtcbiAgICB2YXIgcmFuZ2VzID0gW107XG4gICAgdmFyIGN1ciA9IHRoaXMuZ2V0U2VhcmNoQ3Vyc29yKHF1ZXJ5LCB0aGlzLmdldEN1cnNvcihcImZyb21cIiksIGNhc2VGb2xkKTtcbiAgICB3aGlsZSAoY3VyLmZpbmROZXh0KCkpIHtcbiAgICAgIGlmIChDb2RlTWlycm9yLmNtcFBvcyhjdXIudG8oKSwgdGhpcy5nZXRDdXJzb3IoXCJ0b1wiKSkgPiAwKSBicmVhaztcbiAgICAgIHJhbmdlcy5wdXNoKHthbmNob3I6IGN1ci5mcm9tKCksIGhlYWQ6IGN1ci50bygpfSk7XG4gICAgfVxuICAgIGlmIChyYW5nZXMubGVuZ3RoKVxuICAgICAgdGhpcy5zZXRTZWxlY3Rpb25zKHJhbmdlcywgMCk7XG4gIH0pO1xufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHA6Ly9jb2RlbWlycm9yLm5ldC9MSUNFTlNFXG5cbi8vIFRoaXMgaXMgQ29kZU1pcnJvciAoaHR0cDovL2NvZGVtaXJyb3IubmV0KSwgYSBjb2RlIGVkaXRvclxuLy8gaW1wbGVtZW50ZWQgaW4gSmF2YVNjcmlwdCBvbiB0b3Agb2YgdGhlIGJyb3dzZXIncyBET00uXG4vL1xuLy8gWW91IGNhbiBmaW5kIHNvbWUgdGVjaG5pY2FsIGJhY2tncm91bmQgZm9yIHNvbWUgb2YgdGhlIGNvZGUgYmVsb3dcbi8vIGF0IGh0dHA6Ly9tYXJpam5oYXZlcmJla2UubmwvYmxvZy8jY20taW50ZXJuYWxzIC5cblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBtb2QoKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgcmV0dXJuIGRlZmluZShbXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgICh0aGlzIHx8IHdpbmRvdykuQ29kZU1pcnJvciA9IG1vZCgpO1xufSkoZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIEJST1dTRVIgU05JRkZJTkdcblxuICAvLyBLbHVkZ2VzIGZvciBidWdzIGFuZCBiZWhhdmlvciBkaWZmZXJlbmNlcyB0aGF0IGNhbid0IGJlIGZlYXR1cmVcbiAgLy8gZGV0ZWN0ZWQgYXJlIGVuYWJsZWQgYmFzZWQgb24gdXNlckFnZW50IGV0YyBzbmlmZmluZy5cbiAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHZhciBwbGF0Zm9ybSA9IG5hdmlnYXRvci5wbGF0Zm9ybTtcblxuICB2YXIgZ2Vja28gPSAvZ2Vja29cXC9cXGQvaS50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBpZV91cHRvMTAgPSAvTVNJRSBcXGQvLnRlc3QodXNlckFnZW50KTtcbiAgdmFyIGllXzExdXAgPSAvVHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWModXNlckFnZW50KTtcbiAgdmFyIGllID0gaWVfdXB0bzEwIHx8IGllXzExdXA7XG4gIHZhciBpZV92ZXJzaW9uID0gaWUgJiYgKGllX3VwdG8xMCA/IGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCA2IDogaWVfMTF1cFsxXSk7XG4gIHZhciB3ZWJraXQgPSAvV2ViS2l0XFwvLy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBxdHdlYmtpdCA9IHdlYmtpdCAmJiAvUXRcXC9cXGQrXFwuXFxkKy8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgY2hyb21lID0gL0Nocm9tZVxcLy8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgcHJlc3RvID0gL09wZXJhXFwvLy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBzYWZhcmkgPSAvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcik7XG4gIHZhciBtYWNfZ2VNb3VudGFpbkxpb24gPSAvTWFjIE9TIFggMVxcZFxcRChbOC05XXxcXGRcXGQpXFxELy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBwaGFudG9tID0gL1BoYW50b21KUy8udGVzdCh1c2VyQWdlbnQpO1xuXG4gIHZhciBpb3MgPSAvQXBwbGVXZWJLaXQvLnRlc3QodXNlckFnZW50KSAmJiAvTW9iaWxlXFwvXFx3Ky8udGVzdCh1c2VyQWdlbnQpO1xuICAvLyBUaGlzIGlzIHdvZWZ1bGx5IGluY29tcGxldGUuIFN1Z2dlc3Rpb25zIGZvciBhbHRlcm5hdGl2ZSBtZXRob2RzIHdlbGNvbWUuXG4gIHZhciBtb2JpbGUgPSBpb3MgfHwgL0FuZHJvaWR8d2ViT1N8QmxhY2tCZXJyeXxPcGVyYSBNaW5pfE9wZXJhIE1vYml8SUVNb2JpbGUvaS50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBtYWMgPSBpb3MgfHwgL01hYy8udGVzdChwbGF0Zm9ybSk7XG4gIHZhciBjaHJvbWVPUyA9IC9cXGJDck9TXFxiLy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciB3aW5kb3dzID0gL3dpbi9pLnRlc3QocGxhdGZvcm0pO1xuXG4gIHZhciBwcmVzdG9fdmVyc2lvbiA9IHByZXN0byAmJiB1c2VyQWdlbnQubWF0Y2goL1ZlcnNpb25cXC8oXFxkKlxcLlxcZCopLyk7XG4gIGlmIChwcmVzdG9fdmVyc2lvbikgcHJlc3RvX3ZlcnNpb24gPSBOdW1iZXIocHJlc3RvX3ZlcnNpb25bMV0pO1xuICBpZiAocHJlc3RvX3ZlcnNpb24gJiYgcHJlc3RvX3ZlcnNpb24gPj0gMTUpIHsgcHJlc3RvID0gZmFsc2U7IHdlYmtpdCA9IHRydWU7IH1cbiAgLy8gU29tZSBicm93c2VycyB1c2UgdGhlIHdyb25nIGV2ZW50IHByb3BlcnRpZXMgdG8gc2lnbmFsIGNtZC9jdHJsIG9uIE9TIFhcbiAgdmFyIGZsaXBDdHJsQ21kID0gbWFjICYmIChxdHdlYmtpdCB8fCBwcmVzdG8gJiYgKHByZXN0b192ZXJzaW9uID09IG51bGwgfHwgcHJlc3RvX3ZlcnNpb24gPCAxMi4xMSkpO1xuICB2YXIgY2FwdHVyZVJpZ2h0Q2xpY2sgPSBnZWNrbyB8fCAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KTtcblxuICAvLyBPcHRpbWl6ZSBzb21lIGNvZGUgd2hlbiB0aGVzZSBmZWF0dXJlcyBhcmUgbm90IHVzZWQuXG4gIHZhciBzYXdSZWFkT25seVNwYW5zID0gZmFsc2UsIHNhd0NvbGxhcHNlZFNwYW5zID0gZmFsc2U7XG5cbiAgLy8gRURJVE9SIENPTlNUUlVDVE9SXG5cbiAgLy8gQSBDb2RlTWlycm9yIGluc3RhbmNlIHJlcHJlc2VudHMgYW4gZWRpdG9yLiBUaGlzIGlzIHRoZSBvYmplY3RcbiAgLy8gdGhhdCB1c2VyIGNvZGUgaXMgdXN1YWxseSBkZWFsaW5nIHdpdGguXG5cbiAgZnVuY3Rpb24gQ29kZU1pcnJvcihwbGFjZSwgb3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb2RlTWlycm9yKSkgcmV0dXJuIG5ldyBDb2RlTWlycm9yKHBsYWNlLCBvcHRpb25zKTtcblxuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgPSBvcHRpb25zID8gY29weU9iaihvcHRpb25zKSA6IHt9O1xuICAgIC8vIERldGVybWluZSBlZmZlY3RpdmUgb3B0aW9ucyBiYXNlZCBvbiBnaXZlbiB2YWx1ZXMgYW5kIGRlZmF1bHRzLlxuICAgIGNvcHlPYmooZGVmYXVsdHMsIG9wdGlvbnMsIGZhbHNlKTtcbiAgICBzZXRHdXR0ZXJzRm9yTGluZU51bWJlcnMob3B0aW9ucyk7XG5cbiAgICB2YXIgZG9jID0gb3B0aW9ucy52YWx1ZTtcbiAgICBpZiAodHlwZW9mIGRvYyA9PSBcInN0cmluZ1wiKSBkb2MgPSBuZXcgRG9jKGRvYywgb3B0aW9ucy5tb2RlLCBudWxsLCBvcHRpb25zLmxpbmVTZXBhcmF0b3IpO1xuICAgIHRoaXMuZG9jID0gZG9jO1xuXG4gICAgdmFyIGlucHV0ID0gbmV3IENvZGVNaXJyb3IuaW5wdXRTdHlsZXNbb3B0aW9ucy5pbnB1dFN0eWxlXSh0aGlzKTtcbiAgICB2YXIgZGlzcGxheSA9IHRoaXMuZGlzcGxheSA9IG5ldyBEaXNwbGF5KHBsYWNlLCBkb2MsIGlucHV0KTtcbiAgICBkaXNwbGF5LndyYXBwZXIuQ29kZU1pcnJvciA9IHRoaXM7XG4gICAgdXBkYXRlR3V0dGVycyh0aGlzKTtcbiAgICB0aGVtZUNoYW5nZWQodGhpcyk7XG4gICAgaWYgKG9wdGlvbnMubGluZVdyYXBwaW5nKVxuICAgICAgdGhpcy5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lICs9IFwiIENvZGVNaXJyb3Itd3JhcFwiO1xuICAgIGlmIChvcHRpb25zLmF1dG9mb2N1cyAmJiAhbW9iaWxlKSBkaXNwbGF5LmlucHV0LmZvY3VzKCk7XG4gICAgaW5pdFNjcm9sbGJhcnModGhpcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAga2V5TWFwczogW10sICAvLyBzdG9yZXMgbWFwcyBhZGRlZCBieSBhZGRLZXlNYXBcbiAgICAgIG92ZXJsYXlzOiBbXSwgLy8gaGlnaGxpZ2h0aW5nIG92ZXJsYXlzLCBhcyBhZGRlZCBieSBhZGRPdmVybGF5XG4gICAgICBtb2RlR2VuOiAwLCAgIC8vIGJ1bXBlZCB3aGVuIG1vZGUvb3ZlcmxheSBjaGFuZ2VzLCB1c2VkIHRvIGludmFsaWRhdGUgaGlnaGxpZ2h0aW5nIGluZm9cbiAgICAgIG92ZXJ3cml0ZTogZmFsc2UsXG4gICAgICBkZWxheWluZ0JsdXJFdmVudDogZmFsc2UsXG4gICAgICBmb2N1c2VkOiBmYWxzZSxcbiAgICAgIHN1cHByZXNzRWRpdHM6IGZhbHNlLCAvLyB1c2VkIHRvIGRpc2FibGUgZWRpdGluZyBkdXJpbmcga2V5IGhhbmRsZXJzIHdoZW4gaW4gcmVhZE9ubHkgbW9kZVxuICAgICAgcGFzdGVJbmNvbWluZzogZmFsc2UsIGN1dEluY29taW5nOiBmYWxzZSwgLy8gaGVscCByZWNvZ25pemUgcGFzdGUvY3V0IGVkaXRzIGluIGlucHV0LnBvbGxcbiAgICAgIHNlbGVjdGluZ1RleHQ6IGZhbHNlLFxuICAgICAgZHJhZ2dpbmdUZXh0OiBmYWxzZSxcbiAgICAgIGhpZ2hsaWdodDogbmV3IERlbGF5ZWQoKSwgLy8gc3RvcmVzIGhpZ2hsaWdodCB3b3JrZXIgdGltZW91dFxuICAgICAga2V5U2VxOiBudWxsLCAgLy8gVW5maW5pc2hlZCBrZXkgc2VxdWVuY2VcbiAgICAgIHNwZWNpYWxDaGFyczogbnVsbFxuICAgIH07XG5cbiAgICB2YXIgY20gPSB0aGlzO1xuXG4gICAgLy8gT3ZlcnJpZGUgbWFnaWMgdGV4dGFyZWEgY29udGVudCByZXN0b3JlIHRoYXQgSUUgc29tZXRpbWVzIGRvZXNcbiAgICAvLyBvbiBvdXIgaGlkZGVuIHRleHRhcmVhIG9uIHJlbG9hZFxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNtLmRpc3BsYXkuaW5wdXQucmVzZXQodHJ1ZSk7IH0sIDIwKTtcblxuICAgIHJlZ2lzdGVyRXZlbnRIYW5kbGVycyh0aGlzKTtcbiAgICBlbnN1cmVHbG9iYWxIYW5kbGVycygpO1xuXG4gICAgc3RhcnRPcGVyYXRpb24odGhpcyk7XG4gICAgdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgYXR0YWNoRG9jKHRoaXMsIGRvYyk7XG5cbiAgICBpZiAoKG9wdGlvbnMuYXV0b2ZvY3VzICYmICFtb2JpbGUpIHx8IGNtLmhhc0ZvY3VzKCkpXG4gICAgICBzZXRUaW1lb3V0KGJpbmQob25Gb2N1cywgdGhpcyksIDIwKTtcbiAgICBlbHNlXG4gICAgICBvbkJsdXIodGhpcyk7XG5cbiAgICBmb3IgKHZhciBvcHQgaW4gb3B0aW9uSGFuZGxlcnMpIGlmIChvcHRpb25IYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShvcHQpKVxuICAgICAgb3B0aW9uSGFuZGxlcnNbb3B0XSh0aGlzLCBvcHRpb25zW29wdF0sIEluaXQpO1xuICAgIG1heWJlVXBkYXRlTGluZU51bWJlcldpZHRoKHRoaXMpO1xuICAgIGlmIChvcHRpb25zLmZpbmlzaEluaXQpIG9wdGlvbnMuZmluaXNoSW5pdCh0aGlzKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRIb29rcy5sZW5ndGg7ICsraSkgaW5pdEhvb2tzW2ldKHRoaXMpO1xuICAgIGVuZE9wZXJhdGlvbih0aGlzKTtcbiAgICAvLyBTdXBwcmVzcyBvcHRpbWl6ZWxlZ2liaWxpdHkgaW4gV2Via2l0LCBzaW5jZSBpdCBicmVha3MgdGV4dFxuICAgIC8vIG1lYXN1cmluZyBvbiBsaW5lIHdyYXBwaW5nIGJvdW5kYXJpZXMuXG4gICAgaWYgKHdlYmtpdCAmJiBvcHRpb25zLmxpbmVXcmFwcGluZyAmJlxuICAgICAgICBnZXRDb21wdXRlZFN0eWxlKGRpc3BsYXkubGluZURpdikudGV4dFJlbmRlcmluZyA9PSBcIm9wdGltaXplbGVnaWJpbGl0eVwiKVxuICAgICAgZGlzcGxheS5saW5lRGl2LnN0eWxlLnRleHRSZW5kZXJpbmcgPSBcImF1dG9cIjtcbiAgfVxuXG4gIC8vIERJU1BMQVkgQ09OU1RSVUNUT1JcblxuICAvLyBUaGUgZGlzcGxheSBoYW5kbGVzIHRoZSBET00gaW50ZWdyYXRpb24sIGJvdGggZm9yIGlucHV0IHJlYWRpbmdcbiAgLy8gYW5kIGNvbnRlbnQgZHJhd2luZy4gSXQgaG9sZHMgcmVmZXJlbmNlcyB0byBET00gbm9kZXMgYW5kXG4gIC8vIGRpc3BsYXktcmVsYXRlZCBzdGF0ZS5cblxuICBmdW5jdGlvbiBEaXNwbGF5KHBsYWNlLCBkb2MsIGlucHV0KSB7XG4gICAgdmFyIGQgPSB0aGlzO1xuICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcblxuICAgIC8vIENvdmVycyBib3R0b20tcmlnaHQgc3F1YXJlIHdoZW4gYm90aCBzY3JvbGxiYXJzIGFyZSBwcmVzZW50LlxuICAgIGQuc2Nyb2xsYmFyRmlsbGVyID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyXCIpO1xuICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnNldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIsIFwidHJ1ZVwiKTtcbiAgICAvLyBDb3ZlcnMgYm90dG9tIG9mIGd1dHRlciB3aGVuIGNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyIGlzIG9uXG4gICAgLy8gYW5kIGggc2Nyb2xsYmFyIGlzIHByZXNlbnQuXG4gICAgZC5ndXR0ZXJGaWxsZXIgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWd1dHRlci1maWxsZXJcIik7XG4gICAgZC5ndXR0ZXJGaWxsZXIuc2V0QXR0cmlidXRlKFwiY20tbm90LWNvbnRlbnRcIiwgXCJ0cnVlXCIpO1xuICAgIC8vIFdpbGwgY29udGFpbiB0aGUgYWN0dWFsIGNvZGUsIHBvc2l0aW9uZWQgdG8gY292ZXIgdGhlIHZpZXdwb3J0LlxuICAgIGQubGluZURpdiA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItY29kZVwiKTtcbiAgICAvLyBFbGVtZW50cyBhcmUgYWRkZWQgdG8gdGhlc2UgdG8gcmVwcmVzZW50IHNlbGVjdGlvbiBhbmQgY3Vyc29ycy5cbiAgICBkLnNlbGVjdGlvbkRpdiA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMVwiKTtcbiAgICBkLmN1cnNvckRpdiA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItY3Vyc29yc1wiKTtcbiAgICAvLyBBIHZpc2liaWxpdHk6IGhpZGRlbiBlbGVtZW50IHVzZWQgdG8gZmluZCB0aGUgc2l6ZSBvZiB0aGluZ3MuXG4gICAgZC5tZWFzdXJlID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1tZWFzdXJlXCIpO1xuICAgIC8vIFdoZW4gbGluZXMgb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQgYXJlIG1lYXN1cmVkLCB0aGV5IGFyZSBkcmF3biBpbiB0aGlzLlxuICAgIGQubGluZU1lYXN1cmUgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLW1lYXN1cmVcIik7XG4gICAgLy8gV3JhcHMgZXZlcnl0aGluZyB0aGF0IG5lZWRzIHRvIGV4aXN0IGluc2lkZSB0aGUgdmVydGljYWxseS1wYWRkZWQgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICBkLmxpbmVTcGFjZSA9IGVsdChcImRpdlwiLCBbZC5tZWFzdXJlLCBkLmxpbmVNZWFzdXJlLCBkLnNlbGVjdGlvbkRpdiwgZC5jdXJzb3JEaXYsIGQubGluZURpdl0sXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCwgXCJwb3NpdGlvbjogcmVsYXRpdmU7IG91dGxpbmU6IG5vbmVcIik7XG4gICAgLy8gTW92ZWQgYXJvdW5kIGl0cyBwYXJlbnQgdG8gY292ZXIgdmlzaWJsZSB2aWV3LlxuICAgIGQubW92ZXIgPSBlbHQoXCJkaXZcIiwgW2VsdChcImRpdlwiLCBbZC5saW5lU3BhY2VdLCBcIkNvZGVNaXJyb3ItbGluZXNcIildLCBudWxsLCBcInBvc2l0aW9uOiByZWxhdGl2ZVwiKTtcbiAgICAvLyBTZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgZG9jdW1lbnQsIGFsbG93aW5nIHNjcm9sbGluZy5cbiAgICBkLnNpemVyID0gZWx0KFwiZGl2XCIsIFtkLm1vdmVyXSwgXCJDb2RlTWlycm9yLXNpemVyXCIpO1xuICAgIGQuc2l6ZXJXaWR0aCA9IG51bGw7XG4gICAgLy8gQmVoYXZpb3Igb2YgZWx0cyB3aXRoIG92ZXJmbG93OiBhdXRvIGFuZCBwYWRkaW5nIGlzXG4gICAgLy8gaW5jb25zaXN0ZW50IGFjcm9zcyBicm93c2Vycy4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGVcbiAgICAvLyBzY3JvbGxhYmxlIGFyZWEgaXMgYmlnIGVub3VnaC5cbiAgICBkLmhlaWdodEZvcmNlciA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgaGVpZ2h0OiBcIiArIHNjcm9sbGVyR2FwICsgXCJweDsgd2lkdGg6IDFweDtcIik7XG4gICAgLy8gV2lsbCBjb250YWluIHRoZSBndXR0ZXJzLCBpZiBhbnkuXG4gICAgZC5ndXR0ZXJzID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXJzXCIpO1xuICAgIGQubGluZUd1dHRlciA9IG51bGw7XG4gICAgLy8gQWN0dWFsIHNjcm9sbGFibGUgZWxlbWVudC5cbiAgICBkLnNjcm9sbGVyID0gZWx0KFwiZGl2XCIsIFtkLnNpemVyLCBkLmhlaWdodEZvcmNlciwgZC5ndXR0ZXJzXSwgXCJDb2RlTWlycm9yLXNjcm9sbFwiKTtcbiAgICBkLnNjcm9sbGVyLnNldEF0dHJpYnV0ZShcInRhYkluZGV4XCIsIFwiLTFcIik7XG4gICAgLy8gVGhlIGVsZW1lbnQgaW4gd2hpY2ggdGhlIGVkaXRvciBsaXZlcy5cbiAgICBkLndyYXBwZXIgPSBlbHQoXCJkaXZcIiwgW2Quc2Nyb2xsYmFyRmlsbGVyLCBkLmd1dHRlckZpbGxlciwgZC5zY3JvbGxlcl0sIFwiQ29kZU1pcnJvclwiKTtcblxuICAgIC8vIFdvcmsgYXJvdW5kIElFNyB6LWluZGV4IGJ1ZyAobm90IHBlcmZlY3QsIGhlbmNlIElFNyBub3QgcmVhbGx5IGJlaW5nIHN1cHBvcnRlZClcbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIHsgZC5ndXR0ZXJzLnN0eWxlLnpJbmRleCA9IC0xOyBkLnNjcm9sbGVyLnN0eWxlLnBhZGRpbmdSaWdodCA9IDA7IH1cbiAgICBpZiAoIXdlYmtpdCAmJiAhKGdlY2tvICYmIG1vYmlsZSkpIGQuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gdHJ1ZTtcblxuICAgIGlmIChwbGFjZSkge1xuICAgICAgaWYgKHBsYWNlLmFwcGVuZENoaWxkKSBwbGFjZS5hcHBlbmRDaGlsZChkLndyYXBwZXIpO1xuICAgICAgZWxzZSBwbGFjZShkLndyYXBwZXIpO1xuICAgIH1cblxuICAgIC8vIEN1cnJlbnQgcmVuZGVyZWQgcmFuZ2UgKG1heSBiZSBiaWdnZXIgdGhhbiB0aGUgdmlldyB3aW5kb3cpLlxuICAgIGQudmlld0Zyb20gPSBkLnZpZXdUbyA9IGRvYy5maXJzdDtcbiAgICBkLnJlcG9ydGVkVmlld0Zyb20gPSBkLnJlcG9ydGVkVmlld1RvID0gZG9jLmZpcnN0O1xuICAgIC8vIEluZm9ybWF0aW9uIGFib3V0IHRoZSByZW5kZXJlZCBsaW5lcy5cbiAgICBkLnZpZXcgPSBbXTtcbiAgICBkLnJlbmRlcmVkVmlldyA9IG51bGw7XG4gICAgLy8gSG9sZHMgaW5mbyBhYm91dCBhIHNpbmdsZSByZW5kZXJlZCBsaW5lIHdoZW4gaXQgd2FzIHJlbmRlcmVkXG4gICAgLy8gZm9yIG1lYXN1cmVtZW50LCB3aGlsZSBub3QgaW4gdmlldy5cbiAgICBkLmV4dGVybmFsTWVhc3VyZWQgPSBudWxsO1xuICAgIC8vIEVtcHR5IHNwYWNlIChpbiBwaXhlbHMpIGFib3ZlIHRoZSB2aWV3XG4gICAgZC52aWV3T2Zmc2V0ID0gMDtcbiAgICBkLmxhc3RXcmFwSGVpZ2h0ID0gZC5sYXN0V3JhcFdpZHRoID0gMDtcbiAgICBkLnVwZGF0ZUxpbmVOdW1iZXJzID0gbnVsbDtcblxuICAgIGQubmF0aXZlQmFyV2lkdGggPSBkLmJhckhlaWdodCA9IGQuYmFyV2lkdGggPSAwO1xuICAgIGQuc2Nyb2xsYmFyc0NsaXBwZWQgPSBmYWxzZTtcblxuICAgIC8vIFVzZWQgdG8gb25seSByZXNpemUgdGhlIGxpbmUgbnVtYmVyIGd1dHRlciB3aGVuIG5lY2Vzc2FyeSAod2hlblxuICAgIC8vIHRoZSBhbW91bnQgb2YgbGluZXMgY3Jvc3NlcyBhIGJvdW5kYXJ5IHRoYXQgbWFrZXMgaXRzIHdpZHRoIGNoYW5nZSlcbiAgICBkLmxpbmVOdW1XaWR0aCA9IGQubGluZU51bUlubmVyV2lkdGggPSBkLmxpbmVOdW1DaGFycyA9IG51bGw7XG4gICAgLy8gU2V0IHRvIHRydWUgd2hlbiBhIG5vbi1ob3Jpem9udGFsLXNjcm9sbGluZyBsaW5lIHdpZGdldCBpc1xuICAgIC8vIGFkZGVkLiBBcyBhbiBvcHRpbWl6YXRpb24sIGxpbmUgd2lkZ2V0IGFsaWduaW5nIGlzIHNraXBwZWQgd2hlblxuICAgIC8vIHRoaXMgaXMgZmFsc2UuXG4gICAgZC5hbGlnbldpZGdldHMgPSBmYWxzZTtcblxuICAgIGQuY2FjaGVkQ2hhcldpZHRoID0gZC5jYWNoZWRUZXh0SGVpZ2h0ID0gZC5jYWNoZWRQYWRkaW5nSCA9IG51bGw7XG5cbiAgICAvLyBUcmFja3MgdGhlIG1heGltdW0gbGluZSBsZW5ndGggc28gdGhhdCB0aGUgaG9yaXpvbnRhbCBzY3JvbGxiYXJcbiAgICAvLyBjYW4gYmUga2VwdCBzdGF0aWMgd2hlbiBzY3JvbGxpbmcuXG4gICAgZC5tYXhMaW5lID0gbnVsbDtcbiAgICBkLm1heExpbmVMZW5ndGggPSAwO1xuICAgIGQubWF4TGluZUNoYW5nZWQgPSBmYWxzZTtcblxuICAgIC8vIFVzZWQgZm9yIG1lYXN1cmluZyB3aGVlbCBzY3JvbGxpbmcgZ3JhbnVsYXJpdHlcbiAgICBkLndoZWVsRFggPSBkLndoZWVsRFkgPSBkLndoZWVsU3RhcnRYID0gZC53aGVlbFN0YXJ0WSA9IG51bGw7XG5cbiAgICAvLyBUcnVlIHdoZW4gc2hpZnQgaXMgaGVsZCBkb3duLlxuICAgIGQuc2hpZnQgPSBmYWxzZTtcblxuICAgIC8vIFVzZWQgdG8gdHJhY2sgd2hldGhlciBhbnl0aGluZyBoYXBwZW5lZCBzaW5jZSB0aGUgY29udGV4dCBtZW51XG4gICAgLy8gd2FzIG9wZW5lZC5cbiAgICBkLnNlbEZvckNvbnRleHRNZW51ID0gbnVsbDtcblxuICAgIGQuYWN0aXZlVG91Y2ggPSBudWxsO1xuXG4gICAgaW5wdXQuaW5pdChkKTtcbiAgfVxuXG4gIC8vIFNUQVRFIFVQREFURVNcblxuICAvLyBVc2VkIHRvIGdldCB0aGUgZWRpdG9yIGludG8gYSBjb25zaXN0ZW50IHN0YXRlIGFnYWluIHdoZW4gb3B0aW9ucyBjaGFuZ2UuXG5cbiAgZnVuY3Rpb24gbG9hZE1vZGUoY20pIHtcbiAgICBjbS5kb2MubW9kZSA9IENvZGVNaXJyb3IuZ2V0TW9kZShjbS5vcHRpb25zLCBjbS5kb2MubW9kZU9wdGlvbik7XG4gICAgcmVzZXRNb2RlU3RhdGUoY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRNb2RlU3RhdGUoY20pIHtcbiAgICBjbS5kb2MuaXRlcihmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAobGluZS5zdGF0ZUFmdGVyKSBsaW5lLnN0YXRlQWZ0ZXIgPSBudWxsO1xuICAgICAgaWYgKGxpbmUuc3R5bGVzKSBsaW5lLnN0eWxlcyA9IG51bGw7XG4gICAgfSk7XG4gICAgY20uZG9jLmZyb250aWVyID0gY20uZG9jLmZpcnN0O1xuICAgIHN0YXJ0V29ya2VyKGNtLCAxMDApO1xuICAgIGNtLnN0YXRlLm1vZGVHZW4rKztcbiAgICBpZiAoY20uY3VyT3ApIHJlZ0NoYW5nZShjbSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwcGluZ0NoYW5nZWQoY20pIHtcbiAgICBpZiAoY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgIGFkZENsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgXCJDb2RlTWlycm9yLXdyYXBcIik7XG4gICAgICBjbS5kaXNwbGF5LnNpemVyLnN0eWxlLm1pbldpZHRoID0gXCJcIjtcbiAgICAgIGNtLmRpc3BsYXkuc2l6ZXJXaWR0aCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJtQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3Itd3JhcFwiKTtcbiAgICAgIGZpbmRNYXhMaW5lKGNtKTtcbiAgICB9XG4gICAgZXN0aW1hdGVMaW5lSGVpZ2h0cyhjbSk7XG4gICAgcmVnQ2hhbmdlKGNtKTtcbiAgICBjbGVhckNhY2hlcyhjbSk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe3VwZGF0ZVNjcm9sbGJhcnMoY20pO30sIDEwMCk7XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBlc3RpbWF0ZXMgdGhlIGhlaWdodCBvZiBhIGxpbmUsIHRvIHVzZSBhc1xuICAvLyBmaXJzdCBhcHByb3hpbWF0aW9uIHVudGlsIHRoZSBsaW5lIGJlY29tZXMgdmlzaWJsZSAoYW5kIGlzIHRodXNcbiAgLy8gcHJvcGVybHkgbWVhc3VyYWJsZSkuXG4gIGZ1bmN0aW9uIGVzdGltYXRlSGVpZ2h0KGNtKSB7XG4gICAgdmFyIHRoID0gdGV4dEhlaWdodChjbS5kaXNwbGF5KSwgd3JhcHBpbmcgPSBjbS5vcHRpb25zLmxpbmVXcmFwcGluZztcbiAgICB2YXIgcGVyTGluZSA9IHdyYXBwaW5nICYmIE1hdGgubWF4KDUsIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGggLyBjaGFyV2lkdGgoY20uZGlzcGxheSkgLSAzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKGxpbmVJc0hpZGRlbihjbS5kb2MsIGxpbmUpKSByZXR1cm4gMDtcblxuICAgICAgdmFyIHdpZGdldHNIZWlnaHQgPSAwO1xuICAgICAgaWYgKGxpbmUud2lkZ2V0cykgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLndpZGdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGxpbmUud2lkZ2V0c1tpXS5oZWlnaHQpIHdpZGdldHNIZWlnaHQgKz0gbGluZS53aWRnZXRzW2ldLmhlaWdodDtcbiAgICAgIH1cblxuICAgICAgaWYgKHdyYXBwaW5nKVxuICAgICAgICByZXR1cm4gd2lkZ2V0c0hlaWdodCArIChNYXRoLmNlaWwobGluZS50ZXh0Lmxlbmd0aCAvIHBlckxpbmUpIHx8IDEpICogdGg7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiB3aWRnZXRzSGVpZ2h0ICsgdGg7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVzdGltYXRlTGluZUhlaWdodHMoY20pIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCBlc3QgPSBlc3RpbWF0ZUhlaWdodChjbSk7XG4gICAgZG9jLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIGVzdEhlaWdodCA9IGVzdChsaW5lKTtcbiAgICAgIGlmIChlc3RIZWlnaHQgIT0gbGluZS5oZWlnaHQpIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgZXN0SGVpZ2h0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRoZW1lQ2hhbmdlZChjbSkge1xuICAgIGNtLmRpc3BsYXkud3JhcHBlci5jbGFzc05hbWUgPSBjbS5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lLnJlcGxhY2UoL1xccypjbS1zLVxcUysvZywgXCJcIikgK1xuICAgICAgY20ub3B0aW9ucy50aGVtZS5yZXBsYWNlKC8oXnxcXHMpXFxzKi9nLCBcIiBjbS1zLVwiKTtcbiAgICBjbGVhckNhY2hlcyhjbSk7XG4gIH1cblxuICBmdW5jdGlvbiBndXR0ZXJzQ2hhbmdlZChjbSkge1xuICAgIHVwZGF0ZUd1dHRlcnMoY20pO1xuICAgIHJlZ0NoYW5nZShjbSk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe2FsaWduSG9yaXpvbnRhbGx5KGNtKTt9LCAyMCk7XG4gIH1cblxuICAvLyBSZWJ1aWxkIHRoZSBndXR0ZXIgZWxlbWVudHMsIGVuc3VyZSB0aGUgbWFyZ2luIHRvIHRoZSBsZWZ0IG9mIHRoZVxuICAvLyBjb2RlIG1hdGNoZXMgdGhlaXIgd2lkdGguXG4gIGZ1bmN0aW9uIHVwZGF0ZUd1dHRlcnMoY20pIHtcbiAgICB2YXIgZ3V0dGVycyA9IGNtLmRpc3BsYXkuZ3V0dGVycywgc3BlY3MgPSBjbS5vcHRpb25zLmd1dHRlcnM7XG4gICAgcmVtb3ZlQ2hpbGRyZW4oZ3V0dGVycyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGVjcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGd1dHRlckNsYXNzID0gc3BlY3NbaV07XG4gICAgICB2YXIgZ0VsdCA9IGd1dHRlcnMuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXIgXCIgKyBndXR0ZXJDbGFzcykpO1xuICAgICAgaWYgKGd1dHRlckNsYXNzID09IFwiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiKSB7XG4gICAgICAgIGNtLmRpc3BsYXkubGluZUd1dHRlciA9IGdFbHQ7XG4gICAgICAgIGdFbHQuc3R5bGUud2lkdGggPSAoY20uZGlzcGxheS5saW5lTnVtV2lkdGggfHwgMSkgKyBcInB4XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGd1dHRlcnMuc3R5bGUuZGlzcGxheSA9IGkgPyBcIlwiIDogXCJub25lXCI7XG4gICAgdXBkYXRlR3V0dGVyU3BhY2UoY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlR3V0dGVyU3BhY2UoY20pIHtcbiAgICB2YXIgd2lkdGggPSBjbS5kaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGg7XG4gICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5tYXJnaW5MZWZ0ID0gd2lkdGggKyBcInB4XCI7XG4gIH1cblxuICAvLyBDb21wdXRlIHRoZSBjaGFyYWN0ZXIgbGVuZ3RoIG9mIGEgbGluZSwgdGFraW5nIGludG8gYWNjb3VudFxuICAvLyBjb2xsYXBzZWQgcmFuZ2VzIChzZWUgbWFya1RleHQpIHRoYXQgbWlnaHQgaGlkZSBwYXJ0cywgYW5kIGpvaW5cbiAgLy8gb3RoZXIgbGluZXMgb250byBpdC5cbiAgZnVuY3Rpb24gbGluZUxlbmd0aChsaW5lKSB7XG4gICAgaWYgKGxpbmUuaGVpZ2h0ID09IDApIHJldHVybiAwO1xuICAgIHZhciBsZW4gPSBsaW5lLnRleHQubGVuZ3RoLCBtZXJnZWQsIGN1ciA9IGxpbmU7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdFN0YXJ0KGN1cikpIHtcbiAgICAgIHZhciBmb3VuZCA9IG1lcmdlZC5maW5kKDAsIHRydWUpO1xuICAgICAgY3VyID0gZm91bmQuZnJvbS5saW5lO1xuICAgICAgbGVuICs9IGZvdW5kLmZyb20uY2ggLSBmb3VuZC50by5jaDtcbiAgICB9XG4gICAgY3VyID0gbGluZTtcbiAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGN1cikpIHtcbiAgICAgIHZhciBmb3VuZCA9IG1lcmdlZC5maW5kKDAsIHRydWUpO1xuICAgICAgbGVuIC09IGN1ci50ZXh0Lmxlbmd0aCAtIGZvdW5kLmZyb20uY2g7XG4gICAgICBjdXIgPSBmb3VuZC50by5saW5lO1xuICAgICAgbGVuICs9IGN1ci50ZXh0Lmxlbmd0aCAtIGZvdW5kLnRvLmNoO1xuICAgIH1cbiAgICByZXR1cm4gbGVuO1xuICB9XG5cbiAgLy8gRmluZCB0aGUgbG9uZ2VzdCBsaW5lIGluIHRoZSBkb2N1bWVudC5cbiAgZnVuY3Rpb24gZmluZE1heExpbmUoY20pIHtcbiAgICB2YXIgZCA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcbiAgICBkLm1heExpbmUgPSBnZXRMaW5lKGRvYywgZG9jLmZpcnN0KTtcbiAgICBkLm1heExpbmVMZW5ndGggPSBsaW5lTGVuZ3RoKGQubWF4TGluZSk7XG4gICAgZC5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgZG9jLml0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIGxlbiA9IGxpbmVMZW5ndGgobGluZSk7XG4gICAgICBpZiAobGVuID4gZC5tYXhMaW5lTGVuZ3RoKSB7XG4gICAgICAgIGQubWF4TGluZUxlbmd0aCA9IGxlbjtcbiAgICAgICAgZC5tYXhMaW5lID0gbGluZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIE1ha2Ugc3VyZSB0aGUgZ3V0dGVycyBvcHRpb25zIGNvbnRhaW5zIHRoZSBlbGVtZW50XG4gIC8vIFwiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiIHdoZW4gdGhlIGxpbmVOdW1iZXJzIG9wdGlvbiBpcyB0cnVlLlxuICBmdW5jdGlvbiBzZXRHdXR0ZXJzRm9yTGluZU51bWJlcnMob3B0aW9ucykge1xuICAgIHZhciBmb3VuZCA9IGluZGV4T2Yob3B0aW9ucy5ndXR0ZXJzLCBcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIik7XG4gICAgaWYgKGZvdW5kID09IC0xICYmIG9wdGlvbnMubGluZU51bWJlcnMpIHtcbiAgICAgIG9wdGlvbnMuZ3V0dGVycyA9IG9wdGlvbnMuZ3V0dGVycy5jb25jYXQoW1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiXSk7XG4gICAgfSBlbHNlIGlmIChmb3VuZCA+IC0xICYmICFvcHRpb25zLmxpbmVOdW1iZXJzKSB7XG4gICAgICBvcHRpb25zLmd1dHRlcnMgPSBvcHRpb25zLmd1dHRlcnMuc2xpY2UoMCk7XG4gICAgICBvcHRpb25zLmd1dHRlcnMuc3BsaWNlKGZvdW5kLCAxKTtcbiAgICB9XG4gIH1cblxuICAvLyBTQ1JPTExCQVJTXG5cbiAgLy8gUHJlcGFyZSBET00gcmVhZHMgbmVlZGVkIHRvIHVwZGF0ZSB0aGUgc2Nyb2xsYmFycy4gRG9uZSBpbiBvbmVcbiAgLy8gc2hvdCB0byBtaW5pbWl6ZSB1cGRhdGUvbWVhc3VyZSByb3VuZHRyaXBzLlxuICBmdW5jdGlvbiBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSkge1xuICAgIHZhciBkID0gY20uZGlzcGxheSwgZ3V0dGVyVyA9IGQuZ3V0dGVycy5vZmZzZXRXaWR0aDtcbiAgICB2YXIgZG9jSCA9IE1hdGgucm91bmQoY20uZG9jLmhlaWdodCArIHBhZGRpbmdWZXJ0KGNtLmRpc3BsYXkpKTtcbiAgICByZXR1cm4ge1xuICAgICAgY2xpZW50SGVpZ2h0OiBkLnNjcm9sbGVyLmNsaWVudEhlaWdodCxcbiAgICAgIHZpZXdIZWlnaHQ6IGQud3JhcHBlci5jbGllbnRIZWlnaHQsXG4gICAgICBzY3JvbGxXaWR0aDogZC5zY3JvbGxlci5zY3JvbGxXaWR0aCwgY2xpZW50V2lkdGg6IGQuc2Nyb2xsZXIuY2xpZW50V2lkdGgsXG4gICAgICB2aWV3V2lkdGg6IGQud3JhcHBlci5jbGllbnRXaWR0aCxcbiAgICAgIGJhckxlZnQ6IGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgPyBndXR0ZXJXIDogMCxcbiAgICAgIGRvY0hlaWdodDogZG9jSCxcbiAgICAgIHNjcm9sbEhlaWdodDogZG9jSCArIHNjcm9sbEdhcChjbSkgKyBkLmJhckhlaWdodCxcbiAgICAgIG5hdGl2ZUJhcldpZHRoOiBkLm5hdGl2ZUJhcldpZHRoLFxuICAgICAgZ3V0dGVyV2lkdGg6IGd1dHRlcldcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gTmF0aXZlU2Nyb2xsYmFycyhwbGFjZSwgc2Nyb2xsLCBjbSkge1xuICAgIHRoaXMuY20gPSBjbTtcbiAgICB2YXIgdmVydCA9IHRoaXMudmVydCA9IGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwibWluLXdpZHRoOiAxcHhcIildLCBcIkNvZGVNaXJyb3ItdnNjcm9sbGJhclwiKTtcbiAgICB2YXIgaG9yaXogPSB0aGlzLmhvcml6ID0gZWx0KFwiZGl2XCIsIFtlbHQoXCJkaXZcIiwgbnVsbCwgbnVsbCwgXCJoZWlnaHQ6IDEwMCU7IG1pbi1oZWlnaHQ6IDFweFwiKV0sIFwiQ29kZU1pcnJvci1oc2Nyb2xsYmFyXCIpO1xuICAgIHBsYWNlKHZlcnQpOyBwbGFjZShob3Jpeik7XG5cbiAgICBvbih2ZXJ0LCBcInNjcm9sbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh2ZXJ0LmNsaWVudEhlaWdodCkgc2Nyb2xsKHZlcnQuc2Nyb2xsVG9wLCBcInZlcnRpY2FsXCIpO1xuICAgIH0pO1xuICAgIG9uKGhvcml6LCBcInNjcm9sbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChob3Jpei5jbGllbnRXaWR0aCkgc2Nyb2xsKGhvcml6LnNjcm9sbExlZnQsIFwiaG9yaXpvbnRhbFwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2hlY2tlZFplcm9XaWR0aCA9IGZhbHNlO1xuICAgIC8vIE5lZWQgdG8gc2V0IGEgbWluaW11bSB3aWR0aCB0byBzZWUgdGhlIHNjcm9sbGJhciBvbiBJRTcgKGJ1dCBtdXN0IG5vdCBzZXQgaXQgb24gSUU4KS5cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIHRoaXMuaG9yaXouc3R5bGUubWluSGVpZ2h0ID0gdGhpcy52ZXJ0LnN0eWxlLm1pbldpZHRoID0gXCIxOHB4XCI7XG4gIH1cblxuICBOYXRpdmVTY3JvbGxiYXJzLnByb3RvdHlwZSA9IGNvcHlPYmooe1xuICAgIHVwZGF0ZTogZnVuY3Rpb24obWVhc3VyZSkge1xuICAgICAgdmFyIG5lZWRzSCA9IG1lYXN1cmUuc2Nyb2xsV2lkdGggPiBtZWFzdXJlLmNsaWVudFdpZHRoICsgMTtcbiAgICAgIHZhciBuZWVkc1YgPSBtZWFzdXJlLnNjcm9sbEhlaWdodCA+IG1lYXN1cmUuY2xpZW50SGVpZ2h0ICsgMTtcbiAgICAgIHZhciBzV2lkdGggPSBtZWFzdXJlLm5hdGl2ZUJhcldpZHRoO1xuXG4gICAgICBpZiAobmVlZHNWKSB7XG4gICAgICAgIHRoaXMudmVydC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB0aGlzLnZlcnQuc3R5bGUuYm90dG9tID0gbmVlZHNIID8gc1dpZHRoICsgXCJweFwiIDogXCIwXCI7XG4gICAgICAgIHZhciB0b3RhbEhlaWdodCA9IG1lYXN1cmUudmlld0hlaWdodCAtIChuZWVkc0ggPyBzV2lkdGggOiAwKTtcbiAgICAgICAgLy8gQSBidWcgaW4gSUU4IGNhbiBjYXVzZSB0aGlzIHZhbHVlIHRvIGJlIG5lZ2F0aXZlLCBzbyBndWFyZCBpdC5cbiAgICAgICAgdGhpcy52ZXJ0LmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0ID1cbiAgICAgICAgICBNYXRoLm1heCgwLCBtZWFzdXJlLnNjcm9sbEhlaWdodCAtIG1lYXN1cmUuY2xpZW50SGVpZ2h0ICsgdG90YWxIZWlnaHQpICsgXCJweFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52ZXJ0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICB0aGlzLnZlcnQuZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQgPSBcIjBcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRzSCkge1xuICAgICAgICB0aGlzLmhvcml6LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHRoaXMuaG9yaXouc3R5bGUucmlnaHQgPSBuZWVkc1YgPyBzV2lkdGggKyBcInB4XCIgOiBcIjBcIjtcbiAgICAgICAgdGhpcy5ob3Jpei5zdHlsZS5sZWZ0ID0gbWVhc3VyZS5iYXJMZWZ0ICsgXCJweFwiO1xuICAgICAgICB2YXIgdG90YWxXaWR0aCA9IG1lYXN1cmUudmlld1dpZHRoIC0gbWVhc3VyZS5iYXJMZWZ0IC0gKG5lZWRzViA/IHNXaWR0aCA6IDApO1xuICAgICAgICB0aGlzLmhvcml6LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGggPVxuICAgICAgICAgIChtZWFzdXJlLnNjcm9sbFdpZHRoIC0gbWVhc3VyZS5jbGllbnRXaWR0aCArIHRvdGFsV2lkdGgpICsgXCJweFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgdGhpcy5ob3Jpei5maXJzdENoaWxkLnN0eWxlLndpZHRoID0gXCIwXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5jaGVja2VkWmVyb1dpZHRoICYmIG1lYXN1cmUuY2xpZW50SGVpZ2h0ID4gMCkge1xuICAgICAgICBpZiAoc1dpZHRoID09IDApIHRoaXMuemVyb1dpZHRoSGFjaygpO1xuICAgICAgICB0aGlzLmNoZWNrZWRaZXJvV2lkdGggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge3JpZ2h0OiBuZWVkc1YgPyBzV2lkdGggOiAwLCBib3R0b206IG5lZWRzSCA/IHNXaWR0aCA6IDB9O1xuICAgIH0sXG4gICAgc2V0U2Nyb2xsTGVmdDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICBpZiAodGhpcy5ob3Jpei5zY3JvbGxMZWZ0ICE9IHBvcykgdGhpcy5ob3Jpei5zY3JvbGxMZWZ0ID0gcG9zO1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZUhvcml6KSB0aGlzLmVuYWJsZVplcm9XaWR0aEJhcih0aGlzLmhvcml6LCB0aGlzLmRpc2FibGVIb3Jpeik7XG4gICAgfSxcbiAgICBzZXRTY3JvbGxUb3A6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgaWYgKHRoaXMudmVydC5zY3JvbGxUb3AgIT0gcG9zKSB0aGlzLnZlcnQuc2Nyb2xsVG9wID0gcG9zO1xuICAgICAgaWYgKHRoaXMuZGlzYWJsZVZlcnQpIHRoaXMuZW5hYmxlWmVyb1dpZHRoQmFyKHRoaXMudmVydCwgdGhpcy5kaXNhYmxlVmVydCk7XG4gICAgfSxcbiAgICB6ZXJvV2lkdGhIYWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB3ID0gbWFjICYmICFtYWNfZ2VNb3VudGFpbkxpb24gPyBcIjEycHhcIiA6IFwiMThweFwiO1xuICAgICAgdGhpcy5ob3Jpei5zdHlsZS5oZWlnaHQgPSB0aGlzLnZlcnQuc3R5bGUud2lkdGggPSB3O1xuICAgICAgdGhpcy5ob3Jpei5zdHlsZS5wb2ludGVyRXZlbnRzID0gdGhpcy52ZXJ0LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgIHRoaXMuZGlzYWJsZUhvcml6ID0gbmV3IERlbGF5ZWQ7XG4gICAgICB0aGlzLmRpc2FibGVWZXJ0ID0gbmV3IERlbGF5ZWQ7XG4gICAgfSxcbiAgICBlbmFibGVaZXJvV2lkdGhCYXI6IGZ1bmN0aW9uKGJhciwgZGVsYXkpIHtcbiAgICAgIGJhci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJhdXRvXCI7XG4gICAgICBmdW5jdGlvbiBtYXliZURpc2FibGUoKSB7XG4gICAgICAgIC8vIFRvIGZpbmQgb3V0IHdoZXRoZXIgdGhlIHNjcm9sbGJhciBpcyBzdGlsbCB2aXNpYmxlLCB3ZVxuICAgICAgICAvLyBjaGVjayB3aGV0aGVyIHRoZSBlbGVtZW50IHVuZGVyIHRoZSBwaXhlbCBpbiB0aGUgYm90dG9tXG4gICAgICAgIC8vIGxlZnQgY29ybmVyIG9mIHRoZSBzY3JvbGxiYXIgYm94IGlzIHRoZSBzY3JvbGxiYXIgYm94XG4gICAgICAgIC8vIGl0c2VsZiAod2hlbiB0aGUgYmFyIGlzIHN0aWxsIHZpc2libGUpIG9yIGl0cyBmaWxsZXIgY2hpbGRcbiAgICAgICAgLy8gKHdoZW4gdGhlIGJhciBpcyBoaWRkZW4pLiBJZiBpdCBpcyBzdGlsbCB2aXNpYmxlLCB3ZSBrZWVwXG4gICAgICAgIC8vIGl0IGVuYWJsZWQsIGlmIGl0J3MgaGlkZGVuLCB3ZSBkaXNhYmxlIHBvaW50ZXIgZXZlbnRzLlxuICAgICAgICB2YXIgYm94ID0gYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZWx0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChib3gubGVmdCArIDEsIGJveC5ib3R0b20gLSAxKTtcbiAgICAgICAgaWYgKGVsdCAhPSBiYXIpIGJhci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgICAgIGVsc2UgZGVsYXkuc2V0KDEwMDAsIG1heWJlRGlzYWJsZSk7XG4gICAgICB9XG4gICAgICBkZWxheS5zZXQoMTAwMCwgbWF5YmVEaXNhYmxlKTtcbiAgICB9LFxuICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJlbnQgPSB0aGlzLmhvcml6LnBhcmVudE5vZGU7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5ob3Jpeik7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy52ZXJ0KTtcbiAgICB9XG4gIH0sIE5hdGl2ZVNjcm9sbGJhcnMucHJvdG90eXBlKTtcblxuICBmdW5jdGlvbiBOdWxsU2Nyb2xsYmFycygpIHt9XG5cbiAgTnVsbFNjcm9sbGJhcnMucHJvdG90eXBlID0gY29weU9iaih7XG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHsgcmV0dXJuIHtib3R0b206IDAsIHJpZ2h0OiAwfTsgfSxcbiAgICBzZXRTY3JvbGxMZWZ0OiBmdW5jdGlvbigpIHt9LFxuICAgIHNldFNjcm9sbFRvcDogZnVuY3Rpb24oKSB7fSxcbiAgICBjbGVhcjogZnVuY3Rpb24oKSB7fVxuICB9LCBOdWxsU2Nyb2xsYmFycy5wcm90b3R5cGUpO1xuXG4gIENvZGVNaXJyb3Iuc2Nyb2xsYmFyTW9kZWwgPSB7XCJuYXRpdmVcIjogTmF0aXZlU2Nyb2xsYmFycywgXCJudWxsXCI6IE51bGxTY3JvbGxiYXJzfTtcblxuICBmdW5jdGlvbiBpbml0U2Nyb2xsYmFycyhjbSkge1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhcnMpIHtcbiAgICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5jbGVhcigpO1xuICAgICAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcylcbiAgICAgICAgcm1DbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcyk7XG4gICAgfVxuXG4gICAgY20uZGlzcGxheS5zY3JvbGxiYXJzID0gbmV3IENvZGVNaXJyb3Iuc2Nyb2xsYmFyTW9kZWxbY20ub3B0aW9ucy5zY3JvbGxiYXJTdHlsZV0oZnVuY3Rpb24obm9kZSkge1xuICAgICAgY20uZGlzcGxheS53cmFwcGVyLmluc2VydEJlZm9yZShub2RlLCBjbS5kaXNwbGF5LnNjcm9sbGJhckZpbGxlcik7XG4gICAgICAvLyBQcmV2ZW50IGNsaWNrcyBpbiB0aGUgc2Nyb2xsYmFycyBmcm9tIGtpbGxpbmcgZm9jdXNcbiAgICAgIG9uKG5vZGUsIFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY20uc3RhdGUuZm9jdXNlZCkgc2V0VGltZW91dChmdW5jdGlvbigpIHsgY20uZGlzcGxheS5pbnB1dC5mb2N1cygpOyB9LCAwKTtcbiAgICAgIH0pO1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiLCBcInRydWVcIik7XG4gICAgfSwgZnVuY3Rpb24ocG9zLCBheGlzKSB7XG4gICAgICBpZiAoYXhpcyA9PSBcImhvcml6b250YWxcIikgc2V0U2Nyb2xsTGVmdChjbSwgcG9zKTtcbiAgICAgIGVsc2Ugc2V0U2Nyb2xsVG9wKGNtLCBwb3MpO1xuICAgIH0sIGNtKTtcbiAgICBpZiAoY20uZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKVxuICAgICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsYmFycyhjbSwgbWVhc3VyZSkge1xuICAgIGlmICghbWVhc3VyZSkgbWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKTtcbiAgICB2YXIgc3RhcnRXaWR0aCA9IGNtLmRpc3BsYXkuYmFyV2lkdGgsIHN0YXJ0SGVpZ2h0ID0gY20uZGlzcGxheS5iYXJIZWlnaHQ7XG4gICAgdXBkYXRlU2Nyb2xsYmFyc0lubmVyKGNtLCBtZWFzdXJlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQgJiYgc3RhcnRXaWR0aCAhPSBjbS5kaXNwbGF5LmJhcldpZHRoIHx8IHN0YXJ0SGVpZ2h0ICE9IGNtLmRpc3BsYXkuYmFySGVpZ2h0OyBpKyspIHtcbiAgICAgIGlmIChzdGFydFdpZHRoICE9IGNtLmRpc3BsYXkuYmFyV2lkdGggJiYgY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpXG4gICAgICAgIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKTtcbiAgICAgIHVwZGF0ZVNjcm9sbGJhcnNJbm5lcihjbSwgbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pKTtcbiAgICAgIHN0YXJ0V2lkdGggPSBjbS5kaXNwbGF5LmJhcldpZHRoOyBzdGFydEhlaWdodCA9IGNtLmRpc3BsYXkuYmFySGVpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlLXN5bmNocm9uaXplIHRoZSBmYWtlIHNjcm9sbGJhcnMgd2l0aCB0aGUgYWN0dWFsIHNpemUgb2YgdGhlXG4gIC8vIGNvbnRlbnQuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbGJhcnNJbm5lcihjbSwgbWVhc3VyZSkge1xuICAgIHZhciBkID0gY20uZGlzcGxheTtcbiAgICB2YXIgc2l6ZXMgPSBkLnNjcm9sbGJhcnMudXBkYXRlKG1lYXN1cmUpO1xuXG4gICAgZC5zaXplci5zdHlsZS5wYWRkaW5nUmlnaHQgPSAoZC5iYXJXaWR0aCA9IHNpemVzLnJpZ2h0KSArIFwicHhcIjtcbiAgICBkLnNpemVyLnN0eWxlLnBhZGRpbmdCb3R0b20gPSAoZC5iYXJIZWlnaHQgPSBzaXplcy5ib3R0b20pICsgXCJweFwiO1xuICAgIGQuaGVpZ2h0Rm9yY2VyLnN0eWxlLmJvcmRlckJvdHRvbSA9IHNpemVzLmJvdHRvbSArIFwicHggc29saWQgdHJhbnNwYXJlbnRcIlxuXG4gICAgaWYgKHNpemVzLnJpZ2h0ICYmIHNpemVzLmJvdHRvbSkge1xuICAgICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmhlaWdodCA9IHNpemVzLmJvdHRvbSArIFwicHhcIjtcbiAgICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLndpZHRoID0gc2l6ZXMucmlnaHQgKyBcInB4XCI7XG4gICAgfSBlbHNlIGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgIGlmIChzaXplcy5ib3R0b20gJiYgY20ub3B0aW9ucy5jb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhciAmJiBjbS5vcHRpb25zLmZpeGVkR3V0dGVyKSB7XG4gICAgICBkLmd1dHRlckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZC5ndXR0ZXJGaWxsZXIuc3R5bGUuaGVpZ2h0ID0gc2l6ZXMuYm90dG9tICsgXCJweFwiO1xuICAgICAgZC5ndXR0ZXJGaWxsZXIuc3R5bGUud2lkdGggPSBtZWFzdXJlLmd1dHRlcldpZHRoICsgXCJweFwiO1xuICAgIH0gZWxzZSBkLmd1dHRlckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGxpbmVzIHRoYXQgYXJlIHZpc2libGUgaW4gYSBnaXZlbiB2aWV3cG9ydCAoZGVmYXVsdHNcbiAgLy8gdGhlIHRoZSBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbikuIHZpZXdwb3J0IG1heSBjb250YWluIHRvcCxcbiAgLy8gaGVpZ2h0LCBhbmQgZW5zdXJlIChzZWUgb3Auc2Nyb2xsVG9Qb3MpIHByb3BlcnRpZXMuXG4gIGZ1bmN0aW9uIHZpc2libGVMaW5lcyhkaXNwbGF5LCBkb2MsIHZpZXdwb3J0KSB7XG4gICAgdmFyIHRvcCA9IHZpZXdwb3J0ICYmIHZpZXdwb3J0LnRvcCAhPSBudWxsID8gTWF0aC5tYXgoMCwgdmlld3BvcnQudG9wKSA6IGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wO1xuICAgIHRvcCA9IE1hdGguZmxvb3IodG9wIC0gcGFkZGluZ1RvcChkaXNwbGF5KSk7XG4gICAgdmFyIGJvdHRvbSA9IHZpZXdwb3J0ICYmIHZpZXdwb3J0LmJvdHRvbSAhPSBudWxsID8gdmlld3BvcnQuYm90dG9tIDogdG9wICsgZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodDtcblxuICAgIHZhciBmcm9tID0gbGluZUF0SGVpZ2h0KGRvYywgdG9wKSwgdG8gPSBsaW5lQXRIZWlnaHQoZG9jLCBib3R0b20pO1xuICAgIC8vIEVuc3VyZSBpcyBhIHtmcm9tOiB7bGluZSwgY2h9LCB0bzoge2xpbmUsIGNofX0gb2JqZWN0LCBhbmRcbiAgICAvLyBmb3JjZXMgdGhvc2UgbGluZXMgaW50byB0aGUgdmlld3BvcnQgKGlmIHBvc3NpYmxlKS5cbiAgICBpZiAodmlld3BvcnQgJiYgdmlld3BvcnQuZW5zdXJlKSB7XG4gICAgICB2YXIgZW5zdXJlRnJvbSA9IHZpZXdwb3J0LmVuc3VyZS5mcm9tLmxpbmUsIGVuc3VyZVRvID0gdmlld3BvcnQuZW5zdXJlLnRvLmxpbmU7XG4gICAgICBpZiAoZW5zdXJlRnJvbSA8IGZyb20pIHtcbiAgICAgICAgZnJvbSA9IGVuc3VyZUZyb207XG4gICAgICAgIHRvID0gbGluZUF0SGVpZ2h0KGRvYywgaGVpZ2h0QXRMaW5lKGdldExpbmUoZG9jLCBlbnN1cmVGcm9tKSkgKyBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0KTtcbiAgICAgIH0gZWxzZSBpZiAoTWF0aC5taW4oZW5zdXJlVG8sIGRvYy5sYXN0TGluZSgpKSA+PSB0bykge1xuICAgICAgICBmcm9tID0gbGluZUF0SGVpZ2h0KGRvYywgaGVpZ2h0QXRMaW5lKGdldExpbmUoZG9jLCBlbnN1cmVUbykpIC0gZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCk7XG4gICAgICAgIHRvID0gZW5zdXJlVG87XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7ZnJvbTogZnJvbSwgdG86IE1hdGgubWF4KHRvLCBmcm9tICsgMSl9O1xuICB9XG5cbiAgLy8gTElORSBOVU1CRVJTXG5cbiAgLy8gUmUtYWxpZ24gbGluZSBudW1iZXJzIGFuZCBndXR0ZXIgbWFya3MgdG8gY29tcGVuc2F0ZSBmb3JcbiAgLy8gaG9yaXpvbnRhbCBzY3JvbGxpbmcuXG4gIGZ1bmN0aW9uIGFsaWduSG9yaXpvbnRhbGx5KGNtKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCB2aWV3ID0gZGlzcGxheS52aWV3O1xuICAgIGlmICghZGlzcGxheS5hbGlnbldpZGdldHMgJiYgKCFkaXNwbGF5Lmd1dHRlcnMuZmlyc3RDaGlsZCB8fCAhY20ub3B0aW9ucy5maXhlZEd1dHRlcikpIHJldHVybjtcbiAgICB2YXIgY29tcCA9IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGRpc3BsYXkpIC0gZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICsgY20uZG9jLnNjcm9sbExlZnQ7XG4gICAgdmFyIGd1dHRlclcgPSBkaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGgsIGxlZnQgPSBjb21wICsgXCJweFwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykgaWYgKCF2aWV3W2ldLmhpZGRlbikge1xuICAgICAgaWYgKGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgJiYgdmlld1tpXS5ndXR0ZXIpXG4gICAgICAgIHZpZXdbaV0uZ3V0dGVyLnN0eWxlLmxlZnQgPSBsZWZ0O1xuICAgICAgdmFyIGFsaWduID0gdmlld1tpXS5hbGlnbmFibGU7XG4gICAgICBpZiAoYWxpZ24pIGZvciAodmFyIGogPSAwOyBqIDwgYWxpZ24ubGVuZ3RoOyBqKyspXG4gICAgICAgIGFsaWduW2pdLnN0eWxlLmxlZnQgPSBsZWZ0O1xuICAgIH1cbiAgICBpZiAoY20ub3B0aW9ucy5maXhlZEd1dHRlcilcbiAgICAgIGRpc3BsYXkuZ3V0dGVycy5zdHlsZS5sZWZ0ID0gKGNvbXAgKyBndXR0ZXJXKSArIFwicHhcIjtcbiAgfVxuXG4gIC8vIFVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGxpbmUgbnVtYmVyIGd1dHRlciBpcyBzdGlsbCB0aGUgcmlnaHRcbiAgLy8gc2l6ZSBmb3IgdGhlIGN1cnJlbnQgZG9jdW1lbnQgc2l6ZS4gUmV0dXJucyB0cnVlIHdoZW4gYW4gdXBkYXRlXG4gIC8vIGlzIG5lZWRlZC5cbiAgZnVuY3Rpb24gbWF5YmVVcGRhdGVMaW5lTnVtYmVyV2lkdGgoY20pIHtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZU51bWJlcnMpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgZG9jID0gY20uZG9jLCBsYXN0ID0gbGluZU51bWJlckZvcihjbS5vcHRpb25zLCBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEpLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAobGFzdC5sZW5ndGggIT0gZGlzcGxheS5saW5lTnVtQ2hhcnMpIHtcbiAgICAgIHZhciB0ZXN0ID0gZGlzcGxheS5tZWFzdXJlLmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIGxhc3QpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHRcIikpO1xuICAgICAgdmFyIGlubmVyVyA9IHRlc3QuZmlyc3RDaGlsZC5vZmZzZXRXaWR0aCwgcGFkZGluZyA9IHRlc3Qub2Zmc2V0V2lkdGggLSBpbm5lclc7XG4gICAgICBkaXNwbGF5LmxpbmVHdXR0ZXIuc3R5bGUud2lkdGggPSBcIlwiO1xuICAgICAgZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCA9IE1hdGgubWF4KGlubmVyVywgZGlzcGxheS5saW5lR3V0dGVyLm9mZnNldFdpZHRoIC0gcGFkZGluZykgKyAxO1xuICAgICAgZGlzcGxheS5saW5lTnVtV2lkdGggPSBkaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoICsgcGFkZGluZztcbiAgICAgIGRpc3BsYXkubGluZU51bUNoYXJzID0gZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCA/IGxhc3QubGVuZ3RoIDogLTE7XG4gICAgICBkaXNwbGF5LmxpbmVHdXR0ZXIuc3R5bGUud2lkdGggPSBkaXNwbGF5LmxpbmVOdW1XaWR0aCArIFwicHhcIjtcbiAgICAgIHVwZGF0ZUd1dHRlclNwYWNlKGNtKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBsaW5lTnVtYmVyRm9yKG9wdGlvbnMsIGkpIHtcbiAgICByZXR1cm4gU3RyaW5nKG9wdGlvbnMubGluZU51bWJlckZvcm1hdHRlcihpICsgb3B0aW9ucy5maXJzdExpbmVOdW1iZXIpKTtcbiAgfVxuXG4gIC8vIENvbXB1dGVzIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCArIGRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCxcbiAgLy8gYnV0IHVzaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCB0byBnZXQgYSBzdWItcGl4ZWwtYWNjdXJhdGVcbiAgLy8gcmVzdWx0LlxuICBmdW5jdGlvbiBjb21wZW5zYXRlRm9ySFNjcm9sbChkaXNwbGF5KSB7XG4gICAgcmV0dXJuIGRpc3BsYXkuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIGRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgfVxuXG4gIC8vIERJU1BMQVkgRFJBV0lOR1xuXG4gIGZ1bmN0aW9uIERpc3BsYXlVcGRhdGUoY20sIHZpZXdwb3J0LCBmb3JjZSkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcblxuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAvLyBTdG9yZSBzb21lIHZhbHVlcyB0aGF0IHdlJ2xsIG5lZWQgbGF0ZXIgKGJ1dCBkb24ndCB3YW50IHRvIGZvcmNlIGEgcmVsYXlvdXQgZm9yKVxuICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGVMaW5lcyhkaXNwbGF5LCBjbS5kb2MsIHZpZXdwb3J0KTtcbiAgICB0aGlzLmVkaXRvcklzSGlkZGVuID0gIWRpc3BsYXkud3JhcHBlci5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLndyYXBwZXJIZWlnaHQgPSBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuICAgIHRoaXMud3JhcHBlcldpZHRoID0gZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoO1xuICAgIHRoaXMub2xkRGlzcGxheVdpZHRoID0gZGlzcGxheVdpZHRoKGNtKTtcbiAgICB0aGlzLmZvcmNlID0gZm9yY2U7XG4gICAgdGhpcy5kaW1zID0gZ2V0RGltZW5zaW9ucyhjbSk7XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgfVxuXG4gIERpc3BsYXlVcGRhdGUucHJvdG90eXBlLnNpZ25hbCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgICBpZiAoaGFzSGFuZGxlcihlbWl0dGVyLCB0eXBlKSlcbiAgICAgIHRoaXMuZXZlbnRzLnB1c2goYXJndW1lbnRzKTtcbiAgfTtcbiAgRGlzcGxheVVwZGF0ZS5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIHNpZ25hbC5hcHBseShudWxsLCB0aGlzLmV2ZW50c1tpXSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWF5YmVDbGlwU2Nyb2xsYmFycyhjbSkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAoIWRpc3BsYXkuc2Nyb2xsYmFyc0NsaXBwZWQgJiYgZGlzcGxheS5zY3JvbGxlci5vZmZzZXRXaWR0aCkge1xuICAgICAgZGlzcGxheS5uYXRpdmVCYXJXaWR0aCA9IGRpc3BsYXkuc2Nyb2xsZXIub2Zmc2V0V2lkdGggLSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoO1xuICAgICAgZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUuaGVpZ2h0ID0gc2Nyb2xsR2FwKGNtKSArIFwicHhcIjtcbiAgICAgIGRpc3BsYXkuc2l6ZXIuc3R5bGUubWFyZ2luQm90dG9tID0gLWRpc3BsYXkubmF0aXZlQmFyV2lkdGggKyBcInB4XCI7XG4gICAgICBkaXNwbGF5LnNpemVyLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGggPSBzY3JvbGxHYXAoY20pICsgXCJweFwiO1xuICAgICAgZGlzcGxheS5zY3JvbGxiYXJzQ2xpcHBlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gRG9lcyB0aGUgYWN0dWFsIHVwZGF0aW5nIG9mIHRoZSBsaW5lIGRpc3BsYXkuIEJhaWxzIG91dFxuICAvLyAocmV0dXJuaW5nIGZhbHNlKSB3aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gYmUgZG9uZSBhbmQgZm9yY2VkIGlzXG4gIC8vIGZhbHNlLlxuICBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5SWZOZWVkZWQoY20sIHVwZGF0ZSkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuXG4gICAgaWYgKHVwZGF0ZS5lZGl0b3JJc0hpZGRlbikge1xuICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBCYWlsIG91dCBpZiB0aGUgdmlzaWJsZSBhcmVhIGlzIGFscmVhZHkgcmVuZGVyZWQgYW5kIG5vdGhpbmcgY2hhbmdlZC5cbiAgICBpZiAoIXVwZGF0ZS5mb3JjZSAmJlxuICAgICAgICB1cGRhdGUudmlzaWJsZS5mcm9tID49IGRpc3BsYXkudmlld0Zyb20gJiYgdXBkYXRlLnZpc2libGUudG8gPD0gZGlzcGxheS52aWV3VG8gJiZcbiAgICAgICAgKGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPT0gbnVsbCB8fCBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID49IGRpc3BsYXkudmlld1RvKSAmJlxuICAgICAgICBkaXNwbGF5LnJlbmRlcmVkVmlldyA9PSBkaXNwbGF5LnZpZXcgJiYgY291bnREaXJ0eVZpZXcoY20pID09IDApXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAobWF5YmVVcGRhdGVMaW5lTnVtYmVyV2lkdGgoY20pKSB7XG4gICAgICByZXNldFZpZXcoY20pO1xuICAgICAgdXBkYXRlLmRpbXMgPSBnZXREaW1lbnNpb25zKGNtKTtcbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIGEgc3VpdGFibGUgbmV3IHZpZXdwb3J0IChmcm9tICYgdG8pXG4gICAgdmFyIGVuZCA9IGRvYy5maXJzdCArIGRvYy5zaXplO1xuICAgIHZhciBmcm9tID0gTWF0aC5tYXgodXBkYXRlLnZpc2libGUuZnJvbSAtIGNtLm9wdGlvbnMudmlld3BvcnRNYXJnaW4sIGRvYy5maXJzdCk7XG4gICAgdmFyIHRvID0gTWF0aC5taW4oZW5kLCB1cGRhdGUudmlzaWJsZS50byArIGNtLm9wdGlvbnMudmlld3BvcnRNYXJnaW4pO1xuICAgIGlmIChkaXNwbGF5LnZpZXdGcm9tIDwgZnJvbSAmJiBmcm9tIC0gZGlzcGxheS52aWV3RnJvbSA8IDIwKSBmcm9tID0gTWF0aC5tYXgoZG9jLmZpcnN0LCBkaXNwbGF5LnZpZXdGcm9tKTtcbiAgICBpZiAoZGlzcGxheS52aWV3VG8gPiB0byAmJiBkaXNwbGF5LnZpZXdUbyAtIHRvIDwgMjApIHRvID0gTWF0aC5taW4oZW5kLCBkaXNwbGF5LnZpZXdUbyk7XG4gICAgaWYgKHNhd0NvbGxhcHNlZFNwYW5zKSB7XG4gICAgICBmcm9tID0gdmlzdWFsTGluZU5vKGNtLmRvYywgZnJvbSk7XG4gICAgICB0byA9IHZpc3VhbExpbmVFbmRObyhjbS5kb2MsIHRvKTtcbiAgICB9XG5cbiAgICB2YXIgZGlmZmVyZW50ID0gZnJvbSAhPSBkaXNwbGF5LnZpZXdGcm9tIHx8IHRvICE9IGRpc3BsYXkudmlld1RvIHx8XG4gICAgICBkaXNwbGF5Lmxhc3RXcmFwSGVpZ2h0ICE9IHVwZGF0ZS53cmFwcGVySGVpZ2h0IHx8IGRpc3BsYXkubGFzdFdyYXBXaWR0aCAhPSB1cGRhdGUud3JhcHBlcldpZHRoO1xuICAgIGFkanVzdFZpZXcoY20sIGZyb20sIHRvKTtcblxuICAgIGRpc3BsYXkudmlld09mZnNldCA9IGhlaWdodEF0TGluZShnZXRMaW5lKGNtLmRvYywgZGlzcGxheS52aWV3RnJvbSkpO1xuICAgIC8vIFBvc2l0aW9uIHRoZSBtb3ZlciBkaXYgdG8gYWxpZ24gd2l0aCB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAgICBjbS5kaXNwbGF5Lm1vdmVyLnN0eWxlLnRvcCA9IGRpc3BsYXkudmlld09mZnNldCArIFwicHhcIjtcblxuICAgIHZhciB0b1VwZGF0ZSA9IGNvdW50RGlydHlWaWV3KGNtKTtcbiAgICBpZiAoIWRpZmZlcmVudCAmJiB0b1VwZGF0ZSA9PSAwICYmICF1cGRhdGUuZm9yY2UgJiYgZGlzcGxheS5yZW5kZXJlZFZpZXcgPT0gZGlzcGxheS52aWV3ICYmXG4gICAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+PSBkaXNwbGF5LnZpZXdUbykpXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBGb3IgYmlnIGNoYW5nZXMsIHdlIGhpZGUgdGhlIGVuY2xvc2luZyBlbGVtZW50IGR1cmluZyB0aGVcbiAgICAvLyB1cGRhdGUsIHNpbmNlIHRoYXQgc3BlZWRzIHVwIHRoZSBvcGVyYXRpb25zIG9uIG1vc3QgYnJvd3NlcnMuXG4gICAgdmFyIGZvY3VzZWQgPSBhY3RpdmVFbHQoKTtcbiAgICBpZiAodG9VcGRhdGUgPiA0KSBkaXNwbGF5LmxpbmVEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHBhdGNoRGlzcGxheShjbSwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycywgdXBkYXRlLmRpbXMpO1xuICAgIGlmICh0b1VwZGF0ZSA+IDQpIGRpc3BsYXkubGluZURpdi5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICBkaXNwbGF5LnJlbmRlcmVkVmlldyA9IGRpc3BsYXkudmlldztcbiAgICAvLyBUaGVyZSBtaWdodCBoYXZlIGJlZW4gYSB3aWRnZXQgd2l0aCBhIGZvY3VzZWQgZWxlbWVudCB0aGF0IGdvdFxuICAgIC8vIGhpZGRlbiBvciB1cGRhdGVkLCBpZiBzbyByZS1mb2N1cyBpdC5cbiAgICBpZiAoZm9jdXNlZCAmJiBhY3RpdmVFbHQoKSAhPSBmb2N1c2VkICYmIGZvY3VzZWQub2Zmc2V0SGVpZ2h0KSBmb2N1c2VkLmZvY3VzKCk7XG5cbiAgICAvLyBQcmV2ZW50IHNlbGVjdGlvbiBhbmQgY3Vyc29ycyBmcm9tIGludGVyZmVyaW5nIHdpdGggdGhlIHNjcm9sbFxuICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgcmVtb3ZlQ2hpbGRyZW4oZGlzcGxheS5jdXJzb3JEaXYpO1xuICAgIHJlbW92ZUNoaWxkcmVuKGRpc3BsYXkuc2VsZWN0aW9uRGl2KTtcbiAgICBkaXNwbGF5Lmd1dHRlcnMuc3R5bGUuaGVpZ2h0ID0gZGlzcGxheS5zaXplci5zdHlsZS5taW5IZWlnaHQgPSAwO1xuXG4gICAgaWYgKGRpZmZlcmVudCkge1xuICAgICAgZGlzcGxheS5sYXN0V3JhcEhlaWdodCA9IHVwZGF0ZS53cmFwcGVySGVpZ2h0O1xuICAgICAgZGlzcGxheS5sYXN0V3JhcFdpZHRoID0gdXBkYXRlLndyYXBwZXJXaWR0aDtcbiAgICAgIHN0YXJ0V29ya2VyKGNtLCA0MDApO1xuICAgIH1cblxuICAgIGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPSBudWxsO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0VXBkYXRlRGlzcGxheShjbSwgdXBkYXRlKSB7XG4gICAgdmFyIHZpZXdwb3J0ID0gdXBkYXRlLnZpZXdwb3J0O1xuXG4gICAgZm9yICh2YXIgZmlyc3QgPSB0cnVlOzsgZmlyc3QgPSBmYWxzZSkge1xuICAgICAgaWYgKCFmaXJzdCB8fCAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgfHwgdXBkYXRlLm9sZERpc3BsYXlXaWR0aCA9PSBkaXNwbGF5V2lkdGgoY20pKSB7XG4gICAgICAgIC8vIENsaXAgZm9yY2VkIHZpZXdwb3J0IHRvIGFjdHVhbCBzY3JvbGxhYmxlIGFyZWEuXG4gICAgICAgIGlmICh2aWV3cG9ydCAmJiB2aWV3cG9ydC50b3AgIT0gbnVsbClcbiAgICAgICAgICB2aWV3cG9ydCA9IHt0b3A6IE1hdGgubWluKGNtLmRvYy5oZWlnaHQgKyBwYWRkaW5nVmVydChjbS5kaXNwbGF5KSAtIGRpc3BsYXlIZWlnaHQoY20pLCB2aWV3cG9ydC50b3ApfTtcbiAgICAgICAgLy8gVXBkYXRlZCBsaW5lIGhlaWdodHMgbWlnaHQgcmVzdWx0IGluIHRoZSBkcmF3biBhcmVhIG5vdFxuICAgICAgICAvLyBhY3R1YWxseSBjb3ZlcmluZyB0aGUgdmlld3BvcnQuIEtlZXAgbG9vcGluZyB1bnRpbCBpdCBkb2VzLlxuICAgICAgICB1cGRhdGUudmlzaWJsZSA9IHZpc2libGVMaW5lcyhjbS5kaXNwbGF5LCBjbS5kb2MsIHZpZXdwb3J0KTtcbiAgICAgICAgaWYgKHVwZGF0ZS52aXNpYmxlLmZyb20gPj0gY20uZGlzcGxheS52aWV3RnJvbSAmJiB1cGRhdGUudmlzaWJsZS50byA8PSBjbS5kaXNwbGF5LnZpZXdUbylcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICghdXBkYXRlRGlzcGxheUlmTmVlZGVkKGNtLCB1cGRhdGUpKSBicmVhaztcbiAgICAgIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKTtcbiAgICAgIHZhciBiYXJNZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pO1xuICAgICAgdXBkYXRlU2VsZWN0aW9uKGNtKTtcbiAgICAgIHVwZGF0ZVNjcm9sbGJhcnMoY20sIGJhck1lYXN1cmUpO1xuICAgICAgc2V0RG9jdW1lbnRIZWlnaHQoY20sIGJhck1lYXN1cmUpO1xuICAgIH1cblxuICAgIHVwZGF0ZS5zaWduYWwoY20sIFwidXBkYXRlXCIsIGNtKTtcbiAgICBpZiAoY20uZGlzcGxheS52aWV3RnJvbSAhPSBjbS5kaXNwbGF5LnJlcG9ydGVkVmlld0Zyb20gfHwgY20uZGlzcGxheS52aWV3VG8gIT0gY20uZGlzcGxheS5yZXBvcnRlZFZpZXdUbykge1xuICAgICAgdXBkYXRlLnNpZ25hbChjbSwgXCJ2aWV3cG9ydENoYW5nZVwiLCBjbSwgY20uZGlzcGxheS52aWV3RnJvbSwgY20uZGlzcGxheS52aWV3VG8pO1xuICAgICAgY20uZGlzcGxheS5yZXBvcnRlZFZpZXdGcm9tID0gY20uZGlzcGxheS52aWV3RnJvbTsgY20uZGlzcGxheS5yZXBvcnRlZFZpZXdUbyA9IGNtLmRpc3BsYXkudmlld1RvO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHZpZXdwb3J0KSB7XG4gICAgdmFyIHVwZGF0ZSA9IG5ldyBEaXNwbGF5VXBkYXRlKGNtLCB2aWV3cG9ydCk7XG4gICAgaWYgKHVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSkge1xuICAgICAgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pO1xuICAgICAgcG9zdFVwZGF0ZURpc3BsYXkoY20sIHVwZGF0ZSk7XG4gICAgICB2YXIgYmFyTWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKTtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbihjbSk7XG4gICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHNldERvY3VtZW50SGVpZ2h0KGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHVwZGF0ZS5maW5pc2goKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXREb2N1bWVudEhlaWdodChjbSwgbWVhc3VyZSkge1xuICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluSGVpZ2h0ID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCI7XG4gICAgY20uZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUudG9wID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCI7XG4gICAgY20uZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmhlaWdodCA9IChtZWFzdXJlLmRvY0hlaWdodCArIGNtLmRpc3BsYXkuYmFySGVpZ2h0ICsgc2Nyb2xsR2FwKGNtKSkgKyBcInB4XCI7XG4gIH1cblxuICAvLyBSZWFkIHRoZSBhY3R1YWwgaGVpZ2h0cyBvZiB0aGUgcmVuZGVyZWQgbGluZXMsIGFuZCB1cGRhdGUgdGhlaXJcbiAgLy8gc3RvcmVkIGhlaWdodHMgdG8gbWF0Y2guXG4gIGZ1bmN0aW9uIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIHZhciBwcmV2Qm90dG9tID0gZGlzcGxheS5saW5lRGl2Lm9mZnNldFRvcDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BsYXkudmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGN1ciA9IGRpc3BsYXkudmlld1tpXSwgaGVpZ2h0O1xuICAgICAgaWYgKGN1ci5oaWRkZW4pIGNvbnRpbnVlO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSB7XG4gICAgICAgIHZhciBib3QgPSBjdXIubm9kZS5vZmZzZXRUb3AgKyBjdXIubm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGhlaWdodCA9IGJvdCAtIHByZXZCb3R0b207XG4gICAgICAgIHByZXZCb3R0b20gPSBib3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYm94ID0gY3VyLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGhlaWdodCA9IGJveC5ib3R0b20gLSBib3gudG9wO1xuICAgICAgfVxuICAgICAgdmFyIGRpZmYgPSBjdXIubGluZS5oZWlnaHQgLSBoZWlnaHQ7XG4gICAgICBpZiAoaGVpZ2h0IDwgMikgaGVpZ2h0ID0gdGV4dEhlaWdodChkaXNwbGF5KTtcbiAgICAgIGlmIChkaWZmID4gLjAwMSB8fCBkaWZmIDwgLS4wMDEpIHtcbiAgICAgICAgdXBkYXRlTGluZUhlaWdodChjdXIubGluZSwgaGVpZ2h0KTtcbiAgICAgICAgdXBkYXRlV2lkZ2V0SGVpZ2h0KGN1ci5saW5lKTtcbiAgICAgICAgaWYgKGN1ci5yZXN0KSBmb3IgKHZhciBqID0gMDsgaiA8IGN1ci5yZXN0Lmxlbmd0aDsgaisrKVxuICAgICAgICAgIHVwZGF0ZVdpZGdldEhlaWdodChjdXIucmVzdFtqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmVhZCBhbmQgc3RvcmUgdGhlIGhlaWdodCBvZiBsaW5lIHdpZGdldHMgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAvLyBnaXZlbiBsaW5lLlxuICBmdW5jdGlvbiB1cGRhdGVXaWRnZXRIZWlnaHQobGluZSkge1xuICAgIGlmIChsaW5lLndpZGdldHMpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS53aWRnZXRzLmxlbmd0aDsgKytpKVxuICAgICAgbGluZS53aWRnZXRzW2ldLmhlaWdodCA9IGxpbmUud2lkZ2V0c1tpXS5ub2RlLnBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgLy8gRG8gYSBidWxrLXJlYWQgb2YgdGhlIERPTSBwb3NpdGlvbnMgYW5kIHNpemVzIG5lZWRlZCB0byBkcmF3IHRoZVxuICAvLyB2aWV3LCBzbyB0aGF0IHdlIGRvbid0IGludGVybGVhdmUgcmVhZGluZyBhbmQgd3JpdGluZyB0byB0aGUgRE9NLlxuICBmdW5jdGlvbiBnZXREaW1lbnNpb25zKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5LCBsZWZ0ID0ge30sIHdpZHRoID0ge307XG4gICAgdmFyIGd1dHRlckxlZnQgPSBkLmd1dHRlcnMuY2xpZW50TGVmdDtcbiAgICBmb3IgKHZhciBuID0gZC5ndXR0ZXJzLmZpcnN0Q2hpbGQsIGkgPSAwOyBuOyBuID0gbi5uZXh0U2libGluZywgKytpKSB7XG4gICAgICBsZWZ0W2NtLm9wdGlvbnMuZ3V0dGVyc1tpXV0gPSBuLm9mZnNldExlZnQgKyBuLmNsaWVudExlZnQgKyBndXR0ZXJMZWZ0O1xuICAgICAgd2lkdGhbY20ub3B0aW9ucy5ndXR0ZXJzW2ldXSA9IG4uY2xpZW50V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7Zml4ZWRQb3M6IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGQpLFxuICAgICAgICAgICAgZ3V0dGVyVG90YWxXaWR0aDogZC5ndXR0ZXJzLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgZ3V0dGVyTGVmdDogbGVmdCxcbiAgICAgICAgICAgIGd1dHRlcldpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHdyYXBwZXJXaWR0aDogZC53cmFwcGVyLmNsaWVudFdpZHRofTtcbiAgfVxuXG4gIC8vIFN5bmMgdGhlIGFjdHVhbCBkaXNwbGF5IERPTSBzdHJ1Y3R1cmUgd2l0aCBkaXNwbGF5LnZpZXcsIHJlbW92aW5nXG4gIC8vIG5vZGVzIGZvciBsaW5lcyB0aGF0IGFyZSBubyBsb25nZXIgaW4gdmlldywgYW5kIGNyZWF0aW5nIHRoZSBvbmVzXG4gIC8vIHRoYXQgYXJlIG5vdCB0aGVyZSB5ZXQsIGFuZCB1cGRhdGluZyB0aGUgb25lcyB0aGF0IGFyZSBvdXQgb2ZcbiAgLy8gZGF0ZS5cbiAgZnVuY3Rpb24gcGF0Y2hEaXNwbGF5KGNtLCB1cGRhdGVOdW1iZXJzRnJvbSwgZGltcykge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgbGluZU51bWJlcnMgPSBjbS5vcHRpb25zLmxpbmVOdW1iZXJzO1xuICAgIHZhciBjb250YWluZXIgPSBkaXNwbGF5LmxpbmVEaXYsIGN1ciA9IGNvbnRhaW5lci5maXJzdENoaWxkO1xuXG4gICAgZnVuY3Rpb24gcm0obm9kZSkge1xuICAgICAgdmFyIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgLy8gV29ya3MgYXJvdW5kIGEgdGhyb3ctc2Nyb2xsIGJ1ZyBpbiBPUyBYIFdlYmtpdFxuICAgICAgaWYgKHdlYmtpdCAmJiBtYWMgJiYgY20uZGlzcGxheS5jdXJyZW50V2hlZWxUYXJnZXQgPT0gbm9kZSlcbiAgICAgICAgbm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBlbHNlXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cblxuICAgIHZhciB2aWV3ID0gZGlzcGxheS52aWV3LCBsaW5lTiA9IGRpc3BsYXkudmlld0Zyb207XG4gICAgLy8gTG9vcCBvdmVyIHRoZSBlbGVtZW50cyBpbiB0aGUgdmlldywgc3luY2luZyBjdXIgKHRoZSBET00gbm9kZXNcbiAgICAvLyBpbiBkaXNwbGF5LmxpbmVEaXYpIHdpdGggdGhlIHZpZXcgYXMgd2UgZ28uXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGluZVZpZXcgPSB2aWV3W2ldO1xuICAgICAgaWYgKGxpbmVWaWV3LmhpZGRlbikge1xuICAgICAgfSBlbHNlIGlmICghbGluZVZpZXcubm9kZSB8fCBsaW5lVmlldy5ub2RlLnBhcmVudE5vZGUgIT0gY29udGFpbmVyKSB7IC8vIE5vdCBkcmF3biB5ZXRcbiAgICAgICAgdmFyIG5vZGUgPSBidWlsZExpbmVFbGVtZW50KGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpO1xuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKG5vZGUsIGN1cik7XG4gICAgICB9IGVsc2UgeyAvLyBBbHJlYWR5IGRyYXduXG4gICAgICAgIHdoaWxlIChjdXIgIT0gbGluZVZpZXcubm9kZSkgY3VyID0gcm0oY3VyKTtcbiAgICAgICAgdmFyIHVwZGF0ZU51bWJlciA9IGxpbmVOdW1iZXJzICYmIHVwZGF0ZU51bWJlcnNGcm9tICE9IG51bGwgJiZcbiAgICAgICAgICB1cGRhdGVOdW1iZXJzRnJvbSA8PSBsaW5lTiAmJiBsaW5lVmlldy5saW5lTnVtYmVyO1xuICAgICAgICBpZiAobGluZVZpZXcuY2hhbmdlcykge1xuICAgICAgICAgIGlmIChpbmRleE9mKGxpbmVWaWV3LmNoYW5nZXMsIFwiZ3V0dGVyXCIpID4gLTEpIHVwZGF0ZU51bWJlciA9IGZhbHNlO1xuICAgICAgICAgIHVwZGF0ZUxpbmVGb3JDaGFuZ2VzKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVOdW1iZXIpIHtcbiAgICAgICAgICByZW1vdmVDaGlsZHJlbihsaW5lVmlldy5saW5lTnVtYmVyKTtcbiAgICAgICAgICBsaW5lVmlldy5saW5lTnVtYmVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxpbmVOdW1iZXJGb3IoY20ub3B0aW9ucywgbGluZU4pKSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VyID0gbGluZVZpZXcubm9kZS5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIGxpbmVOICs9IGxpbmVWaWV3LnNpemU7XG4gICAgfVxuICAgIHdoaWxlIChjdXIpIGN1ciA9IHJtKGN1cik7XG4gIH1cblxuICAvLyBXaGVuIGFuIGFzcGVjdCBvZiBhIGxpbmUgY2hhbmdlcywgYSBzdHJpbmcgaXMgYWRkZWQgdG9cbiAgLy8gbGluZVZpZXcuY2hhbmdlcy4gVGhpcyB1cGRhdGVzIHRoZSByZWxldmFudCBwYXJ0IG9mIHRoZSBsaW5lJ3NcbiAgLy8gRE9NIHN0cnVjdHVyZS5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUZvckNoYW5nZXMoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykge1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZVZpZXcuY2hhbmdlcy5sZW5ndGg7IGorKykge1xuICAgICAgdmFyIHR5cGUgPSBsaW5lVmlldy5jaGFuZ2VzW2pdO1xuICAgICAgaWYgKHR5cGUgPT0gXCJ0ZXh0XCIpIHVwZGF0ZUxpbmVUZXh0KGNtLCBsaW5lVmlldyk7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwiZ3V0dGVyXCIpIHVwZGF0ZUxpbmVHdXR0ZXIoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcyk7XG4gICAgICBlbHNlIGlmICh0eXBlID09IFwiY2xhc3NcIikgdXBkYXRlTGluZUNsYXNzZXMobGluZVZpZXcpO1xuICAgICAgZWxzZSBpZiAodHlwZSA9PSBcIndpZGdldFwiKSB1cGRhdGVMaW5lV2lkZ2V0cyhjbSwgbGluZVZpZXcsIGRpbXMpO1xuICAgIH1cbiAgICBsaW5lVmlldy5jaGFuZ2VzID0gbnVsbDtcbiAgfVxuXG4gIC8vIExpbmVzIHdpdGggZ3V0dGVyIGVsZW1lbnRzLCB3aWRnZXRzIG9yIGEgYmFja2dyb3VuZCBjbGFzcyBuZWVkIHRvXG4gIC8vIGJlIHdyYXBwZWQsIGFuZCBoYXZlIHRoZSBleHRyYSBlbGVtZW50cyBhZGRlZCB0byB0aGUgd3JhcHBlciBkaXZcbiAgZnVuY3Rpb24gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpIHtcbiAgICBpZiAobGluZVZpZXcubm9kZSA9PSBsaW5lVmlldy50ZXh0KSB7XG4gICAgICBsaW5lVmlldy5ub2RlID0gZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IHJlbGF0aXZlXCIpO1xuICAgICAgaWYgKGxpbmVWaWV3LnRleHQucGFyZW50Tm9kZSlcbiAgICAgICAgbGluZVZpZXcudGV4dC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChsaW5lVmlldy5ub2RlLCBsaW5lVmlldy50ZXh0KTtcbiAgICAgIGxpbmVWaWV3Lm5vZGUuYXBwZW5kQ2hpbGQobGluZVZpZXcudGV4dCk7XG4gICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIGxpbmVWaWV3Lm5vZGUuc3R5bGUuekluZGV4ID0gMjtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVWaWV3Lm5vZGU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaW5lQmFja2dyb3VuZChsaW5lVmlldykge1xuICAgIHZhciBjbHMgPSBsaW5lVmlldy5iZ0NsYXNzID8gbGluZVZpZXcuYmdDbGFzcyArIFwiIFwiICsgKGxpbmVWaWV3LmxpbmUuYmdDbGFzcyB8fCBcIlwiKSA6IGxpbmVWaWV3LmxpbmUuYmdDbGFzcztcbiAgICBpZiAoY2xzKSBjbHMgKz0gXCIgQ29kZU1pcnJvci1saW5lYmFja2dyb3VuZFwiO1xuICAgIGlmIChsaW5lVmlldy5iYWNrZ3JvdW5kKSB7XG4gICAgICBpZiAoY2xzKSBsaW5lVmlldy5iYWNrZ3JvdW5kLmNsYXNzTmFtZSA9IGNscztcbiAgICAgIGVsc2UgeyBsaW5lVmlldy5iYWNrZ3JvdW5kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGluZVZpZXcuYmFja2dyb3VuZCk7IGxpbmVWaWV3LmJhY2tncm91bmQgPSBudWxsOyB9XG4gICAgfSBlbHNlIGlmIChjbHMpIHtcbiAgICAgIHZhciB3cmFwID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpO1xuICAgICAgbGluZVZpZXcuYmFja2dyb3VuZCA9IHdyYXAuaW5zZXJ0QmVmb3JlKGVsdChcImRpdlwiLCBudWxsLCBjbHMpLCB3cmFwLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdyYXBwZXIgYXJvdW5kIGJ1aWxkTGluZUNvbnRlbnQgd2hpY2ggd2lsbCByZXVzZSB0aGUgc3RydWN0dXJlXG4gIC8vIGluIGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCB3aGVuIHBvc3NpYmxlLlxuICBmdW5jdGlvbiBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpIHtcbiAgICB2YXIgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQgJiYgZXh0LmxpbmUgPT0gbGluZVZpZXcubGluZSkge1xuICAgICAgY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbDtcbiAgICAgIGxpbmVWaWV3Lm1lYXN1cmUgPSBleHQubWVhc3VyZTtcbiAgICAgIHJldHVybiBleHQuYnVpbHQ7XG4gICAgfVxuICAgIHJldHVybiBidWlsZExpbmVDb250ZW50KGNtLCBsaW5lVmlldyk7XG4gIH1cblxuICAvLyBSZWRyYXcgdGhlIGxpbmUncyB0ZXh0LiBJbnRlcmFjdHMgd2l0aCB0aGUgYmFja2dyb3VuZCBhbmQgdGV4dFxuICAvLyBjbGFzc2VzIGJlY2F1c2UgdGhlIG1vZGUgbWF5IG91dHB1dCB0b2tlbnMgdGhhdCBpbmZsdWVuY2UgdGhlc2VcbiAgLy8gY2xhc3Nlcy5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZVRleHQoY20sIGxpbmVWaWV3KSB7XG4gICAgdmFyIGNscyA9IGxpbmVWaWV3LnRleHQuY2xhc3NOYW1lO1xuICAgIHZhciBidWlsdCA9IGdldExpbmVDb250ZW50KGNtLCBsaW5lVmlldyk7XG4gICAgaWYgKGxpbmVWaWV3LnRleHQgPT0gbGluZVZpZXcubm9kZSkgbGluZVZpZXcubm9kZSA9IGJ1aWx0LnByZTtcbiAgICBsaW5lVmlldy50ZXh0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGJ1aWx0LnByZSwgbGluZVZpZXcudGV4dCk7XG4gICAgbGluZVZpZXcudGV4dCA9IGJ1aWx0LnByZTtcbiAgICBpZiAoYnVpbHQuYmdDbGFzcyAhPSBsaW5lVmlldy5iZ0NsYXNzIHx8IGJ1aWx0LnRleHRDbGFzcyAhPSBsaW5lVmlldy50ZXh0Q2xhc3MpIHtcbiAgICAgIGxpbmVWaWV3LmJnQ2xhc3MgPSBidWlsdC5iZ0NsYXNzO1xuICAgICAgbGluZVZpZXcudGV4dENsYXNzID0gYnVpbHQudGV4dENsYXNzO1xuICAgICAgdXBkYXRlTGluZUNsYXNzZXMobGluZVZpZXcpO1xuICAgIH0gZWxzZSBpZiAoY2xzKSB7XG4gICAgICBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZSA9IGNscztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaW5lQ2xhc3NlcyhsaW5lVmlldykge1xuICAgIHVwZGF0ZUxpbmVCYWNrZ3JvdW5kKGxpbmVWaWV3KTtcbiAgICBpZiAobGluZVZpZXcubGluZS53cmFwQ2xhc3MpXG4gICAgICBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldykuY2xhc3NOYW1lID0gbGluZVZpZXcubGluZS53cmFwQ2xhc3M7XG4gICAgZWxzZSBpZiAobGluZVZpZXcubm9kZSAhPSBsaW5lVmlldy50ZXh0KVxuICAgICAgbGluZVZpZXcubm9kZS5jbGFzc05hbWUgPSBcIlwiO1xuICAgIHZhciB0ZXh0Q2xhc3MgPSBsaW5lVmlldy50ZXh0Q2xhc3MgPyBsaW5lVmlldy50ZXh0Q2xhc3MgKyBcIiBcIiArIChsaW5lVmlldy5saW5lLnRleHRDbGFzcyB8fCBcIlwiKSA6IGxpbmVWaWV3LmxpbmUudGV4dENsYXNzO1xuICAgIGxpbmVWaWV3LnRleHQuY2xhc3NOYW1lID0gdGV4dENsYXNzIHx8IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaW5lR3V0dGVyKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpIHtcbiAgICBpZiAobGluZVZpZXcuZ3V0dGVyKSB7XG4gICAgICBsaW5lVmlldy5ub2RlLnJlbW92ZUNoaWxkKGxpbmVWaWV3Lmd1dHRlcik7XG4gICAgICBsaW5lVmlldy5ndXR0ZXIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCkge1xuICAgICAgbGluZVZpZXcubm9kZS5yZW1vdmVDaGlsZChsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kKTtcbiAgICAgIGxpbmVWaWV3Lmd1dHRlckJhY2tncm91bmQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobGluZVZpZXcubGluZS5ndXR0ZXJDbGFzcykge1xuICAgICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldyk7XG4gICAgICBsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXItYmFja2dyb3VuZCBcIiArIGxpbmVWaWV3LmxpbmUuZ3V0dGVyQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGVmdDogXCIgKyAoY20ub3B0aW9ucy5maXhlZEd1dHRlciA/IGRpbXMuZml4ZWRQb3MgOiAtZGltcy5ndXR0ZXJUb3RhbFdpZHRoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHg7IHdpZHRoOiBcIiArIGRpbXMuZ3V0dGVyVG90YWxXaWR0aCArIFwicHhcIik7XG4gICAgICB3cmFwLmluc2VydEJlZm9yZShsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kLCBsaW5lVmlldy50ZXh0KTtcbiAgICB9XG4gICAgdmFyIG1hcmtlcnMgPSBsaW5lVmlldy5saW5lLmd1dHRlck1hcmtlcnM7XG4gICAgaWYgKGNtLm9wdGlvbnMubGluZU51bWJlcnMgfHwgbWFya2Vycykge1xuICAgICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldyk7XG4gICAgICB2YXIgZ3V0dGVyV3JhcCA9IGxpbmVWaWV3Lmd1dHRlciA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItZ3V0dGVyLXdyYXBwZXJcIiwgXCJsZWZ0OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY20ub3B0aW9ucy5maXhlZEd1dHRlciA/IGRpbXMuZml4ZWRQb3MgOiAtZGltcy5ndXR0ZXJUb3RhbFdpZHRoKSArIFwicHhcIik7XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUoZ3V0dGVyV3JhcCk7XG4gICAgICB3cmFwLmluc2VydEJlZm9yZShndXR0ZXJXcmFwLCBsaW5lVmlldy50ZXh0KTtcbiAgICAgIGlmIChsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzKVxuICAgICAgICBndXR0ZXJXcmFwLmNsYXNzTmFtZSArPSBcIiBcIiArIGxpbmVWaWV3LmxpbmUuZ3V0dGVyQ2xhc3M7XG4gICAgICBpZiAoY20ub3B0aW9ucy5saW5lTnVtYmVycyAmJiAoIW1hcmtlcnMgfHwgIW1hcmtlcnNbXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCJdKSlcbiAgICAgICAgbGluZVZpZXcubGluZU51bWJlciA9IGd1dHRlcldyYXAuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgZWx0KFwiZGl2XCIsIGxpbmVOdW1iZXJGb3IoY20ub3B0aW9ucywgbGluZU4pLFxuICAgICAgICAgICAgICBcIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHRcIixcbiAgICAgICAgICAgICAgXCJsZWZ0OiBcIiArIGRpbXMuZ3V0dGVyTGVmdFtcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIl0gKyBcInB4OyB3aWR0aDogXCJcbiAgICAgICAgICAgICAgKyBjbS5kaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoICsgXCJweFwiKSk7XG4gICAgICBpZiAobWFya2VycykgZm9yICh2YXIgayA9IDA7IGsgPCBjbS5vcHRpb25zLmd1dHRlcnMubGVuZ3RoOyArK2spIHtcbiAgICAgICAgdmFyIGlkID0gY20ub3B0aW9ucy5ndXR0ZXJzW2tdLCBmb3VuZCA9IG1hcmtlcnMuaGFzT3duUHJvcGVydHkoaWQpICYmIG1hcmtlcnNbaWRdO1xuICAgICAgICBpZiAoZm91bmQpXG4gICAgICAgICAgZ3V0dGVyV3JhcC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgW2ZvdW5kXSwgXCJDb2RlTWlycm9yLWd1dHRlci1lbHRcIiwgXCJsZWZ0OiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltcy5ndXR0ZXJMZWZ0W2lkXSArIFwicHg7IHdpZHRoOiBcIiArIGRpbXMuZ3V0dGVyV2lkdGhbaWRdICsgXCJweFwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZVdpZGdldHMoY20sIGxpbmVWaWV3LCBkaW1zKSB7XG4gICAgaWYgKGxpbmVWaWV3LmFsaWduYWJsZSkgbGluZVZpZXcuYWxpZ25hYmxlID0gbnVsbDtcbiAgICBmb3IgKHZhciBub2RlID0gbGluZVZpZXcubm9kZS5maXJzdENoaWxkLCBuZXh0OyBub2RlOyBub2RlID0gbmV4dCkge1xuICAgICAgdmFyIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgaWYgKG5vZGUuY2xhc3NOYW1lID09IFwiQ29kZU1pcnJvci1saW5ld2lkZ2V0XCIpXG4gICAgICAgIGxpbmVWaWV3Lm5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxuICAgIGluc2VydExpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcyk7XG4gIH1cblxuICAvLyBCdWlsZCBhIGxpbmUncyBET00gcmVwcmVzZW50YXRpb24gZnJvbSBzY3JhdGNoXG4gIGZ1bmN0aW9uIGJ1aWxkTGluZUVsZW1lbnQoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykge1xuICAgIHZhciBidWlsdCA9IGdldExpbmVDb250ZW50KGNtLCBsaW5lVmlldyk7XG4gICAgbGluZVZpZXcudGV4dCA9IGxpbmVWaWV3Lm5vZGUgPSBidWlsdC5wcmU7XG4gICAgaWYgKGJ1aWx0LmJnQ2xhc3MpIGxpbmVWaWV3LmJnQ2xhc3MgPSBidWlsdC5iZ0NsYXNzO1xuICAgIGlmIChidWlsdC50ZXh0Q2xhc3MpIGxpbmVWaWV3LnRleHRDbGFzcyA9IGJ1aWx0LnRleHRDbGFzcztcblxuICAgIHVwZGF0ZUxpbmVDbGFzc2VzKGxpbmVWaWV3KTtcbiAgICB1cGRhdGVMaW5lR3V0dGVyKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpO1xuICAgIGluc2VydExpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcyk7XG4gICAgcmV0dXJuIGxpbmVWaWV3Lm5vZGU7XG4gIH1cblxuICAvLyBBIGxpbmVWaWV3IG1heSBjb250YWluIG11bHRpcGxlIGxvZ2ljYWwgbGluZXMgKHdoZW4gbWVyZ2VkIGJ5XG4gIC8vIGNvbGxhcHNlZCBzcGFucykuIFRoZSB3aWRnZXRzIGZvciBhbGwgb2YgdGhlbSBuZWVkIHRvIGJlIGRyYXduLlxuICBmdW5jdGlvbiBpbnNlcnRMaW5lV2lkZ2V0cyhjbSwgbGluZVZpZXcsIGRpbXMpIHtcbiAgICBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZVZpZXcubGluZSwgbGluZVZpZXcsIGRpbXMsIHRydWUpO1xuICAgIGlmIChsaW5lVmlldy5yZXN0KSBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspXG4gICAgICBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZVZpZXcucmVzdFtpXSwgbGluZVZpZXcsIGRpbXMsIGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluc2VydExpbmVXaWRnZXRzRm9yKGNtLCBsaW5lLCBsaW5lVmlldywgZGltcywgYWxsb3dBYm92ZSkge1xuICAgIGlmICghbGluZS53aWRnZXRzKSByZXR1cm47XG4gICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldyk7XG4gICAgZm9yICh2YXIgaSA9IDAsIHdzID0gbGluZS53aWRnZXRzOyBpIDwgd3MubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciB3aWRnZXQgPSB3c1tpXSwgbm9kZSA9IGVsdChcImRpdlwiLCBbd2lkZ2V0Lm5vZGVdLCBcIkNvZGVNaXJyb3ItbGluZXdpZGdldFwiKTtcbiAgICAgIGlmICghd2lkZ2V0LmhhbmRsZU1vdXNlRXZlbnRzKSBub2RlLnNldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIiwgXCJ0cnVlXCIpO1xuICAgICAgcG9zaXRpb25MaW5lV2lkZ2V0KHdpZGdldCwgbm9kZSwgbGluZVZpZXcsIGRpbXMpO1xuICAgICAgY20uZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKG5vZGUpO1xuICAgICAgaWYgKGFsbG93QWJvdmUgJiYgd2lkZ2V0LmFib3ZlKVxuICAgICAgICB3cmFwLmluc2VydEJlZm9yZShub2RlLCBsaW5lVmlldy5ndXR0ZXIgfHwgbGluZVZpZXcudGV4dCk7XG4gICAgICBlbHNlXG4gICAgICAgIHdyYXAuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICBzaWduYWxMYXRlcih3aWRnZXQsIFwicmVkcmF3XCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc2l0aW9uTGluZVdpZGdldCh3aWRnZXQsIG5vZGUsIGxpbmVWaWV3LCBkaW1zKSB7XG4gICAgaWYgKHdpZGdldC5ub0hTY3JvbGwpIHtcbiAgICAgIChsaW5lVmlldy5hbGlnbmFibGUgfHwgKGxpbmVWaWV3LmFsaWduYWJsZSA9IFtdKSkucHVzaChub2RlKTtcbiAgICAgIHZhciB3aWR0aCA9IGRpbXMud3JhcHBlcldpZHRoO1xuICAgICAgbm9kZS5zdHlsZS5sZWZ0ID0gZGltcy5maXhlZFBvcyArIFwicHhcIjtcbiAgICAgIGlmICghd2lkZ2V0LmNvdmVyR3V0dGVyKSB7XG4gICAgICAgIHdpZHRoIC09IGRpbXMuZ3V0dGVyVG90YWxXaWR0aDtcbiAgICAgICAgbm9kZS5zdHlsZS5wYWRkaW5nTGVmdCA9IGRpbXMuZ3V0dGVyVG90YWxXaWR0aCArIFwicHhcIjtcbiAgICAgIH1cbiAgICAgIG5vZGUuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICB9XG4gICAgaWYgKHdpZGdldC5jb3Zlckd1dHRlcikge1xuICAgICAgbm9kZS5zdHlsZS56SW5kZXggPSA1O1xuICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgIGlmICghd2lkZ2V0Lm5vSFNjcm9sbCkgbm9kZS5zdHlsZS5tYXJnaW5MZWZ0ID0gLWRpbXMuZ3V0dGVyVG90YWxXaWR0aCArIFwicHhcIjtcbiAgICB9XG4gIH1cblxuICAvLyBQT1NJVElPTiBPQkpFQ1RcblxuICAvLyBBIFBvcyBpbnN0YW5jZSByZXByZXNlbnRzIGEgcG9zaXRpb24gd2l0aGluIHRoZSB0ZXh0LlxuICB2YXIgUG9zID0gQ29kZU1pcnJvci5Qb3MgPSBmdW5jdGlvbihsaW5lLCBjaCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb3MpKSByZXR1cm4gbmV3IFBvcyhsaW5lLCBjaCk7XG4gICAgdGhpcy5saW5lID0gbGluZTsgdGhpcy5jaCA9IGNoO1xuICB9O1xuXG4gIC8vIENvbXBhcmUgdHdvIHBvc2l0aW9ucywgcmV0dXJuIDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIGEgbmVnYXRpdmVcbiAgLy8gbnVtYmVyIHdoZW4gYSBpcyBsZXNzLCBhbmQgYSBwb3NpdGl2ZSBudW1iZXIgb3RoZXJ3aXNlLlxuICB2YXIgY21wID0gQ29kZU1pcnJvci5jbXBQb3MgPSBmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhLmxpbmUgLSBiLmxpbmUgfHwgYS5jaCAtIGIuY2g7IH07XG5cbiAgZnVuY3Rpb24gY29weVBvcyh4KSB7cmV0dXJuIFBvcyh4LmxpbmUsIHguY2gpO31cbiAgZnVuY3Rpb24gbWF4UG9zKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA8IDAgPyBiIDogYTsgfVxuICBmdW5jdGlvbiBtaW5Qb3MoYSwgYikgeyByZXR1cm4gY21wKGEsIGIpIDwgMCA/IGEgOiBiOyB9XG5cbiAgLy8gSU5QVVQgSEFORExJTkdcblxuICBmdW5jdGlvbiBlbnN1cmVGb2N1cyhjbSkge1xuICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCkgeyBjbS5kaXNwbGF5LmlucHV0LmZvY3VzKCk7IG9uRm9jdXMoY20pOyB9XG4gIH1cblxuICAvLyBUaGlzIHdpbGwgYmUgc2V0IHRvIGEge2xpbmVXaXNlOiBib29sLCB0ZXh0OiBbc3RyaW5nXX0gb2JqZWN0LCBzb1xuICAvLyB0aGF0LCB3aGVuIHBhc3RpbmcsIHdlIGtub3cgd2hhdCBraW5kIG9mIHNlbGVjdGlvbnMgdGhlIGNvcGllZFxuICAvLyB0ZXh0IHdhcyBtYWRlIG91dCBvZi5cbiAgdmFyIGxhc3RDb3BpZWQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGFwcGx5VGV4dElucHV0KGNtLCBpbnNlcnRlZCwgZGVsZXRlZCwgc2VsLCBvcmlnaW4pIHtcbiAgICB2YXIgZG9jID0gY20uZG9jO1xuICAgIGNtLmRpc3BsYXkuc2hpZnQgPSBmYWxzZTtcbiAgICBpZiAoIXNlbCkgc2VsID0gZG9jLnNlbDtcblxuICAgIHZhciBwYXN0ZSA9IGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgfHwgb3JpZ2luID09IFwicGFzdGVcIjtcbiAgICB2YXIgdGV4dExpbmVzID0gZG9jLnNwbGl0TGluZXMoaW5zZXJ0ZWQpLCBtdWx0aVBhc3RlID0gbnVsbFxuICAgIC8vIFdoZW4gcGFzaW5nIE4gbGluZXMgaW50byBOIHNlbGVjdGlvbnMsIGluc2VydCBvbmUgbGluZSBwZXIgc2VsZWN0aW9uXG4gICAgaWYgKHBhc3RlICYmIHNlbC5yYW5nZXMubGVuZ3RoID4gMSkge1xuICAgICAgaWYgKGxhc3RDb3BpZWQgJiYgbGFzdENvcGllZC50ZXh0LmpvaW4oXCJcXG5cIikgPT0gaW5zZXJ0ZWQpIHtcbiAgICAgICAgaWYgKHNlbC5yYW5nZXMubGVuZ3RoICUgbGFzdENvcGllZC50ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgbXVsdGlQYXN0ZSA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdENvcGllZC50ZXh0Lmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgbXVsdGlQYXN0ZS5wdXNoKGRvYy5zcGxpdExpbmVzKGxhc3RDb3BpZWQudGV4dFtpXSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRleHRMaW5lcy5sZW5ndGggPT0gc2VsLnJhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgbXVsdGlQYXN0ZSA9IG1hcCh0ZXh0TGluZXMsIGZ1bmN0aW9uKGwpIHsgcmV0dXJuIFtsXTsgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm9ybWFsIGJlaGF2aW9yIGlzIHRvIGluc2VydCB0aGUgbmV3IHRleHQgaW50byBldmVyeSBzZWxlY3Rpb25cbiAgICBmb3IgKHZhciBpID0gc2VsLnJhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIHJhbmdlID0gc2VsLnJhbmdlc1tpXTtcbiAgICAgIHZhciBmcm9tID0gcmFuZ2UuZnJvbSgpLCB0byA9IHJhbmdlLnRvKCk7XG4gICAgICBpZiAocmFuZ2UuZW1wdHkoKSkge1xuICAgICAgICBpZiAoZGVsZXRlZCAmJiBkZWxldGVkID4gMCkgLy8gSGFuZGxlIGRlbGV0aW9uXG4gICAgICAgICAgZnJvbSA9IFBvcyhmcm9tLmxpbmUsIGZyb20uY2ggLSBkZWxldGVkKTtcbiAgICAgICAgZWxzZSBpZiAoY20uc3RhdGUub3ZlcndyaXRlICYmICFwYXN0ZSkgLy8gSGFuZGxlIG92ZXJ3cml0ZVxuICAgICAgICAgIHRvID0gUG9zKHRvLmxpbmUsIE1hdGgubWluKGdldExpbmUoZG9jLCB0by5saW5lKS50ZXh0Lmxlbmd0aCwgdG8uY2ggKyBsc3QodGV4dExpbmVzKS5sZW5ndGgpKTtcbiAgICAgICAgZWxzZSBpZiAobGFzdENvcGllZCAmJiBsYXN0Q29waWVkLmxpbmVXaXNlICYmIGxhc3RDb3BpZWQudGV4dC5qb2luKFwiXFxuXCIpID09IGluc2VydGVkKVxuICAgICAgICAgIGZyb20gPSB0byA9IFBvcyhmcm9tLmxpbmUsIDApXG4gICAgICB9XG4gICAgICB2YXIgdXBkYXRlSW5wdXQgPSBjbS5jdXJPcC51cGRhdGVJbnB1dDtcbiAgICAgIHZhciBjaGFuZ2VFdmVudCA9IHtmcm9tOiBmcm9tLCB0bzogdG8sIHRleHQ6IG11bHRpUGFzdGUgPyBtdWx0aVBhc3RlW2kgJSBtdWx0aVBhc3RlLmxlbmd0aF0gOiB0ZXh0TGluZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBvcmlnaW4gfHwgKHBhc3RlID8gXCJwYXN0ZVwiIDogY20uc3RhdGUuY3V0SW5jb21pbmcgPyBcImN1dFwiIDogXCIraW5wdXRcIil9O1xuICAgICAgbWFrZUNoYW5nZShjbS5kb2MsIGNoYW5nZUV2ZW50KTtcbiAgICAgIHNpZ25hbExhdGVyKGNtLCBcImlucHV0UmVhZFwiLCBjbSwgY2hhbmdlRXZlbnQpO1xuICAgIH1cbiAgICBpZiAoaW5zZXJ0ZWQgJiYgIXBhc3RlKVxuICAgICAgdHJpZ2dlckVsZWN0cmljKGNtLCBpbnNlcnRlZCk7XG5cbiAgICBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKTtcbiAgICBjbS5jdXJPcC51cGRhdGVJbnB1dCA9IHVwZGF0ZUlucHV0O1xuICAgIGNtLmN1ck9wLnR5cGluZyA9IHRydWU7XG4gICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9IGNtLnN0YXRlLmN1dEluY29taW5nID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQYXN0ZShlLCBjbSkge1xuICAgIHZhciBwYXN0ZWQgPSBlLmNsaXBib2FyZERhdGEgJiYgZS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO1xuICAgIGlmIChwYXN0ZWQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY20uaXNSZWFkT25seSgpICYmICFjbS5vcHRpb25zLmRpc2FibGVJbnB1dClcbiAgICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7IGFwcGx5VGV4dElucHV0KGNtLCBwYXN0ZWQsIDAsIG51bGwsIFwicGFzdGVcIik7IH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJpZ2dlckVsZWN0cmljKGNtLCBpbnNlcnRlZCkge1xuICAgIC8vIFdoZW4gYW4gJ2VsZWN0cmljJyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQsIGltbWVkaWF0ZWx5IHRyaWdnZXIgYSByZWluZGVudFxuICAgIGlmICghY20ub3B0aW9ucy5lbGVjdHJpY0NoYXJzIHx8ICFjbS5vcHRpb25zLnNtYXJ0SW5kZW50KSByZXR1cm47XG4gICAgdmFyIHNlbCA9IGNtLmRvYy5zZWw7XG5cbiAgICBmb3IgKHZhciBpID0gc2VsLnJhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIHJhbmdlID0gc2VsLnJhbmdlc1tpXTtcbiAgICAgIGlmIChyYW5nZS5oZWFkLmNoID4gMTAwIHx8IChpICYmIHNlbC5yYW5nZXNbaSAtIDFdLmhlYWQubGluZSA9PSByYW5nZS5oZWFkLmxpbmUpKSBjb250aW51ZTtcbiAgICAgIHZhciBtb2RlID0gY20uZ2V0TW9kZUF0KHJhbmdlLmhlYWQpO1xuICAgICAgdmFyIGluZGVudGVkID0gZmFsc2U7XG4gICAgICBpZiAobW9kZS5lbGVjdHJpY0NoYXJzKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbW9kZS5lbGVjdHJpY0NoYXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgIGlmIChpbnNlcnRlZC5pbmRleE9mKG1vZGUuZWxlY3RyaWNDaGFycy5jaGFyQXQoaikpID4gLTEpIHtcbiAgICAgICAgICAgIGluZGVudGVkID0gaW5kZW50TGluZShjbSwgcmFuZ2UuaGVhZC5saW5lLCBcInNtYXJ0XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChtb2RlLmVsZWN0cmljSW5wdXQpIHtcbiAgICAgICAgaWYgKG1vZGUuZWxlY3RyaWNJbnB1dC50ZXN0KGdldExpbmUoY20uZG9jLCByYW5nZS5oZWFkLmxpbmUpLnRleHQuc2xpY2UoMCwgcmFuZ2UuaGVhZC5jaCkpKVxuICAgICAgICAgIGluZGVudGVkID0gaW5kZW50TGluZShjbSwgcmFuZ2UuaGVhZC5saW5lLCBcInNtYXJ0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGluZGVudGVkKSBzaWduYWxMYXRlcihjbSwgXCJlbGVjdHJpY0lucHV0XCIsIGNtLCByYW5nZS5oZWFkLmxpbmUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvcHlhYmxlUmFuZ2VzKGNtKSB7XG4gICAgdmFyIHRleHQgPSBbXSwgcmFuZ2VzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5kb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpbmUgPSBjbS5kb2Muc2VsLnJhbmdlc1tpXS5oZWFkLmxpbmU7XG4gICAgICB2YXIgbGluZVJhbmdlID0ge2FuY2hvcjogUG9zKGxpbmUsIDApLCBoZWFkOiBQb3MobGluZSArIDEsIDApfTtcbiAgICAgIHJhbmdlcy5wdXNoKGxpbmVSYW5nZSk7XG4gICAgICB0ZXh0LnB1c2goY20uZ2V0UmFuZ2UobGluZVJhbmdlLmFuY2hvciwgbGluZVJhbmdlLmhlYWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHt0ZXh0OiB0ZXh0LCByYW5nZXM6IHJhbmdlc307XG4gIH1cblxuICBmdW5jdGlvbiBkaXNhYmxlQnJvd3Nlck1hZ2ljKGZpZWxkKSB7XG4gICAgZmllbGQuc2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIiwgXCJvZmZcIik7XG4gICAgZmllbGQuc2V0QXR0cmlidXRlKFwiYXV0b2NhcGl0YWxpemVcIiwgXCJvZmZcIik7XG4gICAgZmllbGQuc2V0QXR0cmlidXRlKFwic3BlbGxjaGVja1wiLCBcImZhbHNlXCIpO1xuICB9XG5cbiAgLy8gVEVYVEFSRUEgSU5QVVQgU1RZTEVcblxuICBmdW5jdGlvbiBUZXh0YXJlYUlucHV0KGNtKSB7XG4gICAgdGhpcy5jbSA9IGNtO1xuICAgIC8vIFNlZSBpbnB1dC5wb2xsIGFuZCBpbnB1dC5yZXNldFxuICAgIHRoaXMucHJldklucHV0ID0gXCJcIjtcblxuICAgIC8vIEZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB3ZSBleHBlY3QgaW5wdXQgdG8gYXBwZWFyIHJlYWwgc29vblxuICAgIC8vIG5vdyAoYWZ0ZXIgc29tZSBldmVudCBsaWtlICdrZXlwcmVzcycgb3IgJ2lucHV0JykgYW5kIGFyZVxuICAgIC8vIHBvbGxpbmcgaW50ZW5zaXZlbHkuXG4gICAgdGhpcy5wb2xsaW5nRmFzdCA9IGZhbHNlO1xuICAgIC8vIFNlbGYtcmVzZXR0aW5nIHRpbWVvdXQgZm9yIHRoZSBwb2xsZXJcbiAgICB0aGlzLnBvbGxpbmcgPSBuZXcgRGVsYXllZCgpO1xuICAgIC8vIFRyYWNrcyB3aGVuIGlucHV0LnJlc2V0IGhhcyBwdW50ZWQgdG8ganVzdCBwdXR0aW5nIGEgc2hvcnRcbiAgICAvLyBzdHJpbmcgaW50byB0aGUgdGV4dGFyZWEgaW5zdGVhZCBvZiB0aGUgZnVsbCBzZWxlY3Rpb24uXG4gICAgdGhpcy5pbmFjY3VyYXRlU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgLy8gVXNlZCB0byB3b3JrIGFyb3VuZCBJRSBpc3N1ZSB3aXRoIHNlbGVjdGlvbiBiZWluZyBmb3Jnb3R0ZW4gd2hlbiBmb2N1cyBtb3ZlcyBhd2F5IGZyb20gdGV4dGFyZWFcbiAgICB0aGlzLmhhc1NlbGVjdGlvbiA9IGZhbHNlO1xuICAgIHRoaXMuY29tcG9zaW5nID0gbnVsbDtcbiAgfTtcblxuICBmdW5jdGlvbiBoaWRkZW5UZXh0YXJlYSgpIHtcbiAgICB2YXIgdGUgPSBlbHQoXCJ0ZXh0YXJlYVwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAtMWVtOyBwYWRkaW5nOiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFlbTsgb3V0bGluZTogbm9uZVwiKTtcbiAgICB2YXIgZGl2ID0gZWx0KFwiZGl2XCIsIFt0ZV0sIG51bGwsIFwib3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogM3B4OyBoZWlnaHQ6IDBweDtcIik7XG4gICAgLy8gVGhlIHRleHRhcmVhIGlzIGtlcHQgcG9zaXRpb25lZCBuZWFyIHRoZSBjdXJzb3IgdG8gcHJldmVudCB0aGVcbiAgICAvLyBmYWN0IHRoYXQgaXQnbGwgYmUgc2Nyb2xsZWQgaW50byB2aWV3IG9uIGlucHV0IGZyb20gc2Nyb2xsaW5nXG4gICAgLy8gb3VyIGZha2UgY3Vyc29yIG91dCBvZiB2aWV3LiBPbiB3ZWJraXQsIHdoZW4gd3JhcD1vZmYsIHBhc3RlIGlzXG4gICAgLy8gdmVyeSBzbG93LiBTbyBtYWtlIHRoZSBhcmVhIHdpZGUgaW5zdGVhZC5cbiAgICBpZiAod2Via2l0KSB0ZS5zdHlsZS53aWR0aCA9IFwiMTAwMHB4XCI7XG4gICAgZWxzZSB0ZS5zZXRBdHRyaWJ1dGUoXCJ3cmFwXCIsIFwib2ZmXCIpO1xuICAgIC8vIElmIGJvcmRlcjogMDsgLS0gaU9TIGZhaWxzIHRvIG9wZW4ga2V5Ym9hcmQgKGlzc3VlICMxMjg3KVxuICAgIGlmIChpb3MpIHRlLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCI7XG4gICAgZGlzYWJsZUJyb3dzZXJNYWdpYyh0ZSk7XG4gICAgcmV0dXJuIGRpdjtcbiAgfVxuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlID0gY29weU9iaih7XG4gICAgaW5pdDogZnVuY3Rpb24oZGlzcGxheSkge1xuICAgICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSB0aGlzLmNtO1xuXG4gICAgICAvLyBXcmFwcyBhbmQgaGlkZXMgaW5wdXQgdGV4dGFyZWFcbiAgICAgIHZhciBkaXYgPSB0aGlzLndyYXBwZXIgPSBoaWRkZW5UZXh0YXJlYSgpO1xuICAgICAgLy8gVGhlIHNlbWloaWRkZW4gdGV4dGFyZWEgdGhhdCBpcyBmb2N1c2VkIHdoZW4gdGhlIGVkaXRvciBpc1xuICAgICAgLy8gZm9jdXNlZCwgYW5kIHJlY2VpdmVzIGlucHV0LlxuICAgICAgdmFyIHRlID0gdGhpcy50ZXh0YXJlYSA9IGRpdi5maXJzdENoaWxkO1xuICAgICAgZGlzcGxheS53cmFwcGVyLmluc2VydEJlZm9yZShkaXYsIGRpc3BsYXkud3JhcHBlci5maXJzdENoaWxkKTtcblxuICAgICAgLy8gTmVlZGVkIHRvIGhpZGUgYmlnIGJsdWUgYmxpbmtpbmcgY3Vyc29yIG9uIE1vYmlsZSBTYWZhcmkgKGRvZXNuJ3Qgc2VlbSB0byB3b3JrIGluIGlPUyA4IGFueW1vcmUpXG4gICAgICBpZiAoaW9zKSB0ZS5zdHlsZS53aWR0aCA9IFwiMHB4XCI7XG5cbiAgICAgIG9uKHRlLCBcImlucHV0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5ICYmIGlucHV0Lmhhc1NlbGVjdGlvbikgaW5wdXQuaGFzU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgaW5wdXQucG9sbCgpO1xuICAgICAgfSk7XG5cbiAgICAgIG9uKHRlLCBcInBhc3RlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBoYW5kbGVQYXN0ZShlLCBjbSkpIHJldHVyblxuXG4gICAgICAgIGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgPSB0cnVlO1xuICAgICAgICBpbnB1dC5mYXN0UG9sbCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVDb3B5Q3V0KGUpIHtcbiAgICAgICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSkgcmV0dXJuXG4gICAgICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7XG4gICAgICAgICAgbGFzdENvcGllZCA9IHtsaW5lV2lzZTogZmFsc2UsIHRleHQ6IGNtLmdldFNlbGVjdGlvbnMoKX07XG4gICAgICAgICAgaWYgKGlucHV0LmluYWNjdXJhdGVTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGlucHV0LnByZXZJbnB1dCA9IFwiXCI7XG4gICAgICAgICAgICBpbnB1dC5pbmFjY3VyYXRlU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB0ZS52YWx1ZSA9IGxhc3RDb3BpZWQudGV4dC5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgICAgc2VsZWN0SW5wdXQodGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghY20ub3B0aW9ucy5saW5lV2lzZUNvcHlDdXQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJhbmdlcyA9IGNvcHlhYmxlUmFuZ2VzKGNtKTtcbiAgICAgICAgICBsYXN0Q29waWVkID0ge2xpbmVXaXNlOiB0cnVlLCB0ZXh0OiByYW5nZXMudGV4dH07XG4gICAgICAgICAgaWYgKGUudHlwZSA9PSBcImN1dFwiKSB7XG4gICAgICAgICAgICBjbS5zZXRTZWxlY3Rpb25zKHJhbmdlcy5yYW5nZXMsIG51bGwsIHNlbF9kb250U2Nyb2xsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQucHJldklucHV0ID0gXCJcIjtcbiAgICAgICAgICAgIHRlLnZhbHVlID0gcmFuZ2VzLnRleHQuam9pbihcIlxcblwiKTtcbiAgICAgICAgICAgIHNlbGVjdElucHV0KHRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUudHlwZSA9PSBcImN1dFwiKSBjbS5zdGF0ZS5jdXRJbmNvbWluZyA9IHRydWU7XG4gICAgICB9XG4gICAgICBvbih0ZSwgXCJjdXRcIiwgcHJlcGFyZUNvcHlDdXQpO1xuICAgICAgb24odGUsIFwiY29weVwiLCBwcmVwYXJlQ29weUN1dCk7XG5cbiAgICAgIG9uKGRpc3BsYXkuc2Nyb2xsZXIsIFwicGFzdGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZXZlbnRJbldpZGdldChkaXNwbGF5LCBlKSB8fCBzaWduYWxET01FdmVudChjbSwgZSkpIHJldHVybjtcbiAgICAgICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9IHRydWU7XG4gICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJldmVudCBub3JtYWwgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IgKHdlIGhhbmRsZSBvdXIgb3duKVxuICAgICAgb24oZGlzcGxheS5saW5lU3BhY2UsIFwic2VsZWN0c3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIWV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkpIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICB9KTtcblxuICAgICAgb24odGUsIFwiY29tcG9zaXRpb25zdGFydFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKTtcbiAgICAgICAgaWYgKGlucHV0LmNvbXBvc2luZykgaW5wdXQuY29tcG9zaW5nLnJhbmdlLmNsZWFyKClcbiAgICAgICAgaW5wdXQuY29tcG9zaW5nID0ge1xuICAgICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICByYW5nZTogY20ubWFya1RleHQoc3RhcnQsIGNtLmdldEN1cnNvcihcInRvXCIpLCB7Y2xhc3NOYW1lOiBcIkNvZGVNaXJyb3ItY29tcG9zaW5nXCJ9KVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICBvbih0ZSwgXCJjb21wb3NpdGlvbmVuZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGlucHV0LmNvbXBvc2luZykge1xuICAgICAgICAgIGlucHV0LnBvbGwoKTtcbiAgICAgICAgICBpbnB1dC5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKTtcbiAgICAgICAgICBpbnB1dC5jb21wb3NpbmcgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcHJlcGFyZVNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBSZWRyYXcgdGhlIHNlbGVjdGlvbiBhbmQvb3IgY3Vyc29yXG4gICAgICB2YXIgY20gPSB0aGlzLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuICAgICAgdmFyIHJlc3VsdCA9IHByZXBhcmVTZWxlY3Rpb24oY20pO1xuXG4gICAgICAvLyBNb3ZlIHRoZSBoaWRkZW4gdGV4dGFyZWEgbmVhciB0aGUgY3Vyc29yIHRvIHByZXZlbnQgc2Nyb2xsaW5nIGFydGlmYWN0c1xuICAgICAgaWYgKGNtLm9wdGlvbnMubW92ZUlucHV0V2l0aEN1cnNvcikge1xuICAgICAgICB2YXIgaGVhZFBvcyA9IGN1cnNvckNvb3JkcyhjbSwgZG9jLnNlbC5wcmltYXJ5KCkuaGVhZCwgXCJkaXZcIik7XG4gICAgICAgIHZhciB3cmFwT2ZmID0gZGlzcGxheS53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBsaW5lT2ZmID0gZGlzcGxheS5saW5lRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXN1bHQudGVUb3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0IC0gMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRQb3MudG9wICsgbGluZU9mZi50b3AgLSB3cmFwT2ZmLnRvcCkpO1xuICAgICAgICByZXN1bHQudGVMZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoIC0gMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkUG9zLmxlZnQgKyBsaW5lT2ZmLmxlZnQgLSB3cmFwT2ZmLmxlZnQpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgc2hvd1NlbGVjdGlvbjogZnVuY3Rpb24oZHJhd24pIHtcbiAgICAgIHZhciBjbSA9IHRoaXMuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5jdXJzb3JEaXYsIGRyYXduLmN1cnNvcnMpO1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5zZWxlY3Rpb25EaXYsIGRyYXduLnNlbGVjdGlvbik7XG4gICAgICBpZiAoZHJhd24udGVUb3AgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gZHJhd24udGVUb3AgKyBcInB4XCI7XG4gICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS5sZWZ0ID0gZHJhd24udGVMZWZ0ICsgXCJweFwiO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBSZXNldCB0aGUgaW5wdXQgdG8gY29ycmVzcG9uZCB0byB0aGUgc2VsZWN0aW9uIChvciB0byBiZSBlbXB0eSxcbiAgICAvLyB3aGVuIG5vdCB0eXBpbmcgYW5kIG5vdGhpbmcgaXMgc2VsZWN0ZWQpXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHR5cGluZykge1xuICAgICAgaWYgKHRoaXMuY29udGV4dE1lbnVQZW5kaW5nKSByZXR1cm47XG4gICAgICB2YXIgbWluaW1hbCwgc2VsZWN0ZWQsIGNtID0gdGhpcy5jbSwgZG9jID0gY20uZG9jO1xuICAgICAgaWYgKGNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHtcbiAgICAgICAgdGhpcy5wcmV2SW5wdXQgPSBcIlwiO1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgICAgbWluaW1hbCA9IGhhc0NvcHlFdmVudCAmJlxuICAgICAgICAgIChyYW5nZS50bygpLmxpbmUgLSByYW5nZS5mcm9tKCkubGluZSA+IDEwMCB8fCAoc2VsZWN0ZWQgPSBjbS5nZXRTZWxlY3Rpb24oKSkubGVuZ3RoID4gMTAwMCk7XG4gICAgICAgIHZhciBjb250ZW50ID0gbWluaW1hbCA/IFwiLVwiIDogc2VsZWN0ZWQgfHwgY20uZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMudGV4dGFyZWEudmFsdWUgPSBjb250ZW50O1xuICAgICAgICBpZiAoY20uc3RhdGUuZm9jdXNlZCkgc2VsZWN0SW5wdXQodGhpcy50ZXh0YXJlYSk7XG4gICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkpIHRoaXMuaGFzU2VsZWN0aW9uID0gY29udGVudDtcbiAgICAgIH0gZWxzZSBpZiAoIXR5cGluZykge1xuICAgICAgICB0aGlzLnByZXZJbnB1dCA9IHRoaXMudGV4dGFyZWEudmFsdWUgPSBcIlwiO1xuICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KSB0aGlzLmhhc1NlbGVjdGlvbiA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmluYWNjdXJhdGVTZWxlY3Rpb24gPSBtaW5pbWFsO1xuICAgIH0sXG5cbiAgICBnZXRGaWVsZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnRleHRhcmVhOyB9LFxuXG4gICAgc3VwcG9ydHNUb3VjaDogZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfSxcblxuICAgIGZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmNtLm9wdGlvbnMucmVhZE9ubHkgIT0gXCJub2N1cnNvclwiICYmICghbW9iaWxlIHx8IGFjdGl2ZUVsdCgpICE9IHRoaXMudGV4dGFyZWEpKSB7XG4gICAgICAgIHRyeSB7IHRoaXMudGV4dGFyZWEuZm9jdXMoKTsgfVxuICAgICAgICBjYXRjaCAoZSkge30gLy8gSUU4IHdpbGwgdGhyb3cgaWYgdGhlIHRleHRhcmVhIGlzIGRpc3BsYXk6IG5vbmUgb3Igbm90IGluIERPTVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBibHVyOiBmdW5jdGlvbigpIHsgdGhpcy50ZXh0YXJlYS5ibHVyKCk7IH0sXG5cbiAgICByZXNldFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMud3JhcHBlci5zdHlsZS50b3AgPSB0aGlzLndyYXBwZXIuc3R5bGUubGVmdCA9IDA7XG4gICAgfSxcblxuICAgIHJlY2VpdmVkRm9jdXM6IGZ1bmN0aW9uKCkgeyB0aGlzLnNsb3dQb2xsKCk7IH0sXG5cbiAgICAvLyBQb2xsIGZvciBpbnB1dCBjaGFuZ2VzLCB1c2luZyB0aGUgbm9ybWFsIHJhdGUgb2YgcG9sbGluZy4gVGhpc1xuICAgIC8vIHJ1bnMgYXMgbG9uZyBhcyB0aGUgZWRpdG9yIGlzIGZvY3VzZWQuXG4gICAgc2xvd1BvbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlucHV0ID0gdGhpcztcbiAgICAgIGlmIChpbnB1dC5wb2xsaW5nRmFzdCkgcmV0dXJuO1xuICAgICAgaW5wdXQucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LnBvbGwoKTtcbiAgICAgICAgaWYgKGlucHV0LmNtLnN0YXRlLmZvY3VzZWQpIGlucHV0LnNsb3dQb2xsKCk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8gV2hlbiBhbiBldmVudCBoYXMganVzdCBjb21lIGluIHRoYXQgaXMgbGlrZWx5IHRvIGFkZCBvciBjaGFuZ2VcbiAgICAvLyBzb21ldGhpbmcgaW4gdGhlIGlucHV0IHRleHRhcmVhLCB3ZSBwb2xsIGZhc3RlciwgdG8gZW5zdXJlIHRoYXRcbiAgICAvLyB0aGUgY2hhbmdlIGFwcGVhcnMgb24gdGhlIHNjcmVlbiBxdWlja2x5LlxuICAgIGZhc3RQb2xsOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtaXNzZWQgPSBmYWxzZSwgaW5wdXQgPSB0aGlzO1xuICAgICAgaW5wdXQucG9sbGluZ0Zhc3QgPSB0cnVlO1xuICAgICAgZnVuY3Rpb24gcCgpIHtcbiAgICAgICAgdmFyIGNoYW5nZWQgPSBpbnB1dC5wb2xsKCk7XG4gICAgICAgIGlmICghY2hhbmdlZCAmJiAhbWlzc2VkKSB7bWlzc2VkID0gdHJ1ZTsgaW5wdXQucG9sbGluZy5zZXQoNjAsIHApO31cbiAgICAgICAgZWxzZSB7aW5wdXQucG9sbGluZ0Zhc3QgPSBmYWxzZTsgaW5wdXQuc2xvd1BvbGwoKTt9XG4gICAgICB9XG4gICAgICBpbnB1dC5wb2xsaW5nLnNldCgyMCwgcCk7XG4gICAgfSxcblxuICAgIC8vIFJlYWQgaW5wdXQgZnJvbSB0aGUgdGV4dGFyZWEsIGFuZCB1cGRhdGUgdGhlIGRvY3VtZW50IHRvIG1hdGNoLlxuICAgIC8vIFdoZW4gc29tZXRoaW5nIGlzIHNlbGVjdGVkLCBpdCBpcyBwcmVzZW50IGluIHRoZSB0ZXh0YXJlYSwgYW5kXG4gICAgLy8gc2VsZWN0ZWQgKHVubGVzcyBpdCBpcyBodWdlLCBpbiB3aGljaCBjYXNlIGEgcGxhY2Vob2xkZXIgaXNcbiAgICAvLyB1c2VkKS4gV2hlbiBub3RoaW5nIGlzIHNlbGVjdGVkLCB0aGUgY3Vyc29yIHNpdHMgYWZ0ZXIgcHJldmlvdXNseVxuICAgIC8vIHNlZW4gdGV4dCAoY2FuIGJlIGVtcHR5KSwgd2hpY2ggaXMgc3RvcmVkIGluIHByZXZJbnB1dCAod2UgbXVzdFxuICAgIC8vIG5vdCByZXNldCB0aGUgdGV4dGFyZWEgd2hlbiB0eXBpbmcsIGJlY2F1c2UgdGhhdCBicmVha3MgSU1FKS5cbiAgICBwb2xsOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMuY20sIGlucHV0ID0gdGhpcy50ZXh0YXJlYSwgcHJldklucHV0ID0gdGhpcy5wcmV2SW5wdXQ7XG4gICAgICAvLyBTaW5jZSB0aGlzIGlzIGNhbGxlZCBhICpsb3QqLCB0cnkgdG8gYmFpbCBvdXQgYXMgY2hlYXBseSBhc1xuICAgICAgLy8gcG9zc2libGUgd2hlbiBpdCBpcyBjbGVhciB0aGF0IG5vdGhpbmcgaGFwcGVuZWQuIGhhc1NlbGVjdGlvblxuICAgICAgLy8gd2lsbCBiZSB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGEgbG90IG9mIHRleHQgaW4gdGhlIHRleHRhcmVhLFxuICAgICAgLy8gaW4gd2hpY2ggY2FzZSByZWFkaW5nIGl0cyB2YWx1ZSB3b3VsZCBiZSBleHBlbnNpdmUuXG4gICAgICBpZiAodGhpcy5jb250ZXh0TWVudVBlbmRpbmcgfHwgIWNtLnN0YXRlLmZvY3VzZWQgfHxcbiAgICAgICAgICAoaGFzU2VsZWN0aW9uKGlucHV0KSAmJiAhcHJldklucHV0ICYmICF0aGlzLmNvbXBvc2luZykgfHxcbiAgICAgICAgICBjbS5pc1JlYWRPbmx5KCkgfHwgY20ub3B0aW9ucy5kaXNhYmxlSW5wdXQgfHwgY20uc3RhdGUua2V5U2VxKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHZhciB0ZXh0ID0gaW5wdXQudmFsdWU7XG4gICAgICAvLyBJZiBub3RoaW5nIGNoYW5nZWQsIGJhaWwuXG4gICAgICBpZiAodGV4dCA9PSBwcmV2SW5wdXQgJiYgIWNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIFdvcmsgYXJvdW5kIG5vbnNlbnNpY2FsIHNlbGVjdGlvbiByZXNldHRpbmcgaW4gSUU5LzEwLCBhbmRcbiAgICAgIC8vIGluZXhwbGljYWJsZSBhcHBlYXJhbmNlIG9mIHByaXZhdGUgYXJlYSB1bmljb2RlIGNoYXJhY3RlcnMgb25cbiAgICAgIC8vIHNvbWUga2V5IGNvbWJvcyBpbiBNYWMgKCMyNjg5KS5cbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkgJiYgdGhpcy5oYXNTZWxlY3Rpb24gPT09IHRleHQgfHxcbiAgICAgICAgICBtYWMgJiYgL1tcXHVmNzAwLVxcdWY3ZmZdLy50ZXN0KHRleHQpKSB7XG4gICAgICAgIGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY20uZG9jLnNlbCA9PSBjbS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51KSB7XG4gICAgICAgIHZhciBmaXJzdCA9IHRleHQuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgaWYgKGZpcnN0ID09IDB4MjAwYiAmJiAhcHJldklucHV0KSBwcmV2SW5wdXQgPSBcIlxcdTIwMGJcIjtcbiAgICAgICAgaWYgKGZpcnN0ID09IDB4MjFkYSkgeyB0aGlzLnJlc2V0KCk7IHJldHVybiB0aGlzLmNtLmV4ZWNDb21tYW5kKFwidW5kb1wiKTsgfVxuICAgICAgfVxuICAgICAgLy8gRmluZCB0aGUgcGFydCBvZiB0aGUgaW5wdXQgdGhhdCBpcyBhY3R1YWxseSBuZXdcbiAgICAgIHZhciBzYW1lID0gMCwgbCA9IE1hdGgubWluKHByZXZJbnB1dC5sZW5ndGgsIHRleHQubGVuZ3RoKTtcbiAgICAgIHdoaWxlIChzYW1lIDwgbCAmJiBwcmV2SW5wdXQuY2hhckNvZGVBdChzYW1lKSA9PSB0ZXh0LmNoYXJDb2RlQXQoc2FtZSkpICsrc2FtZTtcblxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGFwcGx5VGV4dElucHV0KGNtLCB0ZXh0LnNsaWNlKHNhbWUpLCBwcmV2SW5wdXQubGVuZ3RoIC0gc2FtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgc2VsZi5jb21wb3NpbmcgPyBcIipjb21wb3NlXCIgOiBudWxsKTtcblxuICAgICAgICAvLyBEb24ndCBsZWF2ZSBsb25nIHRleHQgaW4gdGhlIHRleHRhcmVhLCBzaW5jZSBpdCBtYWtlcyBmdXJ0aGVyIHBvbGxpbmcgc2xvd1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAxMDAwIHx8IHRleHQuaW5kZXhPZihcIlxcblwiKSA+IC0xKSBpbnB1dC52YWx1ZSA9IHNlbGYucHJldklucHV0ID0gXCJcIjtcbiAgICAgICAgZWxzZSBzZWxmLnByZXZJbnB1dCA9IHRleHQ7XG5cbiAgICAgICAgaWYgKHNlbGYuY29tcG9zaW5nKSB7XG4gICAgICAgICAgc2VsZi5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKTtcbiAgICAgICAgICBzZWxmLmNvbXBvc2luZy5yYW5nZSA9IGNtLm1hcmtUZXh0KHNlbGYuY29tcG9zaW5nLnN0YXJ0LCBjbS5nZXRDdXJzb3IoXCJ0b1wiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjbGFzc05hbWU6IFwiQ29kZU1pcnJvci1jb21wb3NpbmdcIn0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBlbnN1cmVQb2xsZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucG9sbGluZ0Zhc3QgJiYgdGhpcy5wb2xsKCkpIHRoaXMucG9sbGluZ0Zhc3QgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgb25LZXlQcmVzczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KSB0aGlzLmhhc1NlbGVjdGlvbiA9IG51bGw7XG4gICAgICB0aGlzLmZhc3RQb2xsKCk7XG4gICAgfSxcblxuICAgIG9uQ29udGV4dE1lbnU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXMsIGNtID0gaW5wdXQuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCB0ZSA9IGlucHV0LnRleHRhcmVhO1xuICAgICAgdmFyIHBvcyA9IHBvc0Zyb21Nb3VzZShjbSwgZSksIHNjcm9sbFBvcyA9IGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wO1xuICAgICAgaWYgKCFwb3MgfHwgcHJlc3RvKSByZXR1cm47IC8vIE9wZXJhIGlzIGRpZmZpY3VsdC5cblxuICAgICAgLy8gUmVzZXQgdGhlIGN1cnJlbnQgdGV4dCBzZWxlY3Rpb24gb25seSBpZiB0aGUgY2xpY2sgaXMgZG9uZSBvdXRzaWRlIG9mIHRoZSBzZWxlY3Rpb25cbiAgICAgIC8vIGFuZCAncmVzZXRTZWxlY3Rpb25PbkNvbnRleHRNZW51JyBvcHRpb24gaXMgdHJ1ZS5cbiAgICAgIHZhciByZXNldCA9IGNtLm9wdGlvbnMucmVzZXRTZWxlY3Rpb25PbkNvbnRleHRNZW51O1xuICAgICAgaWYgKHJlc2V0ICYmIGNtLmRvYy5zZWwuY29udGFpbnMocG9zKSA9PSAtMSlcbiAgICAgICAgb3BlcmF0aW9uKGNtLCBzZXRTZWxlY3Rpb24pKGNtLmRvYywgc2ltcGxlU2VsZWN0aW9uKHBvcyksIHNlbF9kb250U2Nyb2xsKTtcblxuICAgICAgdmFyIG9sZENTUyA9IHRlLnN0eWxlLmNzc1RleHQsIG9sZFdyYXBwZXJDU1MgPSBpbnB1dC53cmFwcGVyLnN0eWxlLmNzc1RleHQ7XG4gICAgICBpbnB1dC53cmFwcGVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBhYnNvbHV0ZVwiXG4gICAgICB2YXIgd3JhcHBlckJveCA9IGlucHV0LndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHRlLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDMwcHg7IGhlaWdodDogMzBweDsgdG9wOiBcIiArIChlLmNsaWVudFkgLSB3cmFwcGVyQm94LnRvcCAtIDUpICtcbiAgICAgICAgXCJweDsgbGVmdDogXCIgKyAoZS5jbGllbnRYIC0gd3JhcHBlckJveC5sZWZ0IC0gNSkgKyBcInB4OyB6LWluZGV4OiAxMDAwOyBiYWNrZ3JvdW5kOiBcIiArXG4gICAgICAgIChpZSA/IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAuMDUpXCIgOiBcInRyYW5zcGFyZW50XCIpICtcbiAgICAgICAgXCI7IG91dGxpbmU6IG5vbmU7IGJvcmRlci13aWR0aDogMDsgb3V0bGluZTogbm9uZTsgb3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogLjA1OyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NSk7XCI7XG4gICAgICBpZiAod2Via2l0KSB2YXIgb2xkU2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZOyAvLyBXb3JrIGFyb3VuZCBDaHJvbWUgaXNzdWUgKCMyNzEyKVxuICAgICAgZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICAgICAgaWYgKHdlYmtpdCkgd2luZG93LnNjcm9sbFRvKG51bGwsIG9sZFNjcm9sbFkpO1xuICAgICAgZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgLy8gQWRkcyBcIlNlbGVjdCBhbGxcIiB0byBjb250ZXh0IG1lbnUgaW4gRkZcbiAgICAgIGlmICghY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkgdGUudmFsdWUgPSBpbnB1dC5wcmV2SW5wdXQgPSBcIiBcIjtcbiAgICAgIGlucHV0LmNvbnRleHRNZW51UGVuZGluZyA9IHRydWU7XG4gICAgICBkaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ID0gY20uZG9jLnNlbDtcbiAgICAgIGNsZWFyVGltZW91dChkaXNwbGF5LmRldGVjdGluZ1NlbGVjdEFsbCk7XG5cbiAgICAgIC8vIFNlbGVjdC1hbGwgd2lsbCBiZSBncmV5ZWQgb3V0IGlmIHRoZXJlJ3Mgbm90aGluZyB0byBzZWxlY3QsIHNvXG4gICAgICAvLyB0aGlzIGFkZHMgYSB6ZXJvLXdpZHRoIHNwYWNlIHNvIHRoYXQgd2UgY2FuIGxhdGVyIGNoZWNrIHdoZXRoZXJcbiAgICAgIC8vIGl0IGdvdCBzZWxlY3RlZC5cbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVTZWxlY3RBbGxIYWNrKCkge1xuICAgICAgICBpZiAodGUuc2VsZWN0aW9uU3RhcnQgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGNtLnNvbWV0aGluZ1NlbGVjdGVkKCk7XG4gICAgICAgICAgdmFyIGV4dHZhbCA9IFwiXFx1MjAwYlwiICsgKHNlbGVjdGVkID8gdGUudmFsdWUgOiBcIlwiKTtcbiAgICAgICAgICB0ZS52YWx1ZSA9IFwiXFx1MjFkYVwiOyAvLyBVc2VkIHRvIGNhdGNoIGNvbnRleHQtbWVudSB1bmRvXG4gICAgICAgICAgdGUudmFsdWUgPSBleHR2YWw7XG4gICAgICAgICAgaW5wdXQucHJldklucHV0ID0gc2VsZWN0ZWQgPyBcIlwiIDogXCJcXHUyMDBiXCI7XG4gICAgICAgICAgdGUuc2VsZWN0aW9uU3RhcnQgPSAxOyB0ZS5zZWxlY3Rpb25FbmQgPSBleHR2YWwubGVuZ3RoO1xuICAgICAgICAgIC8vIFJlLXNldCB0aGlzLCBpbiBjYXNlIHNvbWUgb3RoZXIgaGFuZGxlciB0b3VjaGVkIHRoZVxuICAgICAgICAgIC8vIHNlbGVjdGlvbiBpbiB0aGUgbWVhbnRpbWUuXG4gICAgICAgICAgZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9IGNtLmRvYy5zZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHJlaGlkZSgpIHtcbiAgICAgICAgaW5wdXQuY29udGV4dE1lbnVQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIGlucHV0LndyYXBwZXIuc3R5bGUuY3NzVGV4dCA9IG9sZFdyYXBwZXJDU1NcbiAgICAgICAgdGUuc3R5bGUuY3NzVGV4dCA9IG9sZENTUztcbiAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSBkaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wID0gc2Nyb2xsUG9zKTtcblxuICAgICAgICAvLyBUcnkgdG8gZGV0ZWN0IHRoZSB1c2VyIGNob29zaW5nIHNlbGVjdC1hbGxcbiAgICAgICAgaWYgKHRlLnNlbGVjdGlvblN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoIWllIHx8IChpZSAmJiBpZV92ZXJzaW9uIDwgOSkpIHByZXBhcmVTZWxlY3RBbGxIYWNrKCk7XG4gICAgICAgICAgdmFyIGkgPSAwLCBwb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9PSBjbS5kb2Muc2VsICYmIHRlLnNlbGVjdGlvblN0YXJ0ID09IDAgJiZcbiAgICAgICAgICAgICAgICB0ZS5zZWxlY3Rpb25FbmQgPiAwICYmIGlucHV0LnByZXZJbnB1dCA9PSBcIlxcdTIwMGJcIilcbiAgICAgICAgICAgICAgb3BlcmF0aW9uKGNtLCBjb21tYW5kcy5zZWxlY3RBbGwpKGNtKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGkrKyA8IDEwKSBkaXNwbGF5LmRldGVjdGluZ1NlbGVjdEFsbCA9IHNldFRpbWVvdXQocG9sbCwgNTAwKTtcbiAgICAgICAgICAgIGVsc2UgZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwgPSBzZXRUaW1lb3V0KHBvbGwsIDIwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgcHJlcGFyZVNlbGVjdEFsbEhhY2soKTtcbiAgICAgIGlmIChjYXB0dXJlUmlnaHRDbGljaykge1xuICAgICAgICBlX3N0b3AoZSk7XG4gICAgICAgIHZhciBtb3VzZXVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgb2ZmKHdpbmRvdywgXCJtb3VzZXVwXCIsIG1vdXNldXApO1xuICAgICAgICAgIHNldFRpbWVvdXQocmVoaWRlLCAyMCk7XG4gICAgICAgIH07XG4gICAgICAgIG9uKHdpbmRvdywgXCJtb3VzZXVwXCIsIG1vdXNldXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0VGltZW91dChyZWhpZGUsIDUwKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVhZE9ubHlDaGFuZ2VkOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmICghdmFsKSB0aGlzLnJlc2V0KCk7XG4gICAgfSxcblxuICAgIHNldFVuZWRpdGFibGU6IG5vdGhpbmcsXG5cbiAgICBuZWVkc0NvbnRlbnRBdHRyaWJ1dGU6IGZhbHNlXG4gIH0sIFRleHRhcmVhSW5wdXQucHJvdG90eXBlKTtcblxuICAvLyBDT05URU5URURJVEFCTEUgSU5QVVQgU1RZTEVcblxuICBmdW5jdGlvbiBDb250ZW50RWRpdGFibGVJbnB1dChjbSkge1xuICAgIHRoaXMuY20gPSBjbTtcbiAgICB0aGlzLmxhc3RBbmNob3JOb2RlID0gdGhpcy5sYXN0QW5jaG9yT2Zmc2V0ID0gdGhpcy5sYXN0Rm9jdXNOb2RlID0gdGhpcy5sYXN0Rm9jdXNPZmZzZXQgPSBudWxsO1xuICAgIHRoaXMucG9sbGluZyA9IG5ldyBEZWxheWVkKCk7XG4gICAgdGhpcy5ncmFjZVBlcmlvZCA9IGZhbHNlO1xuICB9XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlID0gY29weU9iaih7XG4gICAgaW5pdDogZnVuY3Rpb24oZGlzcGxheSkge1xuICAgICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSBpbnB1dC5jbTtcbiAgICAgIHZhciBkaXYgPSBpbnB1dC5kaXYgPSBkaXNwbGF5LmxpbmVEaXY7XG4gICAgICBkaXNhYmxlQnJvd3Nlck1hZ2ljKGRpdik7XG5cbiAgICAgIG9uKGRpdiwgXCJwYXN0ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpKSBoYW5kbGVQYXN0ZShlLCBjbSk7XG4gICAgICB9KVxuXG4gICAgICBvbihkaXYsIFwiY29tcG9zaXRpb25zdGFydFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBkYXRhID0gZS5kYXRhO1xuICAgICAgICBpbnB1dC5jb21wb3NpbmcgPSB7c2VsOiBjbS5kb2Muc2VsLCBkYXRhOiBkYXRhLCBzdGFydERhdGE6IGRhdGF9O1xuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgICAgdmFyIHByaW0gPSBjbS5kb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgICAgdmFyIGxpbmUgPSBjbS5nZXRMaW5lKHByaW0uaGVhZC5saW5lKTtcbiAgICAgICAgdmFyIGZvdW5kID0gbGluZS5pbmRleE9mKGRhdGEsIE1hdGgubWF4KDAsIHByaW0uaGVhZC5jaCAtIGRhdGEubGVuZ3RoKSk7XG4gICAgICAgIGlmIChmb3VuZCA+IC0xICYmIGZvdW5kIDw9IHByaW0uaGVhZC5jaClcbiAgICAgICAgICBpbnB1dC5jb21wb3Npbmcuc2VsID0gc2ltcGxlU2VsZWN0aW9uKFBvcyhwcmltLmhlYWQubGluZSwgZm91bmQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zKHByaW0uaGVhZC5saW5lLCBmb3VuZCArIGRhdGEubGVuZ3RoKSk7XG4gICAgICB9KTtcbiAgICAgIG9uKGRpdiwgXCJjb21wb3NpdGlvbnVwZGF0ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlucHV0LmNvbXBvc2luZy5kYXRhID0gZS5kYXRhO1xuICAgICAgfSk7XG4gICAgICBvbihkaXYsIFwiY29tcG9zaXRpb25lbmRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgb3VycyA9IGlucHV0LmNvbXBvc2luZztcbiAgICAgICAgaWYgKCFvdXJzKSByZXR1cm47XG4gICAgICAgIGlmIChlLmRhdGEgIT0gb3Vycy5zdGFydERhdGEgJiYgIS9cXHUyMDBiLy50ZXN0KGUuZGF0YSkpXG4gICAgICAgICAgb3Vycy5kYXRhID0gZS5kYXRhO1xuICAgICAgICAvLyBOZWVkIGEgc21hbGwgZGVsYXkgdG8gcHJldmVudCBvdGhlciBjb2RlIChpbnB1dCBldmVudCxcbiAgICAgICAgLy8gc2VsZWN0aW9uIHBvbGxpbmcpIGZyb20gZG9pbmcgZGFtYWdlIHdoZW4gZmlyZWQgcmlnaHQgYWZ0ZXJcbiAgICAgICAgLy8gY29tcG9zaXRpb25lbmQuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFvdXJzLmhhbmRsZWQpXG4gICAgICAgICAgICBpbnB1dC5hcHBseUNvbXBvc2l0aW9uKG91cnMpO1xuICAgICAgICAgIGlmIChpbnB1dC5jb21wb3NpbmcgPT0gb3VycylcbiAgICAgICAgICAgIGlucHV0LmNvbXBvc2luZyA9IG51bGw7XG4gICAgICAgIH0sIDUwKTtcbiAgICAgIH0pO1xuXG4gICAgICBvbihkaXYsIFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5wdXQuZm9yY2VDb21wb3NpdGlvbkVuZCgpO1xuICAgICAgfSk7XG5cbiAgICAgIG9uKGRpdiwgXCJpbnB1dFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGlucHV0LmNvbXBvc2luZykgcmV0dXJuO1xuICAgICAgICBpZiAoY20uaXNSZWFkT25seSgpIHx8ICFpbnB1dC5wb2xsQ29udGVudCgpKVxuICAgICAgICAgIHJ1bkluT3AoaW5wdXQuY20sIGZ1bmN0aW9uKCkge3JlZ0NoYW5nZShjbSk7fSk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gb25Db3B5Q3V0KGUpIHtcbiAgICAgICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSkgcmV0dXJuXG4gICAgICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7XG4gICAgICAgICAgbGFzdENvcGllZCA9IHtsaW5lV2lzZTogZmFsc2UsIHRleHQ6IGNtLmdldFNlbGVjdGlvbnMoKX07XG4gICAgICAgICAgaWYgKGUudHlwZSA9PSBcImN1dFwiKSBjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsIG51bGwsIFwiY3V0XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKCFjbS5vcHRpb25zLmxpbmVXaXNlQ29weUN1dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmFuZ2VzID0gY29weWFibGVSYW5nZXMoY20pO1xuICAgICAgICAgIGxhc3RDb3BpZWQgPSB7bGluZVdpc2U6IHRydWUsIHRleHQ6IHJhbmdlcy50ZXh0fTtcbiAgICAgICAgICBpZiAoZS50eXBlID09IFwiY3V0XCIpIHtcbiAgICAgICAgICAgIGNtLm9wZXJhdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgY20uc2V0U2VsZWN0aW9ucyhyYW5nZXMucmFuZ2VzLCAwLCBzZWxfZG9udFNjcm9sbCk7XG4gICAgICAgICAgICAgIGNtLnJlcGxhY2VTZWxlY3Rpb24oXCJcIiwgbnVsbCwgXCJjdXRcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaU9TIGV4cG9zZXMgdGhlIGNsaXBib2FyZCBBUEksIGJ1dCBzZWVtcyB0byBkaXNjYXJkIGNvbnRlbnQgaW5zZXJ0ZWQgaW50byBpdFxuICAgICAgICBpZiAoZS5jbGlwYm9hcmREYXRhICYmICFpb3MpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5jbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpO1xuICAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCBsYXN0Q29waWVkLnRleHQuam9pbihcIlxcblwiKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT2xkLWZhc2hpb25lZCBicmllZmx5LWZvY3VzLWEtdGV4dGFyZWEgaGFja1xuICAgICAgICAgIHZhciBrbHVkZ2UgPSBoaWRkZW5UZXh0YXJlYSgpLCB0ZSA9IGtsdWRnZS5maXJzdENoaWxkO1xuICAgICAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZShrbHVkZ2UsIGNtLmRpc3BsYXkubGluZVNwYWNlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIHRlLnZhbHVlID0gbGFzdENvcGllZC50ZXh0LmpvaW4oXCJcXG5cIik7XG4gICAgICAgICAgdmFyIGhhZEZvY3VzID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICBzZWxlY3RJbnB1dCh0ZSk7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKGtsdWRnZSk7XG4gICAgICAgICAgICBoYWRGb2N1cy5mb2N1cygpO1xuICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb24oZGl2LCBcImNvcHlcIiwgb25Db3B5Q3V0KTtcbiAgICAgIG9uKGRpdiwgXCJjdXRcIiwgb25Db3B5Q3V0KTtcbiAgICB9LFxuXG4gICAgcHJlcGFyZVNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gcHJlcGFyZVNlbGVjdGlvbih0aGlzLmNtLCBmYWxzZSk7XG4gICAgICByZXN1bHQuZm9jdXMgPSB0aGlzLmNtLnN0YXRlLmZvY3VzZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBzaG93U2VsZWN0aW9uOiBmdW5jdGlvbihpbmZvLCB0YWtlRm9jdXMpIHtcbiAgICAgIGlmICghaW5mbyB8fCAhdGhpcy5jbS5kaXNwbGF5LnZpZXcubGVuZ3RoKSByZXR1cm47XG4gICAgICBpZiAoaW5mby5mb2N1cyB8fCB0YWtlRm9jdXMpIHRoaXMuc2hvd1ByaW1hcnlTZWxlY3Rpb24oKTtcbiAgICAgIHRoaXMuc2hvd011bHRpcGxlU2VsZWN0aW9ucyhpbmZvKTtcbiAgICB9LFxuXG4gICAgc2hvd1ByaW1hcnlTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgcHJpbSA9IHRoaXMuY20uZG9jLnNlbC5wcmltYXJ5KCk7XG4gICAgICB2YXIgY3VyQW5jaG9yID0gZG9tVG9Qb3ModGhpcy5jbSwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgdmFyIGN1ckZvY3VzID0gZG9tVG9Qb3ModGhpcy5jbSwgc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgIGlmIChjdXJBbmNob3IgJiYgIWN1ckFuY2hvci5iYWQgJiYgY3VyRm9jdXMgJiYgIWN1ckZvY3VzLmJhZCAmJlxuICAgICAgICAgIGNtcChtaW5Qb3MoY3VyQW5jaG9yLCBjdXJGb2N1cyksIHByaW0uZnJvbSgpKSA9PSAwICYmXG4gICAgICAgICAgY21wKG1heFBvcyhjdXJBbmNob3IsIGN1ckZvY3VzKSwgcHJpbS50bygpKSA9PSAwKVxuICAgICAgICByZXR1cm47XG5cbiAgICAgIHZhciBzdGFydCA9IHBvc1RvRE9NKHRoaXMuY20sIHByaW0uZnJvbSgpKTtcbiAgICAgIHZhciBlbmQgPSBwb3NUb0RPTSh0aGlzLmNtLCBwcmltLnRvKCkpO1xuICAgICAgaWYgKCFzdGFydCAmJiAhZW5kKSByZXR1cm47XG5cbiAgICAgIHZhciB2aWV3ID0gdGhpcy5jbS5kaXNwbGF5LnZpZXc7XG4gICAgICB2YXIgb2xkID0gc2VsLnJhbmdlQ291bnQgJiYgc2VsLmdldFJhbmdlQXQoMCk7XG4gICAgICBpZiAoIXN0YXJ0KSB7XG4gICAgICAgIHN0YXJ0ID0ge25vZGU6IHZpZXdbMF0ubWVhc3VyZS5tYXBbMl0sIG9mZnNldDogMH07XG4gICAgICB9IGVsc2UgaWYgKCFlbmQpIHsgLy8gRklYTUUgZGFuZ2Vyb3VzbHkgaGFja3lcbiAgICAgICAgdmFyIG1lYXN1cmUgPSB2aWV3W3ZpZXcubGVuZ3RoIC0gMV0ubWVhc3VyZTtcbiAgICAgICAgdmFyIG1hcCA9IG1lYXN1cmUubWFwcyA/IG1lYXN1cmUubWFwc1ttZWFzdXJlLm1hcHMubGVuZ3RoIC0gMV0gOiBtZWFzdXJlLm1hcDtcbiAgICAgICAgZW5kID0ge25vZGU6IG1hcFttYXAubGVuZ3RoIC0gMV0sIG9mZnNldDogbWFwW21hcC5sZW5ndGggLSAyXSAtIG1hcFttYXAubGVuZ3RoIC0gM119O1xuICAgICAgfVxuXG4gICAgICB0cnkgeyB2YXIgcm5nID0gcmFuZ2Uoc3RhcnQubm9kZSwgc3RhcnQub2Zmc2V0LCBlbmQub2Zmc2V0LCBlbmQubm9kZSk7IH1cbiAgICAgIGNhdGNoKGUpIHt9IC8vIE91ciBtb2RlbCBvZiB0aGUgRE9NIG1pZ2h0IGJlIG91dGRhdGVkLCBpbiB3aGljaCBjYXNlIHRoZSByYW5nZSB3ZSB0cnkgdG8gc2V0IGNhbiBiZSBpbXBvc3NpYmxlXG4gICAgICBpZiAocm5nKSB7XG4gICAgICAgIGlmICghZ2Vja28gJiYgdGhpcy5jbS5zdGF0ZS5mb2N1c2VkKSB7XG4gICAgICAgICAgc2VsLmNvbGxhcHNlKHN0YXJ0Lm5vZGUsIHN0YXJ0Lm9mZnNldCk7XG4gICAgICAgICAgaWYgKCFybmcuY29sbGFwc2VkKSBzZWwuYWRkUmFuZ2Uocm5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgc2VsLmFkZFJhbmdlKHJuZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZCAmJiBzZWwuYW5jaG9yTm9kZSA9PSBudWxsKSBzZWwuYWRkUmFuZ2Uob2xkKTtcbiAgICAgICAgZWxzZSBpZiAoZ2Vja28pIHRoaXMuc3RhcnRHcmFjZVBlcmlvZCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZW1lbWJlclNlbGVjdGlvbigpO1xuICAgIH0sXG5cbiAgICBzdGFydEdyYWNlUGVyaW9kOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbnB1dCA9IHRoaXM7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5ncmFjZVBlcmlvZCk7XG4gICAgICB0aGlzLmdyYWNlUGVyaW9kID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaW5wdXQuZ3JhY2VQZXJpb2QgPSBmYWxzZTtcbiAgICAgICAgaWYgKGlucHV0LnNlbGVjdGlvbkNoYW5nZWQoKSlcbiAgICAgICAgICBpbnB1dC5jbS5vcGVyYXRpb24oZnVuY3Rpb24oKSB7IGlucHV0LmNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlOyB9KTtcbiAgICAgIH0sIDIwKTtcbiAgICB9LFxuXG4gICAgc2hvd011bHRpcGxlU2VsZWN0aW9uczogZnVuY3Rpb24oaW5mbykge1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQodGhpcy5jbS5kaXNwbGF5LmN1cnNvckRpdiwgaW5mby5jdXJzb3JzKTtcbiAgICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKHRoaXMuY20uZGlzcGxheS5zZWxlY3Rpb25EaXYsIGluZm8uc2VsZWN0aW9uKTtcbiAgICB9LFxuXG4gICAgcmVtZW1iZXJTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgIHRoaXMubGFzdEFuY2hvck5vZGUgPSBzZWwuYW5jaG9yTm9kZTsgdGhpcy5sYXN0QW5jaG9yT2Zmc2V0ID0gc2VsLmFuY2hvck9mZnNldDtcbiAgICAgIHRoaXMubGFzdEZvY3VzTm9kZSA9IHNlbC5mb2N1c05vZGU7IHRoaXMubGFzdEZvY3VzT2Zmc2V0ID0gc2VsLmZvY3VzT2Zmc2V0O1xuICAgIH0sXG5cbiAgICBzZWxlY3Rpb25JbkVkaXRvcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgaWYgKCFzZWwucmFuZ2VDb3VudCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIG5vZGUgPSBzZWwuZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtcbiAgICAgIHJldHVybiBjb250YWlucyh0aGlzLmRpdiwgbm9kZSk7XG4gICAgfSxcblxuICAgIGZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmNtLm9wdGlvbnMucmVhZE9ubHkgIT0gXCJub2N1cnNvclwiKSB0aGlzLmRpdi5mb2N1cygpO1xuICAgIH0sXG4gICAgYmx1cjogZnVuY3Rpb24oKSB7IHRoaXMuZGl2LmJsdXIoKTsgfSxcbiAgICBnZXRGaWVsZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRpdjsgfSxcblxuICAgIHN1cHBvcnRzVG91Y2g6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSxcblxuICAgIHJlY2VpdmVkRm9jdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlucHV0ID0gdGhpcztcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkpXG4gICAgICAgIHRoaXMucG9sbFNlbGVjdGlvbigpO1xuICAgICAgZWxzZVxuICAgICAgICBydW5Jbk9wKHRoaXMuY20sIGZ1bmN0aW9uKCkgeyBpbnB1dC5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTsgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHBvbGwoKSB7XG4gICAgICAgIGlmIChpbnB1dC5jbS5zdGF0ZS5mb2N1c2VkKSB7XG4gICAgICAgICAgaW5wdXQucG9sbFNlbGVjdGlvbigpO1xuICAgICAgICAgIGlucHV0LnBvbGxpbmcuc2V0KGlucHV0LmNtLm9wdGlvbnMucG9sbEludGVydmFsLCBwb2xsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5wb2xsaW5nLnNldCh0aGlzLmNtLm9wdGlvbnMucG9sbEludGVydmFsLCBwb2xsKTtcbiAgICB9LFxuXG4gICAgc2VsZWN0aW9uQ2hhbmdlZDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgcmV0dXJuIHNlbC5hbmNob3JOb2RlICE9IHRoaXMubGFzdEFuY2hvck5vZGUgfHwgc2VsLmFuY2hvck9mZnNldCAhPSB0aGlzLmxhc3RBbmNob3JPZmZzZXQgfHxcbiAgICAgICAgc2VsLmZvY3VzTm9kZSAhPSB0aGlzLmxhc3RGb2N1c05vZGUgfHwgc2VsLmZvY3VzT2Zmc2V0ICE9IHRoaXMubGFzdEZvY3VzT2Zmc2V0O1xuICAgIH0sXG5cbiAgICBwb2xsU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5jb21wb3NpbmcgJiYgIXRoaXMuZ3JhY2VQZXJpb2QgJiYgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkKCkpIHtcbiAgICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgY20gPSB0aGlzLmNtO1xuICAgICAgICB0aGlzLnJlbWVtYmVyU2VsZWN0aW9uKCk7XG4gICAgICAgIHZhciBhbmNob3IgPSBkb21Ub1BvcyhjbSwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgICB2YXIgaGVhZCA9IGRvbVRvUG9zKGNtLCBzZWwuZm9jdXNOb2RlLCBzZWwuZm9jdXNPZmZzZXQpO1xuICAgICAgICBpZiAoYW5jaG9yICYmIGhlYWQpIHJ1bkluT3AoY20sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldFNlbGVjdGlvbihjbS5kb2MsIHNpbXBsZVNlbGVjdGlvbihhbmNob3IsIGhlYWQpLCBzZWxfZG9udFNjcm9sbCk7XG4gICAgICAgICAgaWYgKGFuY2hvci5iYWQgfHwgaGVhZC5iYWQpIGNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcG9sbENvbnRlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNtID0gdGhpcy5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIHNlbCA9IGNtLmRvYy5zZWwucHJpbWFyeSgpO1xuICAgICAgdmFyIGZyb20gPSBzZWwuZnJvbSgpLCB0byA9IHNlbC50bygpO1xuICAgICAgaWYgKGZyb20ubGluZSA8IGRpc3BsYXkudmlld0Zyb20gfHwgdG8ubGluZSA+IGRpc3BsYXkudmlld1RvIC0gMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB2YXIgZnJvbUluZGV4O1xuICAgICAgaWYgKGZyb20ubGluZSA9PSBkaXNwbGF5LnZpZXdGcm9tIHx8IChmcm9tSW5kZXggPSBmaW5kVmlld0luZGV4KGNtLCBmcm9tLmxpbmUpKSA9PSAwKSB7XG4gICAgICAgIHZhciBmcm9tTGluZSA9IGxpbmVObyhkaXNwbGF5LnZpZXdbMF0ubGluZSk7XG4gICAgICAgIHZhciBmcm9tTm9kZSA9IGRpc3BsYXkudmlld1swXS5ub2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGZyb21MaW5lID0gbGluZU5vKGRpc3BsYXkudmlld1tmcm9tSW5kZXhdLmxpbmUpO1xuICAgICAgICB2YXIgZnJvbU5vZGUgPSBkaXNwbGF5LnZpZXdbZnJvbUluZGV4IC0gMV0ubm9kZS5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIHZhciB0b0luZGV4ID0gZmluZFZpZXdJbmRleChjbSwgdG8ubGluZSk7XG4gICAgICBpZiAodG9JbmRleCA9PSBkaXNwbGF5LnZpZXcubGVuZ3RoIC0gMSkge1xuICAgICAgICB2YXIgdG9MaW5lID0gZGlzcGxheS52aWV3VG8gLSAxO1xuICAgICAgICB2YXIgdG9Ob2RlID0gZGlzcGxheS5saW5lRGl2Lmxhc3RDaGlsZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0b0xpbmUgPSBsaW5lTm8oZGlzcGxheS52aWV3W3RvSW5kZXggKyAxXS5saW5lKSAtIDE7XG4gICAgICAgIHZhciB0b05vZGUgPSBkaXNwbGF5LnZpZXdbdG9JbmRleCArIDFdLm5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3VGV4dCA9IGNtLmRvYy5zcGxpdExpbmVzKGRvbVRleHRCZXR3ZWVuKGNtLCBmcm9tTm9kZSwgdG9Ob2RlLCBmcm9tTGluZSwgdG9MaW5lKSk7XG4gICAgICB2YXIgb2xkVGV4dCA9IGdldEJldHdlZW4oY20uZG9jLCBQb3MoZnJvbUxpbmUsIDApLCBQb3ModG9MaW5lLCBnZXRMaW5lKGNtLmRvYywgdG9MaW5lKS50ZXh0Lmxlbmd0aCkpO1xuICAgICAgd2hpbGUgKG5ld1RleHQubGVuZ3RoID4gMSAmJiBvbGRUZXh0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaWYgKGxzdChuZXdUZXh0KSA9PSBsc3Qob2xkVGV4dCkpIHsgbmV3VGV4dC5wb3AoKTsgb2xkVGV4dC5wb3AoKTsgdG9MaW5lLS07IH1cbiAgICAgICAgZWxzZSBpZiAobmV3VGV4dFswXSA9PSBvbGRUZXh0WzBdKSB7IG5ld1RleHQuc2hpZnQoKTsgb2xkVGV4dC5zaGlmdCgpOyBmcm9tTGluZSsrOyB9XG4gICAgICAgIGVsc2UgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHZhciBjdXRGcm9udCA9IDAsIGN1dEVuZCA9IDA7XG4gICAgICB2YXIgbmV3VG9wID0gbmV3VGV4dFswXSwgb2xkVG9wID0gb2xkVGV4dFswXSwgbWF4Q3V0RnJvbnQgPSBNYXRoLm1pbihuZXdUb3AubGVuZ3RoLCBvbGRUb3AubGVuZ3RoKTtcbiAgICAgIHdoaWxlIChjdXRGcm9udCA8IG1heEN1dEZyb250ICYmIG5ld1RvcC5jaGFyQ29kZUF0KGN1dEZyb250KSA9PSBvbGRUb3AuY2hhckNvZGVBdChjdXRGcm9udCkpXG4gICAgICAgICsrY3V0RnJvbnQ7XG4gICAgICB2YXIgbmV3Qm90ID0gbHN0KG5ld1RleHQpLCBvbGRCb3QgPSBsc3Qob2xkVGV4dCk7XG4gICAgICB2YXIgbWF4Q3V0RW5kID0gTWF0aC5taW4obmV3Qm90Lmxlbmd0aCAtIChuZXdUZXh0Lmxlbmd0aCA9PSAxID8gY3V0RnJvbnQgOiAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRCb3QubGVuZ3RoIC0gKG9sZFRleHQubGVuZ3RoID09IDEgPyBjdXRGcm9udCA6IDApKTtcbiAgICAgIHdoaWxlIChjdXRFbmQgPCBtYXhDdXRFbmQgJiZcbiAgICAgICAgICAgICBuZXdCb3QuY2hhckNvZGVBdChuZXdCb3QubGVuZ3RoIC0gY3V0RW5kIC0gMSkgPT0gb2xkQm90LmNoYXJDb2RlQXQob2xkQm90Lmxlbmd0aCAtIGN1dEVuZCAtIDEpKVxuICAgICAgICArK2N1dEVuZDtcblxuICAgICAgbmV3VGV4dFtuZXdUZXh0Lmxlbmd0aCAtIDFdID0gbmV3Qm90LnNsaWNlKDAsIG5ld0JvdC5sZW5ndGggLSBjdXRFbmQpO1xuICAgICAgbmV3VGV4dFswXSA9IG5ld1RleHRbMF0uc2xpY2UoY3V0RnJvbnQpO1xuXG4gICAgICB2YXIgY2hGcm9tID0gUG9zKGZyb21MaW5lLCBjdXRGcm9udCk7XG4gICAgICB2YXIgY2hUbyA9IFBvcyh0b0xpbmUsIG9sZFRleHQubGVuZ3RoID8gbHN0KG9sZFRleHQpLmxlbmd0aCAtIGN1dEVuZCA6IDApO1xuICAgICAgaWYgKG5ld1RleHQubGVuZ3RoID4gMSB8fCBuZXdUZXh0WzBdIHx8IGNtcChjaEZyb20sIGNoVG8pKSB7XG4gICAgICAgIHJlcGxhY2VSYW5nZShjbS5kb2MsIG5ld1RleHQsIGNoRnJvbSwgY2hUbywgXCIraW5wdXRcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBlbnN1cmVQb2xsZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5mb3JjZUNvbXBvc2l0aW9uRW5kKCk7XG4gICAgfSxcbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmZvcmNlQ29tcG9zaXRpb25FbmQoKTtcbiAgICB9LFxuICAgIGZvcmNlQ29tcG9zaXRpb25FbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmNvbXBvc2luZyB8fCB0aGlzLmNvbXBvc2luZy5oYW5kbGVkKSByZXR1cm47XG4gICAgICB0aGlzLmFwcGx5Q29tcG9zaXRpb24odGhpcy5jb21wb3NpbmcpO1xuICAgICAgdGhpcy5jb21wb3NpbmcuaGFuZGxlZCA9IHRydWU7XG4gICAgICB0aGlzLmRpdi5ibHVyKCk7XG4gICAgICB0aGlzLmRpdi5mb2N1cygpO1xuICAgIH0sXG4gICAgYXBwbHlDb21wb3NpdGlvbjogZnVuY3Rpb24oY29tcG9zaW5nKSB7XG4gICAgICBpZiAodGhpcy5jbS5pc1JlYWRPbmx5KCkpXG4gICAgICAgIG9wZXJhdGlvbih0aGlzLmNtLCByZWdDaGFuZ2UpKHRoaXMuY20pXG4gICAgICBlbHNlIGlmIChjb21wb3NpbmcuZGF0YSAmJiBjb21wb3NpbmcuZGF0YSAhPSBjb21wb3Npbmcuc3RhcnREYXRhKVxuICAgICAgICBvcGVyYXRpb24odGhpcy5jbSwgYXBwbHlUZXh0SW5wdXQpKHRoaXMuY20sIGNvbXBvc2luZy5kYXRhLCAwLCBjb21wb3Npbmcuc2VsKTtcbiAgICB9LFxuXG4gICAgc2V0VW5lZGl0YWJsZTogZnVuY3Rpb24obm9kZSkge1xuICAgICAgbm9kZS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCJcbiAgICB9LFxuXG4gICAgb25LZXlQcmVzczogZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKCF0aGlzLmNtLmlzUmVhZE9ubHkoKSlcbiAgICAgICAgb3BlcmF0aW9uKHRoaXMuY20sIGFwcGx5VGV4dElucHV0KSh0aGlzLmNtLCBTdHJpbmcuZnJvbUNoYXJDb2RlKGUuY2hhckNvZGUgPT0gbnVsbCA/IGUua2V5Q29kZSA6IGUuY2hhckNvZGUpLCAwKTtcbiAgICB9LFxuXG4gICAgcmVhZE9ubHlDaGFuZ2VkOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHRoaXMuZGl2LmNvbnRlbnRFZGl0YWJsZSA9IFN0cmluZyh2YWwgIT0gXCJub2N1cnNvclwiKVxuICAgIH0sXG5cbiAgICBvbkNvbnRleHRNZW51OiBub3RoaW5nLFxuICAgIHJlc2V0UG9zaXRpb246IG5vdGhpbmcsXG5cbiAgICBuZWVkc0NvbnRlbnRBdHRyaWJ1dGU6IHRydWVcbiAgfSwgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlKTtcblxuICBmdW5jdGlvbiBwb3NUb0RPTShjbSwgcG9zKSB7XG4gICAgdmFyIHZpZXcgPSBmaW5kVmlld0ZvckxpbmUoY20sIHBvcy5saW5lKTtcbiAgICBpZiAoIXZpZXcgfHwgdmlldy5oaWRkZW4pIHJldHVybiBudWxsO1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShjbS5kb2MsIHBvcy5saW5lKTtcbiAgICB2YXIgaW5mbyA9IG1hcEZyb21MaW5lVmlldyh2aWV3LCBsaW5lLCBwb3MubGluZSk7XG5cbiAgICB2YXIgb3JkZXIgPSBnZXRPcmRlcihsaW5lKSwgc2lkZSA9IFwibGVmdFwiO1xuICAgIGlmIChvcmRlcikge1xuICAgICAgdmFyIHBhcnRQb3MgPSBnZXRCaWRpUGFydEF0KG9yZGVyLCBwb3MuY2gpO1xuICAgICAgc2lkZSA9IHBhcnRQb3MgJSAyID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBub2RlQW5kT2Zmc2V0SW5MaW5lTWFwKGluZm8ubWFwLCBwb3MuY2gsIHNpZGUpO1xuICAgIHJlc3VsdC5vZmZzZXQgPSByZXN1bHQuY29sbGFwc2UgPT0gXCJyaWdodFwiID8gcmVzdWx0LmVuZCA6IHJlc3VsdC5zdGFydDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gYmFkUG9zKHBvcywgYmFkKSB7IGlmIChiYWQpIHBvcy5iYWQgPSB0cnVlOyByZXR1cm4gcG9zOyB9XG5cbiAgZnVuY3Rpb24gZG9tVG9Qb3MoY20sIG5vZGUsIG9mZnNldCkge1xuICAgIHZhciBsaW5lTm9kZTtcbiAgICBpZiAobm9kZSA9PSBjbS5kaXNwbGF5LmxpbmVEaXYpIHtcbiAgICAgIGxpbmVOb2RlID0gY20uZGlzcGxheS5saW5lRGl2LmNoaWxkTm9kZXNbb2Zmc2V0XTtcbiAgICAgIGlmICghbGluZU5vZGUpIHJldHVybiBiYWRQb3MoY20uY2xpcFBvcyhQb3MoY20uZGlzcGxheS52aWV3VG8gLSAxKSksIHRydWUpO1xuICAgICAgbm9kZSA9IG51bGw7IG9mZnNldCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGluZU5vZGUgPSBub2RlOzsgbGluZU5vZGUgPSBsaW5lTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGlmICghbGluZU5vZGUgfHwgbGluZU5vZGUgPT0gY20uZGlzcGxheS5saW5lRGl2KSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKGxpbmVOb2RlLnBhcmVudE5vZGUgJiYgbGluZU5vZGUucGFyZW50Tm9kZSA9PSBjbS5kaXNwbGF5LmxpbmVEaXYpIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLmRpc3BsYXkudmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpbmVWaWV3ID0gY20uZGlzcGxheS52aWV3W2ldO1xuICAgICAgaWYgKGxpbmVWaWV3Lm5vZGUgPT0gbGluZU5vZGUpXG4gICAgICAgIHJldHVybiBsb2NhdGVOb2RlSW5MaW5lVmlldyhsaW5lVmlldywgbm9kZSwgb2Zmc2V0KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhdGVOb2RlSW5MaW5lVmlldyhsaW5lVmlldywgbm9kZSwgb2Zmc2V0KSB7XG4gICAgdmFyIHdyYXBwZXIgPSBsaW5lVmlldy50ZXh0LmZpcnN0Q2hpbGQsIGJhZCA9IGZhbHNlO1xuICAgIGlmICghbm9kZSB8fCAhY29udGFpbnMod3JhcHBlciwgbm9kZSkpIHJldHVybiBiYWRQb3MoUG9zKGxpbmVObyhsaW5lVmlldy5saW5lKSwgMCksIHRydWUpO1xuICAgIGlmIChub2RlID09IHdyYXBwZXIpIHtcbiAgICAgIGJhZCA9IHRydWU7XG4gICAgICBub2RlID0gd3JhcHBlci5jaGlsZE5vZGVzW29mZnNldF07XG4gICAgICBvZmZzZXQgPSAwO1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZVZpZXcucmVzdCA/IGxzdChsaW5lVmlldy5yZXN0KSA6IGxpbmVWaWV3LmxpbmU7XG4gICAgICAgIHJldHVybiBiYWRQb3MoUG9zKGxpbmVObyhsaW5lKSwgbGluZS50ZXh0Lmxlbmd0aCksIGJhZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRleHROb2RlID0gbm9kZS5ub2RlVHlwZSA9PSAzID8gbm9kZSA6IG51bGwsIHRvcE5vZGUgPSBub2RlO1xuICAgIGlmICghdGV4dE5vZGUgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA9PSAxICYmIG5vZGUuZmlyc3RDaGlsZC5ub2RlVHlwZSA9PSAzKSB7XG4gICAgICB0ZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIGlmIChvZmZzZXQpIG9mZnNldCA9IHRleHROb2RlLm5vZGVWYWx1ZS5sZW5ndGg7XG4gICAgfVxuICAgIHdoaWxlICh0b3BOb2RlLnBhcmVudE5vZGUgIT0gd3JhcHBlcikgdG9wTm9kZSA9IHRvcE5vZGUucGFyZW50Tm9kZTtcbiAgICB2YXIgbWVhc3VyZSA9IGxpbmVWaWV3Lm1lYXN1cmUsIG1hcHMgPSBtZWFzdXJlLm1hcHM7XG5cbiAgICBmdW5jdGlvbiBmaW5kKHRleHROb2RlLCB0b3BOb2RlLCBvZmZzZXQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAtMTsgaSA8IChtYXBzID8gbWFwcy5sZW5ndGggOiAwKTsgaSsrKSB7XG4gICAgICAgIHZhciBtYXAgPSBpIDwgMCA/IG1lYXN1cmUubWFwIDogbWFwc1tpXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXAubGVuZ3RoOyBqICs9IDMpIHtcbiAgICAgICAgICB2YXIgY3VyTm9kZSA9IG1hcFtqICsgMl07XG4gICAgICAgICAgaWYgKGN1ck5vZGUgPT0gdGV4dE5vZGUgfHwgY3VyTm9kZSA9PSB0b3BOb2RlKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IGxpbmVObyhpIDwgMCA/IGxpbmVWaWV3LmxpbmUgOiBsaW5lVmlldy5yZXN0W2ldKTtcbiAgICAgICAgICAgIHZhciBjaCA9IG1hcFtqXSArIG9mZnNldDtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPCAwIHx8IGN1ck5vZGUgIT0gdGV4dE5vZGUpIGNoID0gbWFwW2ogKyAob2Zmc2V0ID8gMSA6IDApXTtcbiAgICAgICAgICAgIHJldHVybiBQb3MobGluZSwgY2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZm91bmQgPSBmaW5kKHRleHROb2RlLCB0b3BOb2RlLCBvZmZzZXQpO1xuICAgIGlmIChmb3VuZCkgcmV0dXJuIGJhZFBvcyhmb3VuZCwgYmFkKTtcblxuICAgIC8vIEZJWE1FIHRoaXMgaXMgYWxsIHJlYWxseSBzaGFreS4gbWlnaHQgaGFuZGxlIHRoZSBmZXcgY2FzZXMgaXQgbmVlZHMgdG8gaGFuZGxlLCBidXQgbGlrZWx5IHRvIGNhdXNlIHByb2JsZW1zXG4gICAgZm9yICh2YXIgYWZ0ZXIgPSB0b3BOb2RlLm5leHRTaWJsaW5nLCBkaXN0ID0gdGV4dE5vZGUgPyB0ZXh0Tm9kZS5ub2RlVmFsdWUubGVuZ3RoIC0gb2Zmc2V0IDogMDsgYWZ0ZXI7IGFmdGVyID0gYWZ0ZXIubmV4dFNpYmxpbmcpIHtcbiAgICAgIGZvdW5kID0gZmluZChhZnRlciwgYWZ0ZXIuZmlyc3RDaGlsZCwgMCk7XG4gICAgICBpZiAoZm91bmQpXG4gICAgICAgIHJldHVybiBiYWRQb3MoUG9zKGZvdW5kLmxpbmUsIGZvdW5kLmNoIC0gZGlzdCksIGJhZCk7XG4gICAgICBlbHNlXG4gICAgICAgIGRpc3QgKz0gYWZ0ZXIudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKHZhciBiZWZvcmUgPSB0b3BOb2RlLnByZXZpb3VzU2libGluZywgZGlzdCA9IG9mZnNldDsgYmVmb3JlOyBiZWZvcmUgPSBiZWZvcmUucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICBmb3VuZCA9IGZpbmQoYmVmb3JlLCBiZWZvcmUuZmlyc3RDaGlsZCwgLTEpO1xuICAgICAgaWYgKGZvdW5kKVxuICAgICAgICByZXR1cm4gYmFkUG9zKFBvcyhmb3VuZC5saW5lLCBmb3VuZC5jaCArIGRpc3QpLCBiYWQpO1xuICAgICAgZWxzZVxuICAgICAgICBkaXN0ICs9IGFmdGVyLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkb21UZXh0QmV0d2VlbihjbSwgZnJvbSwgdG8sIGZyb21MaW5lLCB0b0xpbmUpIHtcbiAgICB2YXIgdGV4dCA9IFwiXCIsIGNsb3NpbmcgPSBmYWxzZSwgbGluZVNlcCA9IGNtLmRvYy5saW5lU2VwYXJhdG9yKCk7XG4gICAgZnVuY3Rpb24gcmVjb2duaXplTWFya2VyKGlkKSB7IHJldHVybiBmdW5jdGlvbihtYXJrZXIpIHsgcmV0dXJuIG1hcmtlci5pZCA9PSBpZDsgfTsgfVxuICAgIGZ1bmN0aW9uIHdhbGsobm9kZSkge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICB2YXIgY21UZXh0ID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJjbS10ZXh0XCIpO1xuICAgICAgICBpZiAoY21UZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoY21UZXh0ID09IFwiXCIpIGNtVGV4dCA9IG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSgvXFx1MjAwYi9nLCBcIlwiKTtcbiAgICAgICAgICB0ZXh0ICs9IGNtVGV4dDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hcmtlcklEID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJjbS1tYXJrZXJcIiksIHJhbmdlO1xuICAgICAgICBpZiAobWFya2VySUQpIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBjbS5maW5kTWFya3MoUG9zKGZyb21MaW5lLCAwKSwgUG9zKHRvTGluZSArIDEsIDApLCByZWNvZ25pemVNYXJrZXIoK21hcmtlcklEKSk7XG4gICAgICAgICAgaWYgKGZvdW5kLmxlbmd0aCAmJiAocmFuZ2UgPSBmb3VuZFswXS5maW5kKCkpKVxuICAgICAgICAgICAgdGV4dCArPSBnZXRCZXR3ZWVuKGNtLmRvYywgcmFuZ2UuZnJvbSwgcmFuZ2UudG8pLmpvaW4obGluZVNlcCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSA9PSBcImZhbHNlXCIpIHJldHVybjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgd2Fsayhub2RlLmNoaWxkTm9kZXNbaV0pO1xuICAgICAgICBpZiAoL14ocHJlfGRpdnxwKSQvaS50ZXN0KG5vZGUubm9kZU5hbWUpKVxuICAgICAgICAgIGNsb3NpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgdmFyIHZhbCA9IG5vZGUubm9kZVZhbHVlO1xuICAgICAgICBpZiAoIXZhbCkgcmV0dXJuO1xuICAgICAgICBpZiAoY2xvc2luZykge1xuICAgICAgICAgIHRleHQgKz0gbGluZVNlcDtcbiAgICAgICAgICBjbG9zaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCArPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoOzspIHtcbiAgICAgIHdhbGsoZnJvbSk7XG4gICAgICBpZiAoZnJvbSA9PSB0bykgYnJlYWs7XG4gICAgICBmcm9tID0gZnJvbS5uZXh0U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cblxuICBDb2RlTWlycm9yLmlucHV0U3R5bGVzID0ge1widGV4dGFyZWFcIjogVGV4dGFyZWFJbnB1dCwgXCJjb250ZW50ZWRpdGFibGVcIjogQ29udGVudEVkaXRhYmxlSW5wdXR9O1xuXG4gIC8vIFNFTEVDVElPTiAvIENVUlNPUlxuXG4gIC8vIFNlbGVjdGlvbiBvYmplY3RzIGFyZSBpbW11dGFibGUuIEEgbmV3IG9uZSBpcyBjcmVhdGVkIGV2ZXJ5IHRpbWVcbiAgLy8gdGhlIHNlbGVjdGlvbiBjaGFuZ2VzLiBBIHNlbGVjdGlvbiBpcyBvbmUgb3IgbW9yZSBub24tb3ZlcmxhcHBpbmdcbiAgLy8gKGFuZCBub24tdG91Y2hpbmcpIHJhbmdlcywgc29ydGVkLCBhbmQgYW4gaW50ZWdlciB0aGF0IGluZGljYXRlc1xuICAvLyB3aGljaCBvbmUgaXMgdGhlIHByaW1hcnkgc2VsZWN0aW9uICh0aGUgb25lIHRoYXQncyBzY3JvbGxlZCBpbnRvXG4gIC8vIHZpZXcsIHRoYXQgZ2V0Q3Vyc29yIHJldHVybnMsIGV0YykuXG4gIGZ1bmN0aW9uIFNlbGVjdGlvbihyYW5nZXMsIHByaW1JbmRleCkge1xuICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzO1xuICAgIHRoaXMucHJpbUluZGV4ID0gcHJpbUluZGV4O1xuICB9XG5cbiAgU2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgICBwcmltYXJ5OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucmFuZ2VzW3RoaXMucHJpbUluZGV4XTsgfSxcbiAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIgPT0gdGhpcykgcmV0dXJuIHRydWU7XG4gICAgICBpZiAob3RoZXIucHJpbUluZGV4ICE9IHRoaXMucHJpbUluZGV4IHx8IG90aGVyLnJhbmdlcy5sZW5ndGggIT0gdGhpcy5yYW5nZXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBoZXJlID0gdGhpcy5yYW5nZXNbaV0sIHRoZXJlID0gb3RoZXIucmFuZ2VzW2ldO1xuICAgICAgICBpZiAoY21wKGhlcmUuYW5jaG9yLCB0aGVyZS5hbmNob3IpICE9IDAgfHwgY21wKGhlcmUuaGVhZCwgdGhlcmUuaGVhZCkgIT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBkZWVwQ29weTogZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBvdXQgPSBbXSwgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKGNvcHlQb3ModGhpcy5yYW5nZXNbaV0uYW5jaG9yKSwgY29weVBvcyh0aGlzLnJhbmdlc1tpXS5oZWFkKSk7XG4gICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihvdXQsIHRoaXMucHJpbUluZGV4KTtcbiAgICB9LFxuICAgIHNvbWV0aGluZ1NlbGVjdGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghdGhpcy5yYW5nZXNbaV0uZW1wdHkoKSkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBjb250YWluczogZnVuY3Rpb24ocG9zLCBlbmQpIHtcbiAgICAgIGlmICghZW5kKSBlbmQgPSBwb3M7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2VzW2ldO1xuICAgICAgICBpZiAoY21wKGVuZCwgcmFuZ2UuZnJvbSgpKSA+PSAwICYmIGNtcChwb3MsIHJhbmdlLnRvKCkpIDw9IDApXG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIFJhbmdlKGFuY2hvciwgaGVhZCkge1xuICAgIHRoaXMuYW5jaG9yID0gYW5jaG9yOyB0aGlzLmhlYWQgPSBoZWFkO1xuICB9XG5cbiAgUmFuZ2UucHJvdG90eXBlID0ge1xuICAgIGZyb206IGZ1bmN0aW9uKCkgeyByZXR1cm4gbWluUG9zKHRoaXMuYW5jaG9yLCB0aGlzLmhlYWQpOyB9LFxuICAgIHRvOiBmdW5jdGlvbigpIHsgcmV0dXJuIG1heFBvcyh0aGlzLmFuY2hvciwgdGhpcy5oZWFkKTsgfSxcbiAgICBlbXB0eTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWFkLmxpbmUgPT0gdGhpcy5hbmNob3IubGluZSAmJiB0aGlzLmhlYWQuY2ggPT0gdGhpcy5hbmNob3IuY2g7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRha2UgYW4gdW5zb3J0ZWQsIHBvdGVudGlhbGx5IG92ZXJsYXBwaW5nIHNldCBvZiByYW5nZXMsIGFuZFxuICAvLyBidWlsZCBhIHNlbGVjdGlvbiBvdXQgb2YgaXQuICdDb25zdW1lcycgcmFuZ2VzIGFycmF5IChtb2RpZnlpbmdcbiAgLy8gaXQpLlxuICBmdW5jdGlvbiBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLCBwcmltSW5kZXgpIHtcbiAgICB2YXIgcHJpbSA9IHJhbmdlc1twcmltSW5kZXhdO1xuICAgIHJhbmdlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGNtcChhLmZyb20oKSwgYi5mcm9tKCkpOyB9KTtcbiAgICBwcmltSW5kZXggPSBpbmRleE9mKHJhbmdlcywgcHJpbSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjdXIgPSByYW5nZXNbaV0sIHByZXYgPSByYW5nZXNbaSAtIDFdO1xuICAgICAgaWYgKGNtcChwcmV2LnRvKCksIGN1ci5mcm9tKCkpID49IDApIHtcbiAgICAgICAgdmFyIGZyb20gPSBtaW5Qb3MocHJldi5mcm9tKCksIGN1ci5mcm9tKCkpLCB0byA9IG1heFBvcyhwcmV2LnRvKCksIGN1ci50bygpKTtcbiAgICAgICAgdmFyIGludiA9IHByZXYuZW1wdHkoKSA/IGN1ci5mcm9tKCkgPT0gY3VyLmhlYWQgOiBwcmV2LmZyb20oKSA9PSBwcmV2LmhlYWQ7XG4gICAgICAgIGlmIChpIDw9IHByaW1JbmRleCkgLS1wcmltSW5kZXg7XG4gICAgICAgIHJhbmdlcy5zcGxpY2UoLS1pLCAyLCBuZXcgUmFuZ2UoaW52ID8gdG8gOiBmcm9tLCBpbnYgPyBmcm9tIDogdG8pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24ocmFuZ2VzLCBwcmltSW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCkge1xuICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKFtuZXcgUmFuZ2UoYW5jaG9yLCBoZWFkIHx8IGFuY2hvcildLCAwKTtcbiAgfVxuXG4gIC8vIE1vc3Qgb2YgdGhlIGV4dGVybmFsIEFQSSBjbGlwcyBnaXZlbiBwb3NpdGlvbnMgdG8gbWFrZSBzdXJlIHRoZXlcbiAgLy8gYWN0dWFsbHkgZXhpc3Qgd2l0aGluIHRoZSBkb2N1bWVudC5cbiAgZnVuY3Rpb24gY2xpcExpbmUoZG9jLCBuKSB7cmV0dXJuIE1hdGgubWF4KGRvYy5maXJzdCwgTWF0aC5taW4obiwgZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxKSk7fVxuICBmdW5jdGlvbiBjbGlwUG9zKGRvYywgcG9zKSB7XG4gICAgaWYgKHBvcy5saW5lIDwgZG9jLmZpcnN0KSByZXR1cm4gUG9zKGRvYy5maXJzdCwgMCk7XG4gICAgdmFyIGxhc3QgPSBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDE7XG4gICAgaWYgKHBvcy5saW5lID4gbGFzdCkgcmV0dXJuIFBvcyhsYXN0LCBnZXRMaW5lKGRvYywgbGFzdCkudGV4dC5sZW5ndGgpO1xuICAgIHJldHVybiBjbGlwVG9MZW4ocG9zLCBnZXRMaW5lKGRvYywgcG9zLmxpbmUpLnRleHQubGVuZ3RoKTtcbiAgfVxuICBmdW5jdGlvbiBjbGlwVG9MZW4ocG9zLCBsaW5lbGVuKSB7XG4gICAgdmFyIGNoID0gcG9zLmNoO1xuICAgIGlmIChjaCA9PSBudWxsIHx8IGNoID4gbGluZWxlbikgcmV0dXJuIFBvcyhwb3MubGluZSwgbGluZWxlbik7XG4gICAgZWxzZSBpZiAoY2ggPCAwKSByZXR1cm4gUG9zKHBvcy5saW5lLCAwKTtcbiAgICBlbHNlIHJldHVybiBwb3M7XG4gIH1cbiAgZnVuY3Rpb24gaXNMaW5lKGRvYywgbCkge3JldHVybiBsID49IGRvYy5maXJzdCAmJiBsIDwgZG9jLmZpcnN0ICsgZG9jLnNpemU7fVxuICBmdW5jdGlvbiBjbGlwUG9zQXJyYXkoZG9jLCBhcnJheSkge1xuICAgIGZvciAodmFyIG91dCA9IFtdLCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSBvdXRbaV0gPSBjbGlwUG9zKGRvYywgYXJyYXlbaV0pO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICAvLyBTRUxFQ1RJT04gVVBEQVRFU1xuXG4gIC8vIFRoZSAnc2Nyb2xsJyBwYXJhbWV0ZXIgZ2l2ZW4gdG8gbWFueSBvZiB0aGVzZSBpbmRpY2F0ZWQgd2hldGhlclxuICAvLyB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbiBzaG91bGQgYmUgc2Nyb2xsZWQgaW50byB2aWV3IGFmdGVyXG4gIC8vIG1vZGlmeWluZyB0aGUgc2VsZWN0aW9uLlxuXG4gIC8vIElmIHNoaWZ0IGlzIGhlbGQgb3IgdGhlIGV4dGVuZCBmbGFnIGlzIHNldCwgZXh0ZW5kcyBhIHJhbmdlIHRvXG4gIC8vIGluY2x1ZGUgYSBnaXZlbiBwb3NpdGlvbiAoYW5kIG9wdGlvbmFsbHkgYSBzZWNvbmQgcG9zaXRpb24pLlxuICAvLyBPdGhlcndpc2UsIHNpbXBseSByZXR1cm5zIHRoZSByYW5nZSBiZXR3ZWVuIHRoZSBnaXZlbiBwb3NpdGlvbnMuXG4gIC8vIFVzZWQgZm9yIGN1cnNvciBtb3Rpb24gYW5kIHN1Y2guXG4gIGZ1bmN0aW9uIGV4dGVuZFJhbmdlKGRvYywgcmFuZ2UsIGhlYWQsIG90aGVyKSB7XG4gICAgaWYgKGRvYy5jbSAmJiBkb2MuY20uZGlzcGxheS5zaGlmdCB8fCBkb2MuZXh0ZW5kKSB7XG4gICAgICB2YXIgYW5jaG9yID0gcmFuZ2UuYW5jaG9yO1xuICAgICAgaWYgKG90aGVyKSB7XG4gICAgICAgIHZhciBwb3NCZWZvcmUgPSBjbXAoaGVhZCwgYW5jaG9yKSA8IDA7XG4gICAgICAgIGlmIChwb3NCZWZvcmUgIT0gKGNtcChvdGhlciwgYW5jaG9yKSA8IDApKSB7XG4gICAgICAgICAgYW5jaG9yID0gaGVhZDtcbiAgICAgICAgICBoZWFkID0gb3RoZXI7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zQmVmb3JlICE9IChjbXAoaGVhZCwgb3RoZXIpIDwgMCkpIHtcbiAgICAgICAgICBoZWFkID0gb3RoZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUmFuZ2UoYW5jaG9yLCBoZWFkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZShvdGhlciB8fCBoZWFkLCBoZWFkKTtcbiAgICB9XG4gIH1cblxuICAvLyBFeHRlbmQgdGhlIHByaW1hcnkgc2VsZWN0aW9uIHJhbmdlLCBkaXNjYXJkIHRoZSByZXN0LlxuICBmdW5jdGlvbiBleHRlbmRTZWxlY3Rpb24oZG9jLCBoZWFkLCBvdGhlciwgb3B0aW9ucykge1xuICAgIHNldFNlbGVjdGlvbihkb2MsIG5ldyBTZWxlY3Rpb24oW2V4dGVuZFJhbmdlKGRvYywgZG9jLnNlbC5wcmltYXJ5KCksIGhlYWQsIG90aGVyKV0sIDApLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8vIEV4dGVuZCBhbGwgc2VsZWN0aW9ucyAocG9zIGlzIGFuIGFycmF5IG9mIHNlbGVjdGlvbnMgd2l0aCBsZW5ndGhcbiAgLy8gZXF1YWwgdGhlIG51bWJlciBvZiBzZWxlY3Rpb25zKVxuICBmdW5jdGlvbiBleHRlbmRTZWxlY3Rpb25zKGRvYywgaGVhZHMsIG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBvdXQgPSBbXSwgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgIG91dFtpXSA9IGV4dGVuZFJhbmdlKGRvYywgZG9jLnNlbC5yYW5nZXNbaV0sIGhlYWRzW2ldLCBudWxsKTtcbiAgICB2YXIgbmV3U2VsID0gbm9ybWFsaXplU2VsZWN0aW9uKG91dCwgZG9jLnNlbC5wcmltSW5kZXgpO1xuICAgIHNldFNlbGVjdGlvbihkb2MsIG5ld1NlbCwgb3B0aW9ucyk7XG4gIH1cblxuICAvLyBVcGRhdGVzIGEgc2luZ2xlIHJhbmdlIGluIHRoZSBzZWxlY3Rpb24uXG4gIGZ1bmN0aW9uIHJlcGxhY2VPbmVTZWxlY3Rpb24oZG9jLCBpLCByYW5nZSwgb3B0aW9ucykge1xuICAgIHZhciByYW5nZXMgPSBkb2Muc2VsLnJhbmdlcy5zbGljZSgwKTtcbiAgICByYW5nZXNbaV0gPSByYW5nZTtcbiAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLCBkb2Muc2VsLnByaW1JbmRleCksIG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gUmVzZXQgdGhlIHNlbGVjdGlvbiB0byBhIHNpbmdsZSByYW5nZS5cbiAgZnVuY3Rpb24gc2V0U2ltcGxlU2VsZWN0aW9uKGRvYywgYW5jaG9yLCBoZWFkLCBvcHRpb25zKSB7XG4gICAgc2V0U2VsZWN0aW9uKGRvYywgc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCksIG9wdGlvbnMpO1xuICB9XG5cbiAgLy8gR2l2ZSBiZWZvcmVTZWxlY3Rpb25DaGFuZ2UgaGFuZGxlcnMgYSBjaGFuZ2UgdG8gaW5mbHVlbmNlIGFcbiAgLy8gc2VsZWN0aW9uIHVwZGF0ZS5cbiAgZnVuY3Rpb24gZmlsdGVyU2VsZWN0aW9uQ2hhbmdlKGRvYywgc2VsLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIHJhbmdlczogc2VsLnJhbmdlcyxcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24ocmFuZ2VzKSB7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHRoaXMucmFuZ2VzW2ldID0gbmV3IFJhbmdlKGNsaXBQb3MoZG9jLCByYW5nZXNbaV0uYW5jaG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwUG9zKGRvYywgcmFuZ2VzW2ldLmhlYWQpKTtcbiAgICAgIH0sXG4gICAgICBvcmlnaW46IG9wdGlvbnMgJiYgb3B0aW9ucy5vcmlnaW5cbiAgICB9O1xuICAgIHNpZ25hbChkb2MsIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsIGRvYywgb2JqKTtcbiAgICBpZiAoZG9jLmNtKSBzaWduYWwoZG9jLmNtLCBcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiLCBkb2MuY20sIG9iaik7XG4gICAgaWYgKG9iai5yYW5nZXMgIT0gc2VsLnJhbmdlcykgcmV0dXJuIG5vcm1hbGl6ZVNlbGVjdGlvbihvYmoucmFuZ2VzLCBvYmoucmFuZ2VzLmxlbmd0aCAtIDEpO1xuICAgIGVsc2UgcmV0dXJuIHNlbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvblJlcGxhY2VIaXN0b3J5KGRvYywgc2VsLCBvcHRpb25zKSB7XG4gICAgdmFyIGRvbmUgPSBkb2MuaGlzdG9yeS5kb25lLCBsYXN0ID0gbHN0KGRvbmUpO1xuICAgIGlmIChsYXN0ICYmIGxhc3QucmFuZ2VzKSB7XG4gICAgICBkb25lW2RvbmUubGVuZ3RoIC0gMV0gPSBzZWw7XG4gICAgICBzZXRTZWxlY3Rpb25Ob1VuZG8oZG9jLCBzZWwsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTZWxlY3Rpb24oZG9jLCBzZWwsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNldCBhIG5ldyBzZWxlY3Rpb24uXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvbihkb2MsIHNlbCwgb3B0aW9ucykge1xuICAgIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbCwgb3B0aW9ucyk7XG4gICAgYWRkU2VsZWN0aW9uVG9IaXN0b3J5KGRvYywgZG9jLnNlbCwgZG9jLmNtID8gZG9jLmNtLmN1ck9wLmlkIDogTmFOLCBvcHRpb25zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbCwgb3B0aW9ucykge1xuICAgIGlmIChoYXNIYW5kbGVyKGRvYywgXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIikgfHwgZG9jLmNtICYmIGhhc0hhbmRsZXIoZG9jLmNtLCBcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiKSlcbiAgICAgIHNlbCA9IGZpbHRlclNlbGVjdGlvbkNoYW5nZShkb2MsIHNlbCwgb3B0aW9ucyk7XG5cbiAgICB2YXIgYmlhcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5iaWFzIHx8XG4gICAgICAoY21wKHNlbC5wcmltYXJ5KCkuaGVhZCwgZG9jLnNlbC5wcmltYXJ5KCkuaGVhZCkgPCAwID8gLTEgOiAxKTtcbiAgICBzZXRTZWxlY3Rpb25Jbm5lcihkb2MsIHNraXBBdG9taWNJblNlbGVjdGlvbihkb2MsIHNlbCwgYmlhcywgdHJ1ZSkpO1xuXG4gICAgaWYgKCEob3B0aW9ucyAmJiBvcHRpb25zLnNjcm9sbCA9PT0gZmFsc2UpICYmIGRvYy5jbSlcbiAgICAgIGVuc3VyZUN1cnNvclZpc2libGUoZG9jLmNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvbklubmVyKGRvYywgc2VsKSB7XG4gICAgaWYgKHNlbC5lcXVhbHMoZG9jLnNlbCkpIHJldHVybjtcblxuICAgIGRvYy5zZWwgPSBzZWw7XG5cbiAgICBpZiAoZG9jLmNtKSB7XG4gICAgICBkb2MuY20uY3VyT3AudXBkYXRlSW5wdXQgPSBkb2MuY20uY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZCA9IHRydWU7XG4gICAgICBzaWduYWxDdXJzb3JBY3Rpdml0eShkb2MuY20pO1xuICAgIH1cbiAgICBzaWduYWxMYXRlcihkb2MsIFwiY3Vyc29yQWN0aXZpdHlcIiwgZG9jKTtcbiAgfVxuXG4gIC8vIFZlcmlmeSB0aGF0IHRoZSBzZWxlY3Rpb24gZG9lcyBub3QgcGFydGlhbGx5IHNlbGVjdCBhbnkgYXRvbWljXG4gIC8vIG1hcmtlZCByYW5nZXMuXG4gIGZ1bmN0aW9uIHJlQ2hlY2tTZWxlY3Rpb24oZG9jKSB7XG4gICAgc2V0U2VsZWN0aW9uSW5uZXIoZG9jLCBza2lwQXRvbWljSW5TZWxlY3Rpb24oZG9jLCBkb2Muc2VsLCBudWxsLCBmYWxzZSksIHNlbF9kb250U2Nyb2xsKTtcbiAgfVxuXG4gIC8vIFJldHVybiBhIHNlbGVjdGlvbiB0aGF0IGRvZXMgbm90IHBhcnRpYWxseSBzZWxlY3QgYW55IGF0b21pY1xuICAvLyByYW5nZXMuXG4gIGZ1bmN0aW9uIHNraXBBdG9taWNJblNlbGVjdGlvbihkb2MsIHNlbCwgYmlhcywgbWF5Q2xlYXIpIHtcbiAgICB2YXIgb3V0O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJhbmdlID0gc2VsLnJhbmdlc1tpXTtcbiAgICAgIHZhciBvbGQgPSBzZWwucmFuZ2VzLmxlbmd0aCA9PSBkb2Muc2VsLnJhbmdlcy5sZW5ndGggJiYgZG9jLnNlbC5yYW5nZXNbaV07XG4gICAgICB2YXIgbmV3QW5jaG9yID0gc2tpcEF0b21pYyhkb2MsIHJhbmdlLmFuY2hvciwgb2xkICYmIG9sZC5hbmNob3IsIGJpYXMsIG1heUNsZWFyKTtcbiAgICAgIHZhciBuZXdIZWFkID0gc2tpcEF0b21pYyhkb2MsIHJhbmdlLmhlYWQsIG9sZCAmJiBvbGQuaGVhZCwgYmlhcywgbWF5Q2xlYXIpO1xuICAgICAgaWYgKG91dCB8fCBuZXdBbmNob3IgIT0gcmFuZ2UuYW5jaG9yIHx8IG5ld0hlYWQgIT0gcmFuZ2UuaGVhZCkge1xuICAgICAgICBpZiAoIW91dCkgb3V0ID0gc2VsLnJhbmdlcy5zbGljZSgwLCBpKTtcbiAgICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKG5ld0FuY2hvciwgbmV3SGVhZCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQgPyBub3JtYWxpemVTZWxlY3Rpb24ob3V0LCBzZWwucHJpbUluZGV4KSA6IHNlbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNraXBBdG9taWNJbm5lcihkb2MsIHBvcywgb2xkUG9zLCBkaXIsIG1heUNsZWFyKSB7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgcG9zLmxpbmUpO1xuICAgIGlmIChsaW5lLm1hcmtlZFNwYW5zKSBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcCA9IGxpbmUubWFya2VkU3BhbnNbaV0sIG0gPSBzcC5tYXJrZXI7XG4gICAgICBpZiAoKHNwLmZyb20gPT0gbnVsbCB8fCAobS5pbmNsdXNpdmVMZWZ0ID8gc3AuZnJvbSA8PSBwb3MuY2ggOiBzcC5mcm9tIDwgcG9zLmNoKSkgJiZcbiAgICAgICAgICAoc3AudG8gPT0gbnVsbCB8fCAobS5pbmNsdXNpdmVSaWdodCA/IHNwLnRvID49IHBvcy5jaCA6IHNwLnRvID4gcG9zLmNoKSkpIHtcbiAgICAgICAgaWYgKG1heUNsZWFyKSB7XG4gICAgICAgICAgc2lnbmFsKG0sIFwiYmVmb3JlQ3Vyc29yRW50ZXJcIik7XG4gICAgICAgICAgaWYgKG0uZXhwbGljaXRseUNsZWFyZWQpIHtcbiAgICAgICAgICAgIGlmICghbGluZS5tYXJrZWRTcGFucykgYnJlYWs7XG4gICAgICAgICAgICBlbHNlIHstLWk7IGNvbnRpbnVlO31cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtLmF0b21pYykgY29udGludWU7XG5cbiAgICAgICAgaWYgKG9sZFBvcykge1xuICAgICAgICAgIHZhciBuZWFyID0gbS5maW5kKGRpciA8IDAgPyAxIDogLTEpLCBkaWZmO1xuICAgICAgICAgIGlmIChkaXIgPCAwID8gbS5pbmNsdXNpdmVSaWdodCA6IG0uaW5jbHVzaXZlTGVmdClcbiAgICAgICAgICAgIG5lYXIgPSBtb3ZlUG9zKGRvYywgbmVhciwgLWRpciwgbmVhciAmJiBuZWFyLmxpbmUgPT0gcG9zLmxpbmUgPyBsaW5lIDogbnVsbCk7XG4gICAgICAgICAgaWYgKG5lYXIgJiYgbmVhci5saW5lID09IHBvcy5saW5lICYmIChkaWZmID0gY21wKG5lYXIsIG9sZFBvcykpICYmIChkaXIgPCAwID8gZGlmZiA8IDAgOiBkaWZmID4gMCkpXG4gICAgICAgICAgICByZXR1cm4gc2tpcEF0b21pY0lubmVyKGRvYywgbmVhciwgcG9zLCBkaXIsIG1heUNsZWFyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmYXIgPSBtLmZpbmQoZGlyIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIGlmIChkaXIgPCAwID8gbS5pbmNsdXNpdmVMZWZ0IDogbS5pbmNsdXNpdmVSaWdodClcbiAgICAgICAgICBmYXIgPSBtb3ZlUG9zKGRvYywgZmFyLCBkaXIsIGZhci5saW5lID09IHBvcy5saW5lID8gbGluZSA6IG51bGwpO1xuICAgICAgICByZXR1cm4gZmFyID8gc2tpcEF0b21pY0lubmVyKGRvYywgZmFyLCBwb3MsIGRpciwgbWF5Q2xlYXIpIDogbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBvcztcbiAgfVxuXG4gIC8vIEVuc3VyZSBhIGdpdmVuIHBvc2l0aW9uIGlzIG5vdCBpbnNpZGUgYW4gYXRvbWljIHJhbmdlLlxuICBmdW5jdGlvbiBza2lwQXRvbWljKGRvYywgcG9zLCBvbGRQb3MsIGJpYXMsIG1heUNsZWFyKSB7XG4gICAgdmFyIGRpciA9IGJpYXMgfHwgMTtcbiAgICB2YXIgZm91bmQgPSBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgZGlyLCBtYXlDbGVhcikgfHxcbiAgICAgICAgKCFtYXlDbGVhciAmJiBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgZGlyLCB0cnVlKSkgfHxcbiAgICAgICAgc2tpcEF0b21pY0lubmVyKGRvYywgcG9zLCBvbGRQb3MsIC1kaXIsIG1heUNsZWFyKSB8fFxuICAgICAgICAoIW1heUNsZWFyICYmIHNraXBBdG9taWNJbm5lcihkb2MsIHBvcywgb2xkUG9zLCAtZGlyLCB0cnVlKSk7XG4gICAgaWYgKCFmb3VuZCkge1xuICAgICAgZG9jLmNhbnRFZGl0ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBQb3MoZG9jLmZpcnN0LCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG5cbiAgZnVuY3Rpb24gbW92ZVBvcyhkb2MsIHBvcywgZGlyLCBsaW5lKSB7XG4gICAgaWYgKGRpciA8IDAgJiYgcG9zLmNoID09IDApIHtcbiAgICAgIGlmIChwb3MubGluZSA+IGRvYy5maXJzdCkgcmV0dXJuIGNsaXBQb3MoZG9jLCBQb3MocG9zLmxpbmUgLSAxKSk7XG4gICAgICBlbHNlIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAoZGlyID4gMCAmJiBwb3MuY2ggPT0gKGxpbmUgfHwgZ2V0TGluZShkb2MsIHBvcy5saW5lKSkudGV4dC5sZW5ndGgpIHtcbiAgICAgIGlmIChwb3MubGluZSA8IGRvYy5maXJzdCArIGRvYy5zaXplIC0gMSkgcmV0dXJuIFBvcyhwb3MubGluZSArIDEsIDApO1xuICAgICAgZWxzZSByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBQb3MocG9zLmxpbmUsIHBvcy5jaCArIGRpcik7XG4gICAgfVxuICB9XG5cbiAgLy8gU0VMRUNUSU9OIERSQVdJTkdcblxuICBmdW5jdGlvbiB1cGRhdGVTZWxlY3Rpb24oY20pIHtcbiAgICBjbS5kaXNwbGF5LmlucHV0LnNob3dTZWxlY3Rpb24oY20uZGlzcGxheS5pbnB1dC5wcmVwYXJlU2VsZWN0aW9uKCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlcGFyZVNlbGVjdGlvbihjbSwgcHJpbWFyeSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIHJlc3VsdCA9IHt9O1xuICAgIHZhciBjdXJGcmFnbWVudCA9IHJlc3VsdC5jdXJzb3JzID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIHZhciBzZWxGcmFnbWVudCA9IHJlc3VsdC5zZWxlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocHJpbWFyeSA9PT0gZmFsc2UgJiYgaSA9PSBkb2Muc2VsLnByaW1JbmRleCkgY29udGludWU7XG4gICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnJhbmdlc1tpXTtcbiAgICAgIGlmIChyYW5nZS5mcm9tKCkubGluZSA+PSBjbS5kaXNwbGF5LnZpZXdUbyB8fCByYW5nZS50bygpLmxpbmUgPCBjbS5kaXNwbGF5LnZpZXdGcm9tKSBjb250aW51ZTtcbiAgICAgIHZhciBjb2xsYXBzZWQgPSByYW5nZS5lbXB0eSgpO1xuICAgICAgaWYgKGNvbGxhcHNlZCB8fCBjbS5vcHRpb25zLnNob3dDdXJzb3JXaGVuU2VsZWN0aW5nKVxuICAgICAgICBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCByYW5nZS5oZWFkLCBjdXJGcmFnbWVudCk7XG4gICAgICBpZiAoIWNvbGxhcHNlZClcbiAgICAgICAgZHJhd1NlbGVjdGlvblJhbmdlKGNtLCByYW5nZSwgc2VsRnJhZ21lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gRHJhd3MgYSBjdXJzb3IgZm9yIHRoZSBnaXZlbiByYW5nZVxuICBmdW5jdGlvbiBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCBoZWFkLCBvdXRwdXQpIHtcbiAgICB2YXIgcG9zID0gY3Vyc29yQ29vcmRzKGNtLCBoZWFkLCBcImRpdlwiLCBudWxsLCBudWxsLCAhY20ub3B0aW9ucy5zaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lKTtcblxuICAgIHZhciBjdXJzb3IgPSBvdXRwdXQuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIFwiXFx1MDBhMFwiLCBcIkNvZGVNaXJyb3ItY3Vyc29yXCIpKTtcbiAgICBjdXJzb3Iuc3R5bGUubGVmdCA9IHBvcy5sZWZ0ICsgXCJweFwiO1xuICAgIGN1cnNvci5zdHlsZS50b3AgPSBwb3MudG9wICsgXCJweFwiO1xuICAgIGN1cnNvci5zdHlsZS5oZWlnaHQgPSBNYXRoLm1heCgwLCBwb3MuYm90dG9tIC0gcG9zLnRvcCkgKiBjbS5vcHRpb25zLmN1cnNvckhlaWdodCArIFwicHhcIjtcblxuICAgIGlmIChwb3Mub3RoZXIpIHtcbiAgICAgIC8vIFNlY29uZGFyeSBjdXJzb3IsIHNob3duIHdoZW4gb24gYSAnanVtcCcgaW4gYmktZGlyZWN0aW9uYWwgdGV4dFxuICAgICAgdmFyIG90aGVyQ3Vyc29yID0gb3V0cHV0LmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBcIlxcdTAwYTBcIiwgXCJDb2RlTWlycm9yLWN1cnNvciBDb2RlTWlycm9yLXNlY29uZGFyeWN1cnNvclwiKSk7XG4gICAgICBvdGhlckN1cnNvci5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgIG90aGVyQ3Vyc29yLnN0eWxlLmxlZnQgPSBwb3Mub3RoZXIubGVmdCArIFwicHhcIjtcbiAgICAgIG90aGVyQ3Vyc29yLnN0eWxlLnRvcCA9IHBvcy5vdGhlci50b3AgKyBcInB4XCI7XG4gICAgICBvdGhlckN1cnNvci5zdHlsZS5oZWlnaHQgPSAocG9zLm90aGVyLmJvdHRvbSAtIHBvcy5vdGhlci50b3ApICogLjg1ICsgXCJweFwiO1xuICAgIH1cbiAgfVxuXG4gIC8vIERyYXdzIHRoZSBnaXZlbiByYW5nZSBhcyBhIGhpZ2hsaWdodGVkIHNlbGVjdGlvblxuICBmdW5jdGlvbiBkcmF3U2VsZWN0aW9uUmFuZ2UoY20sIHJhbmdlLCBvdXRwdXQpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgdmFyIHBhZGRpbmcgPSBwYWRkaW5nSChjbS5kaXNwbGF5KSwgbGVmdFNpZGUgPSBwYWRkaW5nLmxlZnQ7XG4gICAgdmFyIHJpZ2h0U2lkZSA9IE1hdGgubWF4KGRpc3BsYXkuc2l6ZXJXaWR0aCwgZGlzcGxheVdpZHRoKGNtKSAtIGRpc3BsYXkuc2l6ZXIub2Zmc2V0TGVmdCkgLSBwYWRkaW5nLnJpZ2h0O1xuXG4gICAgZnVuY3Rpb24gYWRkKGxlZnQsIHRvcCwgd2lkdGgsIGJvdHRvbSkge1xuICAgICAgaWYgKHRvcCA8IDApIHRvcCA9IDA7XG4gICAgICB0b3AgPSBNYXRoLnJvdW5kKHRvcCk7XG4gICAgICBib3R0b20gPSBNYXRoLnJvdW5kKGJvdHRvbSk7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLXNlbGVjdGVkXCIsIFwicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiBcIiArIGxlZnQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHg7IHRvcDogXCIgKyB0b3AgKyBcInB4OyB3aWR0aDogXCIgKyAod2lkdGggPT0gbnVsbCA/IHJpZ2h0U2lkZSAtIGxlZnQgOiB3aWR0aCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHg7IGhlaWdodDogXCIgKyAoYm90dG9tIC0gdG9wKSArIFwicHhcIikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdGb3JMaW5lKGxpbmUsIGZyb21BcmcsIHRvQXJnKSB7XG4gICAgICB2YXIgbGluZU9iaiA9IGdldExpbmUoZG9jLCBsaW5lKTtcbiAgICAgIHZhciBsaW5lTGVuID0gbGluZU9iai50ZXh0Lmxlbmd0aDtcbiAgICAgIHZhciBzdGFydCwgZW5kO1xuICAgICAgZnVuY3Rpb24gY29vcmRzKGNoLCBiaWFzKSB7XG4gICAgICAgIHJldHVybiBjaGFyQ29vcmRzKGNtLCBQb3MobGluZSwgY2gpLCBcImRpdlwiLCBsaW5lT2JqLCBiaWFzKTtcbiAgICAgIH1cblxuICAgICAgaXRlcmF0ZUJpZGlTZWN0aW9ucyhnZXRPcmRlcihsaW5lT2JqKSwgZnJvbUFyZyB8fCAwLCB0b0FyZyA9PSBudWxsID8gbGluZUxlbiA6IHRvQXJnLCBmdW5jdGlvbihmcm9tLCB0bywgZGlyKSB7XG4gICAgICAgIHZhciBsZWZ0UG9zID0gY29vcmRzKGZyb20sIFwibGVmdFwiKSwgcmlnaHRQb3MsIGxlZnQsIHJpZ2h0O1xuICAgICAgICBpZiAoZnJvbSA9PSB0bykge1xuICAgICAgICAgIHJpZ2h0UG9zID0gbGVmdFBvcztcbiAgICAgICAgICBsZWZ0ID0gcmlnaHQgPSBsZWZ0UG9zLmxlZnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmlnaHRQb3MgPSBjb29yZHModG8gLSAxLCBcInJpZ2h0XCIpO1xuICAgICAgICAgIGlmIChkaXIgPT0gXCJydGxcIikgeyB2YXIgdG1wID0gbGVmdFBvczsgbGVmdFBvcyA9IHJpZ2h0UG9zOyByaWdodFBvcyA9IHRtcDsgfVxuICAgICAgICAgIGxlZnQgPSBsZWZ0UG9zLmxlZnQ7XG4gICAgICAgICAgcmlnaHQgPSByaWdodFBvcy5yaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJvbUFyZyA9PSBudWxsICYmIGZyb20gPT0gMCkgbGVmdCA9IGxlZnRTaWRlO1xuICAgICAgICBpZiAocmlnaHRQb3MudG9wIC0gbGVmdFBvcy50b3AgPiAzKSB7IC8vIERpZmZlcmVudCBsaW5lcywgZHJhdyB0b3AgcGFydFxuICAgICAgICAgIGFkZChsZWZ0LCBsZWZ0UG9zLnRvcCwgbnVsbCwgbGVmdFBvcy5ib3R0b20pO1xuICAgICAgICAgIGxlZnQgPSBsZWZ0U2lkZTtcbiAgICAgICAgICBpZiAobGVmdFBvcy5ib3R0b20gPCByaWdodFBvcy50b3ApIGFkZChsZWZ0LCBsZWZ0UG9zLmJvdHRvbSwgbnVsbCwgcmlnaHRQb3MudG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9BcmcgPT0gbnVsbCAmJiB0byA9PSBsaW5lTGVuKSByaWdodCA9IHJpZ2h0U2lkZTtcbiAgICAgICAgaWYgKCFzdGFydCB8fCBsZWZ0UG9zLnRvcCA8IHN0YXJ0LnRvcCB8fCBsZWZ0UG9zLnRvcCA9PSBzdGFydC50b3AgJiYgbGVmdFBvcy5sZWZ0IDwgc3RhcnQubGVmdClcbiAgICAgICAgICBzdGFydCA9IGxlZnRQb3M7XG4gICAgICAgIGlmICghZW5kIHx8IHJpZ2h0UG9zLmJvdHRvbSA+IGVuZC5ib3R0b20gfHwgcmlnaHRQb3MuYm90dG9tID09IGVuZC5ib3R0b20gJiYgcmlnaHRQb3MucmlnaHQgPiBlbmQucmlnaHQpXG4gICAgICAgICAgZW5kID0gcmlnaHRQb3M7XG4gICAgICAgIGlmIChsZWZ0IDwgbGVmdFNpZGUgKyAxKSBsZWZ0ID0gbGVmdFNpZGU7XG4gICAgICAgIGFkZChsZWZ0LCByaWdodFBvcy50b3AsIHJpZ2h0IC0gbGVmdCwgcmlnaHRQb3MuYm90dG9tKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtzdGFydDogc3RhcnQsIGVuZDogZW5kfTtcbiAgICB9XG5cbiAgICB2YXIgc0Zyb20gPSByYW5nZS5mcm9tKCksIHNUbyA9IHJhbmdlLnRvKCk7XG4gICAgaWYgKHNGcm9tLmxpbmUgPT0gc1RvLmxpbmUpIHtcbiAgICAgIGRyYXdGb3JMaW5lKHNGcm9tLmxpbmUsIHNGcm9tLmNoLCBzVG8uY2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZnJvbUxpbmUgPSBnZXRMaW5lKGRvYywgc0Zyb20ubGluZSksIHRvTGluZSA9IGdldExpbmUoZG9jLCBzVG8ubGluZSk7XG4gICAgICB2YXIgc2luZ2xlVkxpbmUgPSB2aXN1YWxMaW5lKGZyb21MaW5lKSA9PSB2aXN1YWxMaW5lKHRvTGluZSk7XG4gICAgICB2YXIgbGVmdEVuZCA9IGRyYXdGb3JMaW5lKHNGcm9tLmxpbmUsIHNGcm9tLmNoLCBzaW5nbGVWTGluZSA/IGZyb21MaW5lLnRleHQubGVuZ3RoICsgMSA6IG51bGwpLmVuZDtcbiAgICAgIHZhciByaWdodFN0YXJ0ID0gZHJhd0ZvckxpbmUoc1RvLmxpbmUsIHNpbmdsZVZMaW5lID8gMCA6IG51bGwsIHNUby5jaCkuc3RhcnQ7XG4gICAgICBpZiAoc2luZ2xlVkxpbmUpIHtcbiAgICAgICAgaWYgKGxlZnRFbmQudG9wIDwgcmlnaHRTdGFydC50b3AgLSAyKSB7XG4gICAgICAgICAgYWRkKGxlZnRFbmQucmlnaHQsIGxlZnRFbmQudG9wLCBudWxsLCBsZWZ0RW5kLmJvdHRvbSk7XG4gICAgICAgICAgYWRkKGxlZnRTaWRlLCByaWdodFN0YXJ0LnRvcCwgcmlnaHRTdGFydC5sZWZ0LCByaWdodFN0YXJ0LmJvdHRvbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkKGxlZnRFbmQucmlnaHQsIGxlZnRFbmQudG9wLCByaWdodFN0YXJ0LmxlZnQgLSBsZWZ0RW5kLnJpZ2h0LCBsZWZ0RW5kLmJvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsZWZ0RW5kLmJvdHRvbSA8IHJpZ2h0U3RhcnQudG9wKVxuICAgICAgICBhZGQobGVmdFNpZGUsIGxlZnRFbmQuYm90dG9tLCBudWxsLCByaWdodFN0YXJ0LnRvcCk7XG4gICAgfVxuXG4gICAgb3V0cHV0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgfVxuXG4gIC8vIEN1cnNvci1ibGlua2luZ1xuICBmdW5jdGlvbiByZXN0YXJ0QmxpbmsoY20pIHtcbiAgICBpZiAoIWNtLnN0YXRlLmZvY3VzZWQpIHJldHVybjtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgY2xlYXJJbnRlcnZhbChkaXNwbGF5LmJsaW5rZXIpO1xuICAgIHZhciBvbiA9IHRydWU7XG4gICAgZGlzcGxheS5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eSA9IFwiXCI7XG4gICAgaWYgKGNtLm9wdGlvbnMuY3Vyc29yQmxpbmtSYXRlID4gMClcbiAgICAgIGRpc3BsYXkuYmxpbmtlciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBkaXNwbGF5LmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5ID0gKG9uID0gIW9uKSA/IFwiXCIgOiBcImhpZGRlblwiO1xuICAgICAgfSwgY20ub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUpO1xuICAgIGVsc2UgaWYgKGNtLm9wdGlvbnMuY3Vyc29yQmxpbmtSYXRlIDwgMClcbiAgICAgIGRpc3BsYXkuY3Vyc29yRGl2LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICB9XG5cbiAgLy8gSElHSExJR0hUIFdPUktFUlxuXG4gIGZ1bmN0aW9uIHN0YXJ0V29ya2VyKGNtLCB0aW1lKSB7XG4gICAgaWYgKGNtLmRvYy5tb2RlLnN0YXJ0U3RhdGUgJiYgY20uZG9jLmZyb250aWVyIDwgY20uZGlzcGxheS52aWV3VG8pXG4gICAgICBjbS5zdGF0ZS5oaWdobGlnaHQuc2V0KHRpbWUsIGJpbmQoaGlnaGxpZ2h0V29ya2VyLCBjbSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGlnaGxpZ2h0V29ya2VyKGNtKSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYztcbiAgICBpZiAoZG9jLmZyb250aWVyIDwgZG9jLmZpcnN0KSBkb2MuZnJvbnRpZXIgPSBkb2MuZmlyc3Q7XG4gICAgaWYgKGRvYy5mcm9udGllciA+PSBjbS5kaXNwbGF5LnZpZXdUbykgcmV0dXJuO1xuICAgIHZhciBlbmQgPSArbmV3IERhdGUgKyBjbS5vcHRpb25zLndvcmtUaW1lO1xuICAgIHZhciBzdGF0ZSA9IGNvcHlTdGF0ZShkb2MubW9kZSwgZ2V0U3RhdGVCZWZvcmUoY20sIGRvYy5mcm9udGllcikpO1xuICAgIHZhciBjaGFuZ2VkTGluZXMgPSBbXTtcblxuICAgIGRvYy5pdGVyKGRvYy5mcm9udGllciwgTWF0aC5taW4oZG9jLmZpcnN0ICsgZG9jLnNpemUsIGNtLmRpc3BsYXkudmlld1RvICsgNTAwKSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKGRvYy5mcm9udGllciA+PSBjbS5kaXNwbGF5LnZpZXdGcm9tKSB7IC8vIFZpc2libGVcbiAgICAgICAgdmFyIG9sZFN0eWxlcyA9IGxpbmUuc3R5bGVzLCB0b29Mb25nID0gbGluZS50ZXh0Lmxlbmd0aCA+IGNtLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoO1xuICAgICAgICB2YXIgaGlnaGxpZ2h0ZWQgPSBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCB0b29Mb25nID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBzdGF0ZSwgdHJ1ZSk7XG4gICAgICAgIGxpbmUuc3R5bGVzID0gaGlnaGxpZ2h0ZWQuc3R5bGVzO1xuICAgICAgICB2YXIgb2xkQ2xzID0gbGluZS5zdHlsZUNsYXNzZXMsIG5ld0NscyA9IGhpZ2hsaWdodGVkLmNsYXNzZXM7XG4gICAgICAgIGlmIChuZXdDbHMpIGxpbmUuc3R5bGVDbGFzc2VzID0gbmV3Q2xzO1xuICAgICAgICBlbHNlIGlmIChvbGRDbHMpIGxpbmUuc3R5bGVDbGFzc2VzID0gbnVsbDtcbiAgICAgICAgdmFyIGlzY2hhbmdlID0gIW9sZFN0eWxlcyB8fCBvbGRTdHlsZXMubGVuZ3RoICE9IGxpbmUuc3R5bGVzLmxlbmd0aCB8fFxuICAgICAgICAgIG9sZENscyAhPSBuZXdDbHMgJiYgKCFvbGRDbHMgfHwgIW5ld0NscyB8fCBvbGRDbHMuYmdDbGFzcyAhPSBuZXdDbHMuYmdDbGFzcyB8fCBvbGRDbHMudGV4dENsYXNzICE9IG5ld0Nscy50ZXh0Q2xhc3MpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgIWlzY2hhbmdlICYmIGkgPCBvbGRTdHlsZXMubGVuZ3RoOyArK2kpIGlzY2hhbmdlID0gb2xkU3R5bGVzW2ldICE9IGxpbmUuc3R5bGVzW2ldO1xuICAgICAgICBpZiAoaXNjaGFuZ2UpIGNoYW5nZWRMaW5lcy5wdXNoKGRvYy5mcm9udGllcik7XG4gICAgICAgIGxpbmUuc3RhdGVBZnRlciA9IHRvb0xvbmcgPyBzdGF0ZSA6IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGxpbmUudGV4dC5sZW5ndGggPD0gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGgpXG4gICAgICAgICAgcHJvY2Vzc0xpbmUoY20sIGxpbmUudGV4dCwgc3RhdGUpO1xuICAgICAgICBsaW5lLnN0YXRlQWZ0ZXIgPSBkb2MuZnJvbnRpZXIgJSA1ID09IDAgPyBjb3B5U3RhdGUoZG9jLm1vZGUsIHN0YXRlKSA6IG51bGw7XG4gICAgICB9XG4gICAgICArK2RvYy5mcm9udGllcjtcbiAgICAgIGlmICgrbmV3IERhdGUgPiBlbmQpIHtcbiAgICAgICAgc3RhcnRXb3JrZXIoY20sIGNtLm9wdGlvbnMud29ya0RlbGF5KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGNoYW5nZWRMaW5lcy5sZW5ndGgpIHJ1bkluT3AoY20sIGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2VkTGluZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHJlZ0xpbmVDaGFuZ2UoY20sIGNoYW5nZWRMaW5lc1tpXSwgXCJ0ZXh0XCIpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gRmluZHMgdGhlIGxpbmUgdG8gc3RhcnQgd2l0aCB3aGVuIHN0YXJ0aW5nIGEgcGFyc2UuIFRyaWVzIHRvXG4gIC8vIGZpbmQgYSBsaW5lIHdpdGggYSBzdGF0ZUFmdGVyLCBzbyB0aGF0IGl0IGNhbiBzdGFydCB3aXRoIGFcbiAgLy8gdmFsaWQgc3RhdGUuIElmIHRoYXQgZmFpbHMsIGl0IHJldHVybnMgdGhlIGxpbmUgd2l0aCB0aGVcbiAgLy8gc21hbGxlc3QgaW5kZW50YXRpb24sIHdoaWNoIHRlbmRzIHRvIG5lZWQgdGhlIGxlYXN0IGNvbnRleHQgdG9cbiAgLy8gcGFyc2UgY29ycmVjdGx5LlxuICBmdW5jdGlvbiBmaW5kU3RhcnRMaW5lKGNtLCBuLCBwcmVjaXNlKSB7XG4gICAgdmFyIG1pbmluZGVudCwgbWlubGluZSwgZG9jID0gY20uZG9jO1xuICAgIHZhciBsaW0gPSBwcmVjaXNlID8gLTEgOiBuIC0gKGNtLmRvYy5tb2RlLmlubmVyTW9kZSA/IDEwMDAgOiAxMDApO1xuICAgIGZvciAodmFyIHNlYXJjaCA9IG47IHNlYXJjaCA+IGxpbTsgLS1zZWFyY2gpIHtcbiAgICAgIGlmIChzZWFyY2ggPD0gZG9jLmZpcnN0KSByZXR1cm4gZG9jLmZpcnN0O1xuICAgICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgc2VhcmNoIC0gMSk7XG4gICAgICBpZiAobGluZS5zdGF0ZUFmdGVyICYmICghcHJlY2lzZSB8fCBzZWFyY2ggPD0gZG9jLmZyb250aWVyKSkgcmV0dXJuIHNlYXJjaDtcbiAgICAgIHZhciBpbmRlbnRlZCA9IGNvdW50Q29sdW1uKGxpbmUudGV4dCwgbnVsbCwgY20ub3B0aW9ucy50YWJTaXplKTtcbiAgICAgIGlmIChtaW5saW5lID09IG51bGwgfHwgbWluaW5kZW50ID4gaW5kZW50ZWQpIHtcbiAgICAgICAgbWlubGluZSA9IHNlYXJjaCAtIDE7XG4gICAgICAgIG1pbmluZGVudCA9IGluZGVudGVkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWlubGluZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFN0YXRlQmVmb3JlKGNtLCBuLCBwcmVjaXNlKSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYywgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgaWYgKCFkb2MubW9kZS5zdGFydFN0YXRlKSByZXR1cm4gdHJ1ZTtcbiAgICB2YXIgcG9zID0gZmluZFN0YXJ0TGluZShjbSwgbiwgcHJlY2lzZSksIHN0YXRlID0gcG9zID4gZG9jLmZpcnN0ICYmIGdldExpbmUoZG9jLCBwb3MtMSkuc3RhdGVBZnRlcjtcbiAgICBpZiAoIXN0YXRlKSBzdGF0ZSA9IHN0YXJ0U3RhdGUoZG9jLm1vZGUpO1xuICAgIGVsc2Ugc3RhdGUgPSBjb3B5U3RhdGUoZG9jLm1vZGUsIHN0YXRlKTtcbiAgICBkb2MuaXRlcihwb3MsIG4sIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHByb2Nlc3NMaW5lKGNtLCBsaW5lLnRleHQsIHN0YXRlKTtcbiAgICAgIHZhciBzYXZlID0gcG9zID09IG4gLSAxIHx8IHBvcyAlIDUgPT0gMCB8fCBwb3MgPj0gZGlzcGxheS52aWV3RnJvbSAmJiBwb3MgPCBkaXNwbGF5LnZpZXdUbztcbiAgICAgIGxpbmUuc3RhdGVBZnRlciA9IHNhdmUgPyBjb3B5U3RhdGUoZG9jLm1vZGUsIHN0YXRlKSA6IG51bGw7XG4gICAgICArK3BvcztcbiAgICB9KTtcbiAgICBpZiAocHJlY2lzZSkgZG9jLmZyb250aWVyID0gcG9zO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIC8vIFBPU0lUSU9OIE1FQVNVUkVNRU5UXG5cbiAgZnVuY3Rpb24gcGFkZGluZ1RvcChkaXNwbGF5KSB7cmV0dXJuIGRpc3BsYXkubGluZVNwYWNlLm9mZnNldFRvcDt9XG4gIGZ1bmN0aW9uIHBhZGRpbmdWZXJ0KGRpc3BsYXkpIHtyZXR1cm4gZGlzcGxheS5tb3Zlci5vZmZzZXRIZWlnaHQgLSBkaXNwbGF5LmxpbmVTcGFjZS5vZmZzZXRIZWlnaHQ7fVxuICBmdW5jdGlvbiBwYWRkaW5nSChkaXNwbGF5KSB7XG4gICAgaWYgKGRpc3BsYXkuY2FjaGVkUGFkZGluZ0gpIHJldHVybiBkaXNwbGF5LmNhY2hlZFBhZGRpbmdIO1xuICAgIHZhciBlID0gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5tZWFzdXJlLCBlbHQoXCJwcmVcIiwgXCJ4XCIpKTtcbiAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpIDogZS5jdXJyZW50U3R5bGU7XG4gICAgdmFyIGRhdGEgPSB7bGVmdDogcGFyc2VJbnQoc3R5bGUucGFkZGluZ0xlZnQpLCByaWdodDogcGFyc2VJbnQoc3R5bGUucGFkZGluZ1JpZ2h0KX07XG4gICAgaWYgKCFpc05hTihkYXRhLmxlZnQpICYmICFpc05hTihkYXRhLnJpZ2h0KSkgZGlzcGxheS5jYWNoZWRQYWRkaW5nSCA9IGRhdGE7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxHYXAoY20pIHsgcmV0dXJuIHNjcm9sbGVyR2FwIC0gY20uZGlzcGxheS5uYXRpdmVCYXJXaWR0aDsgfVxuICBmdW5jdGlvbiBkaXNwbGF5V2lkdGgoY20pIHtcbiAgICByZXR1cm4gY20uZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCAtIHNjcm9sbEdhcChjbSkgLSBjbS5kaXNwbGF5LmJhcldpZHRoO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlIZWlnaHQoY20pIHtcbiAgICByZXR1cm4gY20uZGlzcGxheS5zY3JvbGxlci5jbGllbnRIZWlnaHQgLSBzY3JvbGxHYXAoY20pIC0gY20uZGlzcGxheS5iYXJIZWlnaHQ7XG4gIH1cblxuICAvLyBFbnN1cmUgdGhlIGxpbmVWaWV3LndyYXBwaW5nLmhlaWdodHMgYXJyYXkgaXMgcG9wdWxhdGVkLiBUaGlzIGlzXG4gIC8vIGFuIGFycmF5IG9mIGJvdHRvbSBvZmZzZXRzIGZvciB0aGUgbGluZXMgdGhhdCBtYWtlIHVwIGEgZHJhd25cbiAgLy8gbGluZS4gV2hlbiBsaW5lV3JhcHBpbmcgaXMgb24sIHRoZXJlIG1pZ2h0IGJlIG1vcmUgdGhhbiBvbmVcbiAgLy8gaGVpZ2h0LlxuICBmdW5jdGlvbiBlbnN1cmVMaW5lSGVpZ2h0cyhjbSwgbGluZVZpZXcsIHJlY3QpIHtcbiAgICB2YXIgd3JhcHBpbmcgPSBjbS5vcHRpb25zLmxpbmVXcmFwcGluZztcbiAgICB2YXIgY3VyV2lkdGggPSB3cmFwcGluZyAmJiBkaXNwbGF5V2lkdGgoY20pO1xuICAgIGlmICghbGluZVZpZXcubWVhc3VyZS5oZWlnaHRzIHx8IHdyYXBwaW5nICYmIGxpbmVWaWV3Lm1lYXN1cmUud2lkdGggIT0gY3VyV2lkdGgpIHtcbiAgICAgIHZhciBoZWlnaHRzID0gbGluZVZpZXcubWVhc3VyZS5oZWlnaHRzID0gW107XG4gICAgICBpZiAod3JhcHBpbmcpIHtcbiAgICAgICAgbGluZVZpZXcubWVhc3VyZS53aWR0aCA9IGN1cldpZHRoO1xuICAgICAgICB2YXIgcmVjdHMgPSBsaW5lVmlldy50ZXh0LmZpcnN0Q2hpbGQuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICB2YXIgY3VyID0gcmVjdHNbaV0sIG5leHQgPSByZWN0c1tpICsgMV07XG4gICAgICAgICAgaWYgKE1hdGguYWJzKGN1ci5ib3R0b20gLSBuZXh0LmJvdHRvbSkgPiAyKVxuICAgICAgICAgICAgaGVpZ2h0cy5wdXNoKChjdXIuYm90dG9tICsgbmV4dC50b3ApIC8gMiAtIHJlY3QudG9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaGVpZ2h0cy5wdXNoKHJlY3QuYm90dG9tIC0gcmVjdC50b3ApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgYSBsaW5lIG1hcCAobWFwcGluZyBjaGFyYWN0ZXIgb2Zmc2V0cyB0byB0ZXh0IG5vZGVzKSBhbmQgYVxuICAvLyBtZWFzdXJlbWVudCBjYWNoZSBmb3IgdGhlIGdpdmVuIGxpbmUgbnVtYmVyLiAoQSBsaW5lIHZpZXcgbWlnaHRcbiAgLy8gY29udGFpbiBtdWx0aXBsZSBsaW5lcyB3aGVuIGNvbGxhcHNlZCByYW5nZXMgYXJlIHByZXNlbnQuKVxuICBmdW5jdGlvbiBtYXBGcm9tTGluZVZpZXcobGluZVZpZXcsIGxpbmUsIGxpbmVOKSB7XG4gICAgaWYgKGxpbmVWaWV3LmxpbmUgPT0gbGluZSlcbiAgICAgIHJldHVybiB7bWFwOiBsaW5lVmlldy5tZWFzdXJlLm1hcCwgY2FjaGU6IGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGV9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZVZpZXcucmVzdC5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChsaW5lVmlldy5yZXN0W2ldID09IGxpbmUpXG4gICAgICAgIHJldHVybiB7bWFwOiBsaW5lVmlldy5tZWFzdXJlLm1hcHNbaV0sIGNhY2hlOiBsaW5lVmlldy5tZWFzdXJlLmNhY2hlc1tpXX07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKGxpbmVObyhsaW5lVmlldy5yZXN0W2ldKSA+IGxpbmVOKVxuICAgICAgICByZXR1cm4ge21hcDogbGluZVZpZXcubWVhc3VyZS5tYXBzW2ldLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZXNbaV0sIGJlZm9yZTogdHJ1ZX07XG4gIH1cblxuICAvLyBSZW5kZXIgYSBsaW5lIGludG8gdGhlIGhpZGRlbiBub2RlIGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZC4gVXNlZFxuICAvLyB3aGVuIG1lYXN1cmVtZW50IGlzIG5lZWRlZCBmb3IgYSBsaW5lIHRoYXQncyBub3QgaW4gdGhlIHZpZXdwb3J0LlxuICBmdW5jdGlvbiB1cGRhdGVFeHRlcm5hbE1lYXN1cmVtZW50KGNtLCBsaW5lKSB7XG4gICAgbGluZSA9IHZpc3VhbExpbmUobGluZSk7XG4gICAgdmFyIGxpbmVOID0gbGluZU5vKGxpbmUpO1xuICAgIHZhciB2aWV3ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbmV3IExpbmVWaWV3KGNtLmRvYywgbGluZSwgbGluZU4pO1xuICAgIHZpZXcubGluZU4gPSBsaW5lTjtcbiAgICB2YXIgYnVpbHQgPSB2aWV3LmJ1aWx0ID0gYnVpbGRMaW5lQ29udGVudChjbSwgdmlldyk7XG4gICAgdmlldy50ZXh0ID0gYnVpbHQucHJlO1xuICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGNtLmRpc3BsYXkubGluZU1lYXN1cmUsIGJ1aWx0LnByZSk7XG4gICAgcmV0dXJuIHZpZXc7XG4gIH1cblxuICAvLyBHZXQgYSB7dG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0fSBib3ggKGluIGxpbmUtbG9jYWwgY29vcmRpbmF0ZXMpXG4gIC8vIGZvciBhIGdpdmVuIGNoYXJhY3Rlci5cbiAgZnVuY3Rpb24gbWVhc3VyZUNoYXIoY20sIGxpbmUsIGNoLCBiaWFzKSB7XG4gICAgcmV0dXJuIG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXBhcmVNZWFzdXJlRm9yTGluZShjbSwgbGluZSksIGNoLCBiaWFzKTtcbiAgfVxuXG4gIC8vIEZpbmQgYSBsaW5lIHZpZXcgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgZ2l2ZW4gbGluZSBudW1iZXIuXG4gIGZ1bmN0aW9uIGZpbmRWaWV3Rm9yTGluZShjbSwgbGluZU4pIHtcbiAgICBpZiAobGluZU4gPj0gY20uZGlzcGxheS52aWV3RnJvbSAmJiBsaW5lTiA8IGNtLmRpc3BsYXkudmlld1RvKVxuICAgICAgcmV0dXJuIGNtLmRpc3BsYXkudmlld1tmaW5kVmlld0luZGV4KGNtLCBsaW5lTildO1xuICAgIHZhciBleHQgPSBjbS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ7XG4gICAgaWYgKGV4dCAmJiBsaW5lTiA+PSBleHQubGluZU4gJiYgbGluZU4gPCBleHQubGluZU4gKyBleHQuc2l6ZSlcbiAgICAgIHJldHVybiBleHQ7XG4gIH1cblxuICAvLyBNZWFzdXJlbWVudCBjYW4gYmUgc3BsaXQgaW4gdHdvIHN0ZXBzLCB0aGUgc2V0LXVwIHdvcmsgdGhhdFxuICAvLyBhcHBsaWVzIHRvIHRoZSB3aG9sZSBsaW5lLCBhbmQgdGhlIG1lYXN1cmVtZW50IG9mIHRoZSBhY3R1YWxcbiAgLy8gY2hhcmFjdGVyLiBGdW5jdGlvbnMgbGlrZSBjb29yZHNDaGFyLCB0aGF0IG5lZWQgdG8gZG8gYSBsb3Qgb2ZcbiAgLy8gbWVhc3VyZW1lbnRzIGluIGEgcm93LCBjYW4gdGh1cyBlbnN1cmUgdGhhdCB0aGUgc2V0LXVwIHdvcmsgaXNcbiAgLy8gb25seSBkb25lIG9uY2UuXG4gIGZ1bmN0aW9uIHByZXBhcmVNZWFzdXJlRm9yTGluZShjbSwgbGluZSkge1xuICAgIHZhciBsaW5lTiA9IGxpbmVObyhsaW5lKTtcbiAgICB2YXIgdmlldyA9IGZpbmRWaWV3Rm9yTGluZShjbSwgbGluZU4pO1xuICAgIGlmICh2aWV3ICYmICF2aWV3LnRleHQpIHtcbiAgICAgIHZpZXcgPSBudWxsO1xuICAgIH0gZWxzZSBpZiAodmlldyAmJiB2aWV3LmNoYW5nZXMpIHtcbiAgICAgIHVwZGF0ZUxpbmVGb3JDaGFuZ2VzKGNtLCB2aWV3LCBsaW5lTiwgZ2V0RGltZW5zaW9ucyhjbSkpO1xuICAgICAgY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXZpZXcpXG4gICAgICB2aWV3ID0gdXBkYXRlRXh0ZXJuYWxNZWFzdXJlbWVudChjbSwgbGluZSk7XG5cbiAgICB2YXIgaW5mbyA9IG1hcEZyb21MaW5lVmlldyh2aWV3LCBsaW5lLCBsaW5lTik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbmU6IGxpbmUsIHZpZXc6IHZpZXcsIHJlY3Q6IG51bGwsXG4gICAgICBtYXA6IGluZm8ubWFwLCBjYWNoZTogaW5mby5jYWNoZSwgYmVmb3JlOiBpbmZvLmJlZm9yZSxcbiAgICAgIGhhc0hlaWdodHM6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIC8vIEdpdmVuIGEgcHJlcGFyZWQgbWVhc3VyZW1lbnQgb2JqZWN0LCBtZWFzdXJlcyB0aGUgcG9zaXRpb24gb2YgYW5cbiAgLy8gYWN0dWFsIGNoYXJhY3RlciAob3IgZmV0Y2hlcyBpdCBmcm9tIHRoZSBjYWNoZSkuXG4gIGZ1bmN0aW9uIG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXBhcmVkLCBjaCwgYmlhcywgdmFySGVpZ2h0KSB7XG4gICAgaWYgKHByZXBhcmVkLmJlZm9yZSkgY2ggPSAtMTtcbiAgICB2YXIga2V5ID0gY2ggKyAoYmlhcyB8fCBcIlwiKSwgZm91bmQ7XG4gICAgaWYgKHByZXBhcmVkLmNhY2hlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGZvdW5kID0gcHJlcGFyZWQuY2FjaGVba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFwcmVwYXJlZC5yZWN0KVxuICAgICAgICBwcmVwYXJlZC5yZWN0ID0gcHJlcGFyZWQudmlldy50ZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgaWYgKCFwcmVwYXJlZC5oYXNIZWlnaHRzKSB7XG4gICAgICAgIGVuc3VyZUxpbmVIZWlnaHRzKGNtLCBwcmVwYXJlZC52aWV3LCBwcmVwYXJlZC5yZWN0KTtcbiAgICAgICAgcHJlcGFyZWQuaGFzSGVpZ2h0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBmb3VuZCA9IG1lYXN1cmVDaGFySW5uZXIoY20sIHByZXBhcmVkLCBjaCwgYmlhcyk7XG4gICAgICBpZiAoIWZvdW5kLmJvZ3VzKSBwcmVwYXJlZC5jYWNoZVtrZXldID0gZm91bmQ7XG4gICAgfVxuICAgIHJldHVybiB7bGVmdDogZm91bmQubGVmdCwgcmlnaHQ6IGZvdW5kLnJpZ2h0LFxuICAgICAgICAgICAgdG9wOiB2YXJIZWlnaHQgPyBmb3VuZC5ydG9wIDogZm91bmQudG9wLFxuICAgICAgICAgICAgYm90dG9tOiB2YXJIZWlnaHQgPyBmb3VuZC5yYm90dG9tIDogZm91bmQuYm90dG9tfTtcbiAgfVxuXG4gIHZhciBudWxsUmVjdCA9IHtsZWZ0OiAwLCByaWdodDogMCwgdG9wOiAwLCBib3R0b206IDB9O1xuXG4gIGZ1bmN0aW9uIG5vZGVBbmRPZmZzZXRJbkxpbmVNYXAobWFwLCBjaCwgYmlhcykge1xuICAgIHZhciBub2RlLCBzdGFydCwgZW5kLCBjb2xsYXBzZTtcbiAgICAvLyBGaXJzdCwgc2VhcmNoIHRoZSBsaW5lIG1hcCBmb3IgdGhlIHRleHQgbm9kZSBjb3JyZXNwb25kaW5nIHRvLFxuICAgIC8vIG9yIGNsb3Nlc3QgdG8sIHRoZSB0YXJnZXQgY2hhcmFjdGVyLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICB2YXIgbVN0YXJ0ID0gbWFwW2ldLCBtRW5kID0gbWFwW2kgKyAxXTtcbiAgICAgIGlmIChjaCA8IG1TdGFydCkge1xuICAgICAgICBzdGFydCA9IDA7IGVuZCA9IDE7XG4gICAgICAgIGNvbGxhcHNlID0gXCJsZWZ0XCI7XG4gICAgICB9IGVsc2UgaWYgKGNoIDwgbUVuZCkge1xuICAgICAgICBzdGFydCA9IGNoIC0gbVN0YXJ0O1xuICAgICAgICBlbmQgPSBzdGFydCArIDE7XG4gICAgICB9IGVsc2UgaWYgKGkgPT0gbWFwLmxlbmd0aCAtIDMgfHwgY2ggPT0gbUVuZCAmJiBtYXBbaSArIDNdID4gY2gpIHtcbiAgICAgICAgZW5kID0gbUVuZCAtIG1TdGFydDtcbiAgICAgICAgc3RhcnQgPSBlbmQgLSAxO1xuICAgICAgICBpZiAoY2ggPj0gbUVuZCkgY29sbGFwc2UgPSBcInJpZ2h0XCI7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgIT0gbnVsbCkge1xuICAgICAgICBub2RlID0gbWFwW2kgKyAyXTtcbiAgICAgICAgaWYgKG1TdGFydCA9PSBtRW5kICYmIGJpYXMgPT0gKG5vZGUuaW5zZXJ0TGVmdCA/IFwibGVmdFwiIDogXCJyaWdodFwiKSlcbiAgICAgICAgICBjb2xsYXBzZSA9IGJpYXM7XG4gICAgICAgIGlmIChiaWFzID09IFwibGVmdFwiICYmIHN0YXJ0ID09IDApXG4gICAgICAgICAgd2hpbGUgKGkgJiYgbWFwW2kgLSAyXSA9PSBtYXBbaSAtIDNdICYmIG1hcFtpIC0gMV0uaW5zZXJ0TGVmdCkge1xuICAgICAgICAgICAgbm9kZSA9IG1hcFsoaSAtPSAzKSArIDJdO1xuICAgICAgICAgICAgY29sbGFwc2UgPSBcImxlZnRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIGlmIChiaWFzID09IFwicmlnaHRcIiAmJiBzdGFydCA9PSBtRW5kIC0gbVN0YXJ0KVxuICAgICAgICAgIHdoaWxlIChpIDwgbWFwLmxlbmd0aCAtIDMgJiYgbWFwW2kgKyAzXSA9PSBtYXBbaSArIDRdICYmICFtYXBbaSArIDVdLmluc2VydExlZnQpIHtcbiAgICAgICAgICAgIG5vZGUgPSBtYXBbKGkgKz0gMykgKyAyXTtcbiAgICAgICAgICAgIGNvbGxhcHNlID0gXCJyaWdodFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7bm9kZTogbm9kZSwgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCwgY29sbGFwc2U6IGNvbGxhcHNlLCBjb3ZlclN0YXJ0OiBtU3RhcnQsIGNvdmVyRW5kOiBtRW5kfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFVzZWZ1bFJlY3QocmVjdHMsIGJpYXMpIHtcbiAgICB2YXIgcmVjdCA9IG51bGxSZWN0XG4gICAgaWYgKGJpYXMgPT0gXCJsZWZ0XCIpIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICgocmVjdCA9IHJlY3RzW2ldKS5sZWZ0ICE9IHJlY3QucmlnaHQpIGJyZWFrXG4gICAgfSBlbHNlIGZvciAodmFyIGkgPSByZWN0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKChyZWN0ID0gcmVjdHNbaV0pLmxlZnQgIT0gcmVjdC5yaWdodCkgYnJlYWtcbiAgICB9XG4gICAgcmV0dXJuIHJlY3RcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lYXN1cmVDaGFySW5uZXIoY20sIHByZXBhcmVkLCBjaCwgYmlhcykge1xuICAgIHZhciBwbGFjZSA9IG5vZGVBbmRPZmZzZXRJbkxpbmVNYXAocHJlcGFyZWQubWFwLCBjaCwgYmlhcyk7XG4gICAgdmFyIG5vZGUgPSBwbGFjZS5ub2RlLCBzdGFydCA9IHBsYWNlLnN0YXJ0LCBlbmQgPSBwbGFjZS5lbmQsIGNvbGxhcHNlID0gcGxhY2UuY29sbGFwc2U7XG5cbiAgICB2YXIgcmVjdDtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzKSB7IC8vIElmIGl0IGlzIGEgdGV4dCBub2RlLCB1c2UgYSByYW5nZSB0byByZXRyaWV2ZSB0aGUgY29vcmRpbmF0ZXMuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykgeyAvLyBSZXRyeSBhIG1heGltdW0gb2YgNCB0aW1lcyB3aGVuIG5vbnNlbnNlIHJlY3RhbmdsZXMgYXJlIHJldHVybmVkXG4gICAgICAgIHdoaWxlIChzdGFydCAmJiBpc0V4dGVuZGluZ0NoYXIocHJlcGFyZWQubGluZS50ZXh0LmNoYXJBdChwbGFjZS5jb3ZlclN0YXJ0ICsgc3RhcnQpKSkgLS1zdGFydDtcbiAgICAgICAgd2hpbGUgKHBsYWNlLmNvdmVyU3RhcnQgKyBlbmQgPCBwbGFjZS5jb3ZlckVuZCAmJiBpc0V4dGVuZGluZ0NoYXIocHJlcGFyZWQubGluZS50ZXh0LmNoYXJBdChwbGFjZS5jb3ZlclN0YXJ0ICsgZW5kKSkpICsrZW5kO1xuICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkgJiYgc3RhcnQgPT0gMCAmJiBlbmQgPT0gcGxhY2UuY292ZXJFbmQgLSBwbGFjZS5jb3ZlclN0YXJ0KVxuICAgICAgICAgIHJlY3QgPSBub2RlLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZWN0ID0gZ2V0VXNlZnVsUmVjdChyYW5nZShub2RlLCBzdGFydCwgZW5kKS5nZXRDbGllbnRSZWN0cygpLCBiaWFzKVxuICAgICAgICBpZiAocmVjdC5sZWZ0IHx8IHJlY3QucmlnaHQgfHwgc3RhcnQgPT0gMCkgYnJlYWs7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IHN0YXJ0IC0gMTtcbiAgICAgICAgY29sbGFwc2UgPSBcInJpZ2h0XCI7XG4gICAgICB9XG4gICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSByZWN0ID0gbWF5YmVVcGRhdGVSZWN0Rm9yWm9vbWluZyhjbS5kaXNwbGF5Lm1lYXN1cmUsIHJlY3QpO1xuICAgIH0gZWxzZSB7IC8vIElmIGl0IGlzIGEgd2lkZ2V0LCBzaW1wbHkgZ2V0IHRoZSBib3ggZm9yIHRoZSB3aG9sZSB3aWRnZXQuXG4gICAgICBpZiAoc3RhcnQgPiAwKSBjb2xsYXBzZSA9IGJpYXMgPSBcInJpZ2h0XCI7XG4gICAgICB2YXIgcmVjdHM7XG4gICAgICBpZiAoY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgKHJlY3RzID0gbm9kZS5nZXRDbGllbnRSZWN0cygpKS5sZW5ndGggPiAxKVxuICAgICAgICByZWN0ID0gcmVjdHNbYmlhcyA9PSBcInJpZ2h0XCIgPyByZWN0cy5sZW5ndGggLSAxIDogMF07XG4gICAgICBlbHNlXG4gICAgICAgIHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkgJiYgIXN0YXJ0ICYmICghcmVjdCB8fCAhcmVjdC5sZWZ0ICYmICFyZWN0LnJpZ2h0KSkge1xuICAgICAgdmFyIHJTcGFuID0gbm9kZS5wYXJlbnROb2RlLmdldENsaWVudFJlY3RzKClbMF07XG4gICAgICBpZiAoclNwYW4pXG4gICAgICAgIHJlY3QgPSB7bGVmdDogclNwYW4ubGVmdCwgcmlnaHQ6IHJTcGFuLmxlZnQgKyBjaGFyV2lkdGgoY20uZGlzcGxheSksIHRvcDogclNwYW4udG9wLCBib3R0b206IHJTcGFuLmJvdHRvbX07XG4gICAgICBlbHNlXG4gICAgICAgIHJlY3QgPSBudWxsUmVjdDtcbiAgICB9XG5cbiAgICB2YXIgcnRvcCA9IHJlY3QudG9wIC0gcHJlcGFyZWQucmVjdC50b3AsIHJib3QgPSByZWN0LmJvdHRvbSAtIHByZXBhcmVkLnJlY3QudG9wO1xuICAgIHZhciBtaWQgPSAocnRvcCArIHJib3QpIC8gMjtcbiAgICB2YXIgaGVpZ2h0cyA9IHByZXBhcmVkLnZpZXcubWVhc3VyZS5oZWlnaHRzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGVpZ2h0cy5sZW5ndGggLSAxOyBpKyspXG4gICAgICBpZiAobWlkIDwgaGVpZ2h0c1tpXSkgYnJlYWs7XG4gICAgdmFyIHRvcCA9IGkgPyBoZWlnaHRzW2kgLSAxXSA6IDAsIGJvdCA9IGhlaWdodHNbaV07XG4gICAgdmFyIHJlc3VsdCA9IHtsZWZ0OiAoY29sbGFwc2UgPT0gXCJyaWdodFwiID8gcmVjdC5yaWdodCA6IHJlY3QubGVmdCkgLSBwcmVwYXJlZC5yZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICByaWdodDogKGNvbGxhcHNlID09IFwibGVmdFwiID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodCkgLSBwcmVwYXJlZC5yZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICB0b3A6IHRvcCwgYm90dG9tOiBib3R9O1xuICAgIGlmICghcmVjdC5sZWZ0ICYmICFyZWN0LnJpZ2h0KSByZXN1bHQuYm9ndXMgPSB0cnVlO1xuICAgIGlmICghY20ub3B0aW9ucy5zaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lKSB7IHJlc3VsdC5ydG9wID0gcnRvcDsgcmVzdWx0LnJib3R0b20gPSByYm90OyB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gV29yayBhcm91bmQgcHJvYmxlbSB3aXRoIGJvdW5kaW5nIGNsaWVudCByZWN0cyBvbiByYW5nZXMgYmVpbmdcbiAgLy8gcmV0dXJuZWQgaW5jb3JyZWN0bHkgd2hlbiB6b29tZWQgb24gSUUxMCBhbmQgYmVsb3cuXG4gIGZ1bmN0aW9uIG1heWJlVXBkYXRlUmVjdEZvclpvb21pbmcobWVhc3VyZSwgcmVjdCkge1xuICAgIGlmICghd2luZG93LnNjcmVlbiB8fCBzY3JlZW4ubG9naWNhbFhEUEkgPT0gbnVsbCB8fFxuICAgICAgICBzY3JlZW4ubG9naWNhbFhEUEkgPT0gc2NyZWVuLmRldmljZVhEUEkgfHwgIWhhc0JhZFpvb21lZFJlY3RzKG1lYXN1cmUpKVxuICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgdmFyIHNjYWxlWCA9IHNjcmVlbi5sb2dpY2FsWERQSSAvIHNjcmVlbi5kZXZpY2VYRFBJO1xuICAgIHZhciBzY2FsZVkgPSBzY3JlZW4ubG9naWNhbFlEUEkgLyBzY3JlZW4uZGV2aWNlWURQSTtcbiAgICByZXR1cm4ge2xlZnQ6IHJlY3QubGVmdCAqIHNjYWxlWCwgcmlnaHQ6IHJlY3QucmlnaHQgKiBzY2FsZVgsXG4gICAgICAgICAgICB0b3A6IHJlY3QudG9wICogc2NhbGVZLCBib3R0b206IHJlY3QuYm90dG9tICogc2NhbGVZfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGVGb3IobGluZVZpZXcpIHtcbiAgICBpZiAobGluZVZpZXcubWVhc3VyZSkge1xuICAgICAgbGluZVZpZXcubWVhc3VyZS5jYWNoZSA9IHt9O1xuICAgICAgbGluZVZpZXcubWVhc3VyZS5oZWlnaHRzID0gbnVsbDtcbiAgICAgIGlmIChsaW5lVmlldy5yZXN0KSBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspXG4gICAgICAgIGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzW2ldID0ge307XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZShjbSkge1xuICAgIGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlID0gbnVsbDtcbiAgICByZW1vdmVDaGlsZHJlbihjbS5kaXNwbGF5LmxpbmVNZWFzdXJlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLmRpc3BsYXkudmlldy5sZW5ndGg7IGkrKylcbiAgICAgIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGVGb3IoY20uZGlzcGxheS52aWV3W2ldKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyQ2FjaGVzKGNtKSB7XG4gICAgY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZShjbSk7XG4gICAgY20uZGlzcGxheS5jYWNoZWRDaGFyV2lkdGggPSBjbS5kaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQgPSBjbS5kaXNwbGF5LmNhY2hlZFBhZGRpbmdIID0gbnVsbDtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSBjbS5kaXNwbGF5Lm1heExpbmVDaGFuZ2VkID0gdHJ1ZTtcbiAgICBjbS5kaXNwbGF5LmxpbmVOdW1DaGFycyA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBwYWdlU2Nyb2xsWCgpIHsgcmV0dXJuIHdpbmRvdy5wYWdlWE9mZnNldCB8fCAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkpLnNjcm9sbExlZnQ7IH1cbiAgZnVuY3Rpb24gcGFnZVNjcm9sbFkoKSB7IHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQgfHwgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5KS5zY3JvbGxUb3A7IH1cblxuICAvLyBDb252ZXJ0cyBhIHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9IGJveCBmcm9tIGxpbmUtbG9jYWxcbiAgLy8gY29vcmRpbmF0ZXMgaW50byBhbm90aGVyIGNvb3JkaW5hdGUgc3lzdGVtLiBDb250ZXh0IG1heSBiZSBvbmUgb2ZcbiAgLy8gXCJsaW5lXCIsIFwiZGl2XCIgKGRpc3BsYXkubGluZURpdiksIFwibG9jYWxcIi9udWxsIChlZGl0b3IpLCBcIndpbmRvd1wiLFxuICAvLyBvciBcInBhZ2VcIi5cbiAgZnVuY3Rpb24gaW50b0Nvb3JkU3lzdGVtKGNtLCBsaW5lT2JqLCByZWN0LCBjb250ZXh0KSB7XG4gICAgaWYgKGxpbmVPYmoud2lkZ2V0cykgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lT2JqLndpZGdldHMubGVuZ3RoOyArK2kpIGlmIChsaW5lT2JqLndpZGdldHNbaV0uYWJvdmUpIHtcbiAgICAgIHZhciBzaXplID0gd2lkZ2V0SGVpZ2h0KGxpbmVPYmoud2lkZ2V0c1tpXSk7XG4gICAgICByZWN0LnRvcCArPSBzaXplOyByZWN0LmJvdHRvbSArPSBzaXplO1xuICAgIH1cbiAgICBpZiAoY29udGV4dCA9PSBcImxpbmVcIikgcmV0dXJuIHJlY3Q7XG4gICAgaWYgKCFjb250ZXh0KSBjb250ZXh0ID0gXCJsb2NhbFwiO1xuICAgIHZhciB5T2ZmID0gaGVpZ2h0QXRMaW5lKGxpbmVPYmopO1xuICAgIGlmIChjb250ZXh0ID09IFwibG9jYWxcIikgeU9mZiArPSBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpO1xuICAgIGVsc2UgeU9mZiAtPSBjbS5kaXNwbGF5LnZpZXdPZmZzZXQ7XG4gICAgaWYgKGNvbnRleHQgPT0gXCJwYWdlXCIgfHwgY29udGV4dCA9PSBcIndpbmRvd1wiKSB7XG4gICAgICB2YXIgbE9mZiA9IGNtLmRpc3BsYXkubGluZVNwYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgeU9mZiArPSBsT2ZmLnRvcCArIChjb250ZXh0ID09IFwid2luZG93XCIgPyAwIDogcGFnZVNjcm9sbFkoKSk7XG4gICAgICB2YXIgeE9mZiA9IGxPZmYubGVmdCArIChjb250ZXh0ID09IFwid2luZG93XCIgPyAwIDogcGFnZVNjcm9sbFgoKSk7XG4gICAgICByZWN0LmxlZnQgKz0geE9mZjsgcmVjdC5yaWdodCArPSB4T2ZmO1xuICAgIH1cbiAgICByZWN0LnRvcCArPSB5T2ZmOyByZWN0LmJvdHRvbSArPSB5T2ZmO1xuICAgIHJldHVybiByZWN0O1xuICB9XG5cbiAgLy8gQ292ZXJ0cyBhIGJveCBmcm9tIFwiZGl2XCIgY29vcmRzIHRvIGFub3RoZXIgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gIC8vIENvbnRleHQgbWF5IGJlIFwid2luZG93XCIsIFwicGFnZVwiLCBcImRpdlwiLCBvciBcImxvY2FsXCIvbnVsbC5cbiAgZnVuY3Rpb24gZnJvbUNvb3JkU3lzdGVtKGNtLCBjb29yZHMsIGNvbnRleHQpIHtcbiAgICBpZiAoY29udGV4dCA9PSBcImRpdlwiKSByZXR1cm4gY29vcmRzO1xuICAgIHZhciBsZWZ0ID0gY29vcmRzLmxlZnQsIHRvcCA9IGNvb3Jkcy50b3A7XG4gICAgLy8gRmlyc3QgbW92ZSBpbnRvIFwicGFnZVwiIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgaWYgKGNvbnRleHQgPT0gXCJwYWdlXCIpIHtcbiAgICAgIGxlZnQgLT0gcGFnZVNjcm9sbFgoKTtcbiAgICAgIHRvcCAtPSBwYWdlU2Nyb2xsWSgpO1xuICAgIH0gZWxzZSBpZiAoY29udGV4dCA9PSBcImxvY2FsXCIgfHwgIWNvbnRleHQpIHtcbiAgICAgIHZhciBsb2NhbEJveCA9IGNtLmRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBsZWZ0ICs9IGxvY2FsQm94LmxlZnQ7XG4gICAgICB0b3AgKz0gbG9jYWxCb3gudG9wO1xuICAgIH1cblxuICAgIHZhciBsaW5lU3BhY2VCb3ggPSBjbS5kaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge2xlZnQ6IGxlZnQgLSBsaW5lU3BhY2VCb3gubGVmdCwgdG9wOiB0b3AgLSBsaW5lU3BhY2VCb3gudG9wfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoYXJDb29yZHMoY20sIHBvcywgY29udGV4dCwgbGluZU9iaiwgYmlhcykge1xuICAgIGlmICghbGluZU9iaikgbGluZU9iaiA9IGdldExpbmUoY20uZG9jLCBwb3MubGluZSk7XG4gICAgcmV0dXJuIGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgbWVhc3VyZUNoYXIoY20sIGxpbmVPYmosIHBvcy5jaCwgYmlhcyksIGNvbnRleHQpO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhIGJveCBmb3IgYSBnaXZlbiBjdXJzb3IgcG9zaXRpb24sIHdoaWNoIG1heSBoYXZlIGFuXG4gIC8vICdvdGhlcicgcHJvcGVydHkgY29udGFpbmluZyB0aGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZGFyeSBjdXJzb3JcbiAgLy8gb24gYSBiaWRpIGJvdW5kYXJ5LlxuICBmdW5jdGlvbiBjdXJzb3JDb29yZHMoY20sIHBvcywgY29udGV4dCwgbGluZU9iaiwgcHJlcGFyZWRNZWFzdXJlLCB2YXJIZWlnaHQpIHtcbiAgICBsaW5lT2JqID0gbGluZU9iaiB8fCBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpO1xuICAgIGlmICghcHJlcGFyZWRNZWFzdXJlKSBwcmVwYXJlZE1lYXN1cmUgPSBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmVPYmopO1xuICAgIGZ1bmN0aW9uIGdldChjaCwgcmlnaHQpIHtcbiAgICAgIHZhciBtID0gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZWRNZWFzdXJlLCBjaCwgcmlnaHQgPyBcInJpZ2h0XCIgOiBcImxlZnRcIiwgdmFySGVpZ2h0KTtcbiAgICAgIGlmIChyaWdodCkgbS5sZWZ0ID0gbS5yaWdodDsgZWxzZSBtLnJpZ2h0ID0gbS5sZWZ0O1xuICAgICAgcmV0dXJuIGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgbSwgY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEJpZGkoY2gsIHBhcnRQb3MpIHtcbiAgICAgIHZhciBwYXJ0ID0gb3JkZXJbcGFydFBvc10sIHJpZ2h0ID0gcGFydC5sZXZlbCAlIDI7XG4gICAgICBpZiAoY2ggPT0gYmlkaUxlZnQocGFydCkgJiYgcGFydFBvcyAmJiBwYXJ0LmxldmVsIDwgb3JkZXJbcGFydFBvcyAtIDFdLmxldmVsKSB7XG4gICAgICAgIHBhcnQgPSBvcmRlclstLXBhcnRQb3NdO1xuICAgICAgICBjaCA9IGJpZGlSaWdodChwYXJ0KSAtIChwYXJ0LmxldmVsICUgMiA/IDAgOiAxKTtcbiAgICAgICAgcmlnaHQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChjaCA9PSBiaWRpUmlnaHQocGFydCkgJiYgcGFydFBvcyA8IG9yZGVyLmxlbmd0aCAtIDEgJiYgcGFydC5sZXZlbCA8IG9yZGVyW3BhcnRQb3MgKyAxXS5sZXZlbCkge1xuICAgICAgICBwYXJ0ID0gb3JkZXJbKytwYXJ0UG9zXTtcbiAgICAgICAgY2ggPSBiaWRpTGVmdChwYXJ0KSAtIHBhcnQubGV2ZWwgJSAyO1xuICAgICAgICByaWdodCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHJpZ2h0ICYmIGNoID09IHBhcnQudG8gJiYgY2ggPiBwYXJ0LmZyb20pIHJldHVybiBnZXQoY2ggLSAxKTtcbiAgICAgIHJldHVybiBnZXQoY2gsIHJpZ2h0KTtcbiAgICB9XG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZU9iaiksIGNoID0gcG9zLmNoO1xuICAgIGlmICghb3JkZXIpIHJldHVybiBnZXQoY2gpO1xuICAgIHZhciBwYXJ0UG9zID0gZ2V0QmlkaVBhcnRBdChvcmRlciwgY2gpO1xuICAgIHZhciB2YWwgPSBnZXRCaWRpKGNoLCBwYXJ0UG9zKTtcbiAgICBpZiAoYmlkaU90aGVyICE9IG51bGwpIHZhbC5vdGhlciA9IGdldEJpZGkoY2gsIGJpZGlPdGhlcik7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIC8vIFVzZWQgdG8gY2hlYXBseSBlc3RpbWF0ZSB0aGUgY29vcmRpbmF0ZXMgZm9yIGEgcG9zaXRpb24uIFVzZWQgZm9yXG4gIC8vIGludGVybWVkaWF0ZSBzY3JvbGwgdXBkYXRlcy5cbiAgZnVuY3Rpb24gZXN0aW1hdGVDb29yZHMoY20sIHBvcykge1xuICAgIHZhciBsZWZ0ID0gMCwgcG9zID0gY2xpcFBvcyhjbS5kb2MsIHBvcyk7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgbGVmdCA9IGNoYXJXaWR0aChjbS5kaXNwbGF5KSAqIHBvcy5jaDtcbiAgICB2YXIgbGluZU9iaiA9IGdldExpbmUoY20uZG9jLCBwb3MubGluZSk7XG4gICAgdmFyIHRvcCA9IGhlaWdodEF0TGluZShsaW5lT2JqKSArIHBhZGRpbmdUb3AoY20uZGlzcGxheSk7XG4gICAgcmV0dXJuIHtsZWZ0OiBsZWZ0LCByaWdodDogbGVmdCwgdG9wOiB0b3AsIGJvdHRvbTogdG9wICsgbGluZU9iai5oZWlnaHR9O1xuICB9XG5cbiAgLy8gUG9zaXRpb25zIHJldHVybmVkIGJ5IGNvb3Jkc0NoYXIgY29udGFpbiBzb21lIGV4dHJhIGluZm9ybWF0aW9uLlxuICAvLyB4UmVsIGlzIHRoZSByZWxhdGl2ZSB4IHBvc2l0aW9uIG9mIHRoZSBpbnB1dCBjb29yZGluYXRlcyBjb21wYXJlZFxuICAvLyB0byB0aGUgZm91bmQgcG9zaXRpb24gKHNvIHhSZWwgPiAwIG1lYW5zIHRoZSBjb29yZGluYXRlcyBhcmUgdG9cbiAgLy8gdGhlIHJpZ2h0IG9mIHRoZSBjaGFyYWN0ZXIgcG9zaXRpb24sIGZvciBleGFtcGxlKS4gV2hlbiBvdXRzaWRlXG4gIC8vIGlzIHRydWUsIHRoYXQgbWVhbnMgdGhlIGNvb3JkaW5hdGVzIGxpZSBvdXRzaWRlIHRoZSBsaW5lJ3NcbiAgLy8gdmVydGljYWwgcmFuZ2UuXG4gIGZ1bmN0aW9uIFBvc1dpdGhJbmZvKGxpbmUsIGNoLCBvdXRzaWRlLCB4UmVsKSB7XG4gICAgdmFyIHBvcyA9IFBvcyhsaW5lLCBjaCk7XG4gICAgcG9zLnhSZWwgPSB4UmVsO1xuICAgIGlmIChvdXRzaWRlKSBwb3Mub3V0c2lkZSA9IHRydWU7XG4gICAgcmV0dXJuIHBvcztcbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGNoYXJhY3RlciBwb3NpdGlvbiBjbG9zZXN0IHRvIHRoZSBnaXZlbiBjb29yZGluYXRlcy5cbiAgLy8gSW5wdXQgbXVzdCBiZSBsaW5lU3BhY2UtbG9jYWwgKFwiZGl2XCIgY29vcmRpbmF0ZSBzeXN0ZW0pLlxuICBmdW5jdGlvbiBjb29yZHNDaGFyKGNtLCB4LCB5KSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYztcbiAgICB5ICs9IGNtLmRpc3BsYXkudmlld09mZnNldDtcbiAgICBpZiAoeSA8IDApIHJldHVybiBQb3NXaXRoSW5mbyhkb2MuZmlyc3QsIDAsIHRydWUsIC0xKTtcbiAgICB2YXIgbGluZU4gPSBsaW5lQXRIZWlnaHQoZG9jLCB5KSwgbGFzdCA9IGRvYy5maXJzdCArIGRvYy5zaXplIC0gMTtcbiAgICBpZiAobGluZU4gPiBsYXN0KVxuICAgICAgcmV0dXJuIFBvc1dpdGhJbmZvKGRvYy5maXJzdCArIGRvYy5zaXplIC0gMSwgZ2V0TGluZShkb2MsIGxhc3QpLnRleHQubGVuZ3RoLCB0cnVlLCAxKTtcbiAgICBpZiAoeCA8IDApIHggPSAwO1xuXG4gICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZU4pO1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBmb3VuZCA9IGNvb3Jkc0NoYXJJbm5lcihjbSwgbGluZU9iaiwgbGluZU4sIHgsIHkpO1xuICAgICAgdmFyIG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lT2JqKTtcbiAgICAgIHZhciBtZXJnZWRQb3MgPSBtZXJnZWQgJiYgbWVyZ2VkLmZpbmQoMCwgdHJ1ZSk7XG4gICAgICBpZiAobWVyZ2VkICYmIChmb3VuZC5jaCA+IG1lcmdlZFBvcy5mcm9tLmNoIHx8IGZvdW5kLmNoID09IG1lcmdlZFBvcy5mcm9tLmNoICYmIGZvdW5kLnhSZWwgPiAwKSlcbiAgICAgICAgbGluZU4gPSBsaW5lTm8obGluZU9iaiA9IG1lcmdlZFBvcy50by5saW5lKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvb3Jkc0NoYXJJbm5lcihjbSwgbGluZU9iaiwgbGluZU5vLCB4LCB5KSB7XG4gICAgdmFyIGlubmVyT2ZmID0geSAtIGhlaWdodEF0TGluZShsaW5lT2JqKTtcbiAgICB2YXIgd3JvbmdMaW5lID0gZmFsc2UsIGFkanVzdCA9IDIgKiBjbS5kaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgdmFyIHByZXBhcmVkTWVhc3VyZSA9IHByZXBhcmVNZWFzdXJlRm9yTGluZShjbSwgbGluZU9iaik7XG5cbiAgICBmdW5jdGlvbiBnZXRYKGNoKSB7XG4gICAgICB2YXIgc3AgPSBjdXJzb3JDb29yZHMoY20sIFBvcyhsaW5lTm8sIGNoKSwgXCJsaW5lXCIsIGxpbmVPYmosIHByZXBhcmVkTWVhc3VyZSk7XG4gICAgICB3cm9uZ0xpbmUgPSB0cnVlO1xuICAgICAgaWYgKGlubmVyT2ZmID4gc3AuYm90dG9tKSByZXR1cm4gc3AubGVmdCAtIGFkanVzdDtcbiAgICAgIGVsc2UgaWYgKGlubmVyT2ZmIDwgc3AudG9wKSByZXR1cm4gc3AubGVmdCArIGFkanVzdDtcbiAgICAgIGVsc2Ugd3JvbmdMaW5lID0gZmFsc2U7XG4gICAgICByZXR1cm4gc3AubGVmdDtcbiAgICB9XG5cbiAgICB2YXIgYmlkaSA9IGdldE9yZGVyKGxpbmVPYmopLCBkaXN0ID0gbGluZU9iai50ZXh0Lmxlbmd0aDtcbiAgICB2YXIgZnJvbSA9IGxpbmVMZWZ0KGxpbmVPYmopLCB0byA9IGxpbmVSaWdodChsaW5lT2JqKTtcbiAgICB2YXIgZnJvbVggPSBnZXRYKGZyb20pLCBmcm9tT3V0c2lkZSA9IHdyb25nTGluZSwgdG9YID0gZ2V0WCh0byksIHRvT3V0c2lkZSA9IHdyb25nTGluZTtcblxuICAgIGlmICh4ID4gdG9YKSByZXR1cm4gUG9zV2l0aEluZm8obGluZU5vLCB0bywgdG9PdXRzaWRlLCAxKTtcbiAgICAvLyBEbyBhIGJpbmFyeSBzZWFyY2ggYmV0d2VlbiB0aGVzZSBib3VuZHMuXG4gICAgZm9yICg7Oykge1xuICAgICAgaWYgKGJpZGkgPyB0byA9PSBmcm9tIHx8IHRvID09IG1vdmVWaXN1YWxseShsaW5lT2JqLCBmcm9tLCAxKSA6IHRvIC0gZnJvbSA8PSAxKSB7XG4gICAgICAgIHZhciBjaCA9IHggPCBmcm9tWCB8fCB4IC0gZnJvbVggPD0gdG9YIC0geCA/IGZyb20gOiB0bztcbiAgICAgICAgdmFyIG91dHNpZGUgPSBjaCA9PSBmcm9tID8gZnJvbU91dHNpZGUgOiB0b091dHNpZGVcbiAgICAgICAgdmFyIHhEaWZmID0geCAtIChjaCA9PSBmcm9tID8gZnJvbVggOiB0b1gpO1xuICAgICAgICAvLyBUaGlzIGlzIGEga2x1ZGdlIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgY29vcmRpbmF0ZXNcbiAgICAgICAgLy8gYXJlIGFmdGVyIGEgbGluZS13cmFwcGVkIGxpbmUuIFdlIHNob3VsZCByZXBsYWNlIGl0IHdpdGggYVxuICAgICAgICAvLyBtb3JlIGdlbmVyYWwgaGFuZGxpbmcgb2YgY3Vyc29yIHBvc2l0aW9ucyBhcm91bmQgbGluZVxuICAgICAgICAvLyBicmVha3MuIChJc3N1ZSAjNDA3OClcbiAgICAgICAgaWYgKHRvT3V0c2lkZSAmJiAhYmlkaSAmJiAhL1xccy8udGVzdChsaW5lT2JqLnRleHQuY2hhckF0KGNoKSkgJiYgeERpZmYgPiAwICYmXG4gICAgICAgICAgICBjaCA8IGxpbmVPYmoudGV4dC5sZW5ndGggJiYgcHJlcGFyZWRNZWFzdXJlLnZpZXcubWVhc3VyZS5oZWlnaHRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICB2YXIgY2hhclNpemUgPSBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwYXJlZE1lYXN1cmUsIGNoLCBcInJpZ2h0XCIpO1xuICAgICAgICAgIGlmIChpbm5lck9mZiA8PSBjaGFyU2l6ZS5ib3R0b20gJiYgaW5uZXJPZmYgPj0gY2hhclNpemUudG9wICYmIE1hdGguYWJzKHggLSBjaGFyU2l6ZS5yaWdodCkgPCB4RGlmZikge1xuICAgICAgICAgICAgb3V0c2lkZSA9IGZhbHNlXG4gICAgICAgICAgICBjaCsrXG4gICAgICAgICAgICB4RGlmZiA9IHggLSBjaGFyU2l6ZS5yaWdodFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaXNFeHRlbmRpbmdDaGFyKGxpbmVPYmoudGV4dC5jaGFyQXQoY2gpKSkgKytjaDtcbiAgICAgICAgdmFyIHBvcyA9IFBvc1dpdGhJbmZvKGxpbmVObywgY2gsIG91dHNpZGUsIHhEaWZmIDwgLTEgPyAtMSA6IHhEaWZmID4gMSA/IDEgOiAwKTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgIH1cbiAgICAgIHZhciBzdGVwID0gTWF0aC5jZWlsKGRpc3QgLyAyKSwgbWlkZGxlID0gZnJvbSArIHN0ZXA7XG4gICAgICBpZiAoYmlkaSkge1xuICAgICAgICBtaWRkbGUgPSBmcm9tO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXA7ICsraSkgbWlkZGxlID0gbW92ZVZpc3VhbGx5KGxpbmVPYmosIG1pZGRsZSwgMSk7XG4gICAgICB9XG4gICAgICB2YXIgbWlkZGxlWCA9IGdldFgobWlkZGxlKTtcbiAgICAgIGlmIChtaWRkbGVYID4geCkge3RvID0gbWlkZGxlOyB0b1ggPSBtaWRkbGVYOyBpZiAodG9PdXRzaWRlID0gd3JvbmdMaW5lKSB0b1ggKz0gMTAwMDsgZGlzdCA9IHN0ZXA7fVxuICAgICAgZWxzZSB7ZnJvbSA9IG1pZGRsZTsgZnJvbVggPSBtaWRkbGVYOyBmcm9tT3V0c2lkZSA9IHdyb25nTGluZTsgZGlzdCAtPSBzdGVwO31cbiAgICB9XG4gIH1cblxuICB2YXIgbWVhc3VyZVRleHQ7XG4gIC8vIENvbXB1dGUgdGhlIGRlZmF1bHQgdGV4dCBoZWlnaHQuXG4gIGZ1bmN0aW9uIHRleHRIZWlnaHQoZGlzcGxheSkge1xuICAgIGlmIChkaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQgIT0gbnVsbCkgcmV0dXJuIGRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodDtcbiAgICBpZiAobWVhc3VyZVRleHQgPT0gbnVsbCkge1xuICAgICAgbWVhc3VyZVRleHQgPSBlbHQoXCJwcmVcIik7XG4gICAgICAvLyBNZWFzdXJlIGEgYnVuY2ggb2YgbGluZXMsIGZvciBicm93c2VycyB0aGF0IGNvbXB1dGVcbiAgICAgIC8vIGZyYWN0aW9uYWwgaGVpZ2h0cy5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDk7ICsraSkge1xuICAgICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIikpO1xuICAgICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChlbHQoXCJiclwiKSk7XG4gICAgICB9XG4gICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIikpO1xuICAgIH1cbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIG1lYXN1cmVUZXh0KTtcbiAgICB2YXIgaGVpZ2h0ID0gbWVhc3VyZVRleHQub2Zmc2V0SGVpZ2h0IC8gNTA7XG4gICAgaWYgKGhlaWdodCA+IDMpIGRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodCA9IGhlaWdodDtcbiAgICByZW1vdmVDaGlsZHJlbihkaXNwbGF5Lm1lYXN1cmUpO1xuICAgIHJldHVybiBoZWlnaHQgfHwgMTtcbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGRlZmF1bHQgY2hhcmFjdGVyIHdpZHRoLlxuICBmdW5jdGlvbiBjaGFyV2lkdGgoZGlzcGxheSkge1xuICAgIGlmIChkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCAhPSBudWxsKSByZXR1cm4gZGlzcGxheS5jYWNoZWRDaGFyV2lkdGg7XG4gICAgdmFyIGFuY2hvciA9IGVsdChcInNwYW5cIiwgXCJ4eHh4eHh4eHh4XCIpO1xuICAgIHZhciBwcmUgPSBlbHQoXCJwcmVcIiwgW2FuY2hvcl0pO1xuICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkubWVhc3VyZSwgcHJlKTtcbiAgICB2YXIgcmVjdCA9IGFuY2hvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgd2lkdGggPSAocmVjdC5yaWdodCAtIHJlY3QubGVmdCkgLyAxMDtcbiAgICBpZiAod2lkdGggPiAyKSBkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCA9IHdpZHRoO1xuICAgIHJldHVybiB3aWR0aCB8fCAxMDtcbiAgfVxuXG4gIC8vIE9QRVJBVElPTlNcblxuICAvLyBPcGVyYXRpb25zIGFyZSB1c2VkIHRvIHdyYXAgYSBzZXJpZXMgb2YgY2hhbmdlcyB0byB0aGUgZWRpdG9yXG4gIC8vIHN0YXRlIGluIHN1Y2ggYSB3YXkgdGhhdCBlYWNoIGNoYW5nZSB3b24ndCBoYXZlIHRvIHVwZGF0ZSB0aGVcbiAgLy8gY3Vyc29yIGFuZCBkaXNwbGF5ICh3aGljaCB3b3VsZCBiZSBhd2t3YXJkLCBzbG93LCBhbmRcbiAgLy8gZXJyb3ItcHJvbmUpLiBJbnN0ZWFkLCBkaXNwbGF5IHVwZGF0ZXMgYXJlIGJhdGNoZWQgYW5kIHRoZW4gYWxsXG4gIC8vIGNvbWJpbmVkIGFuZCBleGVjdXRlZCBhdCBvbmNlLlxuXG4gIHZhciBvcGVyYXRpb25Hcm91cCA9IG51bGw7XG5cbiAgdmFyIG5leHRPcElkID0gMDtcbiAgLy8gU3RhcnQgYSBuZXcgb3BlcmF0aW9uLlxuICBmdW5jdGlvbiBzdGFydE9wZXJhdGlvbihjbSkge1xuICAgIGNtLmN1ck9wID0ge1xuICAgICAgY206IGNtLFxuICAgICAgdmlld0NoYW5nZWQ6IGZhbHNlLCAgICAgIC8vIEZsYWcgdGhhdCBpbmRpY2F0ZXMgdGhhdCBsaW5lcyBtaWdodCBuZWVkIHRvIGJlIHJlZHJhd25cbiAgICAgIHN0YXJ0SGVpZ2h0OiBjbS5kb2MuaGVpZ2h0LCAvLyBVc2VkIHRvIGRldGVjdCBuZWVkIHRvIHVwZGF0ZSBzY3JvbGxiYXJcbiAgICAgIGZvcmNlVXBkYXRlOiBmYWxzZSwgICAgICAvLyBVc2VkIHRvIGZvcmNlIGEgcmVkcmF3XG4gICAgICB1cGRhdGVJbnB1dDogbnVsbCwgICAgICAgLy8gV2hldGhlciB0byByZXNldCB0aGUgaW5wdXQgdGV4dGFyZWFcbiAgICAgIHR5cGluZzogZmFsc2UsICAgICAgICAgICAvLyBXaGV0aGVyIHRoaXMgcmVzZXQgc2hvdWxkIGJlIGNhcmVmdWwgdG8gbGVhdmUgZXhpc3RpbmcgdGV4dCAoZm9yIGNvbXBvc2l0aW5nKVxuICAgICAgY2hhbmdlT2JqczogbnVsbCwgICAgICAgIC8vIEFjY3VtdWxhdGVkIGNoYW5nZXMsIGZvciBmaXJpbmcgY2hhbmdlIGV2ZW50c1xuICAgICAgY3Vyc29yQWN0aXZpdHlIYW5kbGVyczogbnVsbCwgLy8gU2V0IG9mIGhhbmRsZXJzIHRvIGZpcmUgY3Vyc29yQWN0aXZpdHkgb25cbiAgICAgIGN1cnNvckFjdGl2aXR5Q2FsbGVkOiAwLCAvLyBUcmFja3Mgd2hpY2ggY3Vyc29yQWN0aXZpdHkgaGFuZGxlcnMgaGF2ZSBiZWVuIGNhbGxlZCBhbHJlYWR5XG4gICAgICBzZWxlY3Rpb25DaGFuZ2VkOiBmYWxzZSwgLy8gV2hldGhlciB0aGUgc2VsZWN0aW9uIG5lZWRzIHRvIGJlIHJlZHJhd25cbiAgICAgIHVwZGF0ZU1heExpbmU6IGZhbHNlLCAgICAvLyBTZXQgd2hlbiB0aGUgd2lkZXN0IGxpbmUgbmVlZHMgdG8gYmUgZGV0ZXJtaW5lZCBhbmV3XG4gICAgICBzY3JvbGxMZWZ0OiBudWxsLCBzY3JvbGxUb3A6IG51bGwsIC8vIEludGVybWVkaWF0ZSBzY3JvbGwgcG9zaXRpb24sIG5vdCBwdXNoZWQgdG8gRE9NIHlldFxuICAgICAgc2Nyb2xsVG9Qb3M6IG51bGwsICAgICAgIC8vIFVzZWQgdG8gc2Nyb2xsIHRvIGEgc3BlY2lmaWMgcG9zaXRpb25cbiAgICAgIGZvY3VzOiBmYWxzZSxcbiAgICAgIGlkOiArK25leHRPcElkICAgICAgICAgICAvLyBVbmlxdWUgSURcbiAgICB9O1xuICAgIGlmIChvcGVyYXRpb25Hcm91cCkge1xuICAgICAgb3BlcmF0aW9uR3JvdXAub3BzLnB1c2goY20uY3VyT3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbS5jdXJPcC5vd25zR3JvdXAgPSBvcGVyYXRpb25Hcm91cCA9IHtcbiAgICAgICAgb3BzOiBbY20uY3VyT3BdLFxuICAgICAgICBkZWxheWVkQ2FsbGJhY2tzOiBbXVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlQ2FsbGJhY2tzRm9yT3BzKGdyb3VwKSB7XG4gICAgLy8gQ2FsbHMgZGVsYXllZCBjYWxsYmFja3MgYW5kIGN1cnNvckFjdGl2aXR5IGhhbmRsZXJzIHVudGlsIG5vXG4gICAgLy8gbmV3IG9uZXMgYXBwZWFyXG4gICAgdmFyIGNhbGxiYWNrcyA9IGdyb3VwLmRlbGF5ZWRDYWxsYmFja3MsIGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGZvciAoOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgICBjYWxsYmFja3NbaV0uY2FsbChudWxsKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXAub3BzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBvcCA9IGdyb3VwLm9wc1tqXTtcbiAgICAgICAgaWYgKG9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMpXG4gICAgICAgICAgd2hpbGUgKG9wLmN1cnNvckFjdGl2aXR5Q2FsbGVkIDwgb3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVycy5sZW5ndGgpXG4gICAgICAgICAgICBvcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzW29wLmN1cnNvckFjdGl2aXR5Q2FsbGVkKytdLmNhbGwobnVsbCwgb3AuY20pO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKGkgPCBjYWxsYmFja3MubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIEZpbmlzaCBhbiBvcGVyYXRpb24sIHVwZGF0aW5nIHRoZSBkaXNwbGF5IGFuZCBzaWduYWxsaW5nIGRlbGF5ZWQgZXZlbnRzXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbihjbSkge1xuICAgIHZhciBvcCA9IGNtLmN1ck9wLCBncm91cCA9IG9wLm93bnNHcm91cDtcbiAgICBpZiAoIWdyb3VwKSByZXR1cm47XG5cbiAgICB0cnkgeyBmaXJlQ2FsbGJhY2tzRm9yT3BzKGdyb3VwKTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgb3BlcmF0aW9uR3JvdXAgPSBudWxsO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncm91cC5vcHMubGVuZ3RoOyBpKyspXG4gICAgICAgIGdyb3VwLm9wc1tpXS5jbS5jdXJPcCA9IG51bGw7XG4gICAgICBlbmRPcGVyYXRpb25zKGdyb3VwKTtcbiAgICB9XG4gIH1cblxuICAvLyBUaGUgRE9NIHVwZGF0ZXMgZG9uZSB3aGVuIGFuIG9wZXJhdGlvbiBmaW5pc2hlcyBhcmUgYmF0Y2hlZCBzb1xuICAvLyB0aGF0IHRoZSBtaW5pbXVtIG51bWJlciBvZiByZWxheW91dHMgYXJlIHJlcXVpcmVkLlxuICBmdW5jdGlvbiBlbmRPcGVyYXRpb25zKGdyb3VwKSB7XG4gICAgdmFyIG9wcyA9IGdyb3VwLm9wcztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykgLy8gUmVhZCBET01cbiAgICAgIGVuZE9wZXJhdGlvbl9SMShvcHNbaV0pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSAvLyBXcml0ZSBET00gKG1heWJlKVxuICAgICAgZW5kT3BlcmF0aW9uX1cxKG9wc1tpXSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHMubGVuZ3RoOyBpKyspIC8vIFJlYWQgRE9NXG4gICAgICBlbmRPcGVyYXRpb25fUjIob3BzW2ldKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykgLy8gV3JpdGUgRE9NIChtYXliZSlcbiAgICAgIGVuZE9wZXJhdGlvbl9XMihvcHNbaV0pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSAvLyBSZWFkIERPTVxuICAgICAgZW5kT3BlcmF0aW9uX2ZpbmlzaChvcHNbaV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1IxKG9wKSB7XG4gICAgdmFyIGNtID0gb3AuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIG1heWJlQ2xpcFNjcm9sbGJhcnMoY20pO1xuICAgIGlmIChvcC51cGRhdGVNYXhMaW5lKSBmaW5kTWF4TGluZShjbSk7XG5cbiAgICBvcC5tdXN0VXBkYXRlID0gb3Audmlld0NoYW5nZWQgfHwgb3AuZm9yY2VVcGRhdGUgfHwgb3Auc2Nyb2xsVG9wICE9IG51bGwgfHxcbiAgICAgIG9wLnNjcm9sbFRvUG9zICYmIChvcC5zY3JvbGxUb1Bvcy5mcm9tLmxpbmUgPCBkaXNwbGF5LnZpZXdGcm9tIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgb3Auc2Nyb2xsVG9Qb3MudG8ubGluZSA+PSBkaXNwbGF5LnZpZXdUbykgfHxcbiAgICAgIGRpc3BsYXkubWF4TGluZUNoYW5nZWQgJiYgY20ub3B0aW9ucy5saW5lV3JhcHBpbmc7XG4gICAgb3AudXBkYXRlID0gb3AubXVzdFVwZGF0ZSAmJlxuICAgICAgbmV3IERpc3BsYXlVcGRhdGUoY20sIG9wLm11c3RVcGRhdGUgJiYge3RvcDogb3Auc2Nyb2xsVG9wLCBlbnN1cmU6IG9wLnNjcm9sbFRvUG9zfSwgb3AuZm9yY2VVcGRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1cxKG9wKSB7XG4gICAgb3AudXBkYXRlZERpc3BsYXkgPSBvcC5tdXN0VXBkYXRlICYmIHVwZGF0ZURpc3BsYXlJZk5lZWRlZChvcC5jbSwgb3AudXBkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9SMihvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkpIHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKTtcblxuICAgIG9wLmJhck1lYXN1cmUgPSBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSk7XG5cbiAgICAvLyBJZiB0aGUgbWF4IGxpbmUgY2hhbmdlZCBzaW5jZSBpdCB3YXMgbGFzdCBtZWFzdXJlZCwgbWVhc3VyZSBpdCxcbiAgICAvLyBhbmQgZW5zdXJlIHRoZSBkb2N1bWVudCdzIHdpZHRoIG1hdGNoZXMgaXQuXG4gICAgLy8gdXBkYXRlRGlzcGxheV9XMiB3aWxsIHVzZSB0aGVzZSBwcm9wZXJ0aWVzIHRvIGRvIHRoZSBhY3R1YWwgcmVzaXppbmdcbiAgICBpZiAoZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgIG9wLmFkanVzdFdpZHRoVG8gPSBtZWFzdXJlQ2hhcihjbSwgZGlzcGxheS5tYXhMaW5lLCBkaXNwbGF5Lm1heExpbmUudGV4dC5sZW5ndGgpLmxlZnQgKyAzO1xuICAgICAgY20uZGlzcGxheS5zaXplcldpZHRoID0gb3AuYWRqdXN0V2lkdGhUbztcbiAgICAgIG9wLmJhck1lYXN1cmUuc2Nyb2xsV2lkdGggPVxuICAgICAgICBNYXRoLm1heChkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoLCBkaXNwbGF5LnNpemVyLm9mZnNldExlZnQgKyBvcC5hZGp1c3RXaWR0aFRvICsgc2Nyb2xsR2FwKGNtKSArIGNtLmRpc3BsYXkuYmFyV2lkdGgpO1xuICAgICAgb3AubWF4U2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIGRpc3BsYXkuc2l6ZXIub2Zmc2V0TGVmdCArIG9wLmFkanVzdFdpZHRoVG8gLSBkaXNwbGF5V2lkdGgoY20pKTtcbiAgICB9XG5cbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkgfHwgb3Auc2VsZWN0aW9uQ2hhbmdlZClcbiAgICAgIG9wLnByZXBhcmVkU2VsZWN0aW9uID0gZGlzcGxheS5pbnB1dC5wcmVwYXJlU2VsZWN0aW9uKG9wLmZvY3VzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9XMihvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtO1xuXG4gICAgaWYgKG9wLmFkanVzdFdpZHRoVG8gIT0gbnVsbCkge1xuICAgICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aCA9IG9wLmFkanVzdFdpZHRoVG8gKyBcInB4XCI7XG4gICAgICBpZiAob3AubWF4U2Nyb2xsTGVmdCA8IGNtLmRvYy5zY3JvbGxMZWZ0KVxuICAgICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBNYXRoLm1pbihjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQsIG9wLm1heFNjcm9sbExlZnQpLCB0cnVlKTtcbiAgICAgIGNtLmRpc3BsYXkubWF4TGluZUNoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdGFrZUZvY3VzID0gb3AuZm9jdXMgJiYgb3AuZm9jdXMgPT0gYWN0aXZlRWx0KCkgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKVxuICAgIGlmIChvcC5wcmVwYXJlZFNlbGVjdGlvbilcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXQuc2hvd1NlbGVjdGlvbihvcC5wcmVwYXJlZFNlbGVjdGlvbiwgdGFrZUZvY3VzKTtcbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkgfHwgb3Auc3RhcnRIZWlnaHQgIT0gY20uZG9jLmhlaWdodClcbiAgICAgIHVwZGF0ZVNjcm9sbGJhcnMoY20sIG9wLmJhck1lYXN1cmUpO1xuICAgIGlmIChvcC51cGRhdGVkRGlzcGxheSlcbiAgICAgIHNldERvY3VtZW50SGVpZ2h0KGNtLCBvcC5iYXJNZWFzdXJlKTtcblxuICAgIGlmIChvcC5zZWxlY3Rpb25DaGFuZ2VkKSByZXN0YXJ0QmxpbmsoY20pO1xuXG4gICAgaWYgKGNtLnN0YXRlLmZvY3VzZWQgJiYgb3AudXBkYXRlSW5wdXQpXG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KG9wLnR5cGluZyk7XG4gICAgaWYgKHRha2VGb2N1cykgZW5zdXJlRm9jdXMob3AuY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX2ZpbmlzaChvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuXG4gICAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5KSBwb3N0VXBkYXRlRGlzcGxheShjbSwgb3AudXBkYXRlKTtcblxuICAgIC8vIEFib3J0IG1vdXNlIHdoZWVsIGRlbHRhIG1lYXN1cmVtZW50LCB3aGVuIHNjcm9sbGluZyBleHBsaWNpdGx5XG4gICAgaWYgKGRpc3BsYXkud2hlZWxTdGFydFggIT0gbnVsbCAmJiAob3Auc2Nyb2xsVG9wICE9IG51bGwgfHwgb3Auc2Nyb2xsTGVmdCAhPSBudWxsIHx8IG9wLnNjcm9sbFRvUG9zKSlcbiAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBkaXNwbGF5LndoZWVsU3RhcnRZID0gbnVsbDtcblxuICAgIC8vIFByb3BhZ2F0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIHRoZSBhY3R1YWwgRE9NIHNjcm9sbGVyXG4gICAgaWYgKG9wLnNjcm9sbFRvcCAhPSBudWxsICYmIChkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCAhPSBvcC5zY3JvbGxUb3AgfHwgb3AuZm9yY2VTY3JvbGwpKSB7XG4gICAgICBkb2Muc2Nyb2xsVG9wID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS5zY3JvbGxlci5zY3JvbGxIZWlnaHQgLSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudEhlaWdodCwgb3Auc2Nyb2xsVG9wKSk7XG4gICAgICBkaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKGRvYy5zY3JvbGxUb3ApO1xuICAgICAgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgPSBkb2Muc2Nyb2xsVG9wO1xuICAgIH1cbiAgICBpZiAob3Auc2Nyb2xsTGVmdCAhPSBudWxsICYmIChkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgIT0gb3Auc2Nyb2xsTGVmdCB8fCBvcC5mb3JjZVNjcm9sbCkpIHtcbiAgICAgIGRvYy5zY3JvbGxMZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aCAtIGRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgsIG9wLnNjcm9sbExlZnQpKTtcbiAgICAgIGRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KGRvYy5zY3JvbGxMZWZ0KTtcbiAgICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IGRvYy5zY3JvbGxMZWZ0O1xuICAgICAgYWxpZ25Ib3Jpem9udGFsbHkoY20pO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBuZWVkIHRvIHNjcm9sbCBhIHNwZWNpZmljIHBvc2l0aW9uIGludG8gdmlldywgZG8gc28uXG4gICAgaWYgKG9wLnNjcm9sbFRvUG9zKSB7XG4gICAgICB2YXIgY29vcmRzID0gc2Nyb2xsUG9zSW50b1ZpZXcoY20sIGNsaXBQb3MoZG9jLCBvcC5zY3JvbGxUb1Bvcy5mcm9tKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwUG9zKGRvYywgb3Auc2Nyb2xsVG9Qb3MudG8pLCBvcC5zY3JvbGxUb1Bvcy5tYXJnaW4pO1xuICAgICAgaWYgKG9wLnNjcm9sbFRvUG9zLmlzQ3Vyc29yICYmIGNtLnN0YXRlLmZvY3VzZWQpIG1heWJlU2Nyb2xsV2luZG93KGNtLCBjb29yZHMpO1xuICAgIH1cblxuICAgIC8vIEZpcmUgZXZlbnRzIGZvciBtYXJrZXJzIHRoYXQgYXJlIGhpZGRlbi91bmlkZGVuIGJ5IGVkaXRpbmcgb3JcbiAgICAvLyB1bmRvaW5nXG4gICAgdmFyIGhpZGRlbiA9IG9wLm1heWJlSGlkZGVuTWFya2VycywgdW5oaWRkZW4gPSBvcC5tYXliZVVuaGlkZGVuTWFya2VycztcbiAgICBpZiAoaGlkZGVuKSBmb3IgKHZhciBpID0gMDsgaSA8IGhpZGRlbi5sZW5ndGg7ICsraSlcbiAgICAgIGlmICghaGlkZGVuW2ldLmxpbmVzLmxlbmd0aCkgc2lnbmFsKGhpZGRlbltpXSwgXCJoaWRlXCIpO1xuICAgIGlmICh1bmhpZGRlbikgZm9yICh2YXIgaSA9IDA7IGkgPCB1bmhpZGRlbi5sZW5ndGg7ICsraSlcbiAgICAgIGlmICh1bmhpZGRlbltpXS5saW5lcy5sZW5ndGgpIHNpZ25hbCh1bmhpZGRlbltpXSwgXCJ1bmhpZGVcIik7XG5cbiAgICBpZiAoZGlzcGxheS53cmFwcGVyLm9mZnNldEhlaWdodClcbiAgICAgIGRvYy5zY3JvbGxUb3AgPSBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcDtcblxuICAgIC8vIEZpcmUgY2hhbmdlIGV2ZW50cywgYW5kIGRlbGF5ZWQgZXZlbnQgaGFuZGxlcnNcbiAgICBpZiAob3AuY2hhbmdlT2JqcylcbiAgICAgIHNpZ25hbChjbSwgXCJjaGFuZ2VzXCIsIGNtLCBvcC5jaGFuZ2VPYmpzKTtcbiAgICBpZiAob3AudXBkYXRlKVxuICAgICAgb3AudXBkYXRlLmZpbmlzaCgpO1xuICB9XG5cbiAgLy8gUnVuIHRoZSBnaXZlbiBmdW5jdGlvbiBpbiBhbiBvcGVyYXRpb25cbiAgZnVuY3Rpb24gcnVuSW5PcChjbSwgZikge1xuICAgIGlmIChjbS5jdXJPcCkgcmV0dXJuIGYoKTtcbiAgICBzdGFydE9wZXJhdGlvbihjbSk7XG4gICAgdHJ5IHsgcmV0dXJuIGYoKTsgfVxuICAgIGZpbmFsbHkgeyBlbmRPcGVyYXRpb24oY20pOyB9XG4gIH1cbiAgLy8gV3JhcHMgYSBmdW5jdGlvbiBpbiBhbiBvcGVyYXRpb24uIFJldHVybnMgdGhlIHdyYXBwZWQgZnVuY3Rpb24uXG4gIGZ1bmN0aW9uIG9wZXJhdGlvbihjbSwgZikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChjbS5jdXJPcCkgcmV0dXJuIGYuYXBwbHkoY20sIGFyZ3VtZW50cyk7XG4gICAgICBzdGFydE9wZXJhdGlvbihjbSk7XG4gICAgICB0cnkgeyByZXR1cm4gZi5hcHBseShjbSwgYXJndW1lbnRzKTsgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgICB9O1xuICB9XG4gIC8vIFVzZWQgdG8gYWRkIG1ldGhvZHMgdG8gZWRpdG9yIGFuZCBkb2MgaW5zdGFuY2VzLCB3cmFwcGluZyB0aGVtIGluXG4gIC8vIG9wZXJhdGlvbnMuXG4gIGZ1bmN0aW9uIG1ldGhvZE9wKGYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJPcCkgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHN0YXJ0T3BlcmF0aW9uKHRoaXMpO1xuICAgICAgdHJ5IHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbih0aGlzKTsgfVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZG9jTWV0aG9kT3AoZikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMuY207XG4gICAgICBpZiAoIWNtIHx8IGNtLmN1ck9wKSByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgc3RhcnRPcGVyYXRpb24oY20pO1xuICAgICAgdHJ5IHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgICB9O1xuICB9XG5cbiAgLy8gVklFVyBUUkFDS0lOR1xuXG4gIC8vIFRoZXNlIG9iamVjdHMgYXJlIHVzZWQgdG8gcmVwcmVzZW50IHRoZSB2aXNpYmxlIChjdXJyZW50bHkgZHJhd24pXG4gIC8vIHBhcnQgb2YgdGhlIGRvY3VtZW50LiBBIExpbmVWaWV3IG1heSBjb3JyZXNwb25kIHRvIG11bHRpcGxlXG4gIC8vIGxvZ2ljYWwgbGluZXMsIGlmIHRob3NlIGFyZSBjb25uZWN0ZWQgYnkgY29sbGFwc2VkIHJhbmdlcy5cbiAgZnVuY3Rpb24gTGluZVZpZXcoZG9jLCBsaW5lLCBsaW5lTikge1xuICAgIC8vIFRoZSBzdGFydGluZyBsaW5lXG4gICAgdGhpcy5saW5lID0gbGluZTtcbiAgICAvLyBDb250aW51aW5nIGxpbmVzLCBpZiBhbnlcbiAgICB0aGlzLnJlc3QgPSB2aXN1YWxMaW5lQ29udGludWVkKGxpbmUpO1xuICAgIC8vIE51bWJlciBvZiBsb2dpY2FsIGxpbmVzIGluIHRoaXMgdmlzdWFsIGxpbmVcbiAgICB0aGlzLnNpemUgPSB0aGlzLnJlc3QgPyBsaW5lTm8obHN0KHRoaXMucmVzdCkpIC0gbGluZU4gKyAxIDogMTtcbiAgICB0aGlzLm5vZGUgPSB0aGlzLnRleHQgPSBudWxsO1xuICAgIHRoaXMuaGlkZGVuID0gbGluZUlzSGlkZGVuKGRvYywgbGluZSk7XG4gIH1cblxuICAvLyBDcmVhdGUgYSByYW5nZSBvZiBMaW5lVmlldyBvYmplY3RzIGZvciB0aGUgZ2l2ZW4gbGluZXMuXG4gIGZ1bmN0aW9uIGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCB0bykge1xuICAgIHZhciBhcnJheSA9IFtdLCBuZXh0UG9zO1xuICAgIGZvciAodmFyIHBvcyA9IGZyb207IHBvcyA8IHRvOyBwb3MgPSBuZXh0UG9zKSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBMaW5lVmlldyhjbS5kb2MsIGdldExpbmUoY20uZG9jLCBwb3MpLCBwb3MpO1xuICAgICAgbmV4dFBvcyA9IHBvcyArIHZpZXcuc2l6ZTtcbiAgICAgIGFycmF5LnB1c2godmlldyk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8vIFVwZGF0ZXMgdGhlIGRpc3BsYXkudmlldyBkYXRhIHN0cnVjdHVyZSBmb3IgYSBnaXZlbiBjaGFuZ2UgdG8gdGhlXG4gIC8vIGRvY3VtZW50LiBGcm9tIGFuZCB0byBhcmUgaW4gcHJlLWNoYW5nZSBjb29yZGluYXRlcy4gTGVuZGlmZiBpc1xuICAvLyB0aGUgYW1vdW50IG9mIGxpbmVzIGFkZGVkIG9yIHN1YnRyYWN0ZWQgYnkgdGhlIGNoYW5nZS4gVGhpcyBpc1xuICAvLyB1c2VkIGZvciBjaGFuZ2VzIHRoYXQgc3BhbiBtdWx0aXBsZSBsaW5lcywgb3IgY2hhbmdlIHRoZSB3YXlcbiAgLy8gbGluZXMgYXJlIGRpdmlkZWQgaW50byB2aXN1YWwgbGluZXMuIHJlZ0xpbmVDaGFuZ2UgKGJlbG93KVxuICAvLyByZWdpc3RlcnMgc2luZ2xlLWxpbmUgY2hhbmdlcy5cbiAgZnVuY3Rpb24gcmVnQ2hhbmdlKGNtLCBmcm9tLCB0bywgbGVuZGlmZikge1xuICAgIGlmIChmcm9tID09IG51bGwpIGZyb20gPSBjbS5kb2MuZmlyc3Q7XG4gICAgaWYgKHRvID09IG51bGwpIHRvID0gY20uZG9jLmZpcnN0ICsgY20uZG9jLnNpemU7XG4gICAgaWYgKCFsZW5kaWZmKSBsZW5kaWZmID0gMDtcblxuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAobGVuZGlmZiAmJiB0byA8IGRpc3BsYXkudmlld1RvICYmXG4gICAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+IGZyb20pKVxuICAgICAgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9IGZyb207XG5cbiAgICBjbS5jdXJPcC52aWV3Q2hhbmdlZCA9IHRydWU7XG5cbiAgICBpZiAoZnJvbSA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBDaGFuZ2UgYWZ0ZXJcbiAgICAgIGlmIChzYXdDb2xsYXBzZWRTcGFucyAmJiB2aXN1YWxMaW5lTm8oY20uZG9jLCBmcm9tKSA8IGRpc3BsYXkudmlld1RvKVxuICAgICAgICByZXNldFZpZXcoY20pO1xuICAgIH0gZWxzZSBpZiAodG8gPD0gZGlzcGxheS52aWV3RnJvbSkgeyAvLyBDaGFuZ2UgYmVmb3JlXG4gICAgICBpZiAoc2F3Q29sbGFwc2VkU3BhbnMgJiYgdmlzdWFsTGluZUVuZE5vKGNtLmRvYywgdG8gKyBsZW5kaWZmKSA+IGRpc3BsYXkudmlld0Zyb20pIHtcbiAgICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BsYXkudmlld0Zyb20gKz0gbGVuZGlmZjtcbiAgICAgICAgZGlzcGxheS52aWV3VG8gKz0gbGVuZGlmZjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZyb20gPD0gZGlzcGxheS52aWV3RnJvbSAmJiB0byA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBGdWxsIG92ZXJsYXBcbiAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgfSBlbHNlIGlmIChmcm9tIDw9IGRpc3BsYXkudmlld0Zyb20pIHsgLy8gVG9wIG92ZXJsYXBcbiAgICAgIHZhciBjdXQgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCB0bywgdG8gKyBsZW5kaWZmLCAxKTtcbiAgICAgIGlmIChjdXQpIHtcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKGN1dC5pbmRleCk7XG4gICAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBjdXQubGluZU47XG4gICAgICAgIGRpc3BsYXkudmlld1RvICs9IGxlbmRpZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNldFZpZXcoY20pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodG8gPj0gZGlzcGxheS52aWV3VG8pIHsgLy8gQm90dG9tIG92ZXJsYXBcbiAgICAgIHZhciBjdXQgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCBmcm9tLCBmcm9tLCAtMSk7XG4gICAgICBpZiAoY3V0KSB7XG4gICAgICAgIGRpc3BsYXkudmlldyA9IGRpc3BsYXkudmlldy5zbGljZSgwLCBjdXQuaW5kZXgpO1xuICAgICAgICBkaXNwbGF5LnZpZXdUbyA9IGN1dC5saW5lTjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gR2FwIGluIHRoZSBtaWRkbGVcbiAgICAgIHZhciBjdXRUb3AgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCBmcm9tLCBmcm9tLCAtMSk7XG4gICAgICB2YXIgY3V0Qm90ID0gdmlld0N1dHRpbmdQb2ludChjbSwgdG8sIHRvICsgbGVuZGlmZiwgMSk7XG4gICAgICBpZiAoY3V0VG9wICYmIGN1dEJvdCkge1xuICAgICAgICBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoMCwgY3V0VG9wLmluZGV4KVxuICAgICAgICAgIC5jb25jYXQoYnVpbGRWaWV3QXJyYXkoY20sIGN1dFRvcC5saW5lTiwgY3V0Qm90LmxpbmVOKSlcbiAgICAgICAgICAuY29uY2F0KGRpc3BsYXkudmlldy5zbGljZShjdXRCb3QuaW5kZXgpKTtcbiAgICAgICAgZGlzcGxheS52aWV3VG8gKz0gbGVuZGlmZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGV4dCA9IGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtcbiAgICBpZiAoZXh0KSB7XG4gICAgICBpZiAodG8gPCBleHQubGluZU4pXG4gICAgICAgIGV4dC5saW5lTiArPSBsZW5kaWZmO1xuICAgICAgZWxzZSBpZiAoZnJvbSA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgICBkaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlZ2lzdGVyIGEgY2hhbmdlIHRvIGEgc2luZ2xlIGxpbmUuIFR5cGUgbXVzdCBiZSBvbmUgb2YgXCJ0ZXh0XCIsXG4gIC8vIFwiZ3V0dGVyXCIsIFwiY2xhc3NcIiwgXCJ3aWRnZXRcIlxuICBmdW5jdGlvbiByZWdMaW5lQ2hhbmdlKGNtLCBsaW5lLCB0eXBlKSB7XG4gICAgY20uY3VyT3Audmlld0NoYW5nZWQgPSB0cnVlO1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQgJiYgbGluZSA+PSBleHQubGluZU4gJiYgbGluZSA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbDtcblxuICAgIGlmIChsaW5lIDwgZGlzcGxheS52aWV3RnJvbSB8fCBsaW5lID49IGRpc3BsYXkudmlld1RvKSByZXR1cm47XG4gICAgdmFyIGxpbmVWaWV3ID0gZGlzcGxheS52aWV3W2ZpbmRWaWV3SW5kZXgoY20sIGxpbmUpXTtcbiAgICBpZiAobGluZVZpZXcubm9kZSA9PSBudWxsKSByZXR1cm47XG4gICAgdmFyIGFyciA9IGxpbmVWaWV3LmNoYW5nZXMgfHwgKGxpbmVWaWV3LmNoYW5nZXMgPSBbXSk7XG4gICAgaWYgKGluZGV4T2YoYXJyLCB0eXBlKSA9PSAtMSkgYXJyLnB1c2godHlwZSk7XG4gIH1cblxuICAvLyBDbGVhciB0aGUgdmlldy5cbiAgZnVuY3Rpb24gcmVzZXRWaWV3KGNtKSB7XG4gICAgY20uZGlzcGxheS52aWV3RnJvbSA9IGNtLmRpc3BsYXkudmlld1RvID0gY20uZG9jLmZpcnN0O1xuICAgIGNtLmRpc3BsYXkudmlldyA9IFtdO1xuICAgIGNtLmRpc3BsYXkudmlld09mZnNldCA9IDA7XG4gIH1cblxuICAvLyBGaW5kIHRoZSB2aWV3IGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIGxpbmUuIFJldHVybiBudWxsXG4gIC8vIHdoZW4gdGhlIGxpbmUgaXNuJ3QgdmlzaWJsZS5cbiAgZnVuY3Rpb24gZmluZFZpZXdJbmRleChjbSwgbikge1xuICAgIGlmIChuID49IGNtLmRpc3BsYXkudmlld1RvKSByZXR1cm4gbnVsbDtcbiAgICBuIC09IGNtLmRpc3BsYXkudmlld0Zyb207XG4gICAgaWYgKG4gPCAwKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgdmlldyA9IGNtLmRpc3BsYXkudmlldztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIG4gLT0gdmlld1tpXS5zaXplO1xuICAgICAgaWYgKG4gPCAwKSByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB2aWV3Q3V0dGluZ1BvaW50KGNtLCBvbGROLCBuZXdOLCBkaXIpIHtcbiAgICB2YXIgaW5kZXggPSBmaW5kVmlld0luZGV4KGNtLCBvbGROKSwgZGlmZiwgdmlldyA9IGNtLmRpc3BsYXkudmlldztcbiAgICBpZiAoIXNhd0NvbGxhcHNlZFNwYW5zIHx8IG5ld04gPT0gY20uZG9jLmZpcnN0ICsgY20uZG9jLnNpemUpXG4gICAgICByZXR1cm4ge2luZGV4OiBpbmRleCwgbGluZU46IG5ld059O1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gY20uZGlzcGxheS52aWV3RnJvbTsgaSA8IGluZGV4OyBpKyspXG4gICAgICBuICs9IHZpZXdbaV0uc2l6ZTtcbiAgICBpZiAobiAhPSBvbGROKSB7XG4gICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICBpZiAoaW5kZXggPT0gdmlldy5sZW5ndGggLSAxKSByZXR1cm4gbnVsbDtcbiAgICAgICAgZGlmZiA9IChuICsgdmlld1tpbmRleF0uc2l6ZSkgLSBvbGROO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlmZiA9IG4gLSBvbGROO1xuICAgICAgfVxuICAgICAgb2xkTiArPSBkaWZmOyBuZXdOICs9IGRpZmY7XG4gICAgfVxuICAgIHdoaWxlICh2aXN1YWxMaW5lTm8oY20uZG9jLCBuZXdOKSAhPSBuZXdOKSB7XG4gICAgICBpZiAoaW5kZXggPT0gKGRpciA8IDAgPyAwIDogdmlldy5sZW5ndGggLSAxKSkgcmV0dXJuIG51bGw7XG4gICAgICBuZXdOICs9IGRpciAqIHZpZXdbaW5kZXggLSAoZGlyIDwgMCA/IDEgOiAwKV0uc2l6ZTtcbiAgICAgIGluZGV4ICs9IGRpcjtcbiAgICB9XG4gICAgcmV0dXJuIHtpbmRleDogaW5kZXgsIGxpbmVOOiBuZXdOfTtcbiAgfVxuXG4gIC8vIEZvcmNlIHRoZSB2aWV3IHRvIGNvdmVyIGEgZ2l2ZW4gcmFuZ2UsIGFkZGluZyBlbXB0eSB2aWV3IGVsZW1lbnRcbiAgLy8gb3IgY2xpcHBpbmcgb2ZmIGV4aXN0aW5nIG9uZXMgYXMgbmVlZGVkLlxuICBmdW5jdGlvbiBhZGp1c3RWaWV3KGNtLCBmcm9tLCB0bykge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgdmlldyA9IGRpc3BsYXkudmlldztcbiAgICBpZiAodmlldy5sZW5ndGggPT0gMCB8fCBmcm9tID49IGRpc3BsYXkudmlld1RvIHx8IHRvIDw9IGRpc3BsYXkudmlld0Zyb20pIHtcbiAgICAgIGRpc3BsYXkudmlldyA9IGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCB0byk7XG4gICAgICBkaXNwbGF5LnZpZXdGcm9tID0gZnJvbTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRpc3BsYXkudmlld0Zyb20gPiBmcm9tKVxuICAgICAgICBkaXNwbGF5LnZpZXcgPSBidWlsZFZpZXdBcnJheShjbSwgZnJvbSwgZGlzcGxheS52aWV3RnJvbSkuY29uY2F0KGRpc3BsYXkudmlldyk7XG4gICAgICBlbHNlIGlmIChkaXNwbGF5LnZpZXdGcm9tIDwgZnJvbSlcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKGZpbmRWaWV3SW5kZXgoY20sIGZyb20pKTtcbiAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBmcm9tO1xuICAgICAgaWYgKGRpc3BsYXkudmlld1RvIDwgdG8pXG4gICAgICAgIGRpc3BsYXkudmlldyA9IGRpc3BsYXkudmlldy5jb25jYXQoYnVpbGRWaWV3QXJyYXkoY20sIGRpc3BsYXkudmlld1RvLCB0bykpO1xuICAgICAgZWxzZSBpZiAoZGlzcGxheS52aWV3VG8gPiB0bylcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKDAsIGZpbmRWaWV3SW5kZXgoY20sIHRvKSk7XG4gICAgfVxuICAgIGRpc3BsYXkudmlld1RvID0gdG87XG4gIH1cblxuICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGxpbmVzIGluIHRoZSB2aWV3IHdob3NlIERPTSByZXByZXNlbnRhdGlvbiBpc1xuICAvLyBvdXQgb2YgZGF0ZSAob3Igbm9uZXhpc3RlbnQpLlxuICBmdW5jdGlvbiBjb3VudERpcnR5VmlldyhjbSkge1xuICAgIHZhciB2aWV3ID0gY20uZGlzcGxheS52aWV3LCBkaXJ0eSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGluZVZpZXcgPSB2aWV3W2ldO1xuICAgICAgaWYgKCFsaW5lVmlldy5oaWRkZW4gJiYgKCFsaW5lVmlldy5ub2RlIHx8IGxpbmVWaWV3LmNoYW5nZXMpKSArK2RpcnR5O1xuICAgIH1cbiAgICByZXR1cm4gZGlydHk7XG4gIH1cblxuICAvLyBFVkVOVCBIQU5ETEVSU1xuXG4gIC8vIEF0dGFjaCB0aGUgbmVjZXNzYXJ5IGV2ZW50IGhhbmRsZXJzIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBlZGl0b3JcbiAgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudEhhbmRsZXJzKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5O1xuICAgIG9uKGQuc2Nyb2xsZXIsIFwibW91c2Vkb3duXCIsIG9wZXJhdGlvbihjbSwgb25Nb3VzZURvd24pKTtcbiAgICAvLyBPbGRlciBJRSdzIHdpbGwgbm90IGZpcmUgYSBzZWNvbmQgbW91c2Vkb3duIGZvciBhIGRvdWJsZSBjbGlja1xuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpXG4gICAgICBvbihkLnNjcm9sbGVyLCBcImRibGNsaWNrXCIsIG9wZXJhdGlvbihjbSwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpKSByZXR1cm47XG4gICAgICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUpO1xuICAgICAgICBpZiAoIXBvcyB8fCBjbGlja0luR3V0dGVyKGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKSByZXR1cm47XG4gICAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIHZhciB3b3JkID0gY20uZmluZFdvcmRBdChwb3MpO1xuICAgICAgICBleHRlbmRTZWxlY3Rpb24oY20uZG9jLCB3b3JkLmFuY2hvciwgd29yZC5oZWFkKTtcbiAgICAgIH0pKTtcbiAgICBlbHNlXG4gICAgICBvbihkLnNjcm9sbGVyLCBcImRibGNsaWNrXCIsIGZ1bmN0aW9uKGUpIHsgc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGVfcHJldmVudERlZmF1bHQoZSk7IH0pO1xuICAgIC8vIFNvbWUgYnJvd3NlcnMgZmlyZSBjb250ZXh0bWVudSAqYWZ0ZXIqIG9wZW5pbmcgdGhlIG1lbnUsIGF0XG4gICAgLy8gd2hpY2ggcG9pbnQgd2UgY2FuJ3QgbWVzcyB3aXRoIGl0IGFueW1vcmUuIENvbnRleHQgbWVudSBpc1xuICAgIC8vIGhhbmRsZWQgaW4gb25Nb3VzZURvd24gZm9yIHRoZXNlIGJyb3dzZXJzLlxuICAgIGlmICghY2FwdHVyZVJpZ2h0Q2xpY2spIG9uKGQuc2Nyb2xsZXIsIFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24oZSkge29uQ29udGV4dE1lbnUoY20sIGUpO30pO1xuXG4gICAgLy8gVXNlZCB0byBzdXBwcmVzcyBtb3VzZSBldmVudCBoYW5kbGluZyB3aGVuIGEgdG91Y2ggaGFwcGVuc1xuICAgIHZhciB0b3VjaEZpbmlzaGVkLCBwcmV2VG91Y2ggPSB7ZW5kOiAwfTtcbiAgICBmdW5jdGlvbiBmaW5pc2hUb3VjaCgpIHtcbiAgICAgIGlmIChkLmFjdGl2ZVRvdWNoKSB7XG4gICAgICAgIHRvdWNoRmluaXNoZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2QuYWN0aXZlVG91Y2ggPSBudWxsO30sIDEwMDApO1xuICAgICAgICBwcmV2VG91Y2ggPSBkLmFjdGl2ZVRvdWNoO1xuICAgICAgICBwcmV2VG91Y2guZW5kID0gK25ldyBEYXRlO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gaXNNb3VzZUxpa2VUb3VjaEV2ZW50KGUpIHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9IDEpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciB0b3VjaCA9IGUudG91Y2hlc1swXTtcbiAgICAgIHJldHVybiB0b3VjaC5yYWRpdXNYIDw9IDEgJiYgdG91Y2gucmFkaXVzWSA8PSAxO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmYXJBd2F5KHRvdWNoLCBvdGhlcikge1xuICAgICAgaWYgKG90aGVyLmxlZnQgPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgICB2YXIgZHggPSBvdGhlci5sZWZ0IC0gdG91Y2gubGVmdCwgZHkgPSBvdGhlci50b3AgLSB0b3VjaC50b3A7XG4gICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgPiAyMCAqIDIwO1xuICAgIH1cbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCFzaWduYWxET01FdmVudChjbSwgZSkgJiYgIWlzTW91c2VMaWtlVG91Y2hFdmVudChlKSkge1xuICAgICAgICBjbGVhclRpbWVvdXQodG91Y2hGaW5pc2hlZCk7XG4gICAgICAgIHZhciBub3cgPSArbmV3IERhdGU7XG4gICAgICAgIGQuYWN0aXZlVG91Y2ggPSB7c3RhcnQ6IG5vdywgbW92ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHByZXY6IG5vdyAtIHByZXZUb3VjaC5lbmQgPD0gMzAwID8gcHJldlRvdWNoIDogbnVsbH07XG4gICAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICBkLmFjdGl2ZVRvdWNoLmxlZnQgPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgZC5hY3RpdmVUb3VjaC50b3AgPSBlLnRvdWNoZXNbMF0ucGFnZVk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNobW92ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChkLmFjdGl2ZVRvdWNoKSBkLmFjdGl2ZVRvdWNoLm1vdmVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNoZW5kXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciB0b3VjaCA9IGQuYWN0aXZlVG91Y2g7XG4gICAgICBpZiAodG91Y2ggJiYgIWV2ZW50SW5XaWRnZXQoZCwgZSkgJiYgdG91Y2gubGVmdCAhPSBudWxsICYmXG4gICAgICAgICAgIXRvdWNoLm1vdmVkICYmIG5ldyBEYXRlIC0gdG91Y2guc3RhcnQgPCAzMDApIHtcbiAgICAgICAgdmFyIHBvcyA9IGNtLmNvb3Jkc0NoYXIoZC5hY3RpdmVUb3VjaCwgXCJwYWdlXCIpLCByYW5nZTtcbiAgICAgICAgaWYgKCF0b3VjaC5wcmV2IHx8IGZhckF3YXkodG91Y2gsIHRvdWNoLnByZXYpKSAvLyBTaW5nbGUgdGFwXG4gICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UocG9zLCBwb3MpO1xuICAgICAgICBlbHNlIGlmICghdG91Y2gucHJldi5wcmV2IHx8IGZhckF3YXkodG91Y2gsIHRvdWNoLnByZXYucHJldikpIC8vIERvdWJsZSB0YXBcbiAgICAgICAgICByYW5nZSA9IGNtLmZpbmRXb3JkQXQocG9zKTtcbiAgICAgICAgZWxzZSAvLyBUcmlwbGUgdGFwXG4gICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UoUG9zKHBvcy5saW5lLCAwKSwgY2xpcFBvcyhjbS5kb2MsIFBvcyhwb3MubGluZSArIDEsIDApKSk7XG4gICAgICAgIGNtLnNldFNlbGVjdGlvbihyYW5nZS5hbmNob3IsIHJhbmdlLmhlYWQpO1xuICAgICAgICBjbS5mb2N1cygpO1xuICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgfVxuICAgICAgZmluaXNoVG91Y2goKTtcbiAgICB9KTtcbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNoY2FuY2VsXCIsIGZpbmlzaFRvdWNoKTtcblxuICAgIC8vIFN5bmMgc2Nyb2xsaW5nIGJldHdlZW4gZmFrZSBzY3JvbGxiYXJzIGFuZCByZWFsIHNjcm9sbGFibGVcbiAgICAvLyBhcmVhLCBlbnN1cmUgdmlld3BvcnQgaXMgdXBkYXRlZCB3aGVuIHNjcm9sbGluZy5cbiAgICBvbihkLnNjcm9sbGVyLCBcInNjcm9sbFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChkLnNjcm9sbGVyLmNsaWVudEhlaWdodCkge1xuICAgICAgICBzZXRTY3JvbGxUb3AoY20sIGQuc2Nyb2xsZXIuc2Nyb2xsVG9wKTtcbiAgICAgICAgc2V0U2Nyb2xsTGVmdChjbSwgZC5zY3JvbGxlci5zY3JvbGxMZWZ0LCB0cnVlKTtcbiAgICAgICAgc2lnbmFsKGNtLCBcInNjcm9sbFwiLCBjbSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gdG8gd2hlZWwgZXZlbnRzIGluIG9yZGVyIHRvIHRyeSBhbmQgdXBkYXRlIHRoZSB2aWV3cG9ydCBvbiB0aW1lLlxuICAgIG9uKGQuc2Nyb2xsZXIsIFwibW91c2V3aGVlbFwiLCBmdW5jdGlvbihlKXtvblNjcm9sbFdoZWVsKGNtLCBlKTt9KTtcbiAgICBvbihkLnNjcm9sbGVyLCBcIkRPTU1vdXNlU2Nyb2xsXCIsIGZ1bmN0aW9uKGUpe29uU2Nyb2xsV2hlZWwoY20sIGUpO30pO1xuXG4gICAgLy8gUHJldmVudCB3cmFwcGVyIGZyb20gZXZlciBzY3JvbGxpbmdcbiAgICBvbihkLndyYXBwZXIsIFwic2Nyb2xsXCIsIGZ1bmN0aW9uKCkgeyBkLndyYXBwZXIuc2Nyb2xsVG9wID0gZC53cmFwcGVyLnNjcm9sbExlZnQgPSAwOyB9KTtcblxuICAgIGQuZHJhZ0Z1bmN0aW9ucyA9IHtcbiAgICAgIGVudGVyOiBmdW5jdGlvbihlKSB7aWYgKCFzaWduYWxET01FdmVudChjbSwgZSkpIGVfc3RvcChlKTt9LFxuICAgICAgb3ZlcjogZnVuY3Rpb24oZSkge2lmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IG9uRHJhZ092ZXIoY20sIGUpOyBlX3N0b3AoZSk7IH19LFxuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGUpe29uRHJhZ1N0YXJ0KGNtLCBlKTt9LFxuICAgICAgZHJvcDogb3BlcmF0aW9uKGNtLCBvbkRyb3ApLFxuICAgICAgbGVhdmU6IGZ1bmN0aW9uKGUpIHtpZiAoIXNpZ25hbERPTUV2ZW50KGNtLCBlKSkgeyBjbGVhckRyYWdDdXJzb3IoY20pOyB9fVxuICAgIH07XG5cbiAgICB2YXIgaW5wID0gZC5pbnB1dC5nZXRGaWVsZCgpO1xuICAgIG9uKGlucCwgXCJrZXl1cFwiLCBmdW5jdGlvbihlKSB7IG9uS2V5VXAuY2FsbChjbSwgZSk7IH0pO1xuICAgIG9uKGlucCwgXCJrZXlkb3duXCIsIG9wZXJhdGlvbihjbSwgb25LZXlEb3duKSk7XG4gICAgb24oaW5wLCBcImtleXByZXNzXCIsIG9wZXJhdGlvbihjbSwgb25LZXlQcmVzcykpO1xuICAgIG9uKGlucCwgXCJmb2N1c1wiLCBiaW5kKG9uRm9jdXMsIGNtKSk7XG4gICAgb24oaW5wLCBcImJsdXJcIiwgYmluZChvbkJsdXIsIGNtKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmFnRHJvcENoYW5nZWQoY20sIHZhbHVlLCBvbGQpIHtcbiAgICB2YXIgd2FzT24gPSBvbGQgJiYgb2xkICE9IENvZGVNaXJyb3IuSW5pdDtcbiAgICBpZiAoIXZhbHVlICE9ICF3YXNPbikge1xuICAgICAgdmFyIGZ1bmNzID0gY20uZGlzcGxheS5kcmFnRnVuY3Rpb25zO1xuICAgICAgdmFyIHRvZ2dsZSA9IHZhbHVlID8gb24gOiBvZmY7XG4gICAgICB0b2dnbGUoY20uZGlzcGxheS5zY3JvbGxlciwgXCJkcmFnc3RhcnRcIiwgZnVuY3Muc3RhcnQpO1xuICAgICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJhZ2VudGVyXCIsIGZ1bmNzLmVudGVyKTtcbiAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyYWdvdmVyXCIsIGZ1bmNzLm92ZXIpO1xuICAgICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJhZ2xlYXZlXCIsIGZ1bmNzLmxlYXZlKTtcbiAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyb3BcIiwgZnVuY3MuZHJvcCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2FsbGVkIHdoZW4gdGhlIHdpbmRvdyByZXNpemVzXG4gIGZ1bmN0aW9uIG9uUmVzaXplKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5O1xuICAgIGlmIChkLmxhc3RXcmFwSGVpZ2h0ID09IGQud3JhcHBlci5jbGllbnRIZWlnaHQgJiYgZC5sYXN0V3JhcFdpZHRoID09IGQud3JhcHBlci5jbGllbnRXaWR0aClcbiAgICAgIHJldHVybjtcbiAgICAvLyBNaWdodCBiZSBhIHRleHQgc2NhbGluZyBvcGVyYXRpb24sIGNsZWFyIHNpemUgY2FjaGVzLlxuICAgIGQuY2FjaGVkQ2hhcldpZHRoID0gZC5jYWNoZWRUZXh0SGVpZ2h0ID0gZC5jYWNoZWRQYWRkaW5nSCA9IG51bGw7XG4gICAgZC5zY3JvbGxiYXJzQ2xpcHBlZCA9IGZhbHNlO1xuICAgIGNtLnNldFNpemUoKTtcbiAgfVxuXG4gIC8vIE1PVVNFIEVWRU5UU1xuXG4gIC8vIFJldHVybiB0cnVlIHdoZW4gdGhlIGdpdmVuIG1vdXNlIGV2ZW50IGhhcHBlbmVkIGluIGEgd2lkZ2V0XG4gIGZ1bmN0aW9uIGV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkge1xuICAgIGZvciAodmFyIG4gPSBlX3RhcmdldChlKTsgbiAhPSBkaXNwbGF5LndyYXBwZXI7IG4gPSBuLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmICghbiB8fCAobi5ub2RlVHlwZSA9PSAxICYmIG4uZ2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiKSA9PSBcInRydWVcIikgfHxcbiAgICAgICAgICAobi5wYXJlbnROb2RlID09IGRpc3BsYXkuc2l6ZXIgJiYgbiAhPSBkaXNwbGF5Lm1vdmVyKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gR2l2ZW4gYSBtb3VzZSBldmVudCwgZmluZCB0aGUgY29ycmVzcG9uZGluZyBwb3NpdGlvbi4gSWYgbGliZXJhbFxuICAvLyBpcyBmYWxzZSwgaXQgY2hlY2tzIHdoZXRoZXIgYSBndXR0ZXIgb3Igc2Nyb2xsYmFyIHdhcyBjbGlja2VkLFxuICAvLyBhbmQgcmV0dXJucyBudWxsIGlmIGl0IHdhcy4gZm9yUmVjdCBpcyB1c2VkIGJ5IHJlY3Rhbmd1bGFyXG4gIC8vIHNlbGVjdGlvbnMsIGFuZCB0cmllcyB0byBlc3RpbWF0ZSBhIGNoYXJhY3RlciBwb3NpdGlvbiBldmVuIGZvclxuICAvLyBjb29yZGluYXRlcyBiZXlvbmQgdGhlIHJpZ2h0IG9mIHRoZSB0ZXh0LlxuICBmdW5jdGlvbiBwb3NGcm9tTW91c2UoY20sIGUsIGxpYmVyYWwsIGZvclJlY3QpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgaWYgKCFsaWJlcmFsICYmIGVfdGFyZ2V0KGUpLmdldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIpID09IFwidHJ1ZVwiKSByZXR1cm4gbnVsbDtcblxuICAgIHZhciB4LCB5LCBzcGFjZSA9IGRpc3BsYXkubGluZVNwYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vIEZhaWxzIHVucHJlZGljdGFibHkgb24gSUVbNjddIHdoZW4gbW91c2UgaXMgZHJhZ2dlZCBhcm91bmQgcXVpY2tseS5cbiAgICB0cnkgeyB4ID0gZS5jbGllbnRYIC0gc3BhY2UubGVmdDsgeSA9IGUuY2xpZW50WSAtIHNwYWNlLnRvcDsgfVxuICAgIGNhdGNoIChlKSB7IHJldHVybiBudWxsOyB9XG4gICAgdmFyIGNvb3JkcyA9IGNvb3Jkc0NoYXIoY20sIHgsIHkpLCBsaW5lO1xuICAgIGlmIChmb3JSZWN0ICYmIGNvb3Jkcy54UmVsID09IDEgJiYgKGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgY29vcmRzLmxpbmUpLnRleHQpLmxlbmd0aCA9PSBjb29yZHMuY2gpIHtcbiAgICAgIHZhciBjb2xEaWZmID0gY291bnRDb2x1bW4obGluZSwgbGluZS5sZW5ndGgsIGNtLm9wdGlvbnMudGFiU2l6ZSkgLSBsaW5lLmxlbmd0aDtcbiAgICAgIGNvb3JkcyA9IFBvcyhjb29yZHMubGluZSwgTWF0aC5tYXgoMCwgTWF0aC5yb3VuZCgoeCAtIHBhZGRpbmdIKGNtLmRpc3BsYXkpLmxlZnQpIC8gY2hhcldpZHRoKGNtLmRpc3BsYXkpKSAtIGNvbERpZmYpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvb3JkcztcbiAgfVxuXG4gIC8vIEEgbW91c2UgZG93biBjYW4gYmUgYSBzaW5nbGUgY2xpY2ssIGRvdWJsZSBjbGljaywgdHJpcGxlIGNsaWNrLFxuICAvLyBzdGFydCBvZiBzZWxlY3Rpb24gZHJhZywgc3RhcnQgb2YgdGV4dCBkcmFnLCBuZXcgY3Vyc29yXG4gIC8vIChjdHJsLWNsaWNrKSwgcmVjdGFuZ2xlIGRyYWcgKGFsdC1kcmFnKSwgb3IgeHdpblxuICAvLyBtaWRkbGUtY2xpY2stcGFzdGUuIE9yIGl0IG1pZ2h0IGJlIGEgY2xpY2sgb24gc29tZXRoaW5nIHdlIHNob3VsZFxuICAvLyBub3QgaW50ZXJmZXJlIHdpdGgsIHN1Y2ggYXMgYSBzY3JvbGxiYXIgb3Igd2lkZ2V0LlxuICBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgdmFyIGNtID0gdGhpcywgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBkaXNwbGF5LmFjdGl2ZVRvdWNoICYmIGRpc3BsYXkuaW5wdXQuc3VwcG9ydHNUb3VjaCgpKSByZXR1cm47XG4gICAgZGlzcGxheS5zaGlmdCA9IGUuc2hpZnRLZXk7XG5cbiAgICBpZiAoZXZlbnRJbldpZGdldChkaXNwbGF5LCBlKSkge1xuICAgICAgaWYgKCF3ZWJraXQpIHtcbiAgICAgICAgLy8gQnJpZWZseSB0dXJuIG9mZiBkcmFnZ2FiaWxpdHksIHRvIGFsbG93IHdpZGdldHMgdG8gZG9cbiAgICAgICAgLy8gbm9ybWFsIGRyYWdnaW5nIHRoaW5ncy5cbiAgICAgICAgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe2Rpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gdHJ1ZTt9LCAxMDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2xpY2tJbkd1dHRlcihjbSwgZSkpIHJldHVybjtcbiAgICB2YXIgc3RhcnQgPSBwb3NGcm9tTW91c2UoY20sIGUpO1xuICAgIHdpbmRvdy5mb2N1cygpO1xuXG4gICAgc3dpdGNoIChlX2J1dHRvbihlKSkge1xuICAgIGNhc2UgMTpcbiAgICAgIC8vICMzMjYxOiBtYWtlIHN1cmUsIHRoYXQgd2UncmUgbm90IHN0YXJ0aW5nIGEgc2Vjb25kIHNlbGVjdGlvblxuICAgICAgaWYgKGNtLnN0YXRlLnNlbGVjdGluZ1RleHQpXG4gICAgICAgIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQoZSk7XG4gICAgICBlbHNlIGlmIChzdGFydClcbiAgICAgICAgbGVmdEJ1dHRvbkRvd24oY20sIGUsIHN0YXJ0KTtcbiAgICAgIGVsc2UgaWYgKGVfdGFyZ2V0KGUpID09IGRpc3BsYXkuc2Nyb2xsZXIpXG4gICAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBpZiAod2Via2l0KSBjbS5zdGF0ZS5sYXN0TWlkZGxlRG93biA9ICtuZXcgRGF0ZTtcbiAgICAgIGlmIChzdGFydCkgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgc3RhcnQpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtkaXNwbGF5LmlucHV0LmZvY3VzKCk7fSwgMjApO1xuICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzpcbiAgICAgIGlmIChjYXB0dXJlUmlnaHRDbGljaykgb25Db250ZXh0TWVudShjbSwgZSk7XG4gICAgICBlbHNlIGRlbGF5Qmx1ckV2ZW50KGNtKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsYXN0Q2xpY2ssIGxhc3REb3VibGVDbGljaztcbiAgZnVuY3Rpb24gbGVmdEJ1dHRvbkRvd24oY20sIGUsIHN0YXJ0KSB7XG4gICAgaWYgKGllKSBzZXRUaW1lb3V0KGJpbmQoZW5zdXJlRm9jdXMsIGNtKSwgMCk7XG4gICAgZWxzZSBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdCgpO1xuXG4gICAgdmFyIG5vdyA9ICtuZXcgRGF0ZSwgdHlwZTtcbiAgICBpZiAobGFzdERvdWJsZUNsaWNrICYmIGxhc3REb3VibGVDbGljay50aW1lID4gbm93IC0gNDAwICYmIGNtcChsYXN0RG91YmxlQ2xpY2sucG9zLCBzdGFydCkgPT0gMCkge1xuICAgICAgdHlwZSA9IFwidHJpcGxlXCI7XG4gICAgfSBlbHNlIGlmIChsYXN0Q2xpY2sgJiYgbGFzdENsaWNrLnRpbWUgPiBub3cgLSA0MDAgJiYgY21wKGxhc3RDbGljay5wb3MsIHN0YXJ0KSA9PSAwKSB7XG4gICAgICB0eXBlID0gXCJkb3VibGVcIjtcbiAgICAgIGxhc3REb3VibGVDbGljayA9IHt0aW1lOiBub3csIHBvczogc3RhcnR9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gXCJzaW5nbGVcIjtcbiAgICAgIGxhc3RDbGljayA9IHt0aW1lOiBub3csIHBvczogc3RhcnR9O1xuICAgIH1cblxuICAgIHZhciBzZWwgPSBjbS5kb2Muc2VsLCBtb2RpZmllciA9IG1hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleSwgY29udGFpbmVkO1xuICAgIGlmIChjbS5vcHRpb25zLmRyYWdEcm9wICYmIGRyYWdBbmREcm9wICYmICFjbS5pc1JlYWRPbmx5KCkgJiZcbiAgICAgICAgdHlwZSA9PSBcInNpbmdsZVwiICYmIChjb250YWluZWQgPSBzZWwuY29udGFpbnMoc3RhcnQpKSA+IC0xICYmXG4gICAgICAgIChjbXAoKGNvbnRhaW5lZCA9IHNlbC5yYW5nZXNbY29udGFpbmVkXSkuZnJvbSgpLCBzdGFydCkgPCAwIHx8IHN0YXJ0LnhSZWwgPiAwKSAmJlxuICAgICAgICAoY21wKGNvbnRhaW5lZC50bygpLCBzdGFydCkgPiAwIHx8IHN0YXJ0LnhSZWwgPCAwKSlcbiAgICAgIGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcik7XG4gICAgZWxzZVxuICAgICAgbGVmdEJ1dHRvblNlbGVjdChjbSwgZSwgc3RhcnQsIHR5cGUsIG1vZGlmaWVyKTtcbiAgfVxuXG4gIC8vIFN0YXJ0IGEgdGV4dCBkcmFnLiBXaGVuIGl0IGVuZHMsIHNlZSBpZiBhbnkgZHJhZ2dpbmcgYWN0dWFsbHlcbiAgLy8gaGFwcGVuLCBhbmQgdHJlYXQgYXMgYSBjbGljayBpZiBpdCBkaWRuJ3QuXG4gIGZ1bmN0aW9uIGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcikge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgc3RhcnRUaW1lID0gK25ldyBEYXRlO1xuICAgIHZhciBkcmFnRW5kID0gb3BlcmF0aW9uKGNtLCBmdW5jdGlvbihlMikge1xuICAgICAgaWYgKHdlYmtpdCkgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgIGNtLnN0YXRlLmRyYWdnaW5nVGV4dCA9IGZhbHNlO1xuICAgICAgb2ZmKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgZHJhZ0VuZCk7XG4gICAgICBvZmYoZGlzcGxheS5zY3JvbGxlciwgXCJkcm9wXCIsIGRyYWdFbmQpO1xuICAgICAgaWYgKE1hdGguYWJzKGUuY2xpZW50WCAtIGUyLmNsaWVudFgpICsgTWF0aC5hYnMoZS5jbGllbnRZIC0gZTIuY2xpZW50WSkgPCAxMCkge1xuICAgICAgICBlX3ByZXZlbnREZWZhdWx0KGUyKTtcbiAgICAgICAgaWYgKCFtb2RpZmllciAmJiArbmV3IERhdGUgLSAyMDAgPCBzdGFydFRpbWUpXG4gICAgICAgICAgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgc3RhcnQpO1xuICAgICAgICAvLyBXb3JrIGFyb3VuZCB1bmV4cGxhaW5hYmxlIGZvY3VzIHByb2JsZW0gaW4gSUU5ICgjMjEyNykgYW5kIENocm9tZSAoIzMwODEpXG4gICAgICAgIGlmICh3ZWJraXQgfHwgaWUgJiYgaWVfdmVyc2lvbiA9PSA5KVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5mb2N1cygpOyBkaXNwbGF5LmlucHV0LmZvY3VzKCk7fSwgMjApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIExldCB0aGUgZHJhZyBoYW5kbGVyIGhhbmRsZSB0aGlzLlxuICAgIGlmICh3ZWJraXQpIGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICBjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgPSBkcmFnRW5kO1xuICAgIGRyYWdFbmQuY29weSA9IG1hYyA/IGUuYWx0S2V5IDogZS5jdHJsS2V5XG4gICAgLy8gSUUncyBhcHByb2FjaCB0byBkcmFnZ2FibGVcbiAgICBpZiAoZGlzcGxheS5zY3JvbGxlci5kcmFnRHJvcCkgZGlzcGxheS5zY3JvbGxlci5kcmFnRHJvcCgpO1xuICAgIG9uKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgZHJhZ0VuZCk7XG4gICAgb24oZGlzcGxheS5zY3JvbGxlciwgXCJkcm9wXCIsIGRyYWdFbmQpO1xuICB9XG5cbiAgLy8gTm9ybWFsIHNlbGVjdGlvbiwgYXMgb3Bwb3NlZCB0byB0ZXh0IGRyYWdnaW5nLlxuICBmdW5jdGlvbiBsZWZ0QnV0dG9uU2VsZWN0KGNtLCBlLCBzdGFydCwgdHlwZSwgYWRkTmV3KSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBkb2MgPSBjbS5kb2M7XG4gICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcblxuICAgIHZhciBvdXJSYW5nZSwgb3VySW5kZXgsIHN0YXJ0U2VsID0gZG9jLnNlbCwgcmFuZ2VzID0gc3RhcnRTZWwucmFuZ2VzO1xuICAgIGlmIChhZGROZXcgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIG91ckluZGV4ID0gZG9jLnNlbC5jb250YWlucyhzdGFydCk7XG4gICAgICBpZiAob3VySW5kZXggPiAtMSlcbiAgICAgICAgb3VyUmFuZ2UgPSByYW5nZXNbb3VySW5kZXhdO1xuICAgICAgZWxzZVxuICAgICAgICBvdXJSYW5nZSA9IG5ldyBSYW5nZShzdGFydCwgc3RhcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXJSYW5nZSA9IGRvYy5zZWwucHJpbWFyeSgpO1xuICAgICAgb3VySW5kZXggPSBkb2Muc2VsLnByaW1JbmRleDtcbiAgICB9XG5cbiAgICBpZiAoY2hyb21lT1MgPyBlLnNoaWZ0S2V5ICYmIGUubWV0YUtleSA6IGUuYWx0S2V5KSB7XG4gICAgICB0eXBlID0gXCJyZWN0XCI7XG4gICAgICBpZiAoIWFkZE5ldykgb3VyUmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KTtcbiAgICAgIHN0YXJ0ID0gcG9zRnJvbU1vdXNlKGNtLCBlLCB0cnVlLCB0cnVlKTtcbiAgICAgIG91ckluZGV4ID0gLTE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiZG91YmxlXCIpIHtcbiAgICAgIHZhciB3b3JkID0gY20uZmluZFdvcmRBdChzdGFydCk7XG4gICAgICBpZiAoY20uZGlzcGxheS5zaGlmdCB8fCBkb2MuZXh0ZW5kKVxuICAgICAgICBvdXJSYW5nZSA9IGV4dGVuZFJhbmdlKGRvYywgb3VyUmFuZ2UsIHdvcmQuYW5jaG9yLCB3b3JkLmhlYWQpO1xuICAgICAgZWxzZVxuICAgICAgICBvdXJSYW5nZSA9IHdvcmQ7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwidHJpcGxlXCIpIHtcbiAgICAgIHZhciBsaW5lID0gbmV3IFJhbmdlKFBvcyhzdGFydC5saW5lLCAwKSwgY2xpcFBvcyhkb2MsIFBvcyhzdGFydC5saW5lICsgMSwgMCkpKTtcbiAgICAgIGlmIChjbS5kaXNwbGF5LnNoaWZ0IHx8IGRvYy5leHRlbmQpXG4gICAgICAgIG91clJhbmdlID0gZXh0ZW5kUmFuZ2UoZG9jLCBvdXJSYW5nZSwgbGluZS5hbmNob3IsIGxpbmUuaGVhZCk7XG4gICAgICBlbHNlXG4gICAgICAgIG91clJhbmdlID0gbGluZTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3VyUmFuZ2UgPSBleHRlbmRSYW5nZShkb2MsIG91clJhbmdlLCBzdGFydCk7XG4gICAgfVxuXG4gICAgaWYgKCFhZGROZXcpIHtcbiAgICAgIG91ckluZGV4ID0gMDtcbiAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5ldyBTZWxlY3Rpb24oW291clJhbmdlXSwgMCksIHNlbF9tb3VzZSk7XG4gICAgICBzdGFydFNlbCA9IGRvYy5zZWw7XG4gICAgfSBlbHNlIGlmIChvdXJJbmRleCA9PSAtMSkge1xuICAgICAgb3VySW5kZXggPSByYW5nZXMubGVuZ3RoO1xuICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcy5jb25jYXQoW291clJhbmdlXSksIG91ckluZGV4KSxcbiAgICAgICAgICAgICAgICAgICB7c2Nyb2xsOiBmYWxzZSwgb3JpZ2luOiBcIiptb3VzZVwifSk7XG4gICAgfSBlbHNlIGlmIChyYW5nZXMubGVuZ3RoID4gMSAmJiByYW5nZXNbb3VySW5kZXhdLmVtcHR5KCkgJiYgdHlwZSA9PSBcInNpbmdsZVwiICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLnNsaWNlKDAsIG91ckluZGV4KS5jb25jYXQocmFuZ2VzLnNsaWNlKG91ckluZGV4ICsgMSkpLCAwKSxcbiAgICAgICAgICAgICAgICAgICB7c2Nyb2xsOiBmYWxzZSwgb3JpZ2luOiBcIiptb3VzZVwifSk7XG4gICAgICBzdGFydFNlbCA9IGRvYy5zZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2VPbmVTZWxlY3Rpb24oZG9jLCBvdXJJbmRleCwgb3VyUmFuZ2UsIHNlbF9tb3VzZSk7XG4gICAgfVxuXG4gICAgdmFyIGxhc3RQb3MgPSBzdGFydDtcbiAgICBmdW5jdGlvbiBleHRlbmRUbyhwb3MpIHtcbiAgICAgIGlmIChjbXAobGFzdFBvcywgcG9zKSA9PSAwKSByZXR1cm47XG4gICAgICBsYXN0UG9zID0gcG9zO1xuXG4gICAgICBpZiAodHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICB2YXIgcmFuZ2VzID0gW10sIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemU7XG4gICAgICAgIHZhciBzdGFydENvbCA9IGNvdW50Q29sdW1uKGdldExpbmUoZG9jLCBzdGFydC5saW5lKS50ZXh0LCBzdGFydC5jaCwgdGFiU2l6ZSk7XG4gICAgICAgIHZhciBwb3NDb2wgPSBjb3VudENvbHVtbihnZXRMaW5lKGRvYywgcG9zLmxpbmUpLnRleHQsIHBvcy5jaCwgdGFiU2l6ZSk7XG4gICAgICAgIHZhciBsZWZ0ID0gTWF0aC5taW4oc3RhcnRDb2wsIHBvc0NvbCksIHJpZ2h0ID0gTWF0aC5tYXgoc3RhcnRDb2wsIHBvc0NvbCk7XG4gICAgICAgIGZvciAodmFyIGxpbmUgPSBNYXRoLm1pbihzdGFydC5saW5lLCBwb3MubGluZSksIGVuZCA9IE1hdGgubWluKGNtLmxhc3RMaW5lKCksIE1hdGgubWF4KHN0YXJ0LmxpbmUsIHBvcy5saW5lKSk7XG4gICAgICAgICAgICAgbGluZSA8PSBlbmQ7IGxpbmUrKykge1xuICAgICAgICAgIHZhciB0ZXh0ID0gZ2V0TGluZShkb2MsIGxpbmUpLnRleHQsIGxlZnRQb3MgPSBmaW5kQ29sdW1uKHRleHQsIGxlZnQsIHRhYlNpemUpO1xuICAgICAgICAgIGlmIChsZWZ0ID09IHJpZ2h0KVxuICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKFBvcyhsaW5lLCBsZWZ0UG9zKSwgUG9zKGxpbmUsIGxlZnRQb3MpKSk7XG4gICAgICAgICAgZWxzZSBpZiAodGV4dC5sZW5ndGggPiBsZWZ0UG9zKVxuICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKFBvcyhsaW5lLCBsZWZ0UG9zKSwgUG9zKGxpbmUsIGZpbmRDb2x1bW4odGV4dCwgcmlnaHQsIHRhYlNpemUpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmFuZ2VzLmxlbmd0aCkgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKHN0YXJ0LCBzdGFydCkpO1xuICAgICAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24oc3RhcnRTZWwucmFuZ2VzLnNsaWNlKDAsIG91ckluZGV4KS5jb25jYXQocmFuZ2VzKSwgb3VySW5kZXgpLFxuICAgICAgICAgICAgICAgICAgICAge29yaWdpbjogXCIqbW91c2VcIiwgc2Nyb2xsOiBmYWxzZX0pO1xuICAgICAgICBjbS5zY3JvbGxJbnRvVmlldyhwb3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9sZFJhbmdlID0gb3VyUmFuZ2U7XG4gICAgICAgIHZhciBhbmNob3IgPSBvbGRSYW5nZS5hbmNob3IsIGhlYWQgPSBwb3M7XG4gICAgICAgIGlmICh0eXBlICE9IFwic2luZ2xlXCIpIHtcbiAgICAgICAgICBpZiAodHlwZSA9PSBcImRvdWJsZVwiKVxuICAgICAgICAgICAgdmFyIHJhbmdlID0gY20uZmluZFdvcmRBdChwb3MpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIDApLCBjbGlwUG9zKGRvYywgUG9zKHBvcy5saW5lICsgMSwgMCkpKTtcbiAgICAgICAgICBpZiAoY21wKHJhbmdlLmFuY2hvciwgYW5jaG9yKSA+IDApIHtcbiAgICAgICAgICAgIGhlYWQgPSByYW5nZS5oZWFkO1xuICAgICAgICAgICAgYW5jaG9yID0gbWluUG9zKG9sZFJhbmdlLmZyb20oKSwgcmFuZ2UuYW5jaG9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhZCA9IHJhbmdlLmFuY2hvcjtcbiAgICAgICAgICAgIGFuY2hvciA9IG1heFBvcyhvbGRSYW5nZS50bygpLCByYW5nZS5oZWFkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJhbmdlcyA9IHN0YXJ0U2VsLnJhbmdlcy5zbGljZSgwKTtcbiAgICAgICAgcmFuZ2VzW291ckluZGV4XSA9IG5ldyBSYW5nZShjbGlwUG9zKGRvYywgYW5jaG9yKSwgaGVhZCk7XG4gICAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMsIG91ckluZGV4KSwgc2VsX21vdXNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZWRpdG9yU2l6ZSA9IGRpc3BsYXkud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBVc2VkIHRvIGVuc3VyZSB0aW1lb3V0IHJlLXRyaWVzIGRvbid0IGZpcmUgd2hlbiBhbm90aGVyIGV4dGVuZFxuICAgIC8vIGhhcHBlbmVkIGluIHRoZSBtZWFudGltZSAoY2xlYXJUaW1lb3V0IGlzbid0IHJlbGlhYmxlIC0tIGF0XG4gICAgLy8gbGVhc3Qgb24gQ2hyb21lLCB0aGUgdGltZW91dHMgc3RpbGwgaGFwcGVuIGV2ZW4gd2hlbiBjbGVhcmVkLFxuICAgIC8vIGlmIHRoZSBjbGVhciBoYXBwZW5zIGFmdGVyIHRoZWlyIHNjaGVkdWxlZCBmaXJpbmcgdGltZSkuXG4gICAgdmFyIGNvdW50ZXIgPSAwO1xuXG4gICAgZnVuY3Rpb24gZXh0ZW5kKGUpIHtcbiAgICAgIHZhciBjdXJDb3VudCA9ICsrY291bnRlcjtcbiAgICAgIHZhciBjdXIgPSBwb3NGcm9tTW91c2UoY20sIGUsIHRydWUsIHR5cGUgPT0gXCJyZWN0XCIpO1xuICAgICAgaWYgKCFjdXIpIHJldHVybjtcbiAgICAgIGlmIChjbXAoY3VyLCBsYXN0UG9zKSAhPSAwKSB7XG4gICAgICAgIGNtLmN1ck9wLmZvY3VzID0gYWN0aXZlRWx0KCk7XG4gICAgICAgIGV4dGVuZFRvKGN1cik7XG4gICAgICAgIHZhciB2aXNpYmxlID0gdmlzaWJsZUxpbmVzKGRpc3BsYXksIGRvYyk7XG4gICAgICAgIGlmIChjdXIubGluZSA+PSB2aXNpYmxlLnRvIHx8IGN1ci5saW5lIDwgdmlzaWJsZS5mcm9tKVxuICAgICAgICAgIHNldFRpbWVvdXQob3BlcmF0aW9uKGNtLCBmdW5jdGlvbigpe2lmIChjb3VudGVyID09IGN1ckNvdW50KSBleHRlbmQoZSk7fSksIDE1MCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb3V0c2lkZSA9IGUuY2xpZW50WSA8IGVkaXRvclNpemUudG9wID8gLTIwIDogZS5jbGllbnRZID4gZWRpdG9yU2l6ZS5ib3R0b20gPyAyMCA6IDA7XG4gICAgICAgIGlmIChvdXRzaWRlKSBzZXRUaW1lb3V0KG9wZXJhdGlvbihjbSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGNvdW50ZXIgIT0gY3VyQ291bnQpIHJldHVybjtcbiAgICAgICAgICBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCArPSBvdXRzaWRlO1xuICAgICAgICAgIGV4dGVuZChlKTtcbiAgICAgICAgfSksIDUwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb25lKGUpIHtcbiAgICAgIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQgPSBmYWxzZTtcbiAgICAgIGNvdW50ZXIgPSBJbmZpbml0eTtcbiAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICBkaXNwbGF5LmlucHV0LmZvY3VzKCk7XG4gICAgICBvZmYoZG9jdW1lbnQsIFwibW91c2Vtb3ZlXCIsIG1vdmUpO1xuICAgICAgb2ZmKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgdXApO1xuICAgICAgZG9jLmhpc3RvcnkubGFzdFNlbE9yaWdpbiA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIG1vdmUgPSBvcGVyYXRpb24oY20sIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghZV9idXR0b24oZSkpIGRvbmUoZSk7XG4gICAgICBlbHNlIGV4dGVuZChlKTtcbiAgICB9KTtcbiAgICB2YXIgdXAgPSBvcGVyYXRpb24oY20sIGRvbmUpO1xuICAgIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQgPSB1cDtcbiAgICBvbihkb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgbW92ZSk7XG4gICAgb24oZG9jdW1lbnQsIFwibW91c2V1cFwiLCB1cCk7XG4gIH1cblxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgYW4gZXZlbnQgaGFwcGVuZWQgaW4gdGhlIGd1dHRlciwgYW5kIGZpcmVzIHRoZVxuICAvLyBoYW5kbGVycyBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgZXZlbnQuXG4gIGZ1bmN0aW9uIGd1dHRlckV2ZW50KGNtLCBlLCB0eXBlLCBwcmV2ZW50KSB7XG4gICAgdHJ5IHsgdmFyIG1YID0gZS5jbGllbnRYLCBtWSA9IGUuY2xpZW50WTsgfVxuICAgIGNhdGNoKGUpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWYgKG1YID49IE1hdGguZmxvb3IoY20uZGlzcGxheS5ndXR0ZXJzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0KSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwcmV2ZW50KSBlX3ByZXZlbnREZWZhdWx0KGUpO1xuXG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIHZhciBsaW5lQm94ID0gZGlzcGxheS5saW5lRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgaWYgKG1ZID4gbGluZUJveC5ib3R0b20gfHwgIWhhc0hhbmRsZXIoY20sIHR5cGUpKSByZXR1cm4gZV9kZWZhdWx0UHJldmVudGVkKGUpO1xuICAgIG1ZIC09IGxpbmVCb3gudG9wIC0gZGlzcGxheS52aWV3T2Zmc2V0O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5vcHRpb25zLmd1dHRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBnID0gZGlzcGxheS5ndXR0ZXJzLmNoaWxkTm9kZXNbaV07XG4gICAgICBpZiAoZyAmJiBnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0ID49IG1YKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZUF0SGVpZ2h0KGNtLmRvYywgbVkpO1xuICAgICAgICB2YXIgZ3V0dGVyID0gY20ub3B0aW9ucy5ndXR0ZXJzW2ldO1xuICAgICAgICBzaWduYWwoY20sIHR5cGUsIGNtLCBsaW5lLCBndXR0ZXIsIGUpO1xuICAgICAgICByZXR1cm4gZV9kZWZhdWx0UHJldmVudGVkKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsaWNrSW5HdXR0ZXIoY20sIGUpIHtcbiAgICByZXR1cm4gZ3V0dGVyRXZlbnQoY20sIGUsIFwiZ3V0dGVyQ2xpY2tcIiwgdHJ1ZSk7XG4gIH1cblxuICAvLyBLbHVkZ2UgdG8gd29yayBhcm91bmQgc3RyYW5nZSBJRSBiZWhhdmlvciB3aGVyZSBpdCdsbCBzb21ldGltZXNcbiAgLy8gcmUtZmlyZSBhIHNlcmllcyBvZiBkcmFnLXJlbGF0ZWQgZXZlbnRzIHJpZ2h0IGFmdGVyIHRoZSBkcm9wICgjMTU1MSlcbiAgdmFyIGxhc3REcm9wID0gMDtcblxuICBmdW5jdGlvbiBvbkRyb3AoZSkge1xuICAgIHZhciBjbSA9IHRoaXM7XG4gICAgY2xlYXJEcmFnQ3Vyc29yKGNtKTtcbiAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkpXG4gICAgICByZXR1cm47XG4gICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICBpZiAoaWUpIGxhc3REcm9wID0gK25ldyBEYXRlO1xuICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUsIHRydWUpLCBmaWxlcyA9IGUuZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgIGlmICghcG9zIHx8IGNtLmlzUmVhZE9ubHkoKSkgcmV0dXJuO1xuICAgIC8vIE1pZ2h0IGJlIGEgZmlsZSBkcm9wLCBpbiB3aGljaCBjYXNlIHdlIHNpbXBseSBleHRyYWN0IHRoZSB0ZXh0XG4gICAgLy8gYW5kIGluc2VydCBpdC5cbiAgICBpZiAoZmlsZXMgJiYgZmlsZXMubGVuZ3RoICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlKSB7XG4gICAgICB2YXIgbiA9IGZpbGVzLmxlbmd0aCwgdGV4dCA9IEFycmF5KG4pLCByZWFkID0gMDtcbiAgICAgIHZhciBsb2FkRmlsZSA9IGZ1bmN0aW9uKGZpbGUsIGkpIHtcbiAgICAgICAgaWYgKGNtLm9wdGlvbnMuYWxsb3dEcm9wRmlsZVR5cGVzICYmXG4gICAgICAgICAgICBpbmRleE9mKGNtLm9wdGlvbnMuYWxsb3dEcm9wRmlsZVR5cGVzLCBmaWxlLnR5cGUpID09IC0xKVxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXI7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBvcGVyYXRpb24oY20sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBjb250ZW50ID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICBpZiAoL1tcXHgwMC1cXHgwOFxceDBlLVxceDFmXXsyfS8udGVzdChjb250ZW50KSkgY29udGVudCA9IFwiXCI7XG4gICAgICAgICAgdGV4dFtpXSA9IGNvbnRlbnQ7XG4gICAgICAgICAgaWYgKCsrcmVhZCA9PSBuKSB7XG4gICAgICAgICAgICBwb3MgPSBjbGlwUG9zKGNtLmRvYywgcG9zKTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSB7ZnJvbTogcG9zLCB0bzogcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjbS5kb2Muc3BsaXRMaW5lcyh0ZXh0LmpvaW4oY20uZG9jLmxpbmVTZXBhcmF0b3IoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IFwicGFzdGVcIn07XG4gICAgICAgICAgICBtYWtlQ2hhbmdlKGNtLmRvYywgY2hhbmdlKTtcbiAgICAgICAgICAgIHNldFNlbGVjdGlvblJlcGxhY2VIaXN0b3J5KGNtLmRvYywgc2ltcGxlU2VsZWN0aW9uKHBvcywgY2hhbmdlRW5kKGNoYW5nZSkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICAgIH07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkgbG9hZEZpbGUoZmlsZXNbaV0sIGkpO1xuICAgIH0gZWxzZSB7IC8vIE5vcm1hbCBkcm9wXG4gICAgICAvLyBEb24ndCBkbyBhIHJlcGxhY2UgaWYgdGhlIGRyb3AgaGFwcGVuZWQgaW5zaWRlIG9mIHRoZSBzZWxlY3RlZCB0ZXh0LlxuICAgICAgaWYgKGNtLnN0YXRlLmRyYWdnaW5nVGV4dCAmJiBjbS5kb2Muc2VsLmNvbnRhaW5zKHBvcykgPiAtMSkge1xuICAgICAgICBjbS5zdGF0ZS5kcmFnZ2luZ1RleHQoZSk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgZWRpdG9yIGlzIHJlLWZvY3VzZWRcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtjbS5kaXNwbGF5LmlucHV0LmZvY3VzKCk7fSwgMjApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGV4dCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJUZXh0XCIpO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgIGlmIChjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgJiYgIWNtLnN0YXRlLmRyYWdnaW5nVGV4dC5jb3B5KVxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gY20ubGlzdFNlbGVjdGlvbnMoKTtcbiAgICAgICAgICBzZXRTZWxlY3Rpb25Ob1VuZG8oY20uZG9jLCBzaW1wbGVTZWxlY3Rpb24ocG9zLCBwb3MpKTtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWQpIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICByZXBsYWNlUmFuZ2UoY20uZG9jLCBcIlwiLCBzZWxlY3RlZFtpXS5hbmNob3IsIHNlbGVjdGVkW2ldLmhlYWQsIFwiZHJhZ1wiKTtcbiAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKHRleHQsIFwiYXJvdW5kXCIsIFwicGFzdGVcIik7XG4gICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaChlKXt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25EcmFnU3RhcnQoY20sIGUpIHtcbiAgICBpZiAoaWUgJiYgKCFjbS5zdGF0ZS5kcmFnZ2luZ1RleHQgfHwgK25ldyBEYXRlIC0gbGFzdERyb3AgPCAxMDApKSB7IGVfc3RvcChlKTsgcmV0dXJuOyB9XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKSByZXR1cm47XG5cbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiVGV4dFwiLCBjbS5nZXRTZWxlY3Rpb24oKSk7XG4gICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwiY29weU1vdmVcIlxuXG4gICAgLy8gVXNlIGR1bW15IGltYWdlIGluc3RlYWQgb2YgZGVmYXVsdCBicm93c2VycyBpbWFnZS5cbiAgICAvLyBSZWNlbnQgU2FmYXJpICh+Ni4wLjIpIGhhdmUgYSB0ZW5kZW5jeSB0byBzZWdmYXVsdCB3aGVuIHRoaXMgaGFwcGVucywgc28gd2UgZG9uJ3QgZG8gaXQgdGhlcmUuXG4gICAgaWYgKGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSAmJiAhc2FmYXJpKSB7XG4gICAgICB2YXIgaW1nID0gZWx0KFwiaW1nXCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwOyB0b3A6IDA7XCIpO1xuICAgICAgaW1nLnNyYyA9IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT1cIjtcbiAgICAgIGlmIChwcmVzdG8pIHtcbiAgICAgICAgaW1nLndpZHRoID0gaW1nLmhlaWdodCA9IDE7XG4gICAgICAgIGNtLmRpc3BsYXkud3JhcHBlci5hcHBlbmRDaGlsZChpbWcpO1xuICAgICAgICAvLyBGb3JjZSBhIHJlbGF5b3V0LCBvciBPcGVyYSB3b24ndCB1c2Ugb3VyIGltYWdlIGZvciBzb21lIG9ic2N1cmUgcmVhc29uXG4gICAgICAgIGltZy5fdG9wID0gaW1nLm9mZnNldFRvcDtcbiAgICAgIH1cbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgaWYgKHByZXN0bykgaW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW1nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdPdmVyKGNtLCBlKSB7XG4gICAgdmFyIHBvcyA9IHBvc0Zyb21Nb3VzZShjbSwgZSk7XG4gICAgaWYgKCFwb3MpIHJldHVybjtcbiAgICB2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCBwb3MsIGZyYWcpO1xuICAgIGlmICghY20uZGlzcGxheS5kcmFnQ3Vyc29yKSB7XG4gICAgICBjbS5kaXNwbGF5LmRyYWdDdXJzb3IgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWN1cnNvcnMgQ29kZU1pcnJvci1kcmFnY3Vyc29yc1wiKTtcbiAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZShjbS5kaXNwbGF5LmRyYWdDdXJzb3IsIGNtLmRpc3BsYXkuY3Vyc29yRGl2KTtcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoY20uZGlzcGxheS5kcmFnQ3Vyc29yLCBmcmFnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyRHJhZ0N1cnNvcihjbSkge1xuICAgIGlmIChjbS5kaXNwbGF5LmRyYWdDdXJzb3IpIHtcbiAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKGNtLmRpc3BsYXkuZHJhZ0N1cnNvcik7XG4gICAgICBjbS5kaXNwbGF5LmRyYWdDdXJzb3IgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNDUk9MTCBFVkVOVFNcblxuICAvLyBTeW5jIHRoZSBzY3JvbGxhYmxlIGFyZWEgYW5kIHNjcm9sbGJhcnMsIGVuc3VyZSB0aGUgdmlld3BvcnRcbiAgLy8gY292ZXJzIHRoZSB2aXNpYmxlIGFyZWEuXG4gIGZ1bmN0aW9uIHNldFNjcm9sbFRvcChjbSwgdmFsKSB7XG4gICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxUb3AgLSB2YWwpIDwgMikgcmV0dXJuO1xuICAgIGNtLmRvYy5zY3JvbGxUb3AgPSB2YWw7XG4gICAgaWYgKCFnZWNrbykgdXBkYXRlRGlzcGxheVNpbXBsZShjbSwge3RvcDogdmFsfSk7XG4gICAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wICE9IHZhbCkgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgPSB2YWw7XG4gICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcCh2YWwpO1xuICAgIGlmIChnZWNrbykgdXBkYXRlRGlzcGxheVNpbXBsZShjbSk7XG4gICAgc3RhcnRXb3JrZXIoY20sIDEwMCk7XG4gIH1cbiAgLy8gU3luYyBzY3JvbGxlciBhbmQgc2Nyb2xsYmFyLCBlbnN1cmUgdGhlIGd1dHRlciBlbGVtZW50cyBhcmVcbiAgLy8gYWxpZ25lZC5cbiAgZnVuY3Rpb24gc2V0U2Nyb2xsTGVmdChjbSwgdmFsLCBpc1Njcm9sbGVyKSB7XG4gICAgaWYgKGlzU2Nyb2xsZXIgPyB2YWwgPT0gY20uZG9jLnNjcm9sbExlZnQgOiBNYXRoLmFicyhjbS5kb2Muc2Nyb2xsTGVmdCAtIHZhbCkgPCAyKSByZXR1cm47XG4gICAgdmFsID0gTWF0aC5taW4odmFsLCBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFdpZHRoIC0gY20uZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aCk7XG4gICAgY20uZG9jLnNjcm9sbExlZnQgPSB2YWw7XG4gICAgYWxpZ25Ib3Jpem9udGFsbHkoY20pO1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgIT0gdmFsKSBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgPSB2YWw7XG4gICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbExlZnQodmFsKTtcbiAgfVxuXG4gIC8vIFNpbmNlIHRoZSBkZWx0YSB2YWx1ZXMgcmVwb3J0ZWQgb24gbW91c2Ugd2hlZWwgZXZlbnRzIGFyZVxuICAvLyB1bnN0YW5kYXJkaXplZCBiZXR3ZWVuIGJyb3dzZXJzIGFuZCBldmVuIGJyb3dzZXIgdmVyc2lvbnMsIGFuZFxuICAvLyBnZW5lcmFsbHkgaG9ycmlibHkgdW5wcmVkaWN0YWJsZSwgdGhpcyBjb2RlIHN0YXJ0cyBieSBtZWFzdXJpbmdcbiAgLy8gdGhlIHNjcm9sbCBlZmZlY3QgdGhhdCB0aGUgZmlyc3QgZmV3IG1vdXNlIHdoZWVsIGV2ZW50cyBoYXZlLFxuICAvLyBhbmQsIGZyb20gdGhhdCwgZGV0ZWN0cyB0aGUgd2F5IGl0IGNhbiBjb252ZXJ0IGRlbHRhcyB0byBwaXhlbFxuICAvLyBvZmZzZXRzIGFmdGVyd2FyZHMuXG4gIC8vXG4gIC8vIFRoZSByZWFzb24gd2Ugd2FudCB0byBrbm93IHRoZSBhbW91bnQgYSB3aGVlbCBldmVudCB3aWxsIHNjcm9sbFxuICAvLyBpcyB0aGF0IGl0IGdpdmVzIHVzIGEgY2hhbmNlIHRvIHVwZGF0ZSB0aGUgZGlzcGxheSBiZWZvcmUgdGhlXG4gIC8vIGFjdHVhbCBzY3JvbGxpbmcgaGFwcGVucywgcmVkdWNpbmcgZmxpY2tlcmluZy5cblxuICB2YXIgd2hlZWxTYW1wbGVzID0gMCwgd2hlZWxQaXhlbHNQZXJVbml0ID0gbnVsbDtcbiAgLy8gRmlsbCBpbiBhIGJyb3dzZXItZGV0ZWN0ZWQgc3RhcnRpbmcgdmFsdWUgb24gYnJvd3NlcnMgd2hlcmUgd2VcbiAgLy8ga25vdyBvbmUuIFRoZXNlIGRvbid0IGhhdmUgdG8gYmUgYWNjdXJhdGUgLS0gdGhlIHJlc3VsdCBvZiB0aGVtXG4gIC8vIGJlaW5nIHdyb25nIHdvdWxkIGp1c3QgYmUgYSBzbGlnaHQgZmxpY2tlciBvbiB0aGUgZmlyc3Qgd2hlZWxcbiAgLy8gc2Nyb2xsIChpZiBpdCBpcyBsYXJnZSBlbm91Z2gpLlxuICBpZiAoaWUpIHdoZWVsUGl4ZWxzUGVyVW5pdCA9IC0uNTM7XG4gIGVsc2UgaWYgKGdlY2tvKSB3aGVlbFBpeGVsc1BlclVuaXQgPSAxNTtcbiAgZWxzZSBpZiAoY2hyb21lKSB3aGVlbFBpeGVsc1BlclVuaXQgPSAtLjc7XG4gIGVsc2UgaWYgKHNhZmFyaSkgd2hlZWxQaXhlbHNQZXJVbml0ID0gLTEvMztcblxuICB2YXIgd2hlZWxFdmVudERlbHRhID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciBkeCA9IGUud2hlZWxEZWx0YVgsIGR5ID0gZS53aGVlbERlbHRhWTtcbiAgICBpZiAoZHggPT0gbnVsbCAmJiBlLmRldGFpbCAmJiBlLmF4aXMgPT0gZS5IT1JJWk9OVEFMX0FYSVMpIGR4ID0gZS5kZXRhaWw7XG4gICAgaWYgKGR5ID09IG51bGwgJiYgZS5kZXRhaWwgJiYgZS5heGlzID09IGUuVkVSVElDQUxfQVhJUykgZHkgPSBlLmRldGFpbDtcbiAgICBlbHNlIGlmIChkeSA9PSBudWxsKSBkeSA9IGUud2hlZWxEZWx0YTtcbiAgICByZXR1cm4ge3g6IGR4LCB5OiBkeX07XG4gIH07XG4gIENvZGVNaXJyb3Iud2hlZWxFdmVudFBpeGVscyA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZGVsdGEgPSB3aGVlbEV2ZW50RGVsdGEoZSk7XG4gICAgZGVsdGEueCAqPSB3aGVlbFBpeGVsc1BlclVuaXQ7XG4gICAgZGVsdGEueSAqPSB3aGVlbFBpeGVsc1BlclVuaXQ7XG4gICAgcmV0dXJuIGRlbHRhO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG9uU2Nyb2xsV2hlZWwoY20sIGUpIHtcbiAgICB2YXIgZGVsdGEgPSB3aGVlbEV2ZW50RGVsdGEoZSksIGR4ID0gZGVsdGEueCwgZHkgPSBkZWx0YS55O1xuXG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzY3JvbGwgPSBkaXNwbGF5LnNjcm9sbGVyO1xuICAgIC8vIFF1aXQgaWYgdGhlcmUncyBub3RoaW5nIHRvIHNjcm9sbCBoZXJlXG4gICAgdmFyIGNhblNjcm9sbFggPSBzY3JvbGwuc2Nyb2xsV2lkdGggPiBzY3JvbGwuY2xpZW50V2lkdGg7XG4gICAgdmFyIGNhblNjcm9sbFkgPSBzY3JvbGwuc2Nyb2xsSGVpZ2h0ID4gc2Nyb2xsLmNsaWVudEhlaWdodDtcbiAgICBpZiAoIShkeCAmJiBjYW5TY3JvbGxYIHx8IGR5ICYmIGNhblNjcm9sbFkpKSByZXR1cm47XG5cbiAgICAvLyBXZWJraXQgYnJvd3NlcnMgb24gT1MgWCBhYm9ydCBtb21lbnR1bSBzY3JvbGxzIHdoZW4gdGhlIHRhcmdldFxuICAgIC8vIG9mIHRoZSBzY3JvbGwgZXZlbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBzY3JvbGxhYmxlIGVsZW1lbnQuXG4gICAgLy8gVGhpcyBoYWNrIChzZWUgcmVsYXRlZCBjb2RlIGluIHBhdGNoRGlzcGxheSkgbWFrZXMgc3VyZSB0aGVcbiAgICAvLyBlbGVtZW50IGlzIGtlcHQgYXJvdW5kLlxuICAgIGlmIChkeSAmJiBtYWMgJiYgd2Via2l0KSB7XG4gICAgICBvdXRlcjogZm9yICh2YXIgY3VyID0gZS50YXJnZXQsIHZpZXcgPSBkaXNwbGF5LnZpZXc7IGN1ciAhPSBzY3JvbGw7IGN1ciA9IGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh2aWV3W2ldLm5vZGUgPT0gY3VyKSB7XG4gICAgICAgICAgICBjbS5kaXNwbGF5LmN1cnJlbnRXaGVlbFRhcmdldCA9IGN1cjtcbiAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9uIHNvbWUgYnJvd3NlcnMsIGhvcml6b250YWwgc2Nyb2xsaW5nIHdpbGwgY2F1c2UgcmVkcmF3cyB0b1xuICAgIC8vIGhhcHBlbiBiZWZvcmUgdGhlIGd1dHRlciBoYXMgYmVlbiByZWFsaWduZWQsIGNhdXNpbmcgaXQgdG9cbiAgICAvLyB3cmlnZ2xlIGFyb3VuZCBpbiBhIG1vc3QgdW5zZWVtbHkgd2F5LiBXaGVuIHdlIGhhdmUgYW5cbiAgICAvLyBlc3RpbWF0ZWQgcGl4ZWxzL2RlbHRhIHZhbHVlLCB3ZSBqdXN0IGhhbmRsZSBob3Jpem9udGFsXG4gICAgLy8gc2Nyb2xsaW5nIGVudGlyZWx5IGhlcmUuIEl0J2xsIGJlIHNsaWdodGx5IG9mZiBmcm9tIG5hdGl2ZSwgYnV0XG4gICAgLy8gYmV0dGVyIHRoYW4gZ2xpdGNoaW5nIG91dC5cbiAgICBpZiAoZHggJiYgIWdlY2tvICYmICFwcmVzdG8gJiYgd2hlZWxQaXhlbHNQZXJVbml0ICE9IG51bGwpIHtcbiAgICAgIGlmIChkeSAmJiBjYW5TY3JvbGxZKVxuICAgICAgICBzZXRTY3JvbGxUb3AoY20sIE1hdGgubWF4KDAsIE1hdGgubWluKHNjcm9sbC5zY3JvbGxUb3AgKyBkeSAqIHdoZWVsUGl4ZWxzUGVyVW5pdCwgc2Nyb2xsLnNjcm9sbEhlaWdodCAtIHNjcm9sbC5jbGllbnRIZWlnaHQpKSk7XG4gICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGwuc2Nyb2xsTGVmdCArIGR4ICogd2hlZWxQaXhlbHNQZXJVbml0LCBzY3JvbGwuc2Nyb2xsV2lkdGggLSBzY3JvbGwuY2xpZW50V2lkdGgpKSk7XG4gICAgICAvLyBPbmx5IHByZXZlbnQgZGVmYXVsdCBzY3JvbGxpbmcgaWYgdmVydGljYWwgc2Nyb2xsaW5nIGlzXG4gICAgICAvLyBhY3R1YWxseSBwb3NzaWJsZS4gT3RoZXJ3aXNlLCBpdCBjYXVzZXMgdmVydGljYWwgc2Nyb2xsXG4gICAgICAvLyBqaXR0ZXIgb24gT1NYIHRyYWNrcGFkcyB3aGVuIGRlbHRhWCBpcyBzbWFsbCBhbmQgZGVsdGFZXG4gICAgICAvLyBpcyBsYXJnZSAoaXNzdWUgIzM1NzkpXG4gICAgICBpZiAoIWR5IHx8IChkeSAmJiBjYW5TY3JvbGxZKSlcbiAgICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBudWxsOyAvLyBBYm9ydCBtZWFzdXJlbWVudCwgaWYgaW4gcHJvZ3Jlc3NcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyAnUHJvamVjdCcgdGhlIHZpc2libGUgdmlld3BvcnQgdG8gY292ZXIgdGhlIGFyZWEgdGhhdCBpcyBiZWluZ1xuICAgIC8vIHNjcm9sbGVkIGludG8gdmlldyAoaWYgd2Uga25vdyBlbm91Z2ggdG8gZXN0aW1hdGUgaXQpLlxuICAgIGlmIChkeSAmJiB3aGVlbFBpeGVsc1BlclVuaXQgIT0gbnVsbCkge1xuICAgICAgdmFyIHBpeGVscyA9IGR5ICogd2hlZWxQaXhlbHNQZXJVbml0O1xuICAgICAgdmFyIHRvcCA9IGNtLmRvYy5zY3JvbGxUb3AsIGJvdCA9IHRvcCArIGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQ7XG4gICAgICBpZiAocGl4ZWxzIDwgMCkgdG9wID0gTWF0aC5tYXgoMCwgdG9wICsgcGl4ZWxzIC0gNTApO1xuICAgICAgZWxzZSBib3QgPSBNYXRoLm1pbihjbS5kb2MuaGVpZ2h0LCBib3QgKyBwaXhlbHMgKyA1MCk7XG4gICAgICB1cGRhdGVEaXNwbGF5U2ltcGxlKGNtLCB7dG9wOiB0b3AsIGJvdHRvbTogYm90fSk7XG4gICAgfVxuXG4gICAgaWYgKHdoZWVsU2FtcGxlcyA8IDIwKSB7XG4gICAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCA9PSBudWxsKSB7XG4gICAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBzY3JvbGwuc2Nyb2xsTGVmdDsgZGlzcGxheS53aGVlbFN0YXJ0WSA9IHNjcm9sbC5zY3JvbGxUb3A7XG4gICAgICAgIGRpc3BsYXkud2hlZWxEWCA9IGR4OyBkaXNwbGF5LndoZWVsRFkgPSBkeTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgdmFyIG1vdmVkWCA9IHNjcm9sbC5zY3JvbGxMZWZ0IC0gZGlzcGxheS53aGVlbFN0YXJ0WDtcbiAgICAgICAgICB2YXIgbW92ZWRZID0gc2Nyb2xsLnNjcm9sbFRvcCAtIGRpc3BsYXkud2hlZWxTdGFydFk7XG4gICAgICAgICAgdmFyIHNhbXBsZSA9IChtb3ZlZFkgJiYgZGlzcGxheS53aGVlbERZICYmIG1vdmVkWSAvIGRpc3BsYXkud2hlZWxEWSkgfHxcbiAgICAgICAgICAgIChtb3ZlZFggJiYgZGlzcGxheS53aGVlbERYICYmIG1vdmVkWCAvIGRpc3BsYXkud2hlZWxEWCk7XG4gICAgICAgICAgZGlzcGxheS53aGVlbFN0YXJ0WCA9IGRpc3BsYXkud2hlZWxTdGFydFkgPSBudWxsO1xuICAgICAgICAgIGlmICghc2FtcGxlKSByZXR1cm47XG4gICAgICAgICAgd2hlZWxQaXhlbHNQZXJVbml0ID0gKHdoZWVsUGl4ZWxzUGVyVW5pdCAqIHdoZWVsU2FtcGxlcyArIHNhbXBsZSkgLyAod2hlZWxTYW1wbGVzICsgMSk7XG4gICAgICAgICAgKyt3aGVlbFNhbXBsZXM7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXNwbGF5LndoZWVsRFggKz0gZHg7IGRpc3BsYXkud2hlZWxEWSArPSBkeTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBLRVkgRVZFTlRTXG5cbiAgLy8gUnVuIGEgaGFuZGxlciB0aGF0IHdhcyBib3VuZCB0byBhIGtleS5cbiAgZnVuY3Rpb24gZG9IYW5kbGVCaW5kaW5nKGNtLCBib3VuZCwgZHJvcFNoaWZ0KSB7XG4gICAgaWYgKHR5cGVvZiBib3VuZCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBib3VuZCA9IGNvbW1hbmRzW2JvdW5kXTtcbiAgICAgIGlmICghYm91bmQpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gRW5zdXJlIHByZXZpb3VzIGlucHV0IGhhcyBiZWVuIHJlYWQsIHNvIHRoYXQgdGhlIGhhbmRsZXIgc2VlcyBhXG4gICAgLy8gY29uc2lzdGVudCB2aWV3IG9mIHRoZSBkb2N1bWVudFxuICAgIGNtLmRpc3BsYXkuaW5wdXQuZW5zdXJlUG9sbGVkKCk7XG4gICAgdmFyIHByZXZTaGlmdCA9IGNtLmRpc3BsYXkuc2hpZnQsIGRvbmUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgaWYgKGNtLmlzUmVhZE9ubHkoKSkgY20uc3RhdGUuc3VwcHJlc3NFZGl0cyA9IHRydWU7XG4gICAgICBpZiAoZHJvcFNoaWZ0KSBjbS5kaXNwbGF5LnNoaWZ0ID0gZmFsc2U7XG4gICAgICBkb25lID0gYm91bmQoY20pICE9IFBhc3M7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNtLmRpc3BsYXkuc2hpZnQgPSBwcmV2U2hpZnQ7XG4gICAgICBjbS5zdGF0ZS5zdXBwcmVzc0VkaXRzID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBkb25lO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9va3VwS2V5Rm9yRWRpdG9yKGNtLCBuYW1lLCBoYW5kbGUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLnN0YXRlLmtleU1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb29rdXBLZXkobmFtZSwgY20uc3RhdGUua2V5TWFwc1tpXSwgaGFuZGxlLCBjbSk7XG4gICAgICBpZiAocmVzdWx0KSByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gKGNtLm9wdGlvbnMuZXh0cmFLZXlzICYmIGxvb2t1cEtleShuYW1lLCBjbS5vcHRpb25zLmV4dHJhS2V5cywgaGFuZGxlLCBjbSkpXG4gICAgICB8fCBsb29rdXBLZXkobmFtZSwgY20ub3B0aW9ucy5rZXlNYXAsIGhhbmRsZSwgY20pO1xuICB9XG5cbiAgdmFyIHN0b3BTZXEgPSBuZXcgRGVsYXllZDtcbiAgZnVuY3Rpb24gZGlzcGF0Y2hLZXkoY20sIG5hbWUsIGUsIGhhbmRsZSkge1xuICAgIHZhciBzZXEgPSBjbS5zdGF0ZS5rZXlTZXE7XG4gICAgaWYgKHNlcSkge1xuICAgICAgaWYgKGlzTW9kaWZpZXJLZXkobmFtZSkpIHJldHVybiBcImhhbmRsZWRcIjtcbiAgICAgIHN0b3BTZXEuc2V0KDUwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNtLnN0YXRlLmtleVNlcSA9PSBzZXEpIHtcbiAgICAgICAgICBjbS5zdGF0ZS5rZXlTZXEgPSBudWxsO1xuICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBuYW1lID0gc2VxICsgXCIgXCIgKyBuYW1lO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gbG9va3VwS2V5Rm9yRWRpdG9yKGNtLCBuYW1lLCBoYW5kbGUpO1xuXG4gICAgaWYgKHJlc3VsdCA9PSBcIm11bHRpXCIpXG4gICAgICBjbS5zdGF0ZS5rZXlTZXEgPSBuYW1lO1xuICAgIGlmIChyZXN1bHQgPT0gXCJoYW5kbGVkXCIpXG4gICAgICBzaWduYWxMYXRlcihjbSwgXCJrZXlIYW5kbGVkXCIsIGNtLCBuYW1lLCBlKTtcblxuICAgIGlmIChyZXN1bHQgPT0gXCJoYW5kbGVkXCIgfHwgcmVzdWx0ID09IFwibXVsdGlcIikge1xuICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgIHJlc3RhcnRCbGluayhjbSk7XG4gICAgfVxuXG4gICAgaWYgKHNlcSAmJiAhcmVzdWx0ICYmIC9cXCckLy50ZXN0KG5hbWUpKSB7XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAhIXJlc3VsdDtcbiAgfVxuXG4gIC8vIEhhbmRsZSBhIGtleSBmcm9tIHRoZSBrZXlkb3duIGV2ZW50LlxuICBmdW5jdGlvbiBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKSB7XG4gICAgdmFyIG5hbWUgPSBrZXlOYW1lKGUsIHRydWUpO1xuICAgIGlmICghbmFtZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgIWNtLnN0YXRlLmtleVNlcSkge1xuICAgICAgLy8gRmlyc3QgdHJ5IHRvIHJlc29sdmUgZnVsbCBuYW1lIChpbmNsdWRpbmcgJ1NoaWZ0LScpLiBGYWlsaW5nXG4gICAgICAvLyB0aGF0LCBzZWUgaWYgdGhlcmUgaXMgYSBjdXJzb3ItbW90aW9uIGNvbW1hbmQgKHN0YXJ0aW5nIHdpdGhcbiAgICAgIC8vICdnbycpIGJvdW5kIHRvIHRoZSBrZXluYW1lIHdpdGhvdXQgJ1NoaWZ0LScuXG4gICAgICByZXR1cm4gZGlzcGF0Y2hLZXkoY20sIFwiU2hpZnQtXCIgKyBuYW1lLCBlLCBmdW5jdGlvbihiKSB7cmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYiwgdHJ1ZSk7fSlcbiAgICAgICAgICB8fCBkaXNwYXRjaEtleShjbSwgbmFtZSwgZSwgZnVuY3Rpb24oYikge1xuICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09IFwic3RyaW5nXCIgPyAvXmdvW0EtWl0vLnRlc3QoYikgOiBiLm1vdGlvbilcbiAgICAgICAgICAgICAgICAgcmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYik7XG4gICAgICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgbmFtZSwgZSwgZnVuY3Rpb24oYikgeyByZXR1cm4gZG9IYW5kbGVCaW5kaW5nKGNtLCBiKTsgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSGFuZGxlIGEga2V5IGZyb20gdGhlIGtleXByZXNzIGV2ZW50XG4gIGZ1bmN0aW9uIGhhbmRsZUNoYXJCaW5kaW5nKGNtLCBlLCBjaCkge1xuICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgXCInXCIgKyBjaCArIFwiJ1wiLCBlLFxuICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihiKSB7IHJldHVybiBkb0hhbmRsZUJpbmRpbmcoY20sIGIsIHRydWUpOyB9KTtcbiAgfVxuXG4gIHZhciBsYXN0U3RvcHBlZEtleSA9IG51bGw7XG4gIGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgdmFyIGNtID0gdGhpcztcbiAgICBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdCgpO1xuICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHJldHVybjtcbiAgICAvLyBJRSBkb2VzIHN0cmFuZ2UgdGhpbmdzIHdpdGggZXNjYXBlLlxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEgJiYgZS5rZXlDb2RlID09IDI3KSBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgdmFyIGNvZGUgPSBlLmtleUNvZGU7XG4gICAgY20uZGlzcGxheS5zaGlmdCA9IGNvZGUgPT0gMTYgfHwgZS5zaGlmdEtleTtcbiAgICB2YXIgaGFuZGxlZCA9IGhhbmRsZUtleUJpbmRpbmcoY20sIGUpO1xuICAgIGlmIChwcmVzdG8pIHtcbiAgICAgIGxhc3RTdG9wcGVkS2V5ID0gaGFuZGxlZCA/IGNvZGUgOiBudWxsO1xuICAgICAgLy8gT3BlcmEgaGFzIG5vIGN1dCBldmVudC4uLiB3ZSB0cnkgdG8gYXQgbGVhc3QgY2F0Y2ggdGhlIGtleSBjb21ib1xuICAgICAgaWYgKCFoYW5kbGVkICYmIGNvZGUgPT0gODggJiYgIWhhc0NvcHlFdmVudCAmJiAobWFjID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSlcbiAgICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbihcIlwiLCBudWxsLCBcImN1dFwiKTtcbiAgICB9XG5cbiAgICAvLyBUdXJuIG1vdXNlIGludG8gY3Jvc3NoYWlyIHdoZW4gQWx0IGlzIGhlbGQgb24gTWFjLlxuICAgIGlmIChjb2RlID09IDE4ICYmICEvXFxiQ29kZU1pcnJvci1jcm9zc2hhaXJcXGIvLnRlc3QoY20uZGlzcGxheS5saW5lRGl2LmNsYXNzTmFtZSkpXG4gICAgICBzaG93Q3Jvc3NIYWlyKGNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dDcm9zc0hhaXIoY20pIHtcbiAgICB2YXIgbGluZURpdiA9IGNtLmRpc3BsYXkubGluZURpdjtcbiAgICBhZGRDbGFzcyhsaW5lRGl2LCBcIkNvZGVNaXJyb3ItY3Jvc3NoYWlyXCIpO1xuXG4gICAgZnVuY3Rpb24gdXAoZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PSAxOCB8fCAhZS5hbHRLZXkpIHtcbiAgICAgICAgcm1DbGFzcyhsaW5lRGl2LCBcIkNvZGVNaXJyb3ItY3Jvc3NoYWlyXCIpO1xuICAgICAgICBvZmYoZG9jdW1lbnQsIFwia2V5dXBcIiwgdXApO1xuICAgICAgICBvZmYoZG9jdW1lbnQsIFwibW91c2VvdmVyXCIsIHVwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb24oZG9jdW1lbnQsIFwia2V5dXBcIiwgdXApO1xuICAgIG9uKGRvY3VtZW50LCBcIm1vdXNlb3ZlclwiLCB1cCk7XG4gIH1cblxuICBmdW5jdGlvbiBvbktleVVwKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09IDE2KSB0aGlzLmRvYy5zZWwuc2hpZnQgPSBmYWxzZTtcbiAgICBzaWduYWxET01FdmVudCh0aGlzLCBlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uS2V5UHJlc3MoZSkge1xuICAgIHZhciBjbSA9IHRoaXM7XG4gICAgaWYgKGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkgfHwgc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGUuY3RybEtleSAmJiAhZS5hbHRLZXkgfHwgbWFjICYmIGUubWV0YUtleSkgcmV0dXJuO1xuICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlLCBjaGFyQ29kZSA9IGUuY2hhckNvZGU7XG4gICAgaWYgKHByZXN0byAmJiBrZXlDb2RlID09IGxhc3RTdG9wcGVkS2V5KSB7bGFzdFN0b3BwZWRLZXkgPSBudWxsOyBlX3ByZXZlbnREZWZhdWx0KGUpOyByZXR1cm47fVxuICAgIGlmICgocHJlc3RvICYmICghZS53aGljaCB8fCBlLndoaWNoIDwgMTApKSAmJiBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKSkgcmV0dXJuO1xuICAgIHZhciBjaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUgPT0gbnVsbCA/IGtleUNvZGUgOiBjaGFyQ29kZSk7XG4gICAgaWYgKGhhbmRsZUNoYXJCaW5kaW5nKGNtLCBlLCBjaCkpIHJldHVybjtcbiAgICBjbS5kaXNwbGF5LmlucHV0Lm9uS2V5UHJlc3MoZSk7XG4gIH1cblxuICAvLyBGT0NVUy9CTFVSIEVWRU5UU1xuXG4gIGZ1bmN0aW9uIGRlbGF5Qmx1ckV2ZW50KGNtKSB7XG4gICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHtcbiAgICAgICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgb25CbHVyKGNtKTtcbiAgICAgIH1cbiAgICB9LCAxMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Gb2N1cyhjbSkge1xuICAgIGlmIChjbS5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudCkgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSBmYWxzZTtcblxuICAgIGlmIChjbS5vcHRpb25zLnJlYWRPbmx5ID09IFwibm9jdXJzb3JcIikgcmV0dXJuO1xuICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCkge1xuICAgICAgc2lnbmFsKGNtLCBcImZvY3VzXCIsIGNtKTtcbiAgICAgIGNtLnN0YXRlLmZvY3VzZWQgPSB0cnVlO1xuICAgICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3ItZm9jdXNlZFwiKTtcbiAgICAgIC8vIFRoaXMgdGVzdCBwcmV2ZW50cyB0aGlzIGZyb20gZmlyaW5nIHdoZW4gYSBjb250ZXh0XG4gICAgICAvLyBtZW51IGlzIGNsb3NlZCAoc2luY2UgdGhlIGlucHV0IHJlc2V0IHdvdWxkIGtpbGwgdGhlXG4gICAgICAvLyBzZWxlY3QtYWxsIGRldGVjdGlvbiBoYWNrKVxuICAgICAgaWYgKCFjbS5jdXJPcCAmJiBjbS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ICE9IGNtLmRvYy5zZWwpIHtcbiAgICAgICAgY20uZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgICBpZiAod2Via2l0KSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KHRydWUpOyB9LCAyMCk7IC8vIElzc3VlICMxNzMwXG4gICAgICB9XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnJlY2VpdmVkRm9jdXMoKTtcbiAgICB9XG4gICAgcmVzdGFydEJsaW5rKGNtKTtcbiAgfVxuICBmdW5jdGlvbiBvbkJsdXIoY20pIHtcbiAgICBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHJldHVybjtcblxuICAgIGlmIChjbS5zdGF0ZS5mb2N1c2VkKSB7XG4gICAgICBzaWduYWwoY20sIFwiYmx1clwiLCBjbSk7XG4gICAgICBjbS5zdGF0ZS5mb2N1c2VkID0gZmFsc2U7XG4gICAgICBybUNsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgXCJDb2RlTWlycm9yLWZvY3VzZWRcIik7XG4gICAgfVxuICAgIGNsZWFySW50ZXJ2YWwoY20uZGlzcGxheS5ibGlua2VyKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2lmICghY20uc3RhdGUuZm9jdXNlZCkgY20uZGlzcGxheS5zaGlmdCA9IGZhbHNlO30sIDE1MCk7XG4gIH1cblxuICAvLyBDT05URVhUIE1FTlUgSEFORExJTkdcblxuICAvLyBUbyBtYWtlIHRoZSBjb250ZXh0IG1lbnUgd29yaywgd2UgbmVlZCB0byBicmllZmx5IHVuaGlkZSB0aGVcbiAgLy8gdGV4dGFyZWEgKG1ha2luZyBpdCBhcyB1bm9idHJ1c2l2ZSBhcyBwb3NzaWJsZSkgdG8gbGV0IHRoZVxuICAvLyByaWdodC1jbGljayB0YWtlIGVmZmVjdCBvbiBpdC5cbiAgZnVuY3Rpb24gb25Db250ZXh0TWVudShjbSwgZSkge1xuICAgIGlmIChldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpIHx8IGNvbnRleHRNZW51SW5HdXR0ZXIoY20sIGUpKSByZXR1cm47XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlLCBcImNvbnRleHRtZW51XCIpKSByZXR1cm47XG4gICAgY20uZGlzcGxheS5pbnB1dC5vbkNvbnRleHRNZW51KGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udGV4dE1lbnVJbkd1dHRlcihjbSwgZSkge1xuICAgIGlmICghaGFzSGFuZGxlcihjbSwgXCJndXR0ZXJDb250ZXh0TWVudVwiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBndXR0ZXJFdmVudChjbSwgZSwgXCJndXR0ZXJDb250ZXh0TWVudVwiLCBmYWxzZSk7XG4gIH1cblxuICAvLyBVUERBVElOR1xuXG4gIC8vIENvbXB1dGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBlbmQgb2YgYSBjaGFuZ2UgKGl0cyAndG8nIHByb3BlcnR5XG4gIC8vIHJlZmVycyB0byB0aGUgcHJlLWNoYW5nZSBlbmQpLlxuICB2YXIgY2hhbmdlRW5kID0gQ29kZU1pcnJvci5jaGFuZ2VFbmQgPSBmdW5jdGlvbihjaGFuZ2UpIHtcbiAgICBpZiAoIWNoYW5nZS50ZXh0KSByZXR1cm4gY2hhbmdlLnRvO1xuICAgIHJldHVybiBQb3MoY2hhbmdlLmZyb20ubGluZSArIGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICBsc3QoY2hhbmdlLnRleHQpLmxlbmd0aCArIChjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSA/IGNoYW5nZS5mcm9tLmNoIDogMCkpO1xuICB9O1xuXG4gIC8vIEFkanVzdCBhIHBvc2l0aW9uIHRvIHJlZmVyIHRvIHRoZSBwb3N0LWNoYW5nZSBwb3NpdGlvbiBvZiB0aGVcbiAgLy8gc2FtZSB0ZXh0LCBvciB0aGUgZW5kIG9mIHRoZSBjaGFuZ2UgaWYgdGhlIGNoYW5nZSBjb3ZlcnMgaXQuXG4gIGZ1bmN0aW9uIGFkanVzdEZvckNoYW5nZShwb3MsIGNoYW5nZSkge1xuICAgIGlmIChjbXAocG9zLCBjaGFuZ2UuZnJvbSkgPCAwKSByZXR1cm4gcG9zO1xuICAgIGlmIChjbXAocG9zLCBjaGFuZ2UudG8pIDw9IDApIHJldHVybiBjaGFuZ2VFbmQoY2hhbmdlKTtcblxuICAgIHZhciBsaW5lID0gcG9zLmxpbmUgKyBjaGFuZ2UudGV4dC5sZW5ndGggLSAoY2hhbmdlLnRvLmxpbmUgLSBjaGFuZ2UuZnJvbS5saW5lKSAtIDEsIGNoID0gcG9zLmNoO1xuICAgIGlmIChwb3MubGluZSA9PSBjaGFuZ2UudG8ubGluZSkgY2ggKz0gY2hhbmdlRW5kKGNoYW5nZSkuY2ggLSBjaGFuZ2UudG8uY2g7XG4gICAgcmV0dXJuIFBvcyhsaW5lLCBjaCk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaV07XG4gICAgICBvdXQucHVzaChuZXcgUmFuZ2UoYWRqdXN0Rm9yQ2hhbmdlKHJhbmdlLmFuY2hvciwgY2hhbmdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RGb3JDaGFuZ2UocmFuZ2UuaGVhZCwgY2hhbmdlKSkpO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplU2VsZWN0aW9uKG91dCwgZG9jLnNlbC5wcmltSW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gb2Zmc2V0UG9zKHBvcywgb2xkLCBudykge1xuICAgIGlmIChwb3MubGluZSA9PSBvbGQubGluZSlcbiAgICAgIHJldHVybiBQb3MobncubGluZSwgcG9zLmNoIC0gb2xkLmNoICsgbncuY2gpO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBQb3MobncubGluZSArIChwb3MubGluZSAtIG9sZC5saW5lKSwgcG9zLmNoKTtcbiAgfVxuXG4gIC8vIFVzZWQgYnkgcmVwbGFjZVNlbGVjdGlvbnMgdG8gYWxsb3cgbW92aW5nIHRoZSBzZWxlY3Rpb24gdG8gdGhlXG4gIC8vIHN0YXJ0IG9yIGFyb3VuZCB0aGUgcmVwbGFjZWQgdGVzdC4gSGludCBtYXkgYmUgXCJzdGFydFwiIG9yIFwiYXJvdW5kXCIuXG4gIGZ1bmN0aW9uIGNvbXB1dGVSZXBsYWNlZFNlbChkb2MsIGNoYW5nZXMsIGhpbnQpIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFyIG9sZFByZXYgPSBQb3MoZG9jLmZpcnN0LCAwKSwgbmV3UHJldiA9IG9sZFByZXY7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hhbmdlID0gY2hhbmdlc1tpXTtcbiAgICAgIHZhciBmcm9tID0gb2Zmc2V0UG9zKGNoYW5nZS5mcm9tLCBvbGRQcmV2LCBuZXdQcmV2KTtcbiAgICAgIHZhciB0byA9IG9mZnNldFBvcyhjaGFuZ2VFbmQoY2hhbmdlKSwgb2xkUHJldiwgbmV3UHJldik7XG4gICAgICBvbGRQcmV2ID0gY2hhbmdlLnRvO1xuICAgICAgbmV3UHJldiA9IHRvO1xuICAgICAgaWYgKGhpbnQgPT0gXCJhcm91bmRcIikge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnJhbmdlc1tpXSwgaW52ID0gY21wKHJhbmdlLmhlYWQsIHJhbmdlLmFuY2hvcikgPCAwO1xuICAgICAgICBvdXRbaV0gPSBuZXcgUmFuZ2UoaW52ID8gdG8gOiBmcm9tLCBpbnYgPyBmcm9tIDogdG8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKGZyb20sIGZyb20pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihvdXQsIGRvYy5zZWwucHJpbUluZGV4KTtcbiAgfVxuXG4gIC8vIEFsbG93IFwiYmVmb3JlQ2hhbmdlXCIgZXZlbnQgaGFuZGxlcnMgdG8gaW5mbHVlbmNlIGEgY2hhbmdlXG4gIGZ1bmN0aW9uIGZpbHRlckNoYW5nZShkb2MsIGNoYW5nZSwgdXBkYXRlKSB7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNhbmNlbGVkOiBmYWxzZSxcbiAgICAgIGZyb206IGNoYW5nZS5mcm9tLFxuICAgICAgdG86IGNoYW5nZS50byxcbiAgICAgIHRleHQ6IGNoYW5nZS50ZXh0LFxuICAgICAgb3JpZ2luOiBjaGFuZ2Uub3JpZ2luLFxuICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHsgdGhpcy5jYW5jZWxlZCA9IHRydWU7IH1cbiAgICB9O1xuICAgIGlmICh1cGRhdGUpIG9iai51cGRhdGUgPSBmdW5jdGlvbihmcm9tLCB0bywgdGV4dCwgb3JpZ2luKSB7XG4gICAgICBpZiAoZnJvbSkgdGhpcy5mcm9tID0gY2xpcFBvcyhkb2MsIGZyb20pO1xuICAgICAgaWYgKHRvKSB0aGlzLnRvID0gY2xpcFBvcyhkb2MsIHRvKTtcbiAgICAgIGlmICh0ZXh0KSB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgaWYgKG9yaWdpbiAhPT0gdW5kZWZpbmVkKSB0aGlzLm9yaWdpbiA9IG9yaWdpbjtcbiAgICB9O1xuICAgIHNpZ25hbChkb2MsIFwiYmVmb3JlQ2hhbmdlXCIsIGRvYywgb2JqKTtcbiAgICBpZiAoZG9jLmNtKSBzaWduYWwoZG9jLmNtLCBcImJlZm9yZUNoYW5nZVwiLCBkb2MuY20sIG9iaik7XG5cbiAgICBpZiAob2JqLmNhbmNlbGVkKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge2Zyb206IG9iai5mcm9tLCB0bzogb2JqLnRvLCB0ZXh0OiBvYmoudGV4dCwgb3JpZ2luOiBvYmoub3JpZ2lufTtcbiAgfVxuXG4gIC8vIEFwcGx5IGEgY2hhbmdlIHRvIGEgZG9jdW1lbnQsIGFuZCBhZGQgaXQgdG8gdGhlIGRvY3VtZW50J3NcbiAgLy8gaGlzdG9yeSwgYW5kIHByb3BhZ2F0aW5nIGl0IHRvIGFsbCBsaW5rZWQgZG9jdW1lbnRzLlxuICBmdW5jdGlvbiBtYWtlQ2hhbmdlKGRvYywgY2hhbmdlLCBpZ25vcmVSZWFkT25seSkge1xuICAgIGlmIChkb2MuY20pIHtcbiAgICAgIGlmICghZG9jLmNtLmN1ck9wKSByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFrZUNoYW5nZSkoZG9jLCBjaGFuZ2UsIGlnbm9yZVJlYWRPbmx5KTtcbiAgICAgIGlmIChkb2MuY20uc3RhdGUuc3VwcHJlc3NFZGl0cykgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChoYXNIYW5kbGVyKGRvYywgXCJiZWZvcmVDaGFuZ2VcIikgfHwgZG9jLmNtICYmIGhhc0hhbmRsZXIoZG9jLmNtLCBcImJlZm9yZUNoYW5nZVwiKSkge1xuICAgICAgY2hhbmdlID0gZmlsdGVyQ2hhbmdlKGRvYywgY2hhbmdlLCB0cnVlKTtcbiAgICAgIGlmICghY2hhbmdlKSByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUG9zc2libHkgc3BsaXQgb3Igc3VwcHJlc3MgdGhlIHVwZGF0ZSBiYXNlZCBvbiB0aGUgcHJlc2VuY2VcbiAgICAvLyBvZiByZWFkLW9ubHkgc3BhbnMgaW4gaXRzIHJhbmdlLlxuICAgIHZhciBzcGxpdCA9IHNhd1JlYWRPbmx5U3BhbnMgJiYgIWlnbm9yZVJlYWRPbmx5ICYmIHJlbW92ZVJlYWRPbmx5UmFuZ2VzKGRvYywgY2hhbmdlLmZyb20sIGNoYW5nZS50byk7XG4gICAgaWYgKHNwbGl0KSB7XG4gICAgICBmb3IgKHZhciBpID0gc3BsaXQubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpXG4gICAgICAgIG1ha2VDaGFuZ2VJbm5lcihkb2MsIHtmcm9tOiBzcGxpdFtpXS5mcm9tLCB0bzogc3BsaXRbaV0udG8sIHRleHQ6IGkgPyBbXCJcIl0gOiBjaGFuZ2UudGV4dH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYWtlQ2hhbmdlSW5uZXIoZG9jLCBjaGFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VDaGFuZ2VJbm5lcihkb2MsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSAmJiBjaGFuZ2UudGV4dFswXSA9PSBcIlwiICYmIGNtcChjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKSA9PSAwKSByZXR1cm47XG4gICAgdmFyIHNlbEFmdGVyID0gY29tcHV0ZVNlbEFmdGVyQ2hhbmdlKGRvYywgY2hhbmdlKTtcbiAgICBhZGRDaGFuZ2VUb0hpc3RvcnkoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBkb2MuY20gPyBkb2MuY20uY3VyT3AuaWQgOiBOYU4pO1xuXG4gICAgbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpKTtcbiAgICB2YXIgcmViYXNlZCA9IFtdO1xuXG4gICAgbGlua2VkRG9jcyhkb2MsIGZ1bmN0aW9uKGRvYywgc2hhcmVkSGlzdCkge1xuICAgICAgaWYgKCFzaGFyZWRIaXN0ICYmIGluZGV4T2YocmViYXNlZCwgZG9jLmhpc3RvcnkpID09IC0xKSB7XG4gICAgICAgIHJlYmFzZUhpc3QoZG9jLmhpc3RvcnksIGNoYW5nZSk7XG4gICAgICAgIHJlYmFzZWQucHVzaChkb2MuaGlzdG9yeSk7XG4gICAgICB9XG4gICAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBudWxsLCBzdHJldGNoU3BhbnNPdmVyQ2hhbmdlKGRvYywgY2hhbmdlKSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBSZXZlcnQgYSBjaGFuZ2Ugc3RvcmVkIGluIGEgZG9jdW1lbnQncyBoaXN0b3J5LlxuICBmdW5jdGlvbiBtYWtlQ2hhbmdlRnJvbUhpc3RvcnkoZG9jLCB0eXBlLCBhbGxvd1NlbGVjdGlvbk9ubHkpIHtcbiAgICBpZiAoZG9jLmNtICYmIGRvYy5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzICYmICFhbGxvd1NlbGVjdGlvbk9ubHkpIHJldHVybjtcblxuICAgIHZhciBoaXN0ID0gZG9jLmhpc3RvcnksIGV2ZW50LCBzZWxBZnRlciA9IGRvYy5zZWw7XG4gICAgdmFyIHNvdXJjZSA9IHR5cGUgPT0gXCJ1bmRvXCIgPyBoaXN0LmRvbmUgOiBoaXN0LnVuZG9uZSwgZGVzdCA9IHR5cGUgPT0gXCJ1bmRvXCIgPyBoaXN0LnVuZG9uZSA6IGhpc3QuZG9uZTtcblxuICAgIC8vIFZlcmlmeSB0aGF0IHRoZXJlIGlzIGEgdXNlYWJsZSBldmVudCAoc28gdGhhdCBjdHJsLXogd29uJ3RcbiAgICAvLyBuZWVkbGVzc2x5IGNsZWFyIHNlbGVjdGlvbiBldmVudHMpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIGV2ZW50ID0gc291cmNlW2ldO1xuICAgICAgaWYgKGFsbG93U2VsZWN0aW9uT25seSA/IGV2ZW50LnJhbmdlcyAmJiAhZXZlbnQuZXF1YWxzKGRvYy5zZWwpIDogIWV2ZW50LnJhbmdlcylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChpID09IHNvdXJjZS5sZW5ndGgpIHJldHVybjtcbiAgICBoaXN0Lmxhc3RPcmlnaW4gPSBoaXN0Lmxhc3RTZWxPcmlnaW4gPSBudWxsO1xuXG4gICAgZm9yICg7Oykge1xuICAgICAgZXZlbnQgPSBzb3VyY2UucG9wKCk7XG4gICAgICBpZiAoZXZlbnQucmFuZ2VzKSB7XG4gICAgICAgIHB1c2hTZWxlY3Rpb25Ub0hpc3RvcnkoZXZlbnQsIGRlc3QpO1xuICAgICAgICBpZiAoYWxsb3dTZWxlY3Rpb25Pbmx5ICYmICFldmVudC5lcXVhbHMoZG9jLnNlbCkpIHtcbiAgICAgICAgICBzZXRTZWxlY3Rpb24oZG9jLCBldmVudCwge2NsZWFyUmVkbzogZmFsc2V9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsQWZ0ZXIgPSBldmVudDtcbiAgICAgIH1cbiAgICAgIGVsc2UgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgdXAgYSByZXZlcnNlIGNoYW5nZSBvYmplY3QgdG8gYWRkIHRvIHRoZSBvcHBvc2l0ZSBoaXN0b3J5XG4gICAgLy8gc3RhY2sgKHJlZG8gd2hlbiB1bmRvaW5nLCBhbmQgdmljZSB2ZXJzYSkuXG4gICAgdmFyIGFudGlDaGFuZ2VzID0gW107XG4gICAgcHVzaFNlbGVjdGlvblRvSGlzdG9yeShzZWxBZnRlciwgZGVzdCk7XG4gICAgZGVzdC5wdXNoKHtjaGFuZ2VzOiBhbnRpQ2hhbmdlcywgZ2VuZXJhdGlvbjogaGlzdC5nZW5lcmF0aW9ufSk7XG4gICAgaGlzdC5nZW5lcmF0aW9uID0gZXZlbnQuZ2VuZXJhdGlvbiB8fCArK2hpc3QubWF4R2VuZXJhdGlvbjtcblxuICAgIHZhciBmaWx0ZXIgPSBoYXNIYW5kbGVyKGRvYywgXCJiZWZvcmVDaGFuZ2VcIikgfHwgZG9jLmNtICYmIGhhc0hhbmRsZXIoZG9jLmNtLCBcImJlZm9yZUNoYW5nZVwiKTtcblxuICAgIGZvciAodmFyIGkgPSBldmVudC5jaGFuZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB2YXIgY2hhbmdlID0gZXZlbnQuY2hhbmdlc1tpXTtcbiAgICAgIGNoYW5nZS5vcmlnaW4gPSB0eXBlO1xuICAgICAgaWYgKGZpbHRlciAmJiAhZmlsdGVyQ2hhbmdlKGRvYywgY2hhbmdlLCBmYWxzZSkpIHtcbiAgICAgICAgc291cmNlLmxlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYW50aUNoYW5nZXMucHVzaChoaXN0b3J5Q2hhbmdlRnJvbUNoYW5nZShkb2MsIGNoYW5nZSkpO1xuXG4gICAgICB2YXIgYWZ0ZXIgPSBpID8gY29tcHV0ZVNlbEFmdGVyQ2hhbmdlKGRvYywgY2hhbmdlKSA6IGxzdChzb3VyY2UpO1xuICAgICAgbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgYWZ0ZXIsIG1lcmdlT2xkU3BhbnMoZG9jLCBjaGFuZ2UpKTtcbiAgICAgIGlmICghaSAmJiBkb2MuY20pIGRvYy5jbS5zY3JvbGxJbnRvVmlldyh7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBjaGFuZ2VFbmQoY2hhbmdlKX0pO1xuICAgICAgdmFyIHJlYmFzZWQgPSBbXTtcblxuICAgICAgLy8gUHJvcGFnYXRlIHRvIHRoZSBsaW5rZWQgZG9jdW1lbnRzXG4gICAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24oZG9jLCBzaGFyZWRIaXN0KSB7XG4gICAgICAgIGlmICghc2hhcmVkSGlzdCAmJiBpbmRleE9mKHJlYmFzZWQsIGRvYy5oaXN0b3J5KSA9PSAtMSkge1xuICAgICAgICAgIHJlYmFzZUhpc3QoZG9jLmhpc3RvcnksIGNoYW5nZSk7XG4gICAgICAgICAgcmViYXNlZC5wdXNoKGRvYy5oaXN0b3J5KTtcbiAgICAgICAgfVxuICAgICAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBudWxsLCBtZXJnZU9sZFNwYW5zKGRvYywgY2hhbmdlKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBTdWItdmlld3MgbmVlZCB0aGVpciBsaW5lIG51bWJlcnMgc2hpZnRlZCB3aGVuIHRleHQgaXMgYWRkZWRcbiAgLy8gYWJvdmUgb3IgYmVsb3cgdGhlbSBpbiB0aGUgcGFyZW50IGRvY3VtZW50LlxuICBmdW5jdGlvbiBzaGlmdERvYyhkb2MsIGRpc3RhbmNlKSB7XG4gICAgaWYgKGRpc3RhbmNlID09IDApIHJldHVybjtcbiAgICBkb2MuZmlyc3QgKz0gZGlzdGFuY2U7XG4gICAgZG9jLnNlbCA9IG5ldyBTZWxlY3Rpb24obWFwKGRvYy5zZWwucmFuZ2VzLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZShQb3MocmFuZ2UuYW5jaG9yLmxpbmUgKyBkaXN0YW5jZSwgcmFuZ2UuYW5jaG9yLmNoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgUG9zKHJhbmdlLmhlYWQubGluZSArIGRpc3RhbmNlLCByYW5nZS5oZWFkLmNoKSk7XG4gICAgfSksIGRvYy5zZWwucHJpbUluZGV4KTtcbiAgICBpZiAoZG9jLmNtKSB7XG4gICAgICByZWdDaGFuZ2UoZG9jLmNtLCBkb2MuZmlyc3QsIGRvYy5maXJzdCAtIGRpc3RhbmNlLCBkaXN0YW5jZSk7XG4gICAgICBmb3IgKHZhciBkID0gZG9jLmNtLmRpc3BsYXksIGwgPSBkLnZpZXdGcm9tOyBsIDwgZC52aWV3VG87IGwrKylcbiAgICAgICAgcmVnTGluZUNoYW5nZShkb2MuY20sIGwsIFwiZ3V0dGVyXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIE1vcmUgbG93ZXItbGV2ZWwgY2hhbmdlIGZ1bmN0aW9uLCBoYW5kbGluZyBvbmx5IGEgc2luZ2xlIGRvY3VtZW50XG4gIC8vIChub3QgbGlua2VkIG9uZXMpLlxuICBmdW5jdGlvbiBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBzZWxBZnRlciwgc3BhbnMpIHtcbiAgICBpZiAoZG9jLmNtICYmICFkb2MuY20uY3VyT3ApXG4gICAgICByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFrZUNoYW5nZVNpbmdsZURvYykoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBzcGFucyk7XG5cbiAgICBpZiAoY2hhbmdlLnRvLmxpbmUgPCBkb2MuZmlyc3QpIHtcbiAgICAgIHNoaWZ0RG9jKGRvYywgY2hhbmdlLnRleHQubGVuZ3RoIC0gMSAtIChjaGFuZ2UudG8ubGluZSAtIGNoYW5nZS5mcm9tLmxpbmUpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNoYW5nZS5mcm9tLmxpbmUgPiBkb2MubGFzdExpbmUoKSkgcmV0dXJuO1xuXG4gICAgLy8gQ2xpcCB0aGUgY2hhbmdlIHRvIHRoZSBzaXplIG9mIHRoaXMgZG9jXG4gICAgaWYgKGNoYW5nZS5mcm9tLmxpbmUgPCBkb2MuZmlyc3QpIHtcbiAgICAgIHZhciBzaGlmdCA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDEgLSAoZG9jLmZpcnN0IC0gY2hhbmdlLmZyb20ubGluZSk7XG4gICAgICBzaGlmdERvYyhkb2MsIHNoaWZ0KTtcbiAgICAgIGNoYW5nZSA9IHtmcm9tOiBQb3MoZG9jLmZpcnN0LCAwKSwgdG86IFBvcyhjaGFuZ2UudG8ubGluZSArIHNoaWZ0LCBjaGFuZ2UudG8uY2gpLFxuICAgICAgICAgICAgICAgIHRleHQ6IFtsc3QoY2hhbmdlLnRleHQpXSwgb3JpZ2luOiBjaGFuZ2Uub3JpZ2lufTtcbiAgICB9XG4gICAgdmFyIGxhc3QgPSBkb2MubGFzdExpbmUoKTtcbiAgICBpZiAoY2hhbmdlLnRvLmxpbmUgPiBsYXN0KSB7XG4gICAgICBjaGFuZ2UgPSB7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBQb3MobGFzdCwgZ2V0TGluZShkb2MsIGxhc3QpLnRleHQubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBbY2hhbmdlLnRleHRbMF1dLCBvcmlnaW46IGNoYW5nZS5vcmlnaW59O1xuICAgIH1cblxuICAgIGNoYW5nZS5yZW1vdmVkID0gZ2V0QmV0d2Vlbihkb2MsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pO1xuXG4gICAgaWYgKCFzZWxBZnRlcikgc2VsQWZ0ZXIgPSBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpO1xuICAgIGlmIChkb2MuY20pIG1ha2VDaGFuZ2VTaW5nbGVEb2NJbkVkaXRvcihkb2MuY20sIGNoYW5nZSwgc3BhbnMpO1xuICAgIGVsc2UgdXBkYXRlRG9jKGRvYywgY2hhbmdlLCBzcGFucyk7XG4gICAgc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsQWZ0ZXIsIHNlbF9kb250U2Nyb2xsKTtcbiAgfVxuXG4gIC8vIEhhbmRsZSB0aGUgaW50ZXJhY3Rpb24gb2YgYSBjaGFuZ2UgdG8gYSBkb2N1bWVudCB3aXRoIHRoZSBlZGl0b3JcbiAgLy8gdGhhdCB0aGlzIGRvY3VtZW50IGlzIHBhcnQgb2YuXG4gIGZ1bmN0aW9uIG1ha2VDaGFuZ2VTaW5nbGVEb2NJbkVkaXRvcihjbSwgY2hhbmdlLCBzcGFucykge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBmcm9tID0gY2hhbmdlLmZyb20sIHRvID0gY2hhbmdlLnRvO1xuXG4gICAgdmFyIHJlY29tcHV0ZU1heExlbmd0aCA9IGZhbHNlLCBjaGVja1dpZHRoU3RhcnQgPSBmcm9tLmxpbmU7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykge1xuICAgICAgY2hlY2tXaWR0aFN0YXJ0ID0gbGluZU5vKHZpc3VhbExpbmUoZ2V0TGluZShkb2MsIGZyb20ubGluZSkpKTtcbiAgICAgIGRvYy5pdGVyKGNoZWNrV2lkdGhTdGFydCwgdG8ubGluZSArIDEsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgaWYgKGxpbmUgPT0gZGlzcGxheS5tYXhMaW5lKSB7XG4gICAgICAgICAgcmVjb21wdXRlTWF4TGVuZ3RoID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGRvYy5zZWwuY29udGFpbnMoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPiAtMSlcbiAgICAgIHNpZ25hbEN1cnNvckFjdGl2aXR5KGNtKTtcblxuICAgIHVwZGF0ZURvYyhkb2MsIGNoYW5nZSwgc3BhbnMsIGVzdGltYXRlSGVpZ2h0KGNtKSk7XG5cbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgICBkb2MuaXRlcihjaGVja1dpZHRoU3RhcnQsIGZyb20ubGluZSArIGNoYW5nZS50ZXh0Lmxlbmd0aCwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgbGVuID0gbGluZUxlbmd0aChsaW5lKTtcbiAgICAgICAgaWYgKGxlbiA+IGRpc3BsYXkubWF4TGluZUxlbmd0aCkge1xuICAgICAgICAgIGRpc3BsYXkubWF4TGluZSA9IGxpbmU7XG4gICAgICAgICAgZGlzcGxheS5tYXhMaW5lTGVuZ3RoID0gbGVuO1xuICAgICAgICAgIGRpc3BsYXkubWF4TGluZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIHJlY29tcHV0ZU1heExlbmd0aCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChyZWNvbXB1dGVNYXhMZW5ndGgpIGNtLmN1ck9wLnVwZGF0ZU1heExpbmUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIEFkanVzdCBmcm9udGllciwgc2NoZWR1bGUgd29ya2VyXG4gICAgZG9jLmZyb250aWVyID0gTWF0aC5taW4oZG9jLmZyb250aWVyLCBmcm9tLmxpbmUpO1xuICAgIHN0YXJ0V29ya2VyKGNtLCA0MDApO1xuXG4gICAgdmFyIGxlbmRpZmYgPSBjaGFuZ2UudGV4dC5sZW5ndGggLSAodG8ubGluZSAtIGZyb20ubGluZSkgLSAxO1xuICAgIC8vIFJlbWVtYmVyIHRoYXQgdGhlc2UgbGluZXMgY2hhbmdlZCwgZm9yIHVwZGF0aW5nIHRoZSBkaXNwbGF5XG4gICAgaWYgKGNoYW5nZS5mdWxsKVxuICAgICAgcmVnQ2hhbmdlKGNtKTtcbiAgICBlbHNlIGlmIChmcm9tLmxpbmUgPT0gdG8ubGluZSAmJiBjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSAmJiAhaXNXaG9sZUxpbmVVcGRhdGUoY20uZG9jLCBjaGFuZ2UpKVxuICAgICAgcmVnTGluZUNoYW5nZShjbSwgZnJvbS5saW5lLCBcInRleHRcIik7XG4gICAgZWxzZVxuICAgICAgcmVnQ2hhbmdlKGNtLCBmcm9tLmxpbmUsIHRvLmxpbmUgKyAxLCBsZW5kaWZmKTtcblxuICAgIHZhciBjaGFuZ2VzSGFuZGxlciA9IGhhc0hhbmRsZXIoY20sIFwiY2hhbmdlc1wiKSwgY2hhbmdlSGFuZGxlciA9IGhhc0hhbmRsZXIoY20sIFwiY2hhbmdlXCIpO1xuICAgIGlmIChjaGFuZ2VIYW5kbGVyIHx8IGNoYW5nZXNIYW5kbGVyKSB7XG4gICAgICB2YXIgb2JqID0ge1xuICAgICAgICBmcm9tOiBmcm9tLCB0bzogdG8sXG4gICAgICAgIHRleHQ6IGNoYW5nZS50ZXh0LFxuICAgICAgICByZW1vdmVkOiBjaGFuZ2UucmVtb3ZlZCxcbiAgICAgICAgb3JpZ2luOiBjaGFuZ2Uub3JpZ2luXG4gICAgICB9O1xuICAgICAgaWYgKGNoYW5nZUhhbmRsZXIpIHNpZ25hbExhdGVyKGNtLCBcImNoYW5nZVwiLCBjbSwgb2JqKTtcbiAgICAgIGlmIChjaGFuZ2VzSGFuZGxlcikgKGNtLmN1ck9wLmNoYW5nZU9ianMgfHwgKGNtLmN1ck9wLmNoYW5nZU9ianMgPSBbXSkpLnB1c2gob2JqKTtcbiAgICB9XG4gICAgY20uZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiByZXBsYWNlUmFuZ2UoZG9jLCBjb2RlLCBmcm9tLCB0bywgb3JpZ2luKSB7XG4gICAgaWYgKCF0bykgdG8gPSBmcm9tO1xuICAgIGlmIChjbXAodG8sIGZyb20pIDwgMCkgeyB2YXIgdG1wID0gdG87IHRvID0gZnJvbTsgZnJvbSA9IHRtcDsgfVxuICAgIGlmICh0eXBlb2YgY29kZSA9PSBcInN0cmluZ1wiKSBjb2RlID0gZG9jLnNwbGl0TGluZXMoY29kZSk7XG4gICAgbWFrZUNoYW5nZShkb2MsIHtmcm9tOiBmcm9tLCB0bzogdG8sIHRleHQ6IGNvZGUsIG9yaWdpbjogb3JpZ2lufSk7XG4gIH1cblxuICAvLyBTQ1JPTExJTkcgVEhJTkdTIElOVE8gVklFV1xuXG4gIC8vIElmIGFuIGVkaXRvciBzaXRzIG9uIHRoZSB0b3Agb3IgYm90dG9tIG9mIHRoZSB3aW5kb3csIHBhcnRpYWxseVxuICAvLyBzY3JvbGxlZCBvdXQgb2YgdmlldywgdGhpcyBlbnN1cmVzIHRoYXQgdGhlIGN1cnNvciBpcyB2aXNpYmxlLlxuICBmdW5jdGlvbiBtYXliZVNjcm9sbFdpbmRvdyhjbSwgY29vcmRzKSB7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBcInNjcm9sbEN1cnNvckludG9WaWV3XCIpKSByZXR1cm47XG5cbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGJveCA9IGRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGRvU2Nyb2xsID0gbnVsbDtcbiAgICBpZiAoY29vcmRzLnRvcCArIGJveC50b3AgPCAwKSBkb1Njcm9sbCA9IHRydWU7XG4gICAgZWxzZSBpZiAoY29vcmRzLmJvdHRvbSArIGJveC50b3AgPiAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpKSBkb1Njcm9sbCA9IGZhbHNlO1xuICAgIGlmIChkb1Njcm9sbCAhPSBudWxsICYmICFwaGFudG9tKSB7XG4gICAgICB2YXIgc2Nyb2xsTm9kZSA9IGVsdChcImRpdlwiLCBcIlxcdTIwMGJcIiwgbnVsbCwgXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvb3Jkcy50b3AgLSBkaXNwbGF5LnZpZXdPZmZzZXQgLSBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpKSArIFwicHg7IGhlaWdodDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvb3Jkcy5ib3R0b20gLSBjb29yZHMudG9wICsgc2Nyb2xsR2FwKGNtKSArIGRpc3BsYXkuYmFySGVpZ2h0KSArIFwicHg7IGxlZnQ6IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3Jkcy5sZWZ0ICsgXCJweDsgd2lkdGg6IDJweDtcIik7XG4gICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5hcHBlbmRDaGlsZChzY3JvbGxOb2RlKTtcbiAgICAgIHNjcm9sbE5vZGUuc2Nyb2xsSW50b1ZpZXcoZG9TY3JvbGwpO1xuICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoc2Nyb2xsTm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2Nyb2xsIGEgZ2l2ZW4gcG9zaXRpb24gaW50byB2aWV3IChpbW1lZGlhdGVseSksIHZlcmlmeWluZyB0aGF0XG4gIC8vIGl0IGFjdHVhbGx5IGJlY2FtZSB2aXNpYmxlIChhcyBsaW5lIGhlaWdodHMgYXJlIGFjY3VyYXRlbHlcbiAgLy8gbWVhc3VyZWQsIHRoZSBwb3NpdGlvbiBvZiBzb21ldGhpbmcgbWF5ICdkcmlmdCcgZHVyaW5nIGRyYXdpbmcpLlxuICBmdW5jdGlvbiBzY3JvbGxQb3NJbnRvVmlldyhjbSwgcG9zLCBlbmQsIG1hcmdpbikge1xuICAgIGlmIChtYXJnaW4gPT0gbnVsbCkgbWFyZ2luID0gMDtcbiAgICBmb3IgKHZhciBsaW1pdCA9IDA7IGxpbWl0IDwgNTsgbGltaXQrKykge1xuICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZSwgY29vcmRzID0gY3Vyc29yQ29vcmRzKGNtLCBwb3MpO1xuICAgICAgdmFyIGVuZENvb3JkcyA9ICFlbmQgfHwgZW5kID09IHBvcyA/IGNvb3JkcyA6IGN1cnNvckNvb3JkcyhjbSwgZW5kKTtcbiAgICAgIHZhciBzY3JvbGxQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIE1hdGgubWluKGNvb3Jkcy5sZWZ0LCBlbmRDb29yZHMubGVmdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGNvb3Jkcy50b3AsIGVuZENvb3Jkcy50b3ApIC0gbWFyZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChjb29yZHMubGVmdCwgZW5kQ29vcmRzLmxlZnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChjb29yZHMuYm90dG9tLCBlbmRDb29yZHMuYm90dG9tKSArIG1hcmdpbik7XG4gICAgICB2YXIgc3RhcnRUb3AgPSBjbS5kb2Muc2Nyb2xsVG9wLCBzdGFydExlZnQgPSBjbS5kb2Muc2Nyb2xsTGVmdDtcbiAgICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsVG9wICE9IG51bGwpIHtcbiAgICAgICAgc2V0U2Nyb2xsVG9wKGNtLCBzY3JvbGxQb3Muc2Nyb2xsVG9wKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxUb3AgLSBzdGFydFRvcCkgPiAxKSBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsTGVmdCAhPSBudWxsKSB7XG4gICAgICAgIHNldFNjcm9sbExlZnQoY20sIHNjcm9sbFBvcy5zY3JvbGxMZWZ0KTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxMZWZ0IC0gc3RhcnRMZWZ0KSA+IDEpIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFjaGFuZ2VkKSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGNvb3JkcztcbiAgfVxuXG4gIC8vIFNjcm9sbCBhIGdpdmVuIHNldCBvZiBjb29yZGluYXRlcyBpbnRvIHZpZXcgKGltbWVkaWF0ZWx5KS5cbiAgZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoY20sIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgdmFyIHNjcm9sbFBvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgeDEsIHkxLCB4MiwgeTIpO1xuICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsVG9wICE9IG51bGwpIHNldFNjcm9sbFRvcChjbSwgc2Nyb2xsUG9zLnNjcm9sbFRvcCk7XG4gICAgaWYgKHNjcm9sbFBvcy5zY3JvbGxMZWZ0ICE9IG51bGwpIHNldFNjcm9sbExlZnQoY20sIHNjcm9sbFBvcy5zY3JvbGxMZWZ0KTtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBhIG5ldyBzY3JvbGwgcG9zaXRpb24gbmVlZGVkIHRvIHNjcm9sbCB0aGUgZ2l2ZW5cbiAgLy8gcmVjdGFuZ2xlIGludG8gdmlldy4gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBzY3JvbGxUb3AgYW5kXG4gIC8vIHNjcm9sbExlZnQgcHJvcGVydGllcy4gV2hlbiB0aGVzZSBhcmUgdW5kZWZpbmVkLCB0aGVcbiAgLy8gdmVydGljYWwvaG9yaXpvbnRhbCBwb3NpdGlvbiBkb2VzIG5vdCBuZWVkIHRvIGJlIGFkanVzdGVkLlxuICBmdW5jdGlvbiBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzbmFwTWFyZ2luID0gdGV4dEhlaWdodChjbS5kaXNwbGF5KTtcbiAgICBpZiAoeTEgPCAwKSB5MSA9IDA7XG4gICAgdmFyIHNjcmVlbnRvcCA9IGNtLmN1ck9wICYmIGNtLmN1ck9wLnNjcm9sbFRvcCAhPSBudWxsID8gY20uY3VyT3Auc2Nyb2xsVG9wIDogZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgdmFyIHNjcmVlbiA9IGRpc3BsYXlIZWlnaHQoY20pLCByZXN1bHQgPSB7fTtcbiAgICBpZiAoeTIgLSB5MSA+IHNjcmVlbikgeTIgPSB5MSArIHNjcmVlbjtcbiAgICB2YXIgZG9jQm90dG9tID0gY20uZG9jLmhlaWdodCArIHBhZGRpbmdWZXJ0KGRpc3BsYXkpO1xuICAgIHZhciBhdFRvcCA9IHkxIDwgc25hcE1hcmdpbiwgYXRCb3R0b20gPSB5MiA+IGRvY0JvdHRvbSAtIHNuYXBNYXJnaW47XG4gICAgaWYgKHkxIDwgc2NyZWVudG9wKSB7XG4gICAgICByZXN1bHQuc2Nyb2xsVG9wID0gYXRUb3AgPyAwIDogeTE7XG4gICAgfSBlbHNlIGlmICh5MiA+IHNjcmVlbnRvcCArIHNjcmVlbikge1xuICAgICAgdmFyIG5ld1RvcCA9IE1hdGgubWluKHkxLCAoYXRCb3R0b20gPyBkb2NCb3R0b20gOiB5MikgLSBzY3JlZW4pO1xuICAgICAgaWYgKG5ld1RvcCAhPSBzY3JlZW50b3ApIHJlc3VsdC5zY3JvbGxUb3AgPSBuZXdUb3A7XG4gICAgfVxuXG4gICAgdmFyIHNjcmVlbmxlZnQgPSBjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxMZWZ0ICE9IG51bGwgPyBjbS5jdXJPcC5zY3JvbGxMZWZ0IDogZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0O1xuICAgIHZhciBzY3JlZW53ID0gZGlzcGxheVdpZHRoKGNtKSAtIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoIDogMCk7XG4gICAgdmFyIHRvb1dpZGUgPSB4MiAtIHgxID4gc2NyZWVudztcbiAgICBpZiAodG9vV2lkZSkgeDIgPSB4MSArIHNjcmVlbnc7XG4gICAgaWYgKHgxIDwgMTApXG4gICAgICByZXN1bHQuc2Nyb2xsTGVmdCA9IDA7XG4gICAgZWxzZSBpZiAoeDEgPCBzY3JlZW5sZWZ0KVxuICAgICAgcmVzdWx0LnNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCB4MSAtICh0b29XaWRlID8gMCA6IDEwKSk7XG4gICAgZWxzZSBpZiAoeDIgPiBzY3JlZW53ICsgc2NyZWVubGVmdCAtIDMpXG4gICAgICByZXN1bHQuc2Nyb2xsTGVmdCA9IHgyICsgKHRvb1dpZGUgPyAwIDogMTApIC0gc2NyZWVudztcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gU3RvcmUgYSByZWxhdGl2ZSBhZGp1c3RtZW50IHRvIHRoZSBzY3JvbGwgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnRcbiAgLy8gb3BlcmF0aW9uICh0byBiZSBhcHBsaWVkIHdoZW4gdGhlIG9wZXJhdGlvbiBmaW5pc2hlcykuXG4gIGZ1bmN0aW9uIGFkZFRvU2Nyb2xsUG9zKGNtLCBsZWZ0LCB0b3ApIHtcbiAgICBpZiAobGVmdCAhPSBudWxsIHx8IHRvcCAhPSBudWxsKSByZXNvbHZlU2Nyb2xsVG9Qb3MoY20pO1xuICAgIGlmIChsZWZ0ICE9IG51bGwpXG4gICAgICBjbS5jdXJPcC5zY3JvbGxMZWZ0ID0gKGNtLmN1ck9wLnNjcm9sbExlZnQgPT0gbnVsbCA/IGNtLmRvYy5zY3JvbGxMZWZ0IDogY20uY3VyT3Auc2Nyb2xsTGVmdCkgKyBsZWZ0O1xuICAgIGlmICh0b3AgIT0gbnVsbClcbiAgICAgIGNtLmN1ck9wLnNjcm9sbFRvcCA9IChjbS5jdXJPcC5zY3JvbGxUb3AgPT0gbnVsbCA/IGNtLmRvYy5zY3JvbGxUb3AgOiBjbS5jdXJPcC5zY3JvbGxUb3ApICsgdG9wO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIHRoYXQgYXQgdGhlIGVuZCBvZiB0aGUgb3BlcmF0aW9uIHRoZSBjdXJyZW50IGN1cnNvciBpc1xuICAvLyBzaG93bi5cbiAgZnVuY3Rpb24gZW5zdXJlQ3Vyc29yVmlzaWJsZShjbSkge1xuICAgIHJlc29sdmVTY3JvbGxUb1BvcyhjbSk7XG4gICAgdmFyIGN1ciA9IGNtLmdldEN1cnNvcigpLCBmcm9tID0gY3VyLCB0byA9IGN1cjtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgICBmcm9tID0gY3VyLmNoID8gUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAxKSA6IGN1cjtcbiAgICAgIHRvID0gUG9zKGN1ci5saW5lLCBjdXIuY2ggKyAxKTtcbiAgICB9XG4gICAgY20uY3VyT3Auc2Nyb2xsVG9Qb3MgPSB7ZnJvbTogZnJvbSwgdG86IHRvLCBtYXJnaW46IGNtLm9wdGlvbnMuY3Vyc29yU2Nyb2xsTWFyZ2luLCBpc0N1cnNvcjogdHJ1ZX07XG4gIH1cblxuICAvLyBXaGVuIGFuIG9wZXJhdGlvbiBoYXMgaXRzIHNjcm9sbFRvUG9zIHByb3BlcnR5IHNldCwgYW5kIGFub3RoZXJcbiAgLy8gc2Nyb2xsIGFjdGlvbiBpcyBhcHBsaWVkIGJlZm9yZSB0aGUgZW5kIG9mIHRoZSBvcGVyYXRpb24sIHRoaXNcbiAgLy8gJ3NpbXVsYXRlcycgc2Nyb2xsaW5nIHRoYXQgcG9zaXRpb24gaW50byB2aWV3IGluIGEgY2hlYXAgd2F5LCBzb1xuICAvLyB0aGF0IHRoZSBlZmZlY3Qgb2YgaW50ZXJtZWRpYXRlIHNjcm9sbCBjb21tYW5kcyBpcyBub3QgaWdub3JlZC5cbiAgZnVuY3Rpb24gcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKSB7XG4gICAgdmFyIHJhbmdlID0gY20uY3VyT3Auc2Nyb2xsVG9Qb3M7XG4gICAgaWYgKHJhbmdlKSB7XG4gICAgICBjbS5jdXJPcC5zY3JvbGxUb1BvcyA9IG51bGw7XG4gICAgICB2YXIgZnJvbSA9IGVzdGltYXRlQ29vcmRzKGNtLCByYW5nZS5mcm9tKSwgdG8gPSBlc3RpbWF0ZUNvb3JkcyhjbSwgcmFuZ2UudG8pO1xuICAgICAgdmFyIHNQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIE1hdGgubWluKGZyb20ubGVmdCwgdG8ubGVmdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihmcm9tLnRvcCwgdG8udG9wKSAtIHJhbmdlLm1hcmdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KGZyb20ucmlnaHQsIHRvLnJpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KGZyb20uYm90dG9tLCB0by5ib3R0b20pICsgcmFuZ2UubWFyZ2luKTtcbiAgICAgIGNtLnNjcm9sbFRvKHNQb3Muc2Nyb2xsTGVmdCwgc1Bvcy5zY3JvbGxUb3ApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFQSSBVVElMSVRJRVNcblxuICAvLyBJbmRlbnQgdGhlIGdpdmVuIGxpbmUuIFRoZSBob3cgcGFyYW1ldGVyIGNhbiBiZSBcInNtYXJ0XCIsXG4gIC8vIFwiYWRkXCIvbnVsbCwgXCJzdWJ0cmFjdFwiLCBvciBcInByZXZcIi4gV2hlbiBhZ2dyZXNzaXZlIGlzIGZhbHNlXG4gIC8vICh0eXBpY2FsbHkgc2V0IHRvIHRydWUgZm9yIGZvcmNlZCBzaW5nbGUtbGluZSBpbmRlbnRzKSwgZW1wdHlcbiAgLy8gbGluZXMgYXJlIG5vdCBpbmRlbnRlZCwgYW5kIHBsYWNlcyB3aGVyZSB0aGUgbW9kZSByZXR1cm5zIFBhc3NcbiAgLy8gYXJlIGxlZnQgYWxvbmUuXG4gIGZ1bmN0aW9uIGluZGVudExpbmUoY20sIG4sIGhvdywgYWdncmVzc2l2ZSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIHN0YXRlO1xuICAgIGlmIChob3cgPT0gbnVsbCkgaG93ID0gXCJhZGRcIjtcbiAgICBpZiAoaG93ID09IFwic21hcnRcIikge1xuICAgICAgLy8gRmFsbCBiYWNrIHRvIFwicHJldlwiIHdoZW4gdGhlIG1vZGUgZG9lc24ndCBoYXZlIGFuIGluZGVudGF0aW9uXG4gICAgICAvLyBtZXRob2QuXG4gICAgICBpZiAoIWRvYy5tb2RlLmluZGVudCkgaG93ID0gXCJwcmV2XCI7XG4gICAgICBlbHNlIHN0YXRlID0gZ2V0U3RhdGVCZWZvcmUoY20sIG4pO1xuICAgIH1cblxuICAgIHZhciB0YWJTaXplID0gY20ub3B0aW9ucy50YWJTaXplO1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIG4pLCBjdXJTcGFjZSA9IGNvdW50Q29sdW1uKGxpbmUudGV4dCwgbnVsbCwgdGFiU2l6ZSk7XG4gICAgaWYgKGxpbmUuc3RhdGVBZnRlcikgbGluZS5zdGF0ZUFmdGVyID0gbnVsbDtcbiAgICB2YXIgY3VyU3BhY2VTdHJpbmcgPSBsaW5lLnRleHQubWF0Y2goL15cXHMqLylbMF0sIGluZGVudGF0aW9uO1xuICAgIGlmICghYWdncmVzc2l2ZSAmJiAhL1xcUy8udGVzdChsaW5lLnRleHQpKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IDA7XG4gICAgICBob3cgPSBcIm5vdFwiO1xuICAgIH0gZWxzZSBpZiAoaG93ID09IFwic21hcnRcIikge1xuICAgICAgaW5kZW50YXRpb24gPSBkb2MubW9kZS5pbmRlbnQoc3RhdGUsIGxpbmUudGV4dC5zbGljZShjdXJTcGFjZVN0cmluZy5sZW5ndGgpLCBsaW5lLnRleHQpO1xuICAgICAgaWYgKGluZGVudGF0aW9uID09IFBhc3MgfHwgaW5kZW50YXRpb24gPiAxNTApIHtcbiAgICAgICAgaWYgKCFhZ2dyZXNzaXZlKSByZXR1cm47XG4gICAgICAgIGhvdyA9IFwicHJldlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaG93ID09IFwicHJldlwiKSB7XG4gICAgICBpZiAobiA+IGRvYy5maXJzdCkgaW5kZW50YXRpb24gPSBjb3VudENvbHVtbihnZXRMaW5lKGRvYywgbi0xKS50ZXh0LCBudWxsLCB0YWJTaXplKTtcbiAgICAgIGVsc2UgaW5kZW50YXRpb24gPSAwO1xuICAgIH0gZWxzZSBpZiAoaG93ID09IFwiYWRkXCIpIHtcbiAgICAgIGluZGVudGF0aW9uID0gY3VyU3BhY2UgKyBjbS5vcHRpb25zLmluZGVudFVuaXQ7XG4gICAgfSBlbHNlIGlmIChob3cgPT0gXCJzdWJ0cmFjdFwiKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlIC0gY20ub3B0aW9ucy5pbmRlbnRVbml0O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGhvdyA9PSBcIm51bWJlclwiKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlICsgaG93O1xuICAgIH1cbiAgICBpbmRlbnRhdGlvbiA9IE1hdGgubWF4KDAsIGluZGVudGF0aW9uKTtcblxuICAgIHZhciBpbmRlbnRTdHJpbmcgPSBcIlwiLCBwb3MgPSAwO1xuICAgIGlmIChjbS5vcHRpb25zLmluZGVudFdpdGhUYWJzKVxuICAgICAgZm9yICh2YXIgaSA9IE1hdGguZmxvb3IoaW5kZW50YXRpb24gLyB0YWJTaXplKTsgaTsgLS1pKSB7cG9zICs9IHRhYlNpemU7IGluZGVudFN0cmluZyArPSBcIlxcdFwiO31cbiAgICBpZiAocG9zIDwgaW5kZW50YXRpb24pIGluZGVudFN0cmluZyArPSBzcGFjZVN0cihpbmRlbnRhdGlvbiAtIHBvcyk7XG5cbiAgICBpZiAoaW5kZW50U3RyaW5nICE9IGN1clNwYWNlU3RyaW5nKSB7XG4gICAgICByZXBsYWNlUmFuZ2UoZG9jLCBpbmRlbnRTdHJpbmcsIFBvcyhuLCAwKSwgUG9zKG4sIGN1clNwYWNlU3RyaW5nLmxlbmd0aCksIFwiK2lucHV0XCIpO1xuICAgICAgbGluZS5zdGF0ZUFmdGVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFbnN1cmUgdGhhdCwgaWYgdGhlIGN1cnNvciB3YXMgaW4gdGhlIHdoaXRlc3BhY2UgYXQgdGhlIHN0YXJ0XG4gICAgICAvLyBvZiB0aGUgbGluZSwgaXQgaXMgbW92ZWQgdG8gdGhlIGVuZCBvZiB0aGF0IHNwYWNlLlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnJhbmdlc1tpXTtcbiAgICAgICAgaWYgKHJhbmdlLmhlYWQubGluZSA9PSBuICYmIHJhbmdlLmhlYWQuY2ggPCBjdXJTcGFjZVN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcG9zID0gUG9zKG4sIGN1clNwYWNlU3RyaW5nLmxlbmd0aCk7XG4gICAgICAgICAgcmVwbGFjZU9uZVNlbGVjdGlvbihkb2MsIGksIG5ldyBSYW5nZShwb3MsIHBvcykpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVXRpbGl0eSBmb3IgYXBwbHlpbmcgYSBjaGFuZ2UgdG8gYSBsaW5lIGJ5IGhhbmRsZSBvciBudW1iZXIsXG4gIC8vIHJldHVybmluZyB0aGUgbnVtYmVyIGFuZCBvcHRpb25hbGx5IHJlZ2lzdGVyaW5nIHRoZSBsaW5lIGFzXG4gIC8vIGNoYW5nZWQuXG4gIGZ1bmN0aW9uIGNoYW5nZUxpbmUoZG9jLCBoYW5kbGUsIGNoYW5nZVR5cGUsIG9wKSB7XG4gICAgdmFyIG5vID0gaGFuZGxlLCBsaW5lID0gaGFuZGxlO1xuICAgIGlmICh0eXBlb2YgaGFuZGxlID09IFwibnVtYmVyXCIpIGxpbmUgPSBnZXRMaW5lKGRvYywgY2xpcExpbmUoZG9jLCBoYW5kbGUpKTtcbiAgICBlbHNlIG5vID0gbGluZU5vKGhhbmRsZSk7XG4gICAgaWYgKG5vID09IG51bGwpIHJldHVybiBudWxsO1xuICAgIGlmIChvcChsaW5lLCBubykgJiYgZG9jLmNtKSByZWdMaW5lQ2hhbmdlKGRvYy5jbSwgbm8sIGNoYW5nZVR5cGUpO1xuICAgIHJldHVybiBsaW5lO1xuICB9XG5cbiAgLy8gSGVscGVyIGZvciBkZWxldGluZyB0ZXh0IG5lYXIgdGhlIHNlbGVjdGlvbihzKSwgdXNlZCB0byBpbXBsZW1lbnRcbiAgLy8gYmFja3NwYWNlLCBkZWxldGUsIGFuZCBzaW1pbGFyIGZ1bmN0aW9uYWxpdHkuXG4gIGZ1bmN0aW9uIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGNvbXB1dGUpIHtcbiAgICB2YXIgcmFuZ2VzID0gY20uZG9jLnNlbC5yYW5nZXMsIGtpbGwgPSBbXTtcbiAgICAvLyBCdWlsZCB1cCBhIHNldCBvZiByYW5nZXMgdG8ga2lsbCBmaXJzdCwgbWVyZ2luZyBvdmVybGFwcGluZ1xuICAgIC8vIHJhbmdlcy5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRvS2lsbCA9IGNvbXB1dGUocmFuZ2VzW2ldKTtcbiAgICAgIHdoaWxlIChraWxsLmxlbmd0aCAmJiBjbXAodG9LaWxsLmZyb20sIGxzdChraWxsKS50bykgPD0gMCkge1xuICAgICAgICB2YXIgcmVwbGFjZWQgPSBraWxsLnBvcCgpO1xuICAgICAgICBpZiAoY21wKHJlcGxhY2VkLmZyb20sIHRvS2lsbC5mcm9tKSA8IDApIHtcbiAgICAgICAgICB0b0tpbGwuZnJvbSA9IHJlcGxhY2VkLmZyb207XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGtpbGwucHVzaCh0b0tpbGwpO1xuICAgIH1cbiAgICAvLyBOZXh0LCByZW1vdmUgdGhvc2UgYWN0dWFsIHJhbmdlcy5cbiAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIGkgPSBraWxsLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICByZXBsYWNlUmFuZ2UoY20uZG9jLCBcIlwiLCBraWxsW2ldLmZyb20sIGtpbGxbaV0udG8sIFwiK2RlbGV0ZVwiKTtcbiAgICAgIGVuc3VyZUN1cnNvclZpc2libGUoY20pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVXNlZCBmb3IgaG9yaXpvbnRhbCByZWxhdGl2ZSBtb3Rpb24uIERpciBpcyAtMSBvciAxIChsZWZ0IG9yXG4gIC8vIHJpZ2h0KSwgdW5pdCBjYW4gYmUgXCJjaGFyXCIsIFwiY29sdW1uXCIgKGxpa2UgY2hhciwgYnV0IGRvZXNuJ3RcbiAgLy8gY3Jvc3MgbGluZSBib3VuZGFyaWVzKSwgXCJ3b3JkXCIgKGFjcm9zcyBuZXh0IHdvcmQpLCBvciBcImdyb3VwXCIgKHRvXG4gIC8vIHRoZSBzdGFydCBvZiBuZXh0IGdyb3VwIG9mIHdvcmQgb3Igbm9uLXdvcmQtbm9uLXdoaXRlc3BhY2VcbiAgLy8gY2hhcnMpLiBUaGUgdmlzdWFsbHkgcGFyYW0gY29udHJvbHMgd2hldGhlciwgaW4gcmlnaHQtdG8tbGVmdFxuICAvLyB0ZXh0LCBkaXJlY3Rpb24gMSBtZWFucyB0byBtb3ZlIHRvd2FyZHMgdGhlIG5leHQgaW5kZXggaW4gdGhlXG4gIC8vIHN0cmluZywgb3IgdG93YXJkcyB0aGUgY2hhcmFjdGVyIHRvIHRoZSByaWdodCBvZiB0aGUgY3VycmVudFxuICAvLyBwb3NpdGlvbi4gVGhlIHJlc3VsdGluZyBwb3NpdGlvbiB3aWxsIGhhdmUgYSBoaXRTaWRlPXRydWVcbiAgLy8gcHJvcGVydHkgaWYgaXQgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudC5cbiAgZnVuY3Rpb24gZmluZFBvc0goZG9jLCBwb3MsIGRpciwgdW5pdCwgdmlzdWFsbHkpIHtcbiAgICB2YXIgbGluZSA9IHBvcy5saW5lLCBjaCA9IHBvcy5jaCwgb3JpZ0RpciA9IGRpcjtcbiAgICB2YXIgbGluZU9iaiA9IGdldExpbmUoZG9jLCBsaW5lKTtcbiAgICBmdW5jdGlvbiBmaW5kTmV4dExpbmUoKSB7XG4gICAgICB2YXIgbCA9IGxpbmUgKyBkaXI7XG4gICAgICBpZiAobCA8IGRvYy5maXJzdCB8fCBsID49IGRvYy5maXJzdCArIGRvYy5zaXplKSByZXR1cm4gZmFsc2VcbiAgICAgIGxpbmUgPSBsO1xuICAgICAgcmV0dXJuIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdmVPbmNlKGJvdW5kVG9MaW5lKSB7XG4gICAgICB2YXIgbmV4dCA9ICh2aXN1YWxseSA/IG1vdmVWaXN1YWxseSA6IG1vdmVMb2dpY2FsbHkpKGxpbmVPYmosIGNoLCBkaXIsIHRydWUpO1xuICAgICAgaWYgKG5leHQgPT0gbnVsbCkge1xuICAgICAgICBpZiAoIWJvdW5kVG9MaW5lICYmIGZpbmROZXh0TGluZSgpKSB7XG4gICAgICAgICAgaWYgKHZpc3VhbGx5KSBjaCA9IChkaXIgPCAwID8gbGluZVJpZ2h0IDogbGluZUxlZnQpKGxpbmVPYmopO1xuICAgICAgICAgIGVsc2UgY2ggPSBkaXIgPCAwID8gbGluZU9iai50ZXh0Lmxlbmd0aCA6IDA7XG4gICAgICAgIH0gZWxzZSByZXR1cm4gZmFsc2VcbiAgICAgIH0gZWxzZSBjaCA9IG5leHQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodW5pdCA9PSBcImNoYXJcIikge1xuICAgICAgbW92ZU9uY2UoKVxuICAgIH0gZWxzZSBpZiAodW5pdCA9PSBcImNvbHVtblwiKSB7XG4gICAgICBtb3ZlT25jZSh0cnVlKVxuICAgIH0gZWxzZSBpZiAodW5pdCA9PSBcIndvcmRcIiB8fCB1bml0ID09IFwiZ3JvdXBcIikge1xuICAgICAgdmFyIHNhd1R5cGUgPSBudWxsLCBncm91cCA9IHVuaXQgPT0gXCJncm91cFwiO1xuICAgICAgdmFyIGhlbHBlciA9IGRvYy5jbSAmJiBkb2MuY20uZ2V0SGVscGVyKHBvcywgXCJ3b3JkQ2hhcnNcIik7XG4gICAgICBmb3IgKHZhciBmaXJzdCA9IHRydWU7OyBmaXJzdCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChkaXIgPCAwICYmICFtb3ZlT25jZSghZmlyc3QpKSBicmVhaztcbiAgICAgICAgdmFyIGN1ciA9IGxpbmVPYmoudGV4dC5jaGFyQXQoY2gpIHx8IFwiXFxuXCI7XG4gICAgICAgIHZhciB0eXBlID0gaXNXb3JkQ2hhcihjdXIsIGhlbHBlcikgPyBcIndcIlxuICAgICAgICAgIDogZ3JvdXAgJiYgY3VyID09IFwiXFxuXCIgPyBcIm5cIlxuICAgICAgICAgIDogIWdyb3VwIHx8IC9cXHMvLnRlc3QoY3VyKSA/IG51bGxcbiAgICAgICAgICA6IFwicFwiO1xuICAgICAgICBpZiAoZ3JvdXAgJiYgIWZpcnN0ICYmICF0eXBlKSB0eXBlID0gXCJzXCI7XG4gICAgICAgIGlmIChzYXdUeXBlICYmIHNhd1R5cGUgIT0gdHlwZSkge1xuICAgICAgICAgIGlmIChkaXIgPCAwKSB7ZGlyID0gMTsgbW92ZU9uY2UoKTt9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSkgc2F3VHlwZSA9IHR5cGU7XG4gICAgICAgIGlmIChkaXIgPiAwICYmICFtb3ZlT25jZSghZmlyc3QpKSBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IHNraXBBdG9taWMoZG9jLCBQb3MobGluZSwgY2gpLCBwb3MsIG9yaWdEaXIsIHRydWUpO1xuICAgIGlmICghY21wKHBvcywgcmVzdWx0KSkgcmVzdWx0LmhpdFNpZGUgPSB0cnVlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBGb3IgcmVsYXRpdmUgdmVydGljYWwgbW92ZW1lbnQuIERpciBtYXkgYmUgLTEgb3IgMS4gVW5pdCBjYW4gYmVcbiAgLy8gXCJwYWdlXCIgb3IgXCJsaW5lXCIuIFRoZSByZXN1bHRpbmcgcG9zaXRpb24gd2lsbCBoYXZlIGEgaGl0U2lkZT10cnVlXG4gIC8vIHByb3BlcnR5IGlmIGl0IHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4gIGZ1bmN0aW9uIGZpbmRQb3NWKGNtLCBwb3MsIGRpciwgdW5pdCkge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIHggPSBwb3MubGVmdCwgeTtcbiAgICBpZiAodW5pdCA9PSBcInBhZ2VcIikge1xuICAgICAgdmFyIHBhZ2VTaXplID0gTWF0aC5taW4oY20uZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpO1xuICAgICAgeSA9IHBvcy50b3AgKyBkaXIgKiAocGFnZVNpemUgLSAoZGlyIDwgMCA/IDEuNSA6IC41KSAqIHRleHRIZWlnaHQoY20uZGlzcGxheSkpO1xuICAgIH0gZWxzZSBpZiAodW5pdCA9PSBcImxpbmVcIikge1xuICAgICAgeSA9IGRpciA+IDAgPyBwb3MuYm90dG9tICsgMyA6IHBvcy50b3AgLSAzO1xuICAgIH1cbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gY29vcmRzQ2hhcihjbSwgeCwgeSk7XG4gICAgICBpZiAoIXRhcmdldC5vdXRzaWRlKSBicmVhaztcbiAgICAgIGlmIChkaXIgPCAwID8geSA8PSAwIDogeSA+PSBkb2MuaGVpZ2h0KSB7IHRhcmdldC5oaXRTaWRlID0gdHJ1ZTsgYnJlYWs7IH1cbiAgICAgIHkgKz0gZGlyICogNTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIC8vIEVESVRPUiBNRVRIT0RTXG5cbiAgLy8gVGhlIHB1YmxpY2x5IHZpc2libGUgQVBJLiBOb3RlIHRoYXQgbWV0aG9kT3AoZikgbWVhbnNcbiAgLy8gJ3dyYXAgZiBpbiBhbiBvcGVyYXRpb24sIHBlcmZvcm1lZCBvbiBpdHMgYHRoaXNgIHBhcmFtZXRlcicuXG5cbiAgLy8gVGhpcyBpcyBub3QgdGhlIGNvbXBsZXRlIHNldCBvZiBlZGl0b3IgbWV0aG9kcy4gTW9zdCBvZiB0aGVcbiAgLy8gbWV0aG9kcyBkZWZpbmVkIG9uIHRoZSBEb2MgdHlwZSBhcmUgYWxzbyBpbmplY3RlZCBpbnRvXG4gIC8vIENvZGVNaXJyb3IucHJvdG90eXBlLCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgYW5kXG4gIC8vIGNvbnZlbmllbmNlLlxuXG4gIENvZGVNaXJyb3IucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb2RlTWlycm9yLFxuICAgIGZvY3VzOiBmdW5jdGlvbigpe3dpbmRvdy5mb2N1cygpOyB0aGlzLmRpc3BsYXkuaW5wdXQuZm9jdXMoKTt9LFxuXG4gICAgc2V0T3B0aW9uOiBmdW5jdGlvbihvcHRpb24sIHZhbHVlKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucywgb2xkID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgaWYgKG9wdGlvbnNbb3B0aW9uXSA9PSB2YWx1ZSAmJiBvcHRpb24gIT0gXCJtb2RlXCIpIHJldHVybjtcbiAgICAgIG9wdGlvbnNbb3B0aW9uXSA9IHZhbHVlO1xuICAgICAgaWYgKG9wdGlvbkhhbmRsZXJzLmhhc093blByb3BlcnR5KG9wdGlvbikpXG4gICAgICAgIG9wZXJhdGlvbih0aGlzLCBvcHRpb25IYW5kbGVyc1tvcHRpb25dKSh0aGlzLCB2YWx1ZSwgb2xkKTtcbiAgICB9LFxuXG4gICAgZ2V0T3B0aW9uOiBmdW5jdGlvbihvcHRpb24pIHtyZXR1cm4gdGhpcy5vcHRpb25zW29wdGlvbl07fSxcbiAgICBnZXREb2M6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmRvYzt9LFxuXG4gICAgYWRkS2V5TWFwOiBmdW5jdGlvbihtYXAsIGJvdHRvbSkge1xuICAgICAgdGhpcy5zdGF0ZS5rZXlNYXBzW2JvdHRvbSA/IFwicHVzaFwiIDogXCJ1bnNoaWZ0XCJdKGdldEtleU1hcChtYXApKTtcbiAgICB9LFxuICAgIHJlbW92ZUtleU1hcDogZnVuY3Rpb24obWFwKSB7XG4gICAgICB2YXIgbWFwcyA9IHRoaXMuc3RhdGUua2V5TWFwcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwcy5sZW5ndGg7ICsraSlcbiAgICAgICAgaWYgKG1hcHNbaV0gPT0gbWFwIHx8IG1hcHNbaV0ubmFtZSA9PSBtYXApIHtcbiAgICAgICAgICBtYXBzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGRPdmVybGF5OiBtZXRob2RPcChmdW5jdGlvbihzcGVjLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbW9kZSA9IHNwZWMudG9rZW4gPyBzcGVjIDogQ29kZU1pcnJvci5nZXRNb2RlKHRoaXMub3B0aW9ucywgc3BlYyk7XG4gICAgICBpZiAobW9kZS5zdGFydFN0YXRlKSB0aHJvdyBuZXcgRXJyb3IoXCJPdmVybGF5cyBtYXkgbm90IGJlIHN0YXRlZnVsLlwiKTtcbiAgICAgIHRoaXMuc3RhdGUub3ZlcmxheXMucHVzaCh7bW9kZTogbW9kZSwgbW9kZVNwZWM6IHNwZWMsIG9wYXF1ZTogb3B0aW9ucyAmJiBvcHRpb25zLm9wYXF1ZX0pO1xuICAgICAgdGhpcy5zdGF0ZS5tb2RlR2VuKys7XG4gICAgICByZWdDaGFuZ2UodGhpcyk7XG4gICAgfSksXG4gICAgcmVtb3ZlT3ZlcmxheTogbWV0aG9kT3AoZnVuY3Rpb24oc3BlYykge1xuICAgICAgdmFyIG92ZXJsYXlzID0gdGhpcy5zdGF0ZS5vdmVybGF5cztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3ZlcmxheXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGN1ciA9IG92ZXJsYXlzW2ldLm1vZGVTcGVjO1xuICAgICAgICBpZiAoY3VyID09IHNwZWMgfHwgdHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIiAmJiBjdXIubmFtZSA9PSBzcGVjKSB7XG4gICAgICAgICAgb3ZlcmxheXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHRoaXMuc3RhdGUubW9kZUdlbisrO1xuICAgICAgICAgIHJlZ0NoYW5nZSh0aGlzKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcblxuICAgIGluZGVudExpbmU6IG1ldGhvZE9wKGZ1bmN0aW9uKG4sIGRpciwgYWdncmVzc2l2ZSkge1xuICAgICAgaWYgKHR5cGVvZiBkaXIgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZGlyICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKGRpciA9PSBudWxsKSBkaXIgPSB0aGlzLm9wdGlvbnMuc21hcnRJbmRlbnQgPyBcInNtYXJ0XCIgOiBcInByZXZcIjtcbiAgICAgICAgZWxzZSBkaXIgPSBkaXIgPyBcImFkZFwiIDogXCJzdWJ0cmFjdFwiO1xuICAgICAgfVxuICAgICAgaWYgKGlzTGluZSh0aGlzLmRvYywgbikpIGluZGVudExpbmUodGhpcywgbiwgZGlyLCBhZ2dyZXNzaXZlKTtcbiAgICB9KSxcbiAgICBpbmRlbnRTZWxlY3Rpb246IG1ldGhvZE9wKGZ1bmN0aW9uKGhvdykge1xuICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuZG9jLnNlbC5yYW5nZXMsIGVuZCA9IC0xO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5KCkpIHtcbiAgICAgICAgICB2YXIgZnJvbSA9IHJhbmdlLmZyb20oKSwgdG8gPSByYW5nZS50bygpO1xuICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWF4KGVuZCwgZnJvbS5saW5lKTtcbiAgICAgICAgICBlbmQgPSBNYXRoLm1pbih0aGlzLmxhc3RMaW5lKCksIHRvLmxpbmUgLSAodG8uY2ggPyAwIDogMSkpICsgMTtcbiAgICAgICAgICBmb3IgKHZhciBqID0gc3RhcnQ7IGogPCBlbmQ7ICsrailcbiAgICAgICAgICAgIGluZGVudExpbmUodGhpcywgaiwgaG93KTtcbiAgICAgICAgICB2YXIgbmV3UmFuZ2VzID0gdGhpcy5kb2Muc2VsLnJhbmdlcztcbiAgICAgICAgICBpZiAoZnJvbS5jaCA9PSAwICYmIHJhbmdlcy5sZW5ndGggPT0gbmV3UmFuZ2VzLmxlbmd0aCAmJiBuZXdSYW5nZXNbaV0uZnJvbSgpLmNoID4gMClcbiAgICAgICAgICAgIHJlcGxhY2VPbmVTZWxlY3Rpb24odGhpcy5kb2MsIGksIG5ldyBSYW5nZShmcm9tLCBuZXdSYW5nZXNbaV0udG8oKSksIHNlbF9kb250U2Nyb2xsKTtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5oZWFkLmxpbmUgPiBlbmQpIHtcbiAgICAgICAgICBpbmRlbnRMaW5lKHRoaXMsIHJhbmdlLmhlYWQubGluZSwgaG93LCB0cnVlKTtcbiAgICAgICAgICBlbmQgPSByYW5nZS5oZWFkLmxpbmU7XG4gICAgICAgICAgaWYgKGkgPT0gdGhpcy5kb2Muc2VsLnByaW1JbmRleCkgZW5zdXJlQ3Vyc29yVmlzaWJsZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuXG4gICAgLy8gRmV0Y2ggdGhlIHBhcnNlciB0b2tlbiBmb3IgYSBnaXZlbiBjaGFyYWN0ZXIuIFVzZWZ1bCBmb3IgaGFja3NcbiAgICAvLyB0aGF0IHdhbnQgdG8gaW5zcGVjdCB0aGUgbW9kZSBzdGF0ZSAoc2F5LCBmb3IgY29tcGxldGlvbikuXG4gICAgZ2V0VG9rZW5BdDogZnVuY3Rpb24ocG9zLCBwcmVjaXNlKSB7XG4gICAgICByZXR1cm4gdGFrZVRva2VuKHRoaXMsIHBvcywgcHJlY2lzZSk7XG4gICAgfSxcblxuICAgIGdldExpbmVUb2tlbnM6IGZ1bmN0aW9uKGxpbmUsIHByZWNpc2UpIHtcbiAgICAgIHJldHVybiB0YWtlVG9rZW4odGhpcywgUG9zKGxpbmUpLCBwcmVjaXNlLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgZ2V0VG9rZW5UeXBlQXQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgcG9zID0gY2xpcFBvcyh0aGlzLmRvYywgcG9zKTtcbiAgICAgIHZhciBzdHlsZXMgPSBnZXRMaW5lU3R5bGVzKHRoaXMsIGdldExpbmUodGhpcy5kb2MsIHBvcy5saW5lKSk7XG4gICAgICB2YXIgYmVmb3JlID0gMCwgYWZ0ZXIgPSAoc3R5bGVzLmxlbmd0aCAtIDEpIC8gMiwgY2ggPSBwb3MuY2g7XG4gICAgICB2YXIgdHlwZTtcbiAgICAgIGlmIChjaCA9PSAwKSB0eXBlID0gc3R5bGVzWzJdO1xuICAgICAgZWxzZSBmb3IgKDs7KSB7XG4gICAgICAgIHZhciBtaWQgPSAoYmVmb3JlICsgYWZ0ZXIpID4+IDE7XG4gICAgICAgIGlmICgobWlkID8gc3R5bGVzW21pZCAqIDIgLSAxXSA6IDApID49IGNoKSBhZnRlciA9IG1pZDtcbiAgICAgICAgZWxzZSBpZiAoc3R5bGVzW21pZCAqIDIgKyAxXSA8IGNoKSBiZWZvcmUgPSBtaWQgKyAxO1xuICAgICAgICBlbHNlIHsgdHlwZSA9IHN0eWxlc1ttaWQgKiAyICsgMl07IGJyZWFrOyB9XG4gICAgICB9XG4gICAgICB2YXIgY3V0ID0gdHlwZSA/IHR5cGUuaW5kZXhPZihcImNtLW92ZXJsYXkgXCIpIDogLTE7XG4gICAgICByZXR1cm4gY3V0IDwgMCA/IHR5cGUgOiBjdXQgPT0gMCA/IG51bGwgOiB0eXBlLnNsaWNlKDAsIGN1dCAtIDEpO1xuICAgIH0sXG5cbiAgICBnZXRNb2RlQXQ6IGZ1bmN0aW9uKHBvcykge1xuICAgICAgdmFyIG1vZGUgPSB0aGlzLmRvYy5tb2RlO1xuICAgICAgaWYgKCFtb2RlLmlubmVyTW9kZSkgcmV0dXJuIG1vZGU7XG4gICAgICByZXR1cm4gQ29kZU1pcnJvci5pbm5lck1vZGUobW9kZSwgdGhpcy5nZXRUb2tlbkF0KHBvcykuc3RhdGUpLm1vZGU7XG4gICAgfSxcblxuICAgIGdldEhlbHBlcjogZnVuY3Rpb24ocG9zLCB0eXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRIZWxwZXJzKHBvcywgdHlwZSlbMF07XG4gICAgfSxcblxuICAgIGdldEhlbHBlcnM6IGZ1bmN0aW9uKHBvcywgdHlwZSkge1xuICAgICAgdmFyIGZvdW5kID0gW107XG4gICAgICBpZiAoIWhlbHBlcnMuaGFzT3duUHJvcGVydHkodHlwZSkpIHJldHVybiBmb3VuZDtcbiAgICAgIHZhciBoZWxwID0gaGVscGVyc1t0eXBlXSwgbW9kZSA9IHRoaXMuZ2V0TW9kZUF0KHBvcyk7XG4gICAgICBpZiAodHlwZW9mIG1vZGVbdHlwZV0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoaGVscFttb2RlW3R5cGVdXSkgZm91bmQucHVzaChoZWxwW21vZGVbdHlwZV1dKTtcbiAgICAgIH0gZWxzZSBpZiAobW9kZVt0eXBlXSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZGVbdHlwZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgdmFsID0gaGVscFttb2RlW3R5cGVdW2ldXTtcbiAgICAgICAgICBpZiAodmFsKSBmb3VuZC5wdXNoKHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobW9kZS5oZWxwZXJUeXBlICYmIGhlbHBbbW9kZS5oZWxwZXJUeXBlXSkge1xuICAgICAgICBmb3VuZC5wdXNoKGhlbHBbbW9kZS5oZWxwZXJUeXBlXSk7XG4gICAgICB9IGVsc2UgaWYgKGhlbHBbbW9kZS5uYW1lXSkge1xuICAgICAgICBmb3VuZC5wdXNoKGhlbHBbbW9kZS5uYW1lXSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhlbHAuX2dsb2JhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VyID0gaGVscC5fZ2xvYmFsW2ldO1xuICAgICAgICBpZiAoY3VyLnByZWQobW9kZSwgdGhpcykgJiYgaW5kZXhPZihmb3VuZCwgY3VyLnZhbCkgPT0gLTEpXG4gICAgICAgICAgZm91bmQucHVzaChjdXIudmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9LFxuXG4gICAgZ2V0U3RhdGVBZnRlcjogZnVuY3Rpb24obGluZSwgcHJlY2lzZSkge1xuICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jO1xuICAgICAgbGluZSA9IGNsaXBMaW5lKGRvYywgbGluZSA9PSBudWxsID8gZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxOiBsaW5lKTtcbiAgICAgIHJldHVybiBnZXRTdGF0ZUJlZm9yZSh0aGlzLCBsaW5lICsgMSwgcHJlY2lzZSk7XG4gICAgfSxcblxuICAgIGN1cnNvckNvb3JkczogZnVuY3Rpb24oc3RhcnQsIG1vZGUpIHtcbiAgICAgIHZhciBwb3MsIHJhbmdlID0gdGhpcy5kb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgIGlmIChzdGFydCA9PSBudWxsKSBwb3MgPSByYW5nZS5oZWFkO1xuICAgICAgZWxzZSBpZiAodHlwZW9mIHN0YXJ0ID09IFwib2JqZWN0XCIpIHBvcyA9IGNsaXBQb3ModGhpcy5kb2MsIHN0YXJ0KTtcbiAgICAgIGVsc2UgcG9zID0gc3RhcnQgPyByYW5nZS5mcm9tKCkgOiByYW5nZS50bygpO1xuICAgICAgcmV0dXJuIGN1cnNvckNvb3Jkcyh0aGlzLCBwb3MsIG1vZGUgfHwgXCJwYWdlXCIpO1xuICAgIH0sXG5cbiAgICBjaGFyQ29vcmRzOiBmdW5jdGlvbihwb3MsIG1vZGUpIHtcbiAgICAgIHJldHVybiBjaGFyQ29vcmRzKHRoaXMsIGNsaXBQb3ModGhpcy5kb2MsIHBvcyksIG1vZGUgfHwgXCJwYWdlXCIpO1xuICAgIH0sXG5cbiAgICBjb29yZHNDaGFyOiBmdW5jdGlvbihjb29yZHMsIG1vZGUpIHtcbiAgICAgIGNvb3JkcyA9IGZyb21Db29yZFN5c3RlbSh0aGlzLCBjb29yZHMsIG1vZGUgfHwgXCJwYWdlXCIpO1xuICAgICAgcmV0dXJuIGNvb3Jkc0NoYXIodGhpcywgY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApO1xuICAgIH0sXG5cbiAgICBsaW5lQXRIZWlnaHQ6IGZ1bmN0aW9uKGhlaWdodCwgbW9kZSkge1xuICAgICAgaGVpZ2h0ID0gZnJvbUNvb3JkU3lzdGVtKHRoaXMsIHt0b3A6IGhlaWdodCwgbGVmdDogMH0sIG1vZGUgfHwgXCJwYWdlXCIpLnRvcDtcbiAgICAgIHJldHVybiBsaW5lQXRIZWlnaHQodGhpcy5kb2MsIGhlaWdodCArIHRoaXMuZGlzcGxheS52aWV3T2Zmc2V0KTtcbiAgICB9LFxuICAgIGhlaWdodEF0TGluZTogZnVuY3Rpb24obGluZSwgbW9kZSkge1xuICAgICAgdmFyIGVuZCA9IGZhbHNlLCBsaW5lT2JqO1xuICAgICAgaWYgKHR5cGVvZiBsaW5lID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdmFyIGxhc3QgPSB0aGlzLmRvYy5maXJzdCArIHRoaXMuZG9jLnNpemUgLSAxO1xuICAgICAgICBpZiAobGluZSA8IHRoaXMuZG9jLmZpcnN0KSBsaW5lID0gdGhpcy5kb2MuZmlyc3Q7XG4gICAgICAgIGVsc2UgaWYgKGxpbmUgPiBsYXN0KSB7IGxpbmUgPSBsYXN0OyBlbmQgPSB0cnVlOyB9XG4gICAgICAgIGxpbmVPYmogPSBnZXRMaW5lKHRoaXMuZG9jLCBsaW5lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbmVPYmogPSBsaW5lO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludG9Db29yZFN5c3RlbSh0aGlzLCBsaW5lT2JqLCB7dG9wOiAwLCBsZWZ0OiAwfSwgbW9kZSB8fCBcInBhZ2VcIikudG9wICtcbiAgICAgICAgKGVuZCA/IHRoaXMuZG9jLmhlaWdodCAtIGhlaWdodEF0TGluZShsaW5lT2JqKSA6IDApO1xuICAgIH0sXG5cbiAgICBkZWZhdWx0VGV4dEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiB0ZXh0SGVpZ2h0KHRoaXMuZGlzcGxheSk7IH0sXG4gICAgZGVmYXVsdENoYXJXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjaGFyV2lkdGgodGhpcy5kaXNwbGF5KTsgfSxcblxuICAgIHNldEd1dHRlck1hcmtlcjogbWV0aG9kT3AoZnVuY3Rpb24obGluZSwgZ3V0dGVySUQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gY2hhbmdlTGluZSh0aGlzLmRvYywgbGluZSwgXCJndXR0ZXJcIiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgbWFya2VycyA9IGxpbmUuZ3V0dGVyTWFya2VycyB8fCAobGluZS5ndXR0ZXJNYXJrZXJzID0ge30pO1xuICAgICAgICBtYXJrZXJzW2d1dHRlcklEXSA9IHZhbHVlO1xuICAgICAgICBpZiAoIXZhbHVlICYmIGlzRW1wdHkobWFya2VycykpIGxpbmUuZ3V0dGVyTWFya2VycyA9IG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgfSksXG5cbiAgICBjbGVhckd1dHRlcjogbWV0aG9kT3AoZnVuY3Rpb24oZ3V0dGVySUQpIHtcbiAgICAgIHZhciBjbSA9IHRoaXMsIGRvYyA9IGNtLmRvYywgaSA9IGRvYy5maXJzdDtcbiAgICAgIGRvYy5pdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgaWYgKGxpbmUuZ3V0dGVyTWFya2VycyAmJiBsaW5lLmd1dHRlck1hcmtlcnNbZ3V0dGVySURdKSB7XG4gICAgICAgICAgbGluZS5ndXR0ZXJNYXJrZXJzW2d1dHRlcklEXSA9IG51bGw7XG4gICAgICAgICAgcmVnTGluZUNoYW5nZShjbSwgaSwgXCJndXR0ZXJcIik7XG4gICAgICAgICAgaWYgKGlzRW1wdHkobGluZS5ndXR0ZXJNYXJrZXJzKSkgbGluZS5ndXR0ZXJNYXJrZXJzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICArK2k7XG4gICAgICB9KTtcbiAgICB9KSxcblxuICAgIGxpbmVJbmZvOiBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAodHlwZW9mIGxpbmUgPT0gXCJudW1iZXJcIikge1xuICAgICAgICBpZiAoIWlzTGluZSh0aGlzLmRvYywgbGluZSkpIHJldHVybiBudWxsO1xuICAgICAgICB2YXIgbiA9IGxpbmU7XG4gICAgICAgIGxpbmUgPSBnZXRMaW5lKHRoaXMuZG9jLCBsaW5lKTtcbiAgICAgICAgaWYgKCFsaW5lKSByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuID0gbGluZU5vKGxpbmUpO1xuICAgICAgICBpZiAobiA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7bGluZTogbiwgaGFuZGxlOiBsaW5lLCB0ZXh0OiBsaW5lLnRleHQsIGd1dHRlck1hcmtlcnM6IGxpbmUuZ3V0dGVyTWFya2VycyxcbiAgICAgICAgICAgICAgdGV4dENsYXNzOiBsaW5lLnRleHRDbGFzcywgYmdDbGFzczogbGluZS5iZ0NsYXNzLCB3cmFwQ2xhc3M6IGxpbmUud3JhcENsYXNzLFxuICAgICAgICAgICAgICB3aWRnZXRzOiBsaW5lLndpZGdldHN9O1xuICAgIH0sXG5cbiAgICBnZXRWaWV3cG9ydDogZnVuY3Rpb24oKSB7IHJldHVybiB7ZnJvbTogdGhpcy5kaXNwbGF5LnZpZXdGcm9tLCB0bzogdGhpcy5kaXNwbGF5LnZpZXdUb307fSxcblxuICAgIGFkZFdpZGdldDogZnVuY3Rpb24ocG9zLCBub2RlLCBzY3JvbGwsIHZlcnQsIGhvcml6KSB7XG4gICAgICB2YXIgZGlzcGxheSA9IHRoaXMuZGlzcGxheTtcbiAgICAgIHBvcyA9IGN1cnNvckNvb3Jkcyh0aGlzLCBjbGlwUG9zKHRoaXMuZG9jLCBwb3MpKTtcbiAgICAgIHZhciB0b3AgPSBwb3MuYm90dG9tLCBsZWZ0ID0gcG9zLmxlZnQ7XG4gICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsIFwidHJ1ZVwiKTtcbiAgICAgIHRoaXMuZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKG5vZGUpO1xuICAgICAgZGlzcGxheS5zaXplci5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIGlmICh2ZXJ0ID09IFwib3ZlclwiKSB7XG4gICAgICAgIHRvcCA9IHBvcy50b3A7XG4gICAgICB9IGVsc2UgaWYgKHZlcnQgPT0gXCJhYm92ZVwiIHx8IHZlcnQgPT0gXCJuZWFyXCIpIHtcbiAgICAgICAgdmFyIHZzcGFjZSA9IE1hdGgubWF4KGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQsIHRoaXMuZG9jLmhlaWdodCksXG4gICAgICAgIGhzcGFjZSA9IE1hdGgubWF4KGRpc3BsYXkuc2l6ZXIuY2xpZW50V2lkdGgsIGRpc3BsYXkubGluZVNwYWNlLmNsaWVudFdpZHRoKTtcbiAgICAgICAgLy8gRGVmYXVsdCB0byBwb3NpdGlvbmluZyBhYm92ZSAoaWYgc3BlY2lmaWVkIGFuZCBwb3NzaWJsZSk7IG90aGVyd2lzZSBkZWZhdWx0IHRvIHBvc2l0aW9uaW5nIGJlbG93XG4gICAgICAgIGlmICgodmVydCA9PSAnYWJvdmUnIHx8IHBvcy5ib3R0b20gKyBub2RlLm9mZnNldEhlaWdodCA+IHZzcGFjZSkgJiYgcG9zLnRvcCA+IG5vZGUub2Zmc2V0SGVpZ2h0KVxuICAgICAgICAgIHRvcCA9IHBvcy50b3AgLSBub2RlLm9mZnNldEhlaWdodDtcbiAgICAgICAgZWxzZSBpZiAocG9zLmJvdHRvbSArIG5vZGUub2Zmc2V0SGVpZ2h0IDw9IHZzcGFjZSlcbiAgICAgICAgICB0b3AgPSBwb3MuYm90dG9tO1xuICAgICAgICBpZiAobGVmdCArIG5vZGUub2Zmc2V0V2lkdGggPiBoc3BhY2UpXG4gICAgICAgICAgbGVmdCA9IGhzcGFjZSAtIG5vZGUub2Zmc2V0V2lkdGg7XG4gICAgICB9XG4gICAgICBub2RlLnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgIG5vZGUuc3R5bGUubGVmdCA9IG5vZGUuc3R5bGUucmlnaHQgPSBcIlwiO1xuICAgICAgaWYgKGhvcml6ID09IFwicmlnaHRcIikge1xuICAgICAgICBsZWZ0ID0gZGlzcGxheS5zaXplci5jbGllbnRXaWR0aCAtIG5vZGUub2Zmc2V0V2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGhvcml6ID09IFwibGVmdFwiKSBsZWZ0ID0gMDtcbiAgICAgICAgZWxzZSBpZiAoaG9yaXogPT0gXCJtaWRkbGVcIikgbGVmdCA9IChkaXNwbGF5LnNpemVyLmNsaWVudFdpZHRoIC0gbm9kZS5vZmZzZXRXaWR0aCkgLyAyO1xuICAgICAgICBub2RlLnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xuICAgICAgfVxuICAgICAgaWYgKHNjcm9sbClcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXcodGhpcywgbGVmdCwgdG9wLCBsZWZ0ICsgbm9kZS5vZmZzZXRXaWR0aCwgdG9wICsgbm9kZS5vZmZzZXRIZWlnaHQpO1xuICAgIH0sXG5cbiAgICB0cmlnZ2VyT25LZXlEb3duOiBtZXRob2RPcChvbktleURvd24pLFxuICAgIHRyaWdnZXJPbktleVByZXNzOiBtZXRob2RPcChvbktleVByZXNzKSxcbiAgICB0cmlnZ2VyT25LZXlVcDogb25LZXlVcCxcblxuICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbihjbWQpIHtcbiAgICAgIGlmIChjb21tYW5kcy5oYXNPd25Qcm9wZXJ0eShjbWQpKVxuICAgICAgICByZXR1cm4gY29tbWFuZHNbY21kXS5jYWxsKG51bGwsIHRoaXMpO1xuICAgIH0sXG5cbiAgICB0cmlnZ2VyRWxlY3RyaWM6IG1ldGhvZE9wKGZ1bmN0aW9uKHRleHQpIHsgdHJpZ2dlckVsZWN0cmljKHRoaXMsIHRleHQpOyB9KSxcblxuICAgIGZpbmRQb3NIOiBmdW5jdGlvbihmcm9tLCBhbW91bnQsIHVuaXQsIHZpc3VhbGx5KSB7XG4gICAgICB2YXIgZGlyID0gMTtcbiAgICAgIGlmIChhbW91bnQgPCAwKSB7IGRpciA9IC0xOyBhbW91bnQgPSAtYW1vdW50OyB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgY3VyID0gY2xpcFBvcyh0aGlzLmRvYywgZnJvbSk7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICBjdXIgPSBmaW5kUG9zSCh0aGlzLmRvYywgY3VyLCBkaXIsIHVuaXQsIHZpc3VhbGx5KTtcbiAgICAgICAgaWYgKGN1ci5oaXRTaWRlKSBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXI7XG4gICAgfSxcblxuICAgIG1vdmVIOiBtZXRob2RPcChmdW5jdGlvbihkaXIsIHVuaXQpIHtcbiAgICAgIHZhciBjbSA9IHRoaXM7XG4gICAgICBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgaWYgKGNtLmRpc3BsYXkuc2hpZnQgfHwgY20uZG9jLmV4dGVuZCB8fCByYW5nZS5lbXB0eSgpKVxuICAgICAgICAgIHJldHVybiBmaW5kUG9zSChjbS5kb2MsIHJhbmdlLmhlYWQsIGRpciwgdW5pdCwgY20ub3B0aW9ucy5ydGxNb3ZlVmlzdWFsbHkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIGRpciA8IDAgPyByYW5nZS5mcm9tKCkgOiByYW5nZS50bygpO1xuICAgICAgfSwgc2VsX21vdmUpO1xuICAgIH0pLFxuXG4gICAgZGVsZXRlSDogbWV0aG9kT3AoZnVuY3Rpb24oZGlyLCB1bml0KSB7XG4gICAgICB2YXIgc2VsID0gdGhpcy5kb2Muc2VsLCBkb2MgPSB0aGlzLmRvYztcbiAgICAgIGlmIChzZWwuc29tZXRoaW5nU2VsZWN0ZWQoKSlcbiAgICAgICAgZG9jLnJlcGxhY2VTZWxlY3Rpb24oXCJcIiwgbnVsbCwgXCIrZGVsZXRlXCIpO1xuICAgICAgZWxzZVxuICAgICAgICBkZWxldGVOZWFyU2VsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgdmFyIG90aGVyID0gZmluZFBvc0goZG9jLCByYW5nZS5oZWFkLCBkaXIsIHVuaXQsIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4gZGlyIDwgMCA/IHtmcm9tOiBvdGhlciwgdG86IHJhbmdlLmhlYWR9IDoge2Zyb206IHJhbmdlLmhlYWQsIHRvOiBvdGhlcn07XG4gICAgICAgIH0pO1xuICAgIH0pLFxuXG4gICAgZmluZFBvc1Y6IGZ1bmN0aW9uKGZyb20sIGFtb3VudCwgdW5pdCwgZ29hbENvbHVtbikge1xuICAgICAgdmFyIGRpciA9IDEsIHggPSBnb2FsQ29sdW1uO1xuICAgICAgaWYgKGFtb3VudCA8IDApIHsgZGlyID0gLTE7IGFtb3VudCA9IC1hbW91bnQ7IH1cbiAgICAgIGZvciAodmFyIGkgPSAwLCBjdXIgPSBjbGlwUG9zKHRoaXMuZG9jLCBmcm9tKTsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgIHZhciBjb29yZHMgPSBjdXJzb3JDb29yZHModGhpcywgY3VyLCBcImRpdlwiKTtcbiAgICAgICAgaWYgKHggPT0gbnVsbCkgeCA9IGNvb3Jkcy5sZWZ0O1xuICAgICAgICBlbHNlIGNvb3Jkcy5sZWZ0ID0geDtcbiAgICAgICAgY3VyID0gZmluZFBvc1YodGhpcywgY29vcmRzLCBkaXIsIHVuaXQpO1xuICAgICAgICBpZiAoY3VyLmhpdFNpZGUpIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN1cjtcbiAgICB9LFxuXG4gICAgbW92ZVY6IG1ldGhvZE9wKGZ1bmN0aW9uKGRpciwgdW5pdCkge1xuICAgICAgdmFyIGNtID0gdGhpcywgZG9jID0gdGhpcy5kb2MsIGdvYWxzID0gW107XG4gICAgICB2YXIgY29sbGFwc2UgPSAhY20uZGlzcGxheS5zaGlmdCAmJiAhZG9jLmV4dGVuZCAmJiBkb2Muc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCk7XG4gICAgICBkb2MuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIGlmIChjb2xsYXBzZSlcbiAgICAgICAgICByZXR1cm4gZGlyIDwgMCA/IHJhbmdlLmZyb20oKSA6IHJhbmdlLnRvKCk7XG4gICAgICAgIHZhciBoZWFkUG9zID0gY3Vyc29yQ29vcmRzKGNtLCByYW5nZS5oZWFkLCBcImRpdlwiKTtcbiAgICAgICAgaWYgKHJhbmdlLmdvYWxDb2x1bW4gIT0gbnVsbCkgaGVhZFBvcy5sZWZ0ID0gcmFuZ2UuZ29hbENvbHVtbjtcbiAgICAgICAgZ29hbHMucHVzaChoZWFkUG9zLmxlZnQpO1xuICAgICAgICB2YXIgcG9zID0gZmluZFBvc1YoY20sIGhlYWRQb3MsIGRpciwgdW5pdCk7XG4gICAgICAgIGlmICh1bml0ID09IFwicGFnZVwiICYmIHJhbmdlID09IGRvYy5zZWwucHJpbWFyeSgpKVxuICAgICAgICAgIGFkZFRvU2Nyb2xsUG9zKGNtLCBudWxsLCBjaGFyQ29vcmRzKGNtLCBwb3MsIFwiZGl2XCIpLnRvcCAtIGhlYWRQb3MudG9wKTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgIH0sIHNlbF9tb3ZlKTtcbiAgICAgIGlmIChnb2Fscy5sZW5ndGgpIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIGRvYy5zZWwucmFuZ2VzW2ldLmdvYWxDb2x1bW4gPSBnb2Fsc1tpXTtcbiAgICB9KSxcblxuICAgIC8vIEZpbmQgdGhlIHdvcmQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIChhcyByZXR1cm5lZCBieSBjb29yZHNDaGFyKS5cbiAgICBmaW5kV29yZEF0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgIHZhciBkb2MgPSB0aGlzLmRvYywgbGluZSA9IGdldExpbmUoZG9jLCBwb3MubGluZSkudGV4dDtcbiAgICAgIHZhciBzdGFydCA9IHBvcy5jaCwgZW5kID0gcG9zLmNoO1xuICAgICAgaWYgKGxpbmUpIHtcbiAgICAgICAgdmFyIGhlbHBlciA9IHRoaXMuZ2V0SGVscGVyKHBvcywgXCJ3b3JkQ2hhcnNcIik7XG4gICAgICAgIGlmICgocG9zLnhSZWwgPCAwIHx8IGVuZCA9PSBsaW5lLmxlbmd0aCkgJiYgc3RhcnQpIC0tc3RhcnQ7IGVsc2UgKytlbmQ7XG4gICAgICAgIHZhciBzdGFydENoYXIgPSBsaW5lLmNoYXJBdChzdGFydCk7XG4gICAgICAgIHZhciBjaGVjayA9IGlzV29yZENoYXIoc3RhcnRDaGFyLCBoZWxwZXIpXG4gICAgICAgICAgPyBmdW5jdGlvbihjaCkgeyByZXR1cm4gaXNXb3JkQ2hhcihjaCwgaGVscGVyKTsgfVxuICAgICAgICAgIDogL1xccy8udGVzdChzdGFydENoYXIpID8gZnVuY3Rpb24oY2gpIHtyZXR1cm4gL1xccy8udGVzdChjaCk7fVxuICAgICAgICAgIDogZnVuY3Rpb24oY2gpIHtyZXR1cm4gIS9cXHMvLnRlc3QoY2gpICYmICFpc1dvcmRDaGFyKGNoKTt9O1xuICAgICAgICB3aGlsZSAoc3RhcnQgPiAwICYmIGNoZWNrKGxpbmUuY2hhckF0KHN0YXJ0IC0gMSkpKSAtLXN0YXJ0O1xuICAgICAgICB3aGlsZSAoZW5kIDwgbGluZS5sZW5ndGggJiYgY2hlY2sobGluZS5jaGFyQXQoZW5kKSkpICsrZW5kO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIHN0YXJ0KSwgUG9zKHBvcy5saW5lLCBlbmQpKTtcbiAgICB9LFxuXG4gICAgdG9nZ2xlT3ZlcndyaXRlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgPT0gdGhpcy5zdGF0ZS5vdmVyd3JpdGUpIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnN0YXRlLm92ZXJ3cml0ZSA9ICF0aGlzLnN0YXRlLm92ZXJ3cml0ZSlcbiAgICAgICAgYWRkQ2xhc3ModGhpcy5kaXNwbGF5LmN1cnNvckRpdiwgXCJDb2RlTWlycm9yLW92ZXJ3cml0ZVwiKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcm1DbGFzcyh0aGlzLmRpc3BsYXkuY3Vyc29yRGl2LCBcIkNvZGVNaXJyb3Itb3ZlcndyaXRlXCIpO1xuXG4gICAgICBzaWduYWwodGhpcywgXCJvdmVyd3JpdGVUb2dnbGVcIiwgdGhpcywgdGhpcy5zdGF0ZS5vdmVyd3JpdGUpO1xuICAgIH0sXG4gICAgaGFzRm9jdXM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCkgPT0gYWN0aXZlRWx0KCk7IH0sXG4gICAgaXNSZWFkT25seTogZnVuY3Rpb24oKSB7IHJldHVybiAhISh0aGlzLm9wdGlvbnMucmVhZE9ubHkgfHwgdGhpcy5kb2MuY2FudEVkaXQpOyB9LFxuXG4gICAgc2Nyb2xsVG86IG1ldGhvZE9wKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgIGlmICh4ICE9IG51bGwgfHwgeSAhPSBudWxsKSByZXNvbHZlU2Nyb2xsVG9Qb3ModGhpcyk7XG4gICAgICBpZiAoeCAhPSBudWxsKSB0aGlzLmN1ck9wLnNjcm9sbExlZnQgPSB4O1xuICAgICAgaWYgKHkgIT0gbnVsbCkgdGhpcy5jdXJPcC5zY3JvbGxUb3AgPSB5O1xuICAgIH0pLFxuICAgIGdldFNjcm9sbEluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5kaXNwbGF5LnNjcm9sbGVyO1xuICAgICAgcmV0dXJuIHtsZWZ0OiBzY3JvbGxlci5zY3JvbGxMZWZ0LCB0b3A6IHNjcm9sbGVyLnNjcm9sbFRvcCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBzY3JvbGxlci5zY3JvbGxIZWlnaHQgLSBzY3JvbGxHYXAodGhpcykgLSB0aGlzLmRpc3BsYXkuYmFySGVpZ2h0LFxuICAgICAgICAgICAgICB3aWR0aDogc2Nyb2xsZXIuc2Nyb2xsV2lkdGggLSBzY3JvbGxHYXAodGhpcykgLSB0aGlzLmRpc3BsYXkuYmFyV2lkdGgsXG4gICAgICAgICAgICAgIGNsaWVudEhlaWdodDogZGlzcGxheUhlaWdodCh0aGlzKSwgY2xpZW50V2lkdGg6IGRpc3BsYXlXaWR0aCh0aGlzKX07XG4gICAgfSxcblxuICAgIHNjcm9sbEludG9WaWV3OiBtZXRob2RPcChmdW5jdGlvbihyYW5nZSwgbWFyZ2luKSB7XG4gICAgICBpZiAocmFuZ2UgPT0gbnVsbCkge1xuICAgICAgICByYW5nZSA9IHtmcm9tOiB0aGlzLmRvYy5zZWwucHJpbWFyeSgpLmhlYWQsIHRvOiBudWxsfTtcbiAgICAgICAgaWYgKG1hcmdpbiA9PSBudWxsKSBtYXJnaW4gPSB0aGlzLm9wdGlvbnMuY3Vyc29yU2Nyb2xsTWFyZ2luO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmFuZ2UgPT0gXCJudW1iZXJcIikge1xuICAgICAgICByYW5nZSA9IHtmcm9tOiBQb3MocmFuZ2UsIDApLCB0bzogbnVsbH07XG4gICAgICB9IGVsc2UgaWYgKHJhbmdlLmZyb20gPT0gbnVsbCkge1xuICAgICAgICByYW5nZSA9IHtmcm9tOiByYW5nZSwgdG86IG51bGx9O1xuICAgICAgfVxuICAgICAgaWYgKCFyYW5nZS50bykgcmFuZ2UudG8gPSByYW5nZS5mcm9tO1xuICAgICAgcmFuZ2UubWFyZ2luID0gbWFyZ2luIHx8IDA7XG5cbiAgICAgIGlmIChyYW5nZS5mcm9tLmxpbmUgIT0gbnVsbCkge1xuICAgICAgICByZXNvbHZlU2Nyb2xsVG9Qb3ModGhpcyk7XG4gICAgICAgIHRoaXMuY3VyT3Auc2Nyb2xsVG9Qb3MgPSByYW5nZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzUG9zID0gY2FsY3VsYXRlU2Nyb2xsUG9zKHRoaXMsIE1hdGgubWluKHJhbmdlLmZyb20ubGVmdCwgcmFuZ2UudG8ubGVmdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHJhbmdlLmZyb20udG9wLCByYW5nZS50by50b3ApIC0gcmFuZ2UubWFyZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChyYW5nZS5mcm9tLnJpZ2h0LCByYW5nZS50by5yaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHJhbmdlLmZyb20uYm90dG9tLCByYW5nZS50by5ib3R0b20pICsgcmFuZ2UubWFyZ2luKTtcbiAgICAgICAgdGhpcy5zY3JvbGxUbyhzUG9zLnNjcm9sbExlZnQsIHNQb3Muc2Nyb2xsVG9wKTtcbiAgICAgIH1cbiAgICB9KSxcblxuICAgIHNldFNpemU6IG1ldGhvZE9wKGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHZhciBjbSA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBpbnRlcnByZXQodmFsKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09IFwibnVtYmVyXCIgfHwgL15cXGQrJC8udGVzdChTdHJpbmcodmFsKSkgPyB2YWwgKyBcInB4XCIgOiB2YWw7XG4gICAgICB9XG4gICAgICBpZiAod2lkdGggIT0gbnVsbCkgY20uZGlzcGxheS53cmFwcGVyLnN0eWxlLndpZHRoID0gaW50ZXJwcmV0KHdpZHRoKTtcbiAgICAgIGlmIChoZWlnaHQgIT0gbnVsbCkgY20uZGlzcGxheS53cmFwcGVyLnN0eWxlLmhlaWdodCA9IGludGVycHJldChoZWlnaHQpO1xuICAgICAgaWYgKGNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlKHRoaXMpO1xuICAgICAgdmFyIGxpbmVObyA9IGNtLmRpc3BsYXkudmlld0Zyb207XG4gICAgICBjbS5kb2MuaXRlcihsaW5lTm8sIGNtLmRpc3BsYXkudmlld1RvLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGlmIChsaW5lLndpZGdldHMpIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS53aWRnZXRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIGlmIChsaW5lLndpZGdldHNbaV0ubm9IU2Nyb2xsKSB7IHJlZ0xpbmVDaGFuZ2UoY20sIGxpbmVObywgXCJ3aWRnZXRcIik7IGJyZWFrOyB9XG4gICAgICAgICsrbGluZU5vO1xuICAgICAgfSk7XG4gICAgICBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICBzaWduYWwoY20sIFwicmVmcmVzaFwiLCB0aGlzKTtcbiAgICB9KSxcblxuICAgIG9wZXJhdGlvbjogZnVuY3Rpb24oZil7cmV0dXJuIHJ1bkluT3AodGhpcywgZik7fSxcblxuICAgIHJlZnJlc2g6IG1ldGhvZE9wKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9sZEhlaWdodCA9IHRoaXMuZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0O1xuICAgICAgcmVnQ2hhbmdlKHRoaXMpO1xuICAgICAgdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICBjbGVhckNhY2hlcyh0aGlzKTtcbiAgICAgIHRoaXMuc2Nyb2xsVG8odGhpcy5kb2Muc2Nyb2xsTGVmdCwgdGhpcy5kb2Muc2Nyb2xsVG9wKTtcbiAgICAgIHVwZGF0ZUd1dHRlclNwYWNlKHRoaXMpO1xuICAgICAgaWYgKG9sZEhlaWdodCA9PSBudWxsIHx8IE1hdGguYWJzKG9sZEhlaWdodCAtIHRleHRIZWlnaHQodGhpcy5kaXNwbGF5KSkgPiAuNSlcbiAgICAgICAgZXN0aW1hdGVMaW5lSGVpZ2h0cyh0aGlzKTtcbiAgICAgIHNpZ25hbCh0aGlzLCBcInJlZnJlc2hcIiwgdGhpcyk7XG4gICAgfSksXG5cbiAgICBzd2FwRG9jOiBtZXRob2RPcChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHZhciBvbGQgPSB0aGlzLmRvYztcbiAgICAgIG9sZC5jbSA9IG51bGw7XG4gICAgICBhdHRhY2hEb2ModGhpcywgZG9jKTtcbiAgICAgIGNsZWFyQ2FjaGVzKHRoaXMpO1xuICAgICAgdGhpcy5kaXNwbGF5LmlucHV0LnJlc2V0KCk7XG4gICAgICB0aGlzLnNjcm9sbFRvKGRvYy5zY3JvbGxMZWZ0LCBkb2Muc2Nyb2xsVG9wKTtcbiAgICAgIHRoaXMuY3VyT3AuZm9yY2VTY3JvbGwgPSB0cnVlO1xuICAgICAgc2lnbmFsTGF0ZXIodGhpcywgXCJzd2FwRG9jXCIsIHRoaXMsIG9sZCk7XG4gICAgICByZXR1cm4gb2xkO1xuICAgIH0pLFxuXG4gICAgZ2V0SW5wdXRGaWVsZDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCk7fSxcbiAgICBnZXRXcmFwcGVyRWxlbWVudDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LndyYXBwZXI7fSxcbiAgICBnZXRTY3JvbGxlckVsZW1lbnQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5zY3JvbGxlcjt9LFxuICAgIGdldEd1dHRlckVsZW1lbnQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5ndXR0ZXJzO31cbiAgfTtcbiAgZXZlbnRNaXhpbihDb2RlTWlycm9yKTtcblxuICAvLyBPUFRJT04gREVGQVVMVFNcblxuICAvLyBUaGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gIHZhciBkZWZhdWx0cyA9IENvZGVNaXJyb3IuZGVmYXVsdHMgPSB7fTtcbiAgLy8gRnVuY3Rpb25zIHRvIHJ1biB3aGVuIG9wdGlvbnMgYXJlIGNoYW5nZWQuXG4gIHZhciBvcHRpb25IYW5kbGVycyA9IENvZGVNaXJyb3Iub3B0aW9uSGFuZGxlcnMgPSB7fTtcblxuICBmdW5jdGlvbiBvcHRpb24obmFtZSwgZGVmbHQsIGhhbmRsZSwgbm90T25Jbml0KSB7XG4gICAgQ29kZU1pcnJvci5kZWZhdWx0c1tuYW1lXSA9IGRlZmx0O1xuICAgIGlmIChoYW5kbGUpIG9wdGlvbkhhbmRsZXJzW25hbWVdID1cbiAgICAgIG5vdE9uSW5pdCA/IGZ1bmN0aW9uKGNtLCB2YWwsIG9sZCkge2lmIChvbGQgIT0gSW5pdCkgaGFuZGxlKGNtLCB2YWwsIG9sZCk7fSA6IGhhbmRsZTtcbiAgfVxuXG4gIC8vIFBhc3NlZCB0byBvcHRpb24gaGFuZGxlcnMgd2hlbiB0aGVyZSBpcyBubyBvbGQgdmFsdWUuXG4gIHZhciBJbml0ID0gQ29kZU1pcnJvci5Jbml0ID0ge3RvU3RyaW5nOiBmdW5jdGlvbigpe3JldHVybiBcIkNvZGVNaXJyb3IuSW5pdFwiO319O1xuXG4gIC8vIFRoZXNlIHR3byBhcmUsIG9uIGluaXQsIGNhbGxlZCBmcm9tIHRoZSBjb25zdHJ1Y3RvciBiZWNhdXNlIHRoZXlcbiAgLy8gaGF2ZSB0byBiZSBpbml0aWFsaXplZCBiZWZvcmUgdGhlIGVkaXRvciBjYW4gc3RhcnQgYXQgYWxsLlxuICBvcHRpb24oXCJ2YWx1ZVwiLCBcIlwiLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgY20uc2V0VmFsdWUodmFsKTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcIm1vZGVcIiwgbnVsbCwgZnVuY3Rpb24oY20sIHZhbCkge1xuICAgIGNtLmRvYy5tb2RlT3B0aW9uID0gdmFsO1xuICAgIGxvYWRNb2RlKGNtKTtcbiAgfSwgdHJ1ZSk7XG5cbiAgb3B0aW9uKFwiaW5kZW50VW5pdFwiLCAyLCBsb2FkTW9kZSwgdHJ1ZSk7XG4gIG9wdGlvbihcImluZGVudFdpdGhUYWJzXCIsIGZhbHNlKTtcbiAgb3B0aW9uKFwic21hcnRJbmRlbnRcIiwgdHJ1ZSk7XG4gIG9wdGlvbihcInRhYlNpemVcIiwgNCwgZnVuY3Rpb24oY20pIHtcbiAgICByZXNldE1vZGVTdGF0ZShjbSk7XG4gICAgY2xlYXJDYWNoZXMoY20pO1xuICAgIHJlZ0NoYW5nZShjbSk7XG4gIH0sIHRydWUpO1xuICBvcHRpb24oXCJsaW5lU2VwYXJhdG9yXCIsIG51bGwsIGZ1bmN0aW9uKGNtLCB2YWwpIHtcbiAgICBjbS5kb2MubGluZVNlcCA9IHZhbDtcbiAgICBpZiAoIXZhbCkgcmV0dXJuO1xuICAgIHZhciBuZXdCcmVha3MgPSBbXSwgbGluZU5vID0gY20uZG9jLmZpcnN0O1xuICAgIGNtLmRvYy5pdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGZvciAodmFyIHBvcyA9IDA7Oykge1xuICAgICAgICB2YXIgZm91bmQgPSBsaW5lLnRleHQuaW5kZXhPZih2YWwsIHBvcyk7XG4gICAgICAgIGlmIChmb3VuZCA9PSAtMSkgYnJlYWs7XG4gICAgICAgIHBvcyA9IGZvdW5kICsgdmFsLmxlbmd0aDtcbiAgICAgICAgbmV3QnJlYWtzLnB1c2goUG9zKGxpbmVObywgZm91bmQpKTtcbiAgICAgIH1cbiAgICAgIGxpbmVObysrO1xuICAgIH0pO1xuICAgIGZvciAodmFyIGkgPSBuZXdCcmVha3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICByZXBsYWNlUmFuZ2UoY20uZG9jLCB2YWwsIG5ld0JyZWFrc1tpXSwgUG9zKG5ld0JyZWFrc1tpXS5saW5lLCBuZXdCcmVha3NbaV0uY2ggKyB2YWwubGVuZ3RoKSlcbiAgfSk7XG4gIG9wdGlvbihcInNwZWNpYWxDaGFyc1wiLCAvW1xcdTAwMDAtXFx1MDAxZlxcdTAwN2ZcXHUwMGFkXFx1MjAwYi1cXHUyMDBmXFx1MjAyOFxcdTIwMjlcXHVmZWZmXS9nLCBmdW5jdGlvbihjbSwgdmFsLCBvbGQpIHtcbiAgICBjbS5zdGF0ZS5zcGVjaWFsQ2hhcnMgPSBuZXcgUmVnRXhwKHZhbC5zb3VyY2UgKyAodmFsLnRlc3QoXCJcXHRcIikgPyBcIlwiIDogXCJ8XFx0XCIpLCBcImdcIik7XG4gICAgaWYgKG9sZCAhPSBDb2RlTWlycm9yLkluaXQpIGNtLnJlZnJlc2goKTtcbiAgfSk7XG4gIG9wdGlvbihcInNwZWNpYWxDaGFyUGxhY2Vob2xkZXJcIiwgZGVmYXVsdFNwZWNpYWxDaGFyUGxhY2Vob2xkZXIsIGZ1bmN0aW9uKGNtKSB7Y20ucmVmcmVzaCgpO30sIHRydWUpO1xuICBvcHRpb24oXCJlbGVjdHJpY0NoYXJzXCIsIHRydWUpO1xuICBvcHRpb24oXCJpbnB1dFN0eWxlXCIsIG1vYmlsZSA/IFwiY29udGVudGVkaXRhYmxlXCIgOiBcInRleHRhcmVhXCIsIGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImlucHV0U3R5bGUgY2FuIG5vdCAoeWV0KSBiZSBjaGFuZ2VkIGluIGEgcnVubmluZyBlZGl0b3JcIik7IC8vIEZJWE1FXG4gIH0sIHRydWUpO1xuICBvcHRpb24oXCJydGxNb3ZlVmlzdWFsbHlcIiwgIXdpbmRvd3MpO1xuICBvcHRpb24oXCJ3aG9sZUxpbmVVcGRhdGVCZWZvcmVcIiwgdHJ1ZSk7XG5cbiAgb3B0aW9uKFwidGhlbWVcIiwgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKGNtKSB7XG4gICAgdGhlbWVDaGFuZ2VkKGNtKTtcbiAgICBndXR0ZXJzQ2hhbmdlZChjbSk7XG4gIH0sIHRydWUpO1xuICBvcHRpb24oXCJrZXlNYXBcIiwgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKGNtLCB2YWwsIG9sZCkge1xuICAgIHZhciBuZXh0ID0gZ2V0S2V5TWFwKHZhbCk7XG4gICAgdmFyIHByZXYgPSBvbGQgIT0gQ29kZU1pcnJvci5Jbml0ICYmIGdldEtleU1hcChvbGQpO1xuICAgIGlmIChwcmV2ICYmIHByZXYuZGV0YWNoKSBwcmV2LmRldGFjaChjbSwgbmV4dCk7XG4gICAgaWYgKG5leHQuYXR0YWNoKSBuZXh0LmF0dGFjaChjbSwgcHJldiB8fCBudWxsKTtcbiAgfSk7XG4gIG9wdGlvbihcImV4dHJhS2V5c1wiLCBudWxsKTtcblxuICBvcHRpb24oXCJsaW5lV3JhcHBpbmdcIiwgZmFsc2UsIHdyYXBwaW5nQ2hhbmdlZCwgdHJ1ZSk7XG4gIG9wdGlvbihcImd1dHRlcnNcIiwgW10sIGZ1bmN0aW9uKGNtKSB7XG4gICAgc2V0R3V0dGVyc0ZvckxpbmVOdW1iZXJzKGNtLm9wdGlvbnMpO1xuICAgIGd1dHRlcnNDaGFuZ2VkKGNtKTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcImZpeGVkR3V0dGVyXCIsIHRydWUsIGZ1bmN0aW9uKGNtLCB2YWwpIHtcbiAgICBjbS5kaXNwbGF5Lmd1dHRlcnMuc3R5bGUubGVmdCA9IHZhbCA/IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGNtLmRpc3BsYXkpICsgXCJweFwiIDogXCIwXCI7XG4gICAgY20ucmVmcmVzaCgpO1xuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwiY292ZXJHdXR0ZXJOZXh0VG9TY3JvbGxiYXJcIiwgZmFsc2UsIGZ1bmN0aW9uKGNtKSB7dXBkYXRlU2Nyb2xsYmFycyhjbSk7fSwgdHJ1ZSk7XG4gIG9wdGlvbihcInNjcm9sbGJhclN0eWxlXCIsIFwibmF0aXZlXCIsIGZ1bmN0aW9uKGNtKSB7XG4gICAgaW5pdFNjcm9sbGJhcnMoY20pO1xuICAgIHVwZGF0ZVNjcm9sbGJhcnMoY20pO1xuICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AoY20uZG9jLnNjcm9sbFRvcCk7XG4gICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbExlZnQoY20uZG9jLnNjcm9sbExlZnQpO1xuICB9LCB0cnVlKTtcbiAgb3B0aW9uKFwibGluZU51bWJlcnNcIiwgZmFsc2UsIGZ1bmN0aW9uKGNtKSB7XG4gICAgc2V0R3V0dGVyc0ZvckxpbmVOdW1iZXJzKGNtLm9wdGlvbnMpO1xuICAgIGd1dHRlcnNDaGFuZ2VkKGNtKTtcbiAgfSwgdHJ1ZSk7XG4gIG9wdGlvbihcImZpcnN0TGluZU51bWJlclwiLCAxLCBndXR0ZXJzQ2hhbmdlZCwgdHJ1ZSk7XG4gIG9wdGlvbihcImxpbmVOdW1iZXJGb3JtYXR0ZXJcIiwgZnVuY3Rpb24oaW50ZWdlcikge3JldHVybiBpbnRlZ2VyO30sIGd1dHRlcnNDaGFuZ2VkLCB0cnVlKTtcbiAgb3B0aW9uKFwic2hvd0N1cnNvcldoZW5TZWxlY3RpbmdcIiwgZmFsc2UsIHVwZGF0ZVNlbGVjdGlvbiwgdHJ1ZSk7XG5cbiAgb3B0aW9uKFwicmVzZXRTZWxlY3Rpb25PbkNvbnRleHRNZW51XCIsIHRydWUpO1xuICBvcHRpb24oXCJsaW5lV2lzZUNvcHlDdXRcIiwgdHJ1ZSk7XG5cbiAgb3B0aW9uKFwicmVhZE9ubHlcIiwgZmFsc2UsIGZ1bmN0aW9uKGNtLCB2YWwpIHtcbiAgICBpZiAodmFsID09IFwibm9jdXJzb3JcIikge1xuICAgICAgb25CbHVyKGNtKTtcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXQuYmx1cigpO1xuICAgICAgY20uZGlzcGxheS5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNtLmRpc3BsYXkuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgY20uZGlzcGxheS5pbnB1dC5yZWFkT25seUNoYW5nZWQodmFsKVxuICB9KTtcbiAgb3B0aW9uKFwiZGlzYWJsZUlucHV0XCIsIGZhbHNlLCBmdW5jdGlvbihjbSwgdmFsKSB7aWYgKCF2YWwpIGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKTt9LCB0cnVlKTtcbiAgb3B0aW9uKFwiZHJhZ0Ryb3BcIiwgdHJ1ZSwgZHJhZ0Ryb3BDaGFuZ2VkKTtcbiAgb3B0aW9uKFwiYWxsb3dEcm9wRmlsZVR5cGVzXCIsIG51bGwpO1xuXG4gIG9wdGlvbihcImN1cnNvckJsaW5rUmF0ZVwiLCA1MzApO1xuICBvcHRpb24oXCJjdXJzb3JTY3JvbGxNYXJnaW5cIiwgMCk7XG4gIG9wdGlvbihcImN1cnNvckhlaWdodFwiLCAxLCB1cGRhdGVTZWxlY3Rpb24sIHRydWUpO1xuICBvcHRpb24oXCJzaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lXCIsIHRydWUsIHVwZGF0ZVNlbGVjdGlvbiwgdHJ1ZSk7XG4gIG9wdGlvbihcIndvcmtUaW1lXCIsIDEwMCk7XG4gIG9wdGlvbihcIndvcmtEZWxheVwiLCAxMDApO1xuICBvcHRpb24oXCJmbGF0dGVuU3BhbnNcIiwgdHJ1ZSwgcmVzZXRNb2RlU3RhdGUsIHRydWUpO1xuICBvcHRpb24oXCJhZGRNb2RlQ2xhc3NcIiwgZmFsc2UsIHJlc2V0TW9kZVN0YXRlLCB0cnVlKTtcbiAgb3B0aW9uKFwicG9sbEludGVydmFsXCIsIDEwMCk7XG4gIG9wdGlvbihcInVuZG9EZXB0aFwiLCAyMDAsIGZ1bmN0aW9uKGNtLCB2YWwpe2NtLmRvYy5oaXN0b3J5LnVuZG9EZXB0aCA9IHZhbDt9KTtcbiAgb3B0aW9uKFwiaGlzdG9yeUV2ZW50RGVsYXlcIiwgMTI1MCk7XG4gIG9wdGlvbihcInZpZXdwb3J0TWFyZ2luXCIsIDEwLCBmdW5jdGlvbihjbSl7Y20ucmVmcmVzaCgpO30sIHRydWUpO1xuICBvcHRpb24oXCJtYXhIaWdobGlnaHRMZW5ndGhcIiwgMTAwMDAsIHJlc2V0TW9kZVN0YXRlLCB0cnVlKTtcbiAgb3B0aW9uKFwibW92ZUlucHV0V2l0aEN1cnNvclwiLCB0cnVlLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgaWYgKCF2YWwpIGNtLmRpc3BsYXkuaW5wdXQucmVzZXRQb3NpdGlvbigpO1xuICB9KTtcblxuICBvcHRpb24oXCJ0YWJpbmRleFwiLCBudWxsLCBmdW5jdGlvbihjbSwgdmFsKSB7XG4gICAgY20uZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpLnRhYkluZGV4ID0gdmFsIHx8IFwiXCI7XG4gIH0pO1xuICBvcHRpb24oXCJhdXRvZm9jdXNcIiwgbnVsbCk7XG5cbiAgLy8gTU9ERSBERUZJTklUSU9OIEFORCBRVUVSWUlOR1xuXG4gIC8vIEtub3duIG1vZGVzLCBieSBuYW1lIGFuZCBieSBNSU1FXG4gIHZhciBtb2RlcyA9IENvZGVNaXJyb3IubW9kZXMgPSB7fSwgbWltZU1vZGVzID0gQ29kZU1pcnJvci5taW1lTW9kZXMgPSB7fTtcblxuICAvLyBFeHRyYSBhcmd1bWVudHMgYXJlIHN0b3JlZCBhcyB0aGUgbW9kZSdzIGRlcGVuZGVuY2llcywgd2hpY2ggaXNcbiAgLy8gdXNlZCBieSAobGVnYWN5KSBtZWNoYW5pc21zIGxpa2UgbG9hZG1vZGUuanMgdG8gYXV0b21hdGljYWxseVxuICAvLyBsb2FkIGEgbW9kZS4gKFByZWZlcnJlZCBtZWNoYW5pc20gaXMgdGhlIHJlcXVpcmUvZGVmaW5lIGNhbGxzLilcbiAgQ29kZU1pcnJvci5kZWZpbmVNb2RlID0gZnVuY3Rpb24obmFtZSwgbW9kZSkge1xuICAgIGlmICghQ29kZU1pcnJvci5kZWZhdWx0cy5tb2RlICYmIG5hbWUgIT0gXCJudWxsXCIpIENvZGVNaXJyb3IuZGVmYXVsdHMubW9kZSA9IG5hbWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKVxuICAgICAgbW9kZS5kZXBlbmRlbmNpZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIG1vZGVzW25hbWVdID0gbW9kZTtcbiAgfTtcblxuICBDb2RlTWlycm9yLmRlZmluZU1JTUUgPSBmdW5jdGlvbihtaW1lLCBzcGVjKSB7XG4gICAgbWltZU1vZGVzW21pbWVdID0gc3BlYztcbiAgfTtcblxuICAvLyBHaXZlbiBhIE1JTUUgdHlwZSwgYSB7bmFtZSwgLi4ub3B0aW9uc30gY29uZmlnIG9iamVjdCwgb3IgYSBuYW1lXG4gIC8vIHN0cmluZywgcmV0dXJuIGEgbW9kZSBjb25maWcgb2JqZWN0LlxuICBDb2RlTWlycm9yLnJlc29sdmVNb2RlID0gZnVuY3Rpb24oc3BlYykge1xuICAgIGlmICh0eXBlb2Ygc3BlYyA9PSBcInN0cmluZ1wiICYmIG1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eShzcGVjKSkge1xuICAgICAgc3BlYyA9IG1pbWVNb2Rlc1tzcGVjXTtcbiAgICB9IGVsc2UgaWYgKHNwZWMgJiYgdHlwZW9mIHNwZWMubmFtZSA9PSBcInN0cmluZ1wiICYmIG1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eShzcGVjLm5hbWUpKSB7XG4gICAgICB2YXIgZm91bmQgPSBtaW1lTW9kZXNbc3BlYy5uYW1lXTtcbiAgICAgIGlmICh0eXBlb2YgZm91bmQgPT0gXCJzdHJpbmdcIikgZm91bmQgPSB7bmFtZTogZm91bmR9O1xuICAgICAgc3BlYyA9IGNyZWF0ZU9iaihmb3VuZCwgc3BlYyk7XG4gICAgICBzcGVjLm5hbWUgPSBmb3VuZC5uYW1lO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIiAmJiAvXltcXHdcXC1dK1xcL1tcXHdcXC1dK1xcK3htbCQvLnRlc3Qoc3BlYykpIHtcbiAgICAgIHJldHVybiBDb2RlTWlycm9yLnJlc29sdmVNb2RlKFwiYXBwbGljYXRpb24veG1sXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIikgcmV0dXJuIHtuYW1lOiBzcGVjfTtcbiAgICBlbHNlIHJldHVybiBzcGVjIHx8IHtuYW1lOiBcIm51bGxcIn07XG4gIH07XG5cbiAgLy8gR2l2ZW4gYSBtb2RlIHNwZWMgKGFueXRoaW5nIHRoYXQgcmVzb2x2ZU1vZGUgYWNjZXB0cyksIGZpbmQgYW5kXG4gIC8vIGluaXRpYWxpemUgYW4gYWN0dWFsIG1vZGUgb2JqZWN0LlxuICBDb2RlTWlycm9yLmdldE1vZGUgPSBmdW5jdGlvbihvcHRpb25zLCBzcGVjKSB7XG4gICAgdmFyIHNwZWMgPSBDb2RlTWlycm9yLnJlc29sdmVNb2RlKHNwZWMpO1xuICAgIHZhciBtZmFjdG9yeSA9IG1vZGVzW3NwZWMubmFtZV07XG4gICAgaWYgKCFtZmFjdG9yeSkgcmV0dXJuIENvZGVNaXJyb3IuZ2V0TW9kZShvcHRpb25zLCBcInRleHQvcGxhaW5cIik7XG4gICAgdmFyIG1vZGVPYmogPSBtZmFjdG9yeShvcHRpb25zLCBzcGVjKTtcbiAgICBpZiAobW9kZUV4dGVuc2lvbnMuaGFzT3duUHJvcGVydHkoc3BlYy5uYW1lKSkge1xuICAgICAgdmFyIGV4dHMgPSBtb2RlRXh0ZW5zaW9uc1tzcGVjLm5hbWVdO1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBleHRzKSB7XG4gICAgICAgIGlmICghZXh0cy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgICAgIGlmIChtb2RlT2JqLmhhc093blByb3BlcnR5KHByb3ApKSBtb2RlT2JqW1wiX1wiICsgcHJvcF0gPSBtb2RlT2JqW3Byb3BdO1xuICAgICAgICBtb2RlT2JqW3Byb3BdID0gZXh0c1twcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kZU9iai5uYW1lID0gc3BlYy5uYW1lO1xuICAgIGlmIChzcGVjLmhlbHBlclR5cGUpIG1vZGVPYmouaGVscGVyVHlwZSA9IHNwZWMuaGVscGVyVHlwZTtcbiAgICBpZiAoc3BlYy5tb2RlUHJvcHMpIGZvciAodmFyIHByb3AgaW4gc3BlYy5tb2RlUHJvcHMpXG4gICAgICBtb2RlT2JqW3Byb3BdID0gc3BlYy5tb2RlUHJvcHNbcHJvcF07XG5cbiAgICByZXR1cm4gbW9kZU9iajtcbiAgfTtcblxuICAvLyBNaW5pbWFsIGRlZmF1bHQgbW9kZS5cbiAgQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwibnVsbFwiLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge3Rva2VuOiBmdW5jdGlvbihzdHJlYW0pIHtzdHJlYW0uc2tpcFRvRW5kKCk7fX07XG4gIH0pO1xuICBDb2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3BsYWluXCIsIFwibnVsbFwiKTtcblxuICAvLyBUaGlzIGNhbiBiZSB1c2VkIHRvIGF0dGFjaCBwcm9wZXJ0aWVzIHRvIG1vZGUgb2JqZWN0cyBmcm9tXG4gIC8vIG91dHNpZGUgdGhlIGFjdHVhbCBtb2RlIGRlZmluaXRpb24uXG4gIHZhciBtb2RlRXh0ZW5zaW9ucyA9IENvZGVNaXJyb3IubW9kZUV4dGVuc2lvbnMgPSB7fTtcbiAgQ29kZU1pcnJvci5leHRlbmRNb2RlID0gZnVuY3Rpb24obW9kZSwgcHJvcGVydGllcykge1xuICAgIHZhciBleHRzID0gbW9kZUV4dGVuc2lvbnMuaGFzT3duUHJvcGVydHkobW9kZSkgPyBtb2RlRXh0ZW5zaW9uc1ttb2RlXSA6IChtb2RlRXh0ZW5zaW9uc1ttb2RlXSA9IHt9KTtcbiAgICBjb3B5T2JqKHByb3BlcnRpZXMsIGV4dHMpO1xuICB9O1xuXG4gIC8vIEVYVEVOU0lPTlNcblxuICBDb2RlTWlycm9yLmRlZmluZUV4dGVuc2lvbiA9IGZ1bmN0aW9uKG5hbWUsIGZ1bmMpIHtcbiAgICBDb2RlTWlycm9yLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmM7XG4gIH07XG4gIENvZGVNaXJyb3IuZGVmaW5lRG9jRXh0ZW5zaW9uID0gZnVuY3Rpb24obmFtZSwgZnVuYykge1xuICAgIERvYy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jO1xuICB9O1xuICBDb2RlTWlycm9yLmRlZmluZU9wdGlvbiA9IG9wdGlvbjtcblxuICB2YXIgaW5pdEhvb2tzID0gW107XG4gIENvZGVNaXJyb3IuZGVmaW5lSW5pdEhvb2sgPSBmdW5jdGlvbihmKSB7aW5pdEhvb2tzLnB1c2goZik7fTtcblxuICB2YXIgaGVscGVycyA9IENvZGVNaXJyb3IuaGVscGVycyA9IHt9O1xuICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoIWhlbHBlcnMuaGFzT3duUHJvcGVydHkodHlwZSkpIGhlbHBlcnNbdHlwZV0gPSBDb2RlTWlycm9yW3R5cGVdID0ge19nbG9iYWw6IFtdfTtcbiAgICBoZWxwZXJzW3R5cGVdW25hbWVdID0gdmFsdWU7XG4gIH07XG4gIENvZGVNaXJyb3IucmVnaXN0ZXJHbG9iYWxIZWxwZXIgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBwcmVkaWNhdGUsIHZhbHVlKSB7XG4gICAgQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlcih0eXBlLCBuYW1lLCB2YWx1ZSk7XG4gICAgaGVscGVyc1t0eXBlXS5fZ2xvYmFsLnB1c2goe3ByZWQ6IHByZWRpY2F0ZSwgdmFsOiB2YWx1ZX0pO1xuICB9O1xuXG4gIC8vIE1PREUgU1RBVEUgSEFORExJTkdcblxuICAvLyBVdGlsaXR5IGZ1bmN0aW9ucyBmb3Igd29ya2luZyB3aXRoIHN0YXRlLiBFeHBvcnRlZCBiZWNhdXNlIG5lc3RlZFxuICAvLyBtb2RlcyBuZWVkIHRvIGRvIHRoaXMgZm9yIHRoZWlyIGlubmVyIG1vZGVzLlxuXG4gIHZhciBjb3B5U3RhdGUgPSBDb2RlTWlycm9yLmNvcHlTdGF0ZSA9IGZ1bmN0aW9uKG1vZGUsIHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlID09PSB0cnVlKSByZXR1cm4gc3RhdGU7XG4gICAgaWYgKG1vZGUuY29weVN0YXRlKSByZXR1cm4gbW9kZS5jb3B5U3RhdGUoc3RhdGUpO1xuICAgIHZhciBuc3RhdGUgPSB7fTtcbiAgICBmb3IgKHZhciBuIGluIHN0YXRlKSB7XG4gICAgICB2YXIgdmFsID0gc3RhdGVbbl07XG4gICAgICBpZiAodmFsIGluc3RhbmNlb2YgQXJyYXkpIHZhbCA9IHZhbC5jb25jYXQoW10pO1xuICAgICAgbnN0YXRlW25dID0gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gbnN0YXRlO1xuICB9O1xuXG4gIHZhciBzdGFydFN0YXRlID0gQ29kZU1pcnJvci5zdGFydFN0YXRlID0gZnVuY3Rpb24obW9kZSwgYTEsIGEyKSB7XG4gICAgcmV0dXJuIG1vZGUuc3RhcnRTdGF0ZSA/IG1vZGUuc3RhcnRTdGF0ZShhMSwgYTIpIDogdHJ1ZTtcbiAgfTtcblxuICAvLyBHaXZlbiBhIG1vZGUgYW5kIGEgc3RhdGUgKGZvciB0aGF0IG1vZGUpLCBmaW5kIHRoZSBpbm5lciBtb2RlIGFuZFxuICAvLyBzdGF0ZSBhdCB0aGUgcG9zaXRpb24gdGhhdCB0aGUgc3RhdGUgcmVmZXJzIHRvLlxuICBDb2RlTWlycm9yLmlubmVyTW9kZSA9IGZ1bmN0aW9uKG1vZGUsIHN0YXRlKSB7XG4gICAgd2hpbGUgKG1vZGUuaW5uZXJNb2RlKSB7XG4gICAgICB2YXIgaW5mbyA9IG1vZGUuaW5uZXJNb2RlKHN0YXRlKTtcbiAgICAgIGlmICghaW5mbyB8fCBpbmZvLm1vZGUgPT0gbW9kZSkgYnJlYWs7XG4gICAgICBzdGF0ZSA9IGluZm8uc3RhdGU7XG4gICAgICBtb2RlID0gaW5mby5tb2RlO1xuICAgIH1cbiAgICByZXR1cm4gaW5mbyB8fCB7bW9kZTogbW9kZSwgc3RhdGU6IHN0YXRlfTtcbiAgfTtcblxuICAvLyBTVEFOREFSRCBDT01NQU5EU1xuXG4gIC8vIENvbW1hbmRzIGFyZSBwYXJhbWV0ZXItbGVzcyBhY3Rpb25zIHRoYXQgY2FuIGJlIHBlcmZvcm1lZCBvbiBhblxuICAvLyBlZGl0b3IsIG1vc3RseSB1c2VkIGZvciBrZXliaW5kaW5ncy5cbiAgdmFyIGNvbW1hbmRzID0gQ29kZU1pcnJvci5jb21tYW5kcyA9IHtcbiAgICBzZWxlY3RBbGw6IGZ1bmN0aW9uKGNtKSB7Y20uc2V0U2VsZWN0aW9uKFBvcyhjbS5maXJzdExpbmUoKSwgMCksIFBvcyhjbS5sYXN0TGluZSgpKSwgc2VsX2RvbnRTY3JvbGwpO30sXG4gICAgc2luZ2xlU2VsZWN0aW9uOiBmdW5jdGlvbihjbSkge1xuICAgICAgY20uc2V0U2VsZWN0aW9uKGNtLmdldEN1cnNvcihcImFuY2hvclwiKSwgY20uZ2V0Q3Vyc29yKFwiaGVhZFwiKSwgc2VsX2RvbnRTY3JvbGwpO1xuICAgIH0sXG4gICAga2lsbExpbmU6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2UuZW1wdHkoKSkge1xuICAgICAgICAgIHZhciBsZW4gPSBnZXRMaW5lKGNtLmRvYywgcmFuZ2UuaGVhZC5saW5lKS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBpZiAocmFuZ2UuaGVhZC5jaCA9PSBsZW4gJiYgcmFuZ2UuaGVhZC5saW5lIDwgY20ubGFzdExpbmUoKSlcbiAgICAgICAgICAgIHJldHVybiB7ZnJvbTogcmFuZ2UuaGVhZCwgdG86IFBvcyhyYW5nZS5oZWFkLmxpbmUgKyAxLCAwKX07XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHtmcm9tOiByYW5nZS5oZWFkLCB0bzogUG9zKHJhbmdlLmhlYWQubGluZSwgbGVuKX07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHtmcm9tOiByYW5nZS5mcm9tKCksIHRvOiByYW5nZS50bygpfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBkZWxldGVMaW5lOiBmdW5jdGlvbihjbSkge1xuICAgICAgZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHtmcm9tOiBQb3MocmFuZ2UuZnJvbSgpLmxpbmUsIDApLFxuICAgICAgICAgICAgICAgIHRvOiBjbGlwUG9zKGNtLmRvYywgUG9zKHJhbmdlLnRvKCkubGluZSArIDEsIDApKX07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbExpbmVMZWZ0OiBmdW5jdGlvbihjbSkge1xuICAgICAgZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHtmcm9tOiBQb3MocmFuZ2UuZnJvbSgpLmxpbmUsIDApLCB0bzogcmFuZ2UuZnJvbSgpfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsV3JhcHBlZExpbmVMZWZ0OiBmdW5jdGlvbihjbSkge1xuICAgICAgZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNTtcbiAgICAgICAgdmFyIGxlZnRQb3MgPSBjbS5jb29yZHNDaGFyKHtsZWZ0OiAwLCB0b3A6IHRvcH0sIFwiZGl2XCIpO1xuICAgICAgICByZXR1cm4ge2Zyb206IGxlZnRQb3MsIHRvOiByYW5nZS5mcm9tKCl9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBkZWxXcmFwcGVkTGluZVJpZ2h0OiBmdW5jdGlvbihjbSkge1xuICAgICAgZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNTtcbiAgICAgICAgdmFyIHJpZ2h0UG9zID0gY20uY29vcmRzQ2hhcih7bGVmdDogY20uZGlzcGxheS5saW5lRGl2Lm9mZnNldFdpZHRoICsgMTAwLCB0b3A6IHRvcH0sIFwiZGl2XCIpO1xuICAgICAgICByZXR1cm4ge2Zyb206IHJhbmdlLmZyb20oKSwgdG86IHJpZ2h0UG9zIH07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVuZG86IGZ1bmN0aW9uKGNtKSB7Y20udW5kbygpO30sXG4gICAgcmVkbzogZnVuY3Rpb24oY20pIHtjbS5yZWRvKCk7fSxcbiAgICB1bmRvU2VsZWN0aW9uOiBmdW5jdGlvbihjbSkge2NtLnVuZG9TZWxlY3Rpb24oKTt9LFxuICAgIHJlZG9TZWxlY3Rpb246IGZ1bmN0aW9uKGNtKSB7Y20ucmVkb1NlbGVjdGlvbigpO30sXG4gICAgZ29Eb2NTdGFydDogZnVuY3Rpb24oY20pIHtjbS5leHRlbmRTZWxlY3Rpb24oUG9zKGNtLmZpcnN0TGluZSgpLCAwKSk7fSxcbiAgICBnb0RvY0VuZDogZnVuY3Rpb24oY20pIHtjbS5leHRlbmRTZWxlY3Rpb24oUG9zKGNtLmxhc3RMaW5lKCkpKTt9LFxuICAgIGdvTGluZVN0YXJ0OiBmdW5jdGlvbihjbSkge1xuICAgICAgY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7IHJldHVybiBsaW5lU3RhcnQoY20sIHJhbmdlLmhlYWQubGluZSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge29yaWdpbjogXCIrbW92ZVwiLCBiaWFzOiAxfSk7XG4gICAgfSxcbiAgICBnb0xpbmVTdGFydFNtYXJ0OiBmdW5jdGlvbihjbSkge1xuICAgICAgY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiBsaW5lU3RhcnRTbWFydChjbSwgcmFuZ2UuaGVhZCk7XG4gICAgICB9LCB7b3JpZ2luOiBcIittb3ZlXCIsIGJpYXM6IDF9KTtcbiAgICB9LFxuICAgIGdvTGluZUVuZDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkgeyByZXR1cm4gbGluZUVuZChjbSwgcmFuZ2UuaGVhZC5saW5lKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7b3JpZ2luOiBcIittb3ZlXCIsIGJpYXM6IC0xfSk7XG4gICAgfSxcbiAgICBnb0xpbmVSaWdodDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgdG9wID0gY20uY2hhckNvb3JkcyhyYW5nZS5oZWFkLCBcImRpdlwiKS50b3AgKyA1O1xuICAgICAgICByZXR1cm4gY20uY29vcmRzQ2hhcih7bGVmdDogY20uZGlzcGxheS5saW5lRGl2Lm9mZnNldFdpZHRoICsgMTAwLCB0b3A6IHRvcH0sIFwiZGl2XCIpO1xuICAgICAgfSwgc2VsX21vdmUpO1xuICAgIH0sXG4gICAgZ29MaW5lTGVmdDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgdG9wID0gY20uY2hhckNvb3JkcyhyYW5nZS5oZWFkLCBcImRpdlwiKS50b3AgKyA1O1xuICAgICAgICByZXR1cm4gY20uY29vcmRzQ2hhcih7bGVmdDogMCwgdG9wOiB0b3B9LCBcImRpdlwiKTtcbiAgICAgIH0sIHNlbF9tb3ZlKTtcbiAgICB9LFxuICAgIGdvTGluZUxlZnRTbWFydDogZnVuY3Rpb24oY20pIHtcbiAgICAgIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgdG9wID0gY20uY2hhckNvb3JkcyhyYW5nZS5oZWFkLCBcImRpdlwiKS50b3AgKyA1O1xuICAgICAgICB2YXIgcG9zID0gY20uY29vcmRzQ2hhcih7bGVmdDogMCwgdG9wOiB0b3B9LCBcImRpdlwiKTtcbiAgICAgICAgaWYgKHBvcy5jaCA8IGNtLmdldExpbmUocG9zLmxpbmUpLnNlYXJjaCgvXFxTLykpIHJldHVybiBsaW5lU3RhcnRTbWFydChjbSwgcmFuZ2UuaGVhZCk7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgICB9LCBzZWxfbW92ZSk7XG4gICAgfSxcbiAgICBnb0xpbmVVcDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlVigtMSwgXCJsaW5lXCIpO30sXG4gICAgZ29MaW5lRG93bjogZnVuY3Rpb24oY20pIHtjbS5tb3ZlVigxLCBcImxpbmVcIik7fSxcbiAgICBnb1BhZ2VVcDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlVigtMSwgXCJwYWdlXCIpO30sXG4gICAgZ29QYWdlRG93bjogZnVuY3Rpb24oY20pIHtjbS5tb3ZlVigxLCBcInBhZ2VcIik7fSxcbiAgICBnb0NoYXJMZWZ0OiBmdW5jdGlvbihjbSkge2NtLm1vdmVIKC0xLCBcImNoYXJcIik7fSxcbiAgICBnb0NoYXJSaWdodDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlSCgxLCBcImNoYXJcIik7fSxcbiAgICBnb0NvbHVtbkxlZnQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoLTEsIFwiY29sdW1uXCIpO30sXG4gICAgZ29Db2x1bW5SaWdodDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlSCgxLCBcImNvbHVtblwiKTt9LFxuICAgIGdvV29yZExlZnQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoLTEsIFwid29yZFwiKTt9LFxuICAgIGdvR3JvdXBSaWdodDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlSCgxLCBcImdyb3VwXCIpO30sXG4gICAgZ29Hcm91cExlZnQ6IGZ1bmN0aW9uKGNtKSB7Y20ubW92ZUgoLTEsIFwiZ3JvdXBcIik7fSxcbiAgICBnb1dvcmRSaWdodDogZnVuY3Rpb24oY20pIHtjbS5tb3ZlSCgxLCBcIndvcmRcIik7fSxcbiAgICBkZWxDaGFyQmVmb3JlOiBmdW5jdGlvbihjbSkge2NtLmRlbGV0ZUgoLTEsIFwiY2hhclwiKTt9LFxuICAgIGRlbENoYXJBZnRlcjogZnVuY3Rpb24oY20pIHtjbS5kZWxldGVIKDEsIFwiY2hhclwiKTt9LFxuICAgIGRlbFdvcmRCZWZvcmU6IGZ1bmN0aW9uKGNtKSB7Y20uZGVsZXRlSCgtMSwgXCJ3b3JkXCIpO30sXG4gICAgZGVsV29yZEFmdGVyOiBmdW5jdGlvbihjbSkge2NtLmRlbGV0ZUgoMSwgXCJ3b3JkXCIpO30sXG4gICAgZGVsR3JvdXBCZWZvcmU6IGZ1bmN0aW9uKGNtKSB7Y20uZGVsZXRlSCgtMSwgXCJncm91cFwiKTt9LFxuICAgIGRlbEdyb3VwQWZ0ZXI6IGZ1bmN0aW9uKGNtKSB7Y20uZGVsZXRlSCgxLCBcImdyb3VwXCIpO30sXG4gICAgaW5kZW50QXV0bzogZnVuY3Rpb24oY20pIHtjbS5pbmRlbnRTZWxlY3Rpb24oXCJzbWFydFwiKTt9LFxuICAgIGluZGVudE1vcmU6IGZ1bmN0aW9uKGNtKSB7Y20uaW5kZW50U2VsZWN0aW9uKFwiYWRkXCIpO30sXG4gICAgaW5kZW50TGVzczogZnVuY3Rpb24oY20pIHtjbS5pbmRlbnRTZWxlY3Rpb24oXCJzdWJ0cmFjdFwiKTt9LFxuICAgIGluc2VydFRhYjogZnVuY3Rpb24oY20pIHtjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXFx0XCIpO30sXG4gICAgaW5zZXJ0U29mdFRhYjogZnVuY3Rpb24oY20pIHtcbiAgICAgIHZhciBzcGFjZXMgPSBbXSwgcmFuZ2VzID0gY20ubGlzdFNlbGVjdGlvbnMoKSwgdGFiU2l6ZSA9IGNtLm9wdGlvbnMudGFiU2l6ZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwb3MgPSByYW5nZXNbaV0uZnJvbSgpO1xuICAgICAgICB2YXIgY29sID0gY291bnRDb2x1bW4oY20uZ2V0TGluZShwb3MubGluZSksIHBvcy5jaCwgdGFiU2l6ZSk7XG4gICAgICAgIHNwYWNlcy5wdXNoKHNwYWNlU3RyKHRhYlNpemUgLSBjb2wgJSB0YWJTaXplKSk7XG4gICAgICB9XG4gICAgICBjbS5yZXBsYWNlU2VsZWN0aW9ucyhzcGFjZXMpO1xuICAgIH0sXG4gICAgZGVmYXVsdFRhYjogZnVuY3Rpb24oY20pIHtcbiAgICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSBjbS5pbmRlbnRTZWxlY3Rpb24oXCJhZGRcIik7XG4gICAgICBlbHNlIGNtLmV4ZWNDb21tYW5kKFwiaW5zZXJ0VGFiXCIpO1xuICAgIH0sXG4gICAgdHJhbnNwb3NlQ2hhcnM6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCksIG5ld1NlbCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBjdXIgPSByYW5nZXNbaV0uaGVhZCwgbGluZSA9IGdldExpbmUoY20uZG9jLCBjdXIubGluZSkudGV4dDtcbiAgICAgICAgICBpZiAobGluZSkge1xuICAgICAgICAgICAgaWYgKGN1ci5jaCA9PSBsaW5lLmxlbmd0aCkgY3VyID0gbmV3IFBvcyhjdXIubGluZSwgY3VyLmNoIC0gMSk7XG4gICAgICAgICAgICBpZiAoY3VyLmNoID4gMCkge1xuICAgICAgICAgICAgICBjdXIgPSBuZXcgUG9zKGN1ci5saW5lLCBjdXIuY2ggKyAxKTtcbiAgICAgICAgICAgICAgY20ucmVwbGFjZVJhbmdlKGxpbmUuY2hhckF0KGN1ci5jaCAtIDEpICsgbGluZS5jaGFyQXQoY3VyLmNoIC0gMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3MoY3VyLmxpbmUsIGN1ci5jaCAtIDIpLCBjdXIsIFwiK3RyYW5zcG9zZVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyLmxpbmUgPiBjbS5kb2MuZmlyc3QpIHtcbiAgICAgICAgICAgICAgdmFyIHByZXYgPSBnZXRMaW5lKGNtLmRvYywgY3VyLmxpbmUgLSAxKS50ZXh0O1xuICAgICAgICAgICAgICBpZiAocHJldilcbiAgICAgICAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UobGluZS5jaGFyQXQoMCkgKyBjbS5kb2MubGluZVNlcGFyYXRvcigpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5jaGFyQXQocHJldi5sZW5ndGggLSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zKGN1ci5saW5lIC0gMSwgcHJldi5sZW5ndGggLSAxKSwgUG9zKGN1ci5saW5lLCAxKSwgXCIrdHJhbnNwb3NlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdTZWwucHVzaChuZXcgUmFuZ2UoY3VyLCBjdXIpKTtcbiAgICAgICAgfVxuICAgICAgICBjbS5zZXRTZWxlY3Rpb25zKG5ld1NlbCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG5ld2xpbmVBbmRJbmRlbnQ6IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxlbiA9IGNtLmxpc3RTZWxlY3Rpb25zKCkubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJhbmdlID0gY20ubGlzdFNlbGVjdGlvbnMoKVtpXTtcbiAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UoY20uZG9jLmxpbmVTZXBhcmF0b3IoKSwgcmFuZ2UuYW5jaG9yLCByYW5nZS5oZWFkLCBcIitpbnB1dFwiKTtcbiAgICAgICAgICBjbS5pbmRlbnRMaW5lKHJhbmdlLmZyb20oKS5saW5lICsgMSwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZW5zdXJlQ3Vyc29yVmlzaWJsZShjbSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9wZW5MaW5lOiBmdW5jdGlvbihjbSkge2NtLnJlcGxhY2VTZWxlY3Rpb24oXCJcXG5cIiwgXCJzdGFydFwiKX0sXG4gICAgdG9nZ2xlT3ZlcndyaXRlOiBmdW5jdGlvbihjbSkge2NtLnRvZ2dsZU92ZXJ3cml0ZSgpO31cbiAgfTtcblxuXG4gIC8vIFNUQU5EQVJEIEtFWU1BUFNcblxuICB2YXIga2V5TWFwID0gQ29kZU1pcnJvci5rZXlNYXAgPSB7fTtcblxuICBrZXlNYXAuYmFzaWMgPSB7XG4gICAgXCJMZWZ0XCI6IFwiZ29DaGFyTGVmdFwiLCBcIlJpZ2h0XCI6IFwiZ29DaGFyUmlnaHRcIiwgXCJVcFwiOiBcImdvTGluZVVwXCIsIFwiRG93blwiOiBcImdvTGluZURvd25cIixcbiAgICBcIkVuZFwiOiBcImdvTGluZUVuZFwiLCBcIkhvbWVcIjogXCJnb0xpbmVTdGFydFNtYXJ0XCIsIFwiUGFnZVVwXCI6IFwiZ29QYWdlVXBcIiwgXCJQYWdlRG93blwiOiBcImdvUGFnZURvd25cIixcbiAgICBcIkRlbGV0ZVwiOiBcImRlbENoYXJBZnRlclwiLCBcIkJhY2tzcGFjZVwiOiBcImRlbENoYXJCZWZvcmVcIiwgXCJTaGlmdC1CYWNrc3BhY2VcIjogXCJkZWxDaGFyQmVmb3JlXCIsXG4gICAgXCJUYWJcIjogXCJkZWZhdWx0VGFiXCIsIFwiU2hpZnQtVGFiXCI6IFwiaW5kZW50QXV0b1wiLFxuICAgIFwiRW50ZXJcIjogXCJuZXdsaW5lQW5kSW5kZW50XCIsIFwiSW5zZXJ0XCI6IFwidG9nZ2xlT3ZlcndyaXRlXCIsXG4gICAgXCJFc2NcIjogXCJzaW5nbGVTZWxlY3Rpb25cIlxuICB9O1xuICAvLyBOb3RlIHRoYXQgdGhlIHNhdmUgYW5kIGZpbmQtcmVsYXRlZCBjb21tYW5kcyBhcmVuJ3QgZGVmaW5lZCBieVxuICAvLyBkZWZhdWx0LiBVc2VyIGNvZGUgb3IgYWRkb25zIGNhbiBkZWZpbmUgdGhlbS4gVW5rbm93biBjb21tYW5kc1xuICAvLyBhcmUgc2ltcGx5IGlnbm9yZWQuXG4gIGtleU1hcC5wY0RlZmF1bHQgPSB7XG4gICAgXCJDdHJsLUFcIjogXCJzZWxlY3RBbGxcIiwgXCJDdHJsLURcIjogXCJkZWxldGVMaW5lXCIsIFwiQ3RybC1aXCI6IFwidW5kb1wiLCBcIlNoaWZ0LUN0cmwtWlwiOiBcInJlZG9cIiwgXCJDdHJsLVlcIjogXCJyZWRvXCIsXG4gICAgXCJDdHJsLUhvbWVcIjogXCJnb0RvY1N0YXJ0XCIsIFwiQ3RybC1FbmRcIjogXCJnb0RvY0VuZFwiLCBcIkN0cmwtVXBcIjogXCJnb0xpbmVVcFwiLCBcIkN0cmwtRG93blwiOiBcImdvTGluZURvd25cIixcbiAgICBcIkN0cmwtTGVmdFwiOiBcImdvR3JvdXBMZWZ0XCIsIFwiQ3RybC1SaWdodFwiOiBcImdvR3JvdXBSaWdodFwiLCBcIkFsdC1MZWZ0XCI6IFwiZ29MaW5lU3RhcnRcIiwgXCJBbHQtUmlnaHRcIjogXCJnb0xpbmVFbmRcIixcbiAgICBcIkN0cmwtQmFja3NwYWNlXCI6IFwiZGVsR3JvdXBCZWZvcmVcIiwgXCJDdHJsLURlbGV0ZVwiOiBcImRlbEdyb3VwQWZ0ZXJcIiwgXCJDdHJsLVNcIjogXCJzYXZlXCIsIFwiQ3RybC1GXCI6IFwiZmluZFwiLFxuICAgIFwiQ3RybC1HXCI6IFwiZmluZE5leHRcIiwgXCJTaGlmdC1DdHJsLUdcIjogXCJmaW5kUHJldlwiLCBcIlNoaWZ0LUN0cmwtRlwiOiBcInJlcGxhY2VcIiwgXCJTaGlmdC1DdHJsLVJcIjogXCJyZXBsYWNlQWxsXCIsXG4gICAgXCJDdHJsLVtcIjogXCJpbmRlbnRMZXNzXCIsIFwiQ3RybC1dXCI6IFwiaW5kZW50TW9yZVwiLFxuICAgIFwiQ3RybC1VXCI6IFwidW5kb1NlbGVjdGlvblwiLCBcIlNoaWZ0LUN0cmwtVVwiOiBcInJlZG9TZWxlY3Rpb25cIiwgXCJBbHQtVVwiOiBcInJlZG9TZWxlY3Rpb25cIixcbiAgICBmYWxsdGhyb3VnaDogXCJiYXNpY1wiXG4gIH07XG4gIC8vIFZlcnkgYmFzaWMgcmVhZGxpbmUvZW1hY3Mtc3R5bGUgYmluZGluZ3MsIHdoaWNoIGFyZSBzdGFuZGFyZCBvbiBNYWMuXG4gIGtleU1hcC5lbWFjc3kgPSB7XG4gICAgXCJDdHJsLUZcIjogXCJnb0NoYXJSaWdodFwiLCBcIkN0cmwtQlwiOiBcImdvQ2hhckxlZnRcIiwgXCJDdHJsLVBcIjogXCJnb0xpbmVVcFwiLCBcIkN0cmwtTlwiOiBcImdvTGluZURvd25cIixcbiAgICBcIkFsdC1GXCI6IFwiZ29Xb3JkUmlnaHRcIiwgXCJBbHQtQlwiOiBcImdvV29yZExlZnRcIiwgXCJDdHJsLUFcIjogXCJnb0xpbmVTdGFydFwiLCBcIkN0cmwtRVwiOiBcImdvTGluZUVuZFwiLFxuICAgIFwiQ3RybC1WXCI6IFwiZ29QYWdlRG93blwiLCBcIlNoaWZ0LUN0cmwtVlwiOiBcImdvUGFnZVVwXCIsIFwiQ3RybC1EXCI6IFwiZGVsQ2hhckFmdGVyXCIsIFwiQ3RybC1IXCI6IFwiZGVsQ2hhckJlZm9yZVwiLFxuICAgIFwiQWx0LURcIjogXCJkZWxXb3JkQWZ0ZXJcIiwgXCJBbHQtQmFja3NwYWNlXCI6IFwiZGVsV29yZEJlZm9yZVwiLCBcIkN0cmwtS1wiOiBcImtpbGxMaW5lXCIsIFwiQ3RybC1UXCI6IFwidHJhbnNwb3NlQ2hhcnNcIixcbiAgICBcIkN0cmwtT1wiOiBcIm9wZW5MaW5lXCJcbiAgfTtcbiAga2V5TWFwLm1hY0RlZmF1bHQgPSB7XG4gICAgXCJDbWQtQVwiOiBcInNlbGVjdEFsbFwiLCBcIkNtZC1EXCI6IFwiZGVsZXRlTGluZVwiLCBcIkNtZC1aXCI6IFwidW5kb1wiLCBcIlNoaWZ0LUNtZC1aXCI6IFwicmVkb1wiLCBcIkNtZC1ZXCI6IFwicmVkb1wiLFxuICAgIFwiQ21kLUhvbWVcIjogXCJnb0RvY1N0YXJ0XCIsIFwiQ21kLVVwXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkNtZC1FbmRcIjogXCJnb0RvY0VuZFwiLCBcIkNtZC1Eb3duXCI6IFwiZ29Eb2NFbmRcIiwgXCJBbHQtTGVmdFwiOiBcImdvR3JvdXBMZWZ0XCIsXG4gICAgXCJBbHQtUmlnaHRcIjogXCJnb0dyb3VwUmlnaHRcIiwgXCJDbWQtTGVmdFwiOiBcImdvTGluZUxlZnRcIiwgXCJDbWQtUmlnaHRcIjogXCJnb0xpbmVSaWdodFwiLCBcIkFsdC1CYWNrc3BhY2VcIjogXCJkZWxHcm91cEJlZm9yZVwiLFxuICAgIFwiQ3RybC1BbHQtQmFja3NwYWNlXCI6IFwiZGVsR3JvdXBBZnRlclwiLCBcIkFsdC1EZWxldGVcIjogXCJkZWxHcm91cEFmdGVyXCIsIFwiQ21kLVNcIjogXCJzYXZlXCIsIFwiQ21kLUZcIjogXCJmaW5kXCIsXG4gICAgXCJDbWQtR1wiOiBcImZpbmROZXh0XCIsIFwiU2hpZnQtQ21kLUdcIjogXCJmaW5kUHJldlwiLCBcIkNtZC1BbHQtRlwiOiBcInJlcGxhY2VcIiwgXCJTaGlmdC1DbWQtQWx0LUZcIjogXCJyZXBsYWNlQWxsXCIsXG4gICAgXCJDbWQtW1wiOiBcImluZGVudExlc3NcIiwgXCJDbWQtXVwiOiBcImluZGVudE1vcmVcIiwgXCJDbWQtQmFja3NwYWNlXCI6IFwiZGVsV3JhcHBlZExpbmVMZWZ0XCIsIFwiQ21kLURlbGV0ZVwiOiBcImRlbFdyYXBwZWRMaW5lUmlnaHRcIixcbiAgICBcIkNtZC1VXCI6IFwidW5kb1NlbGVjdGlvblwiLCBcIlNoaWZ0LUNtZC1VXCI6IFwicmVkb1NlbGVjdGlvblwiLCBcIkN0cmwtVXBcIjogXCJnb0RvY1N0YXJ0XCIsIFwiQ3RybC1Eb3duXCI6IFwiZ29Eb2NFbmRcIixcbiAgICBmYWxsdGhyb3VnaDogW1wiYmFzaWNcIiwgXCJlbWFjc3lcIl1cbiAgfTtcbiAga2V5TWFwW1wiZGVmYXVsdFwiXSA9IG1hYyA/IGtleU1hcC5tYWNEZWZhdWx0IDoga2V5TWFwLnBjRGVmYXVsdDtcblxuICAvLyBLRVlNQVAgRElTUEFUQ0hcblxuICBmdW5jdGlvbiBub3JtYWxpemVLZXlOYW1lKG5hbWUpIHtcbiAgICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KC8tKD8hJCkvKSwgbmFtZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgIHZhciBhbHQsIGN0cmwsIHNoaWZ0LCBjbWQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIHZhciBtb2QgPSBwYXJ0c1tpXTtcbiAgICAgIGlmICgvXihjbWR8bWV0YXxtKSQvaS50ZXN0KG1vZCkpIGNtZCA9IHRydWU7XG4gICAgICBlbHNlIGlmICgvXmEobHQpPyQvaS50ZXN0KG1vZCkpIGFsdCA9IHRydWU7XG4gICAgICBlbHNlIGlmICgvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChtb2QpKSBjdHJsID0gdHJ1ZTtcbiAgICAgIGVsc2UgaWYgKC9ecyhoaWZ0KSQvaS50ZXN0KG1vZCkpIHNoaWZ0ID0gdHJ1ZTtcbiAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIG1vZGlmaWVyIG5hbWU6IFwiICsgbW9kKTtcbiAgICB9XG4gICAgaWYgKGFsdCkgbmFtZSA9IFwiQWx0LVwiICsgbmFtZTtcbiAgICBpZiAoY3RybCkgbmFtZSA9IFwiQ3RybC1cIiArIG5hbWU7XG4gICAgaWYgKGNtZCkgbmFtZSA9IFwiQ21kLVwiICsgbmFtZTtcbiAgICBpZiAoc2hpZnQpIG5hbWUgPSBcIlNoaWZ0LVwiICsgbmFtZTtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuXG4gIC8vIFRoaXMgaXMgYSBrbHVkZ2UgdG8ga2VlcCBrZXltYXBzIG1vc3RseSB3b3JraW5nIGFzIHJhdyBvYmplY3RzXG4gIC8vIChiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSkgd2hpbGUgYXQgdGhlIHNhbWUgdGltZSBzdXBwb3J0IGZlYXR1cmVzXG4gIC8vIGxpa2Ugbm9ybWFsaXphdGlvbiBhbmQgbXVsdGktc3Ryb2tlIGtleSBiaW5kaW5ncy4gSXQgY29tcGlsZXMgYVxuICAvLyBuZXcgbm9ybWFsaXplZCBrZXltYXAsIGFuZCB0aGVuIHVwZGF0ZXMgdGhlIG9sZCBvYmplY3QgdG8gcmVmbGVjdFxuICAvLyB0aGlzLlxuICBDb2RlTWlycm9yLm5vcm1hbGl6ZUtleU1hcCA9IGZ1bmN0aW9uKGtleW1hcCkge1xuICAgIHZhciBjb3B5ID0ge307XG4gICAgZm9yICh2YXIga2V5bmFtZSBpbiBrZXltYXApIGlmIChrZXltYXAuaGFzT3duUHJvcGVydHkoa2V5bmFtZSkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGtleW1hcFtrZXluYW1lXTtcbiAgICAgIGlmICgvXihuYW1lfGZhbGx0aHJvdWdofChkZXxhdCl0YWNoKSQvLnRlc3Qoa2V5bmFtZSkpIGNvbnRpbnVlO1xuICAgICAgaWYgKHZhbHVlID09IFwiLi4uXCIpIHsgZGVsZXRlIGtleW1hcFtrZXluYW1lXTsgY29udGludWU7IH1cblxuICAgICAgdmFyIGtleXMgPSBtYXAoa2V5bmFtZS5zcGxpdChcIiBcIiksIG5vcm1hbGl6ZUtleU5hbWUpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWwsIG5hbWU7XG4gICAgICAgIGlmIChpID09IGtleXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIG5hbWUgPSBrZXlzLmpvaW4oXCIgXCIpO1xuICAgICAgICAgIHZhbCA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5hbWUgPSBrZXlzLnNsaWNlKDAsIGkgKyAxKS5qb2luKFwiIFwiKTtcbiAgICAgICAgICB2YWwgPSBcIi4uLlwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2ID0gY29weVtuYW1lXTtcbiAgICAgICAgaWYgKCFwcmV2KSBjb3B5W25hbWVdID0gdmFsO1xuICAgICAgICBlbHNlIGlmIChwcmV2ICE9IHZhbCkgdGhyb3cgbmV3IEVycm9yKFwiSW5jb25zaXN0ZW50IGJpbmRpbmdzIGZvciBcIiArIG5hbWUpO1xuICAgICAgfVxuICAgICAgZGVsZXRlIGtleW1hcFtrZXluYW1lXTtcbiAgICB9XG4gICAgZm9yICh2YXIgcHJvcCBpbiBjb3B5KSBrZXltYXBbcHJvcF0gPSBjb3B5W3Byb3BdO1xuICAgIHJldHVybiBrZXltYXA7XG4gIH07XG5cbiAgdmFyIGxvb2t1cEtleSA9IENvZGVNaXJyb3IubG9va3VwS2V5ID0gZnVuY3Rpb24oa2V5LCBtYXAsIGhhbmRsZSwgY29udGV4dCkge1xuICAgIG1hcCA9IGdldEtleU1hcChtYXApO1xuICAgIHZhciBmb3VuZCA9IG1hcC5jYWxsID8gbWFwLmNhbGwoa2V5LCBjb250ZXh0KSA6IG1hcFtrZXldO1xuICAgIGlmIChmb3VuZCA9PT0gZmFsc2UpIHJldHVybiBcIm5vdGhpbmdcIjtcbiAgICBpZiAoZm91bmQgPT09IFwiLi4uXCIpIHJldHVybiBcIm11bHRpXCI7XG4gICAgaWYgKGZvdW5kICE9IG51bGwgJiYgaGFuZGxlKGZvdW5kKSkgcmV0dXJuIFwiaGFuZGxlZFwiO1xuXG4gICAgaWYgKG1hcC5mYWxsdGhyb3VnaCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChtYXAuZmFsbHRocm91Z2gpICE9IFwiW29iamVjdCBBcnJheV1cIilcbiAgICAgICAgcmV0dXJuIGxvb2t1cEtleShrZXksIG1hcC5mYWxsdGhyb3VnaCwgaGFuZGxlLCBjb250ZXh0KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwLmZhbGx0aHJvdWdoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBsb29rdXBLZXkoa2V5LCBtYXAuZmFsbHRocm91Z2hbaV0sIGhhbmRsZSwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIE1vZGlmaWVyIGtleSBwcmVzc2VzIGRvbid0IGNvdW50IGFzICdyZWFsJyBrZXkgcHJlc3NlcyBmb3IgdGhlXG4gIC8vIHB1cnBvc2Ugb2Yga2V5bWFwIGZhbGx0aHJvdWdoLlxuICB2YXIgaXNNb2RpZmllcktleSA9IENvZGVNaXJyb3IuaXNNb2RpZmllcktleSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIG5hbWUgPSB0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiA/IHZhbHVlIDoga2V5TmFtZXNbdmFsdWUua2V5Q29kZV07XG4gICAgcmV0dXJuIG5hbWUgPT0gXCJDdHJsXCIgfHwgbmFtZSA9PSBcIkFsdFwiIHx8IG5hbWUgPT0gXCJTaGlmdFwiIHx8IG5hbWUgPT0gXCJNb2RcIjtcbiAgfTtcblxuICAvLyBMb29rIHVwIHRoZSBuYW1lIG9mIGEga2V5IGFzIGluZGljYXRlZCBieSBhbiBldmVudCBvYmplY3QuXG4gIHZhciBrZXlOYW1lID0gQ29kZU1pcnJvci5rZXlOYW1lID0gZnVuY3Rpb24oZXZlbnQsIG5vU2hpZnQpIHtcbiAgICBpZiAocHJlc3RvICYmIGV2ZW50LmtleUNvZGUgPT0gMzQgJiYgZXZlbnRbXCJjaGFyXCJdKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGJhc2UgPSBrZXlOYW1lc1tldmVudC5rZXlDb2RlXSwgbmFtZSA9IGJhc2U7XG4gICAgaWYgKG5hbWUgPT0gbnVsbCB8fCBldmVudC5hbHRHcmFwaEtleSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChldmVudC5hbHRLZXkgJiYgYmFzZSAhPSBcIkFsdFwiKSBuYW1lID0gXCJBbHQtXCIgKyBuYW1lO1xuICAgIGlmICgoZmxpcEN0cmxDbWQgPyBldmVudC5tZXRhS2V5IDogZXZlbnQuY3RybEtleSkgJiYgYmFzZSAhPSBcIkN0cmxcIikgbmFtZSA9IFwiQ3RybC1cIiArIG5hbWU7XG4gICAgaWYgKChmbGlwQ3RybENtZCA/IGV2ZW50LmN0cmxLZXkgOiBldmVudC5tZXRhS2V5KSAmJiBiYXNlICE9IFwiQ21kXCIpIG5hbWUgPSBcIkNtZC1cIiArIG5hbWU7XG4gICAgaWYgKCFub1NoaWZ0ICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGJhc2UgIT0gXCJTaGlmdFwiKSBuYW1lID0gXCJTaGlmdC1cIiArIG5hbWU7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0S2V5TWFwKHZhbCkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsID09IFwic3RyaW5nXCIgPyBrZXlNYXBbdmFsXSA6IHZhbDtcbiAgfVxuXG4gIC8vIEZST01URVhUQVJFQVxuXG4gIENvZGVNaXJyb3IuZnJvbVRleHRBcmVhID0gZnVuY3Rpb24odGV4dGFyZWEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IGNvcHlPYmoob3B0aW9ucykgOiB7fTtcbiAgICBvcHRpb25zLnZhbHVlID0gdGV4dGFyZWEudmFsdWU7XG4gICAgaWYgKCFvcHRpb25zLnRhYmluZGV4ICYmIHRleHRhcmVhLnRhYkluZGV4KVxuICAgICAgb3B0aW9ucy50YWJpbmRleCA9IHRleHRhcmVhLnRhYkluZGV4O1xuICAgIGlmICghb3B0aW9ucy5wbGFjZWhvbGRlciAmJiB0ZXh0YXJlYS5wbGFjZWhvbGRlcilcbiAgICAgIG9wdGlvbnMucGxhY2Vob2xkZXIgPSB0ZXh0YXJlYS5wbGFjZWhvbGRlcjtcbiAgICAvLyBTZXQgYXV0b2ZvY3VzIHRvIHRydWUgaWYgdGhpcyB0ZXh0YXJlYSBpcyBmb2N1c2VkLCBvciBpZiBpdCBoYXNcbiAgICAvLyBhdXRvZm9jdXMgYW5kIG5vIG90aGVyIGVsZW1lbnQgaXMgZm9jdXNlZC5cbiAgICBpZiAob3B0aW9ucy5hdXRvZm9jdXMgPT0gbnVsbCkge1xuICAgICAgdmFyIGhhc0ZvY3VzID0gYWN0aXZlRWx0KCk7XG4gICAgICBvcHRpb25zLmF1dG9mb2N1cyA9IGhhc0ZvY3VzID09IHRleHRhcmVhIHx8XG4gICAgICAgIHRleHRhcmVhLmdldEF0dHJpYnV0ZShcImF1dG9mb2N1c1wiKSAhPSBudWxsICYmIGhhc0ZvY3VzID09IGRvY3VtZW50LmJvZHk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2F2ZSgpIHt0ZXh0YXJlYS52YWx1ZSA9IGNtLmdldFZhbHVlKCk7fVxuICAgIGlmICh0ZXh0YXJlYS5mb3JtKSB7XG4gICAgICBvbih0ZXh0YXJlYS5mb3JtLCBcInN1Ym1pdFwiLCBzYXZlKTtcbiAgICAgIC8vIERlcGxvcmFibGUgaGFjayB0byBtYWtlIHRoZSBzdWJtaXQgbWV0aG9kIGRvIHRoZSByaWdodCB0aGluZy5cbiAgICAgIGlmICghb3B0aW9ucy5sZWF2ZVN1Ym1pdE1ldGhvZEFsb25lKSB7XG4gICAgICAgIHZhciBmb3JtID0gdGV4dGFyZWEuZm9ybSwgcmVhbFN1Ym1pdCA9IGZvcm0uc3VibWl0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciB3cmFwcGVkU3VibWl0ID0gZm9ybS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNhdmUoKTtcbiAgICAgICAgICAgIGZvcm0uc3VibWl0ID0gcmVhbFN1Ym1pdDtcbiAgICAgICAgICAgIGZvcm0uc3VibWl0KCk7XG4gICAgICAgICAgICBmb3JtLnN1Ym1pdCA9IHdyYXBwZWRTdWJtaXQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgfVxuICAgIH1cblxuICAgIG9wdGlvbnMuZmluaXNoSW5pdCA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgICBjbS5zYXZlID0gc2F2ZTtcbiAgICAgIGNtLmdldFRleHRBcmVhID0gZnVuY3Rpb24oKSB7IHJldHVybiB0ZXh0YXJlYTsgfTtcbiAgICAgIGNtLnRvVGV4dEFyZWEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY20udG9UZXh0QXJlYSA9IGlzTmFOOyAvLyBQcmV2ZW50IHRoaXMgZnJvbSBiZWluZyByYW4gdHdpY2VcbiAgICAgICAgc2F2ZSgpO1xuICAgICAgICB0ZXh0YXJlYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNtLmdldFdyYXBwZXJFbGVtZW50KCkpO1xuICAgICAgICB0ZXh0YXJlYS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgaWYgKHRleHRhcmVhLmZvcm0pIHtcbiAgICAgICAgICBvZmYodGV4dGFyZWEuZm9ybSwgXCJzdWJtaXRcIiwgc2F2ZSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0YXJlYS5mb3JtLnN1Ym1pdCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICB0ZXh0YXJlYS5mb3JtLnN1Ym1pdCA9IHJlYWxTdWJtaXQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgIHRleHRhcmVhLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB2YXIgY20gPSBDb2RlTWlycm9yKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHRleHRhcmVhLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHRleHRhcmVhLm5leHRTaWJsaW5nKTtcbiAgICB9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gY207XG4gIH07XG5cbiAgLy8gU1RSSU5HIFNUUkVBTVxuXG4gIC8vIEZlZCB0byB0aGUgbW9kZSBwYXJzZXJzLCBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIG1ha2VcbiAgLy8gcGFyc2VycyBtb3JlIHN1Y2NpbmN0LlxuXG4gIHZhciBTdHJpbmdTdHJlYW0gPSBDb2RlTWlycm9yLlN0cmluZ1N0cmVhbSA9IGZ1bmN0aW9uKHN0cmluZywgdGFiU2l6ZSkge1xuICAgIHRoaXMucG9zID0gdGhpcy5zdGFydCA9IDA7XG4gICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgdGhpcy50YWJTaXplID0gdGFiU2l6ZSB8fCA4O1xuICAgIHRoaXMubGFzdENvbHVtblBvcyA9IHRoaXMubGFzdENvbHVtblZhbHVlID0gMDtcbiAgICB0aGlzLmxpbmVTdGFydCA9IDA7XG4gIH07XG5cbiAgU3RyaW5nU3RyZWFtLnByb3RvdHlwZSA9IHtcbiAgICBlb2w6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnBvcyA+PSB0aGlzLnN0cmluZy5sZW5ndGg7fSxcbiAgICBzb2w6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnBvcyA9PSB0aGlzLmxpbmVTdGFydDt9LFxuICAgIHBlZWs6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpIHx8IHVuZGVmaW5lZDt9LFxuICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucG9zIDwgdGhpcy5zdHJpbmcubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKyspO1xuICAgIH0sXG4gICAgZWF0OiBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgdmFyIGNoID0gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKTtcbiAgICAgIGlmICh0eXBlb2YgbWF0Y2ggPT0gXCJzdHJpbmdcIikgdmFyIG9rID0gY2ggPT0gbWF0Y2g7XG4gICAgICBlbHNlIHZhciBvayA9IGNoICYmIChtYXRjaC50ZXN0ID8gbWF0Y2gudGVzdChjaCkgOiBtYXRjaChjaCkpO1xuICAgICAgaWYgKG9rKSB7Kyt0aGlzLnBvczsgcmV0dXJuIGNoO31cbiAgICB9LFxuICAgIGVhdFdoaWxlOiBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgICB3aGlsZSAodGhpcy5lYXQobWF0Y2gpKXt9XG4gICAgICByZXR1cm4gdGhpcy5wb3MgPiBzdGFydDtcbiAgICB9LFxuICAgIGVhdFNwYWNlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgd2hpbGUgKC9bXFxzXFx1MDBhMF0vLnRlc3QodGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKSkpICsrdGhpcy5wb3M7XG4gICAgICByZXR1cm4gdGhpcy5wb3MgPiBzdGFydDtcbiAgICB9LFxuICAgIHNraXBUb0VuZDogZnVuY3Rpb24oKSB7dGhpcy5wb3MgPSB0aGlzLnN0cmluZy5sZW5ndGg7fSxcbiAgICBza2lwVG86IGZ1bmN0aW9uKGNoKSB7XG4gICAgICB2YXIgZm91bmQgPSB0aGlzLnN0cmluZy5pbmRleE9mKGNoLCB0aGlzLnBvcyk7XG4gICAgICBpZiAoZm91bmQgPiAtMSkge3RoaXMucG9zID0gZm91bmQ7IHJldHVybiB0cnVlO31cbiAgICB9LFxuICAgIGJhY2tVcDogZnVuY3Rpb24obikge3RoaXMucG9zIC09IG47fSxcbiAgICBjb2x1bW46IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMubGFzdENvbHVtblBvcyA8IHRoaXMuc3RhcnQpIHtcbiAgICAgICAgdGhpcy5sYXN0Q29sdW1uVmFsdWUgPSBjb3VudENvbHVtbih0aGlzLnN0cmluZywgdGhpcy5zdGFydCwgdGhpcy50YWJTaXplLCB0aGlzLmxhc3RDb2x1bW5Qb3MsIHRoaXMubGFzdENvbHVtblZhbHVlKTtcbiAgICAgICAgdGhpcy5sYXN0Q29sdW1uUG9zID0gdGhpcy5zdGFydDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmxhc3RDb2x1bW5WYWx1ZSAtICh0aGlzLmxpbmVTdGFydCA/IGNvdW50Q29sdW1uKHRoaXMuc3RyaW5nLCB0aGlzLmxpbmVTdGFydCwgdGhpcy50YWJTaXplKSA6IDApO1xuICAgIH0sXG4gICAgaW5kZW50YXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGNvdW50Q29sdW1uKHRoaXMuc3RyaW5nLCBudWxsLCB0aGlzLnRhYlNpemUpIC1cbiAgICAgICAgKHRoaXMubGluZVN0YXJ0ID8gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIHRoaXMubGluZVN0YXJ0LCB0aGlzLnRhYlNpemUpIDogMCk7XG4gICAgfSxcbiAgICBtYXRjaDogZnVuY3Rpb24ocGF0dGVybiwgY29uc3VtZSwgY2FzZUluc2Vuc2l0aXZlKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdHRlcm4gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YXIgY2FzZWQgPSBmdW5jdGlvbihzdHIpIHtyZXR1cm4gY2FzZUluc2Vuc2l0aXZlID8gc3RyLnRvTG93ZXJDYXNlKCkgOiBzdHI7fTtcbiAgICAgICAgdmFyIHN1YnN0ciA9IHRoaXMuc3RyaW5nLnN1YnN0cih0aGlzLnBvcywgcGF0dGVybi5sZW5ndGgpO1xuICAgICAgICBpZiAoY2FzZWQoc3Vic3RyKSA9PSBjYXNlZChwYXR0ZXJuKSkge1xuICAgICAgICAgIGlmIChjb25zdW1lICE9PSBmYWxzZSkgdGhpcy5wb3MgKz0gcGF0dGVybi5sZW5ndGg7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMucG9zKS5tYXRjaChwYXR0ZXJuKTtcbiAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4ID4gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChtYXRjaCAmJiBjb25zdW1lICE9PSBmYWxzZSkgdGhpcy5wb3MgKz0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG4gICAgfSxcbiAgICBjdXJyZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmluZy5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLnBvcyk7fSxcbiAgICBoaWRlRmlyc3RDaGFyczogZnVuY3Rpb24obiwgaW5uZXIpIHtcbiAgICAgIHRoaXMubGluZVN0YXJ0ICs9IG47XG4gICAgICB0cnkgeyByZXR1cm4gaW5uZXIoKTsgfVxuICAgICAgZmluYWxseSB7IHRoaXMubGluZVN0YXJ0IC09IG47IH1cbiAgICB9XG4gIH07XG5cbiAgLy8gVEVYVE1BUktFUlNcblxuICAvLyBDcmVhdGVkIHdpdGggbWFya1RleHQgYW5kIHNldEJvb2ttYXJrIG1ldGhvZHMuIEEgVGV4dE1hcmtlciBpcyBhXG4gIC8vIGhhbmRsZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGNsZWFyIG9yIGZpbmQgYSBtYXJrZWQgcG9zaXRpb24gaW4gdGhlXG4gIC8vIGRvY3VtZW50LiBMaW5lIG9iamVjdHMgaG9sZCBhcnJheXMgKG1hcmtlZFNwYW5zKSBjb250YWluaW5nXG4gIC8vIHtmcm9tLCB0bywgbWFya2VyfSBvYmplY3QgcG9pbnRpbmcgdG8gc3VjaCBtYXJrZXIgb2JqZWN0cywgYW5kXG4gIC8vIGluZGljYXRpbmcgdGhhdCBzdWNoIGEgbWFya2VyIGlzIHByZXNlbnQgb24gdGhhdCBsaW5lLiBNdWx0aXBsZVxuICAvLyBsaW5lcyBtYXkgcG9pbnQgdG8gdGhlIHNhbWUgbWFya2VyIHdoZW4gaXQgc3BhbnMgYWNyb3NzIGxpbmVzLlxuICAvLyBUaGUgc3BhbnMgd2lsbCBoYXZlIG51bGwgZm9yIHRoZWlyIGZyb20vdG8gcHJvcGVydGllcyB3aGVuIHRoZVxuICAvLyBtYXJrZXIgY29udGludWVzIGJleW9uZCB0aGUgc3RhcnQvZW5kIG9mIHRoZSBsaW5lLiBNYXJrZXJzIGhhdmVcbiAgLy8gbGlua3MgYmFjayB0byB0aGUgbGluZXMgdGhleSBjdXJyZW50bHkgdG91Y2guXG5cbiAgdmFyIG5leHRNYXJrZXJJZCA9IDA7XG5cbiAgdmFyIFRleHRNYXJrZXIgPSBDb2RlTWlycm9yLlRleHRNYXJrZXIgPSBmdW5jdGlvbihkb2MsIHR5cGUpIHtcbiAgICB0aGlzLmxpbmVzID0gW107XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmRvYyA9IGRvYztcbiAgICB0aGlzLmlkID0gKytuZXh0TWFya2VySWQ7XG4gIH07XG4gIGV2ZW50TWl4aW4oVGV4dE1hcmtlcik7XG5cbiAgLy8gQ2xlYXIgdGhlIG1hcmtlci5cbiAgVGV4dE1hcmtlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5leHBsaWNpdGx5Q2xlYXJlZCkgcmV0dXJuO1xuICAgIHZhciBjbSA9IHRoaXMuZG9jLmNtLCB3aXRoT3AgPSBjbSAmJiAhY20uY3VyT3A7XG4gICAgaWYgKHdpdGhPcCkgc3RhcnRPcGVyYXRpb24oY20pO1xuICAgIGlmIChoYXNIYW5kbGVyKHRoaXMsIFwiY2xlYXJcIikpIHtcbiAgICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZCgpO1xuICAgICAgaWYgKGZvdW5kKSBzaWduYWxMYXRlcih0aGlzLCBcImNsZWFyXCIsIGZvdW5kLmZyb20sIGZvdW5kLnRvKTtcbiAgICB9XG4gICAgdmFyIG1pbiA9IG51bGwsIG1heCA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluZSA9IHRoaXMubGluZXNbaV07XG4gICAgICB2YXIgc3BhbiA9IGdldE1hcmtlZFNwYW5Gb3IobGluZS5tYXJrZWRTcGFucywgdGhpcyk7XG4gICAgICBpZiAoY20gJiYgIXRoaXMuY29sbGFwc2VkKSByZWdMaW5lQ2hhbmdlKGNtLCBsaW5lTm8obGluZSksIFwidGV4dFwiKTtcbiAgICAgIGVsc2UgaWYgKGNtKSB7XG4gICAgICAgIGlmIChzcGFuLnRvICE9IG51bGwpIG1heCA9IGxpbmVObyhsaW5lKTtcbiAgICAgICAgaWYgKHNwYW4uZnJvbSAhPSBudWxsKSBtaW4gPSBsaW5lTm8obGluZSk7XG4gICAgICB9XG4gICAgICBsaW5lLm1hcmtlZFNwYW5zID0gcmVtb3ZlTWFya2VkU3BhbihsaW5lLm1hcmtlZFNwYW5zLCBzcGFuKTtcbiAgICAgIGlmIChzcGFuLmZyb20gPT0gbnVsbCAmJiB0aGlzLmNvbGxhcHNlZCAmJiAhbGluZUlzSGlkZGVuKHRoaXMuZG9jLCBsaW5lKSAmJiBjbSlcbiAgICAgICAgdXBkYXRlTGluZUhlaWdodChsaW5lLCB0ZXh0SGVpZ2h0KGNtLmRpc3BsYXkpKTtcbiAgICB9XG4gICAgaWYgKGNtICYmIHRoaXMuY29sbGFwc2VkICYmICFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgdmlzdWFsID0gdmlzdWFsTGluZSh0aGlzLmxpbmVzW2ldKSwgbGVuID0gbGluZUxlbmd0aCh2aXN1YWwpO1xuICAgICAgaWYgKGxlbiA+IGNtLmRpc3BsYXkubWF4TGluZUxlbmd0aCkge1xuICAgICAgICBjbS5kaXNwbGF5Lm1heExpbmUgPSB2aXN1YWw7XG4gICAgICAgIGNtLmRpc3BsYXkubWF4TGluZUxlbmd0aCA9IGxlbjtcbiAgICAgICAgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1pbiAhPSBudWxsICYmIGNtICYmIHRoaXMuY29sbGFwc2VkKSByZWdDaGFuZ2UoY20sIG1pbiwgbWF4ICsgMSk7XG4gICAgdGhpcy5saW5lcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuZXhwbGljaXRseUNsZWFyZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLmF0b21pYyAmJiB0aGlzLmRvYy5jYW50RWRpdCkge1xuICAgICAgdGhpcy5kb2MuY2FudEVkaXQgPSBmYWxzZTtcbiAgICAgIGlmIChjbSkgcmVDaGVja1NlbGVjdGlvbihjbS5kb2MpO1xuICAgIH1cbiAgICBpZiAoY20pIHNpZ25hbExhdGVyKGNtLCBcIm1hcmtlckNsZWFyZWRcIiwgY20sIHRoaXMpO1xuICAgIGlmICh3aXRoT3ApIGVuZE9wZXJhdGlvbihjbSk7XG4gICAgaWYgKHRoaXMucGFyZW50KSB0aGlzLnBhcmVudC5jbGVhcigpO1xuICB9O1xuXG4gIC8vIEZpbmQgdGhlIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIgaW4gdGhlIGRvY3VtZW50LiBSZXR1cm5zIGEge2Zyb20sXG4gIC8vIHRvfSBvYmplY3QgYnkgZGVmYXVsdC4gU2lkZSBjYW4gYmUgcGFzc2VkIHRvIGdldCBhIHNwZWNpZmljIHNpZGVcbiAgLy8gLS0gMCAoYm90aCksIC0xIChsZWZ0KSwgb3IgMSAocmlnaHQpLiBXaGVuIGxpbmVPYmogaXMgdHJ1ZSwgdGhlXG4gIC8vIFBvcyBvYmplY3RzIHJldHVybmVkIGNvbnRhaW4gYSBsaW5lIG9iamVjdCwgcmF0aGVyIHRoYW4gYSBsaW5lXG4gIC8vIG51bWJlciAodXNlZCB0byBwcmV2ZW50IGxvb2tpbmcgdXAgdGhlIHNhbWUgbGluZSB0d2ljZSkuXG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihzaWRlLCBsaW5lT2JqKSB7XG4gICAgaWYgKHNpZGUgPT0gbnVsbCAmJiB0aGlzLnR5cGUgPT0gXCJib29rbWFya1wiKSBzaWRlID0gMTtcbiAgICB2YXIgZnJvbSwgdG87XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluZSA9IHRoaXMubGluZXNbaV07XG4gICAgICB2YXIgc3BhbiA9IGdldE1hcmtlZFNwYW5Gb3IobGluZS5tYXJrZWRTcGFucywgdGhpcyk7XG4gICAgICBpZiAoc3Bhbi5mcm9tICE9IG51bGwpIHtcbiAgICAgICAgZnJvbSA9IFBvcyhsaW5lT2JqID8gbGluZSA6IGxpbmVObyhsaW5lKSwgc3Bhbi5mcm9tKTtcbiAgICAgICAgaWYgKHNpZGUgPT0gLTEpIHJldHVybiBmcm9tO1xuICAgICAgfVxuICAgICAgaWYgKHNwYW4udG8gIT0gbnVsbCkge1xuICAgICAgICB0byA9IFBvcyhsaW5lT2JqID8gbGluZSA6IGxpbmVObyhsaW5lKSwgc3Bhbi50byk7XG4gICAgICAgIGlmIChzaWRlID09IDEpIHJldHVybiB0bztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyb20gJiYge2Zyb206IGZyb20sIHRvOiB0b307XG4gIH07XG5cbiAgLy8gU2lnbmFscyB0aGF0IHRoZSBtYXJrZXIncyB3aWRnZXQgY2hhbmdlZCwgYW5kIHN1cnJvdW5kaW5nIGxheW91dFxuICAvLyBzaG91bGQgYmUgcmVjb21wdXRlZC5cbiAgVGV4dE1hcmtlci5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwb3MgPSB0aGlzLmZpbmQoLTEsIHRydWUpLCB3aWRnZXQgPSB0aGlzLCBjbSA9IHRoaXMuZG9jLmNtO1xuICAgIGlmICghcG9zIHx8ICFjbSkgcmV0dXJuO1xuICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxpbmUgPSBwb3MubGluZSwgbGluZU4gPSBsaW5lTm8ocG9zLmxpbmUpO1xuICAgICAgdmFyIHZpZXcgPSBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKTtcbiAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGVGb3Iodmlldyk7XG4gICAgICAgIGNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBjbS5jdXJPcC51cGRhdGVNYXhMaW5lID0gdHJ1ZTtcbiAgICAgIGlmICghbGluZUlzSGlkZGVuKHdpZGdldC5kb2MsIGxpbmUpICYmIHdpZGdldC5oZWlnaHQgIT0gbnVsbCkge1xuICAgICAgICB2YXIgb2xkSGVpZ2h0ID0gd2lkZ2V0LmhlaWdodDtcbiAgICAgICAgd2lkZ2V0LmhlaWdodCA9IG51bGw7XG4gICAgICAgIHZhciBkSGVpZ2h0ID0gd2lkZ2V0SGVpZ2h0KHdpZGdldCkgLSBvbGRIZWlnaHQ7XG4gICAgICAgIGlmIChkSGVpZ2h0KVxuICAgICAgICAgIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgbGluZS5oZWlnaHQgKyBkSGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBUZXh0TWFya2VyLnByb3RvdHlwZS5hdHRhY2hMaW5lID0gZnVuY3Rpb24obGluZSkge1xuICAgIGlmICghdGhpcy5saW5lcy5sZW5ndGggJiYgdGhpcy5kb2MuY20pIHtcbiAgICAgIHZhciBvcCA9IHRoaXMuZG9jLmNtLmN1ck9wO1xuICAgICAgaWYgKCFvcC5tYXliZUhpZGRlbk1hcmtlcnMgfHwgaW5kZXhPZihvcC5tYXliZUhpZGRlbk1hcmtlcnMsIHRoaXMpID09IC0xKVxuICAgICAgICAob3AubWF5YmVVbmhpZGRlbk1hcmtlcnMgfHwgKG9wLm1heWJlVW5oaWRkZW5NYXJrZXJzID0gW10pKS5wdXNoKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLmxpbmVzLnB1c2gobGluZSk7XG4gIH07XG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmRldGFjaExpbmUgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgdGhpcy5saW5lcy5zcGxpY2UoaW5kZXhPZih0aGlzLmxpbmVzLCBsaW5lKSwgMSk7XG4gICAgaWYgKCF0aGlzLmxpbmVzLmxlbmd0aCAmJiB0aGlzLmRvYy5jbSkge1xuICAgICAgdmFyIG9wID0gdGhpcy5kb2MuY20uY3VyT3A7XG4gICAgICAob3AubWF5YmVIaWRkZW5NYXJrZXJzIHx8IChvcC5tYXliZUhpZGRlbk1hcmtlcnMgPSBbXSkpLnB1c2godGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbGxhcHNlZCBtYXJrZXJzIGhhdmUgdW5pcXVlIGlkcywgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBvcmRlclxuICAvLyB0aGVtLCB3aGljaCBpcyBuZWVkZWQgZm9yIHVuaXF1ZWx5IGRldGVybWluaW5nIGFuIG91dGVyIG1hcmtlclxuICAvLyB3aGVuIHRoZXkgb3ZlcmxhcCAodGhleSBtYXkgbmVzdCwgYnV0IG5vdCBwYXJ0aWFsbHkgb3ZlcmxhcCkuXG4gIHZhciBuZXh0TWFya2VySWQgPSAwO1xuXG4gIC8vIENyZWF0ZSBhIG1hcmtlciwgd2lyZSBpdCB1cCB0byB0aGUgcmlnaHQgbGluZXMsIGFuZFxuICBmdW5jdGlvbiBtYXJrVGV4dChkb2MsIGZyb20sIHRvLCBvcHRpb25zLCB0eXBlKSB7XG4gICAgLy8gU2hhcmVkIG1hcmtlcnMgKGFjcm9zcyBsaW5rZWQgZG9jdW1lbnRzKSBhcmUgaGFuZGxlZCBzZXBhcmF0ZWx5XG4gICAgLy8gKG1hcmtUZXh0U2hhcmVkIHdpbGwgY2FsbCBvdXQgdG8gdGhpcyBhZ2Fpbiwgb25jZSBwZXJcbiAgICAvLyBkb2N1bWVudCkuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5zaGFyZWQpIHJldHVybiBtYXJrVGV4dFNoYXJlZChkb2MsIGZyb20sIHRvLCBvcHRpb25zLCB0eXBlKTtcbiAgICAvLyBFbnN1cmUgd2UgYXJlIGluIGFuIG9wZXJhdGlvbi5cbiAgICBpZiAoZG9jLmNtICYmICFkb2MuY20uY3VyT3ApIHJldHVybiBvcGVyYXRpb24oZG9jLmNtLCBtYXJrVGV4dCkoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSk7XG5cbiAgICB2YXIgbWFya2VyID0gbmV3IFRleHRNYXJrZXIoZG9jLCB0eXBlKSwgZGlmZiA9IGNtcChmcm9tLCB0byk7XG4gICAgaWYgKG9wdGlvbnMpIGNvcHlPYmoob3B0aW9ucywgbWFya2VyLCBmYWxzZSk7XG4gICAgLy8gRG9uJ3QgY29ubmVjdCBlbXB0eSBtYXJrZXJzIHVubGVzcyBjbGVhcldoZW5FbXB0eSBpcyBmYWxzZVxuICAgIGlmIChkaWZmID4gMCB8fCBkaWZmID09IDAgJiYgbWFya2VyLmNsZWFyV2hlbkVtcHR5ICE9PSBmYWxzZSlcbiAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgaWYgKG1hcmtlci5yZXBsYWNlZFdpdGgpIHtcbiAgICAgIC8vIFNob3dpbmcgdXAgYXMgYSB3aWRnZXQgaW1wbGllcyBjb2xsYXBzZWQgKHdpZGdldCByZXBsYWNlcyB0ZXh0KVxuICAgICAgbWFya2VyLmNvbGxhcHNlZCA9IHRydWU7XG4gICAgICBtYXJrZXIud2lkZ2V0Tm9kZSA9IGVsdChcInNwYW5cIiwgW21hcmtlci5yZXBsYWNlZFdpdGhdLCBcIkNvZGVNaXJyb3Itd2lkZ2V0XCIpO1xuICAgICAgaWYgKCFvcHRpb25zLmhhbmRsZU1vdXNlRXZlbnRzKSBtYXJrZXIud2lkZ2V0Tm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsIFwidHJ1ZVwiKTtcbiAgICAgIGlmIChvcHRpb25zLmluc2VydExlZnQpIG1hcmtlci53aWRnZXROb2RlLmluc2VydExlZnQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobWFya2VyLmNvbGxhcHNlZCkge1xuICAgICAgaWYgKGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCBmcm9tLmxpbmUsIGZyb20sIHRvLCBtYXJrZXIpIHx8XG4gICAgICAgICAgZnJvbS5saW5lICE9IHRvLmxpbmUgJiYgY29uZmxpY3RpbmdDb2xsYXBzZWRSYW5nZShkb2MsIHRvLmxpbmUsIGZyb20sIHRvLCBtYXJrZXIpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnNlcnRpbmcgY29sbGFwc2VkIG1hcmtlciBwYXJ0aWFsbHkgb3ZlcmxhcHBpbmcgYW4gZXhpc3Rpbmcgb25lXCIpO1xuICAgICAgc2F3Q29sbGFwc2VkU3BhbnMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChtYXJrZXIuYWRkVG9IaXN0b3J5KVxuICAgICAgYWRkQ2hhbmdlVG9IaXN0b3J5KGRvYywge2Zyb206IGZyb20sIHRvOiB0bywgb3JpZ2luOiBcIm1hcmtUZXh0XCJ9LCBkb2Muc2VsLCBOYU4pO1xuXG4gICAgdmFyIGN1ckxpbmUgPSBmcm9tLmxpbmUsIGNtID0gZG9jLmNtLCB1cGRhdGVNYXhMaW5lO1xuICAgIGRvYy5pdGVyKGN1ckxpbmUsIHRvLmxpbmUgKyAxLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAoY20gJiYgbWFya2VyLmNvbGxhcHNlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgdmlzdWFsTGluZShsaW5lKSA9PSBjbS5kaXNwbGF5Lm1heExpbmUpXG4gICAgICAgIHVwZGF0ZU1heExpbmUgPSB0cnVlO1xuICAgICAgaWYgKG1hcmtlci5jb2xsYXBzZWQgJiYgY3VyTGluZSAhPSBmcm9tLmxpbmUpIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgMCk7XG4gICAgICBhZGRNYXJrZWRTcGFuKGxpbmUsIG5ldyBNYXJrZWRTcGFuKG1hcmtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTGluZSA9PSBmcm9tLmxpbmUgPyBmcm9tLmNoIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTGluZSA9PSB0by5saW5lID8gdG8uY2ggOiBudWxsKSk7XG4gICAgICArK2N1ckxpbmU7XG4gICAgfSk7XG4gICAgLy8gbGluZUlzSGlkZGVuIGRlcGVuZHMgb24gdGhlIHByZXNlbmNlIG9mIHRoZSBzcGFucywgc28gbmVlZHMgYSBzZWNvbmQgcGFzc1xuICAgIGlmIChtYXJrZXIuY29sbGFwc2VkKSBkb2MuaXRlcihmcm9tLmxpbmUsIHRvLmxpbmUgKyAxLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpZiAobGluZUlzSGlkZGVuKGRvYywgbGluZSkpIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgMCk7XG4gICAgfSk7XG5cbiAgICBpZiAobWFya2VyLmNsZWFyT25FbnRlcikgb24obWFya2VyLCBcImJlZm9yZUN1cnNvckVudGVyXCIsIGZ1bmN0aW9uKCkgeyBtYXJrZXIuY2xlYXIoKTsgfSk7XG5cbiAgICBpZiAobWFya2VyLnJlYWRPbmx5KSB7XG4gICAgICBzYXdSZWFkT25seVNwYW5zID0gdHJ1ZTtcbiAgICAgIGlmIChkb2MuaGlzdG9yeS5kb25lLmxlbmd0aCB8fCBkb2MuaGlzdG9yeS51bmRvbmUubGVuZ3RoKVxuICAgICAgICBkb2MuY2xlYXJIaXN0b3J5KCk7XG4gICAgfVxuICAgIGlmIChtYXJrZXIuY29sbGFwc2VkKSB7XG4gICAgICBtYXJrZXIuaWQgPSArK25leHRNYXJrZXJJZDtcbiAgICAgIG1hcmtlci5hdG9taWMgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY20pIHtcbiAgICAgIC8vIFN5bmMgZWRpdG9yIHN0YXRlXG4gICAgICBpZiAodXBkYXRlTWF4TGluZSkgY20uY3VyT3AudXBkYXRlTWF4TGluZSA9IHRydWU7XG4gICAgICBpZiAobWFya2VyLmNvbGxhcHNlZClcbiAgICAgICAgcmVnQ2hhbmdlKGNtLCBmcm9tLmxpbmUsIHRvLmxpbmUgKyAxKTtcbiAgICAgIGVsc2UgaWYgKG1hcmtlci5jbGFzc05hbWUgfHwgbWFya2VyLnRpdGxlIHx8IG1hcmtlci5zdGFydFN0eWxlIHx8IG1hcmtlci5lbmRTdHlsZSB8fCBtYXJrZXIuY3NzKVxuICAgICAgICBmb3IgKHZhciBpID0gZnJvbS5saW5lOyBpIDw9IHRvLmxpbmU7IGkrKykgcmVnTGluZUNoYW5nZShjbSwgaSwgXCJ0ZXh0XCIpO1xuICAgICAgaWYgKG1hcmtlci5hdG9taWMpIHJlQ2hlY2tTZWxlY3Rpb24oY20uZG9jKTtcbiAgICAgIHNpZ25hbExhdGVyKGNtLCBcIm1hcmtlckFkZGVkXCIsIGNtLCBtYXJrZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbWFya2VyO1xuICB9XG5cbiAgLy8gU0hBUkVEIFRFWFRNQVJLRVJTXG5cbiAgLy8gQSBzaGFyZWQgbWFya2VyIHNwYW5zIG11bHRpcGxlIGxpbmtlZCBkb2N1bWVudHMuIEl0IGlzXG4gIC8vIGltcGxlbWVudGVkIGFzIGEgbWV0YS1tYXJrZXItb2JqZWN0IGNvbnRyb2xsaW5nIG11bHRpcGxlIG5vcm1hbFxuICAvLyBtYXJrZXJzLlxuICB2YXIgU2hhcmVkVGV4dE1hcmtlciA9IENvZGVNaXJyb3IuU2hhcmVkVGV4dE1hcmtlciA9IGZ1bmN0aW9uKG1hcmtlcnMsIHByaW1hcnkpIHtcbiAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIHRoaXMucHJpbWFyeSA9IHByaW1hcnk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgKytpKVxuICAgICAgbWFya2Vyc1tpXS5wYXJlbnQgPSB0aGlzO1xuICB9O1xuICBldmVudE1peGluKFNoYXJlZFRleHRNYXJrZXIpO1xuXG4gIFNoYXJlZFRleHRNYXJrZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZXhwbGljaXRseUNsZWFyZWQpIHJldHVybjtcbiAgICB0aGlzLmV4cGxpY2l0bHlDbGVhcmVkID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7ICsraSlcbiAgICAgIHRoaXMubWFya2Vyc1tpXS5jbGVhcigpO1xuICAgIHNpZ25hbExhdGVyKHRoaXMsIFwiY2xlYXJcIik7XG4gIH07XG4gIFNoYXJlZFRleHRNYXJrZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihzaWRlLCBsaW5lT2JqKSB7XG4gICAgcmV0dXJuIHRoaXMucHJpbWFyeS5maW5kKHNpZGUsIGxpbmVPYmopO1xuICB9O1xuXG4gIGZ1bmN0aW9uIG1hcmtUZXh0U2hhcmVkKGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpIHtcbiAgICBvcHRpb25zID0gY29weU9iaihvcHRpb25zKTtcbiAgICBvcHRpb25zLnNoYXJlZCA9IGZhbHNlO1xuICAgIHZhciBtYXJrZXJzID0gW21hcmtUZXh0KGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpXSwgcHJpbWFyeSA9IG1hcmtlcnNbMF07XG4gICAgdmFyIHdpZGdldCA9IG9wdGlvbnMud2lkZ2V0Tm9kZTtcbiAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAod2lkZ2V0KSBvcHRpb25zLndpZGdldE5vZGUgPSB3aWRnZXQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgbWFya2Vycy5wdXNoKG1hcmtUZXh0KGRvYywgY2xpcFBvcyhkb2MsIGZyb20pLCBjbGlwUG9zKGRvYywgdG8pLCBvcHRpb25zLCB0eXBlKSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5saW5rZWQubGVuZ3RoOyArK2kpXG4gICAgICAgIGlmIChkb2MubGlua2VkW2ldLmlzUGFyZW50KSByZXR1cm47XG4gICAgICBwcmltYXJ5ID0gbHN0KG1hcmtlcnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgU2hhcmVkVGV4dE1hcmtlcihtYXJrZXJzLCBwcmltYXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRTaGFyZWRNYXJrZXJzKGRvYykge1xuICAgIHJldHVybiBkb2MuZmluZE1hcmtzKFBvcyhkb2MuZmlyc3QsIDApLCBkb2MuY2xpcFBvcyhQb3MoZG9jLmxhc3RMaW5lKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihtKSB7IHJldHVybiBtLnBhcmVudDsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5U2hhcmVkTWFya2Vycyhkb2MsIG1hcmtlcnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2ldLCBwb3MgPSBtYXJrZXIuZmluZCgpO1xuICAgICAgdmFyIG1Gcm9tID0gZG9jLmNsaXBQb3MocG9zLmZyb20pLCBtVG8gPSBkb2MuY2xpcFBvcyhwb3MudG8pO1xuICAgICAgaWYgKGNtcChtRnJvbSwgbVRvKSkge1xuICAgICAgICB2YXIgc3ViTWFyayA9IG1hcmtUZXh0KGRvYywgbUZyb20sIG1UbywgbWFya2VyLnByaW1hcnksIG1hcmtlci5wcmltYXJ5LnR5cGUpO1xuICAgICAgICBtYXJrZXIubWFya2Vycy5wdXNoKHN1Yk1hcmspO1xuICAgICAgICBzdWJNYXJrLnBhcmVudCA9IG1hcmtlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXRhY2hTaGFyZWRNYXJrZXJzKG1hcmtlcnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzW2ldLCBsaW5rZWQgPSBbbWFya2VyLnByaW1hcnkuZG9jXTs7XG4gICAgICBsaW5rZWREb2NzKG1hcmtlci5wcmltYXJ5LmRvYywgZnVuY3Rpb24oZCkgeyBsaW5rZWQucHVzaChkKTsgfSk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hcmtlci5tYXJrZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBzdWJNYXJrZXIgPSBtYXJrZXIubWFya2Vyc1tqXTtcbiAgICAgICAgaWYgKGluZGV4T2YobGlua2VkLCBzdWJNYXJrZXIuZG9jKSA9PSAtMSkge1xuICAgICAgICAgIHN1Yk1hcmtlci5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgIG1hcmtlci5tYXJrZXJzLnNwbGljZShqLS0sIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gVEVYVE1BUktFUiBTUEFOU1xuXG4gIGZ1bmN0aW9uIE1hcmtlZFNwYW4obWFya2VyLCBmcm9tLCB0bykge1xuICAgIHRoaXMubWFya2VyID0gbWFya2VyO1xuICAgIHRoaXMuZnJvbSA9IGZyb207IHRoaXMudG8gPSB0bztcbiAgfVxuXG4gIC8vIFNlYXJjaCBhbiBhcnJheSBvZiBzcGFucyBmb3IgYSBzcGFuIG1hdGNoaW5nIHRoZSBnaXZlbiBtYXJrZXIuXG4gIGZ1bmN0aW9uIGdldE1hcmtlZFNwYW5Gb3Ioc3BhbnMsIG1hcmtlcikge1xuICAgIGlmIChzcGFucykgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwYW4gPSBzcGFuc1tpXTtcbiAgICAgIGlmIChzcGFuLm1hcmtlciA9PSBtYXJrZXIpIHJldHVybiBzcGFuO1xuICAgIH1cbiAgfVxuICAvLyBSZW1vdmUgYSBzcGFuIGZyb20gYW4gYXJyYXksIHJldHVybmluZyB1bmRlZmluZWQgaWYgbm8gc3BhbnMgYXJlXG4gIC8vIGxlZnQgKHdlIGRvbid0IHN0b3JlIGFycmF5cyBmb3IgbGluZXMgd2l0aG91dCBzcGFucykuXG4gIGZ1bmN0aW9uIHJlbW92ZU1hcmtlZFNwYW4oc3BhbnMsIHNwYW4pIHtcbiAgICBmb3IgKHZhciByLCBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKVxuICAgICAgaWYgKHNwYW5zW2ldICE9IHNwYW4pIChyIHx8IChyID0gW10pKS5wdXNoKHNwYW5zW2ldKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuICAvLyBBZGQgYSBzcGFuIHRvIGEgbGluZS5cbiAgZnVuY3Rpb24gYWRkTWFya2VkU3BhbihsaW5lLCBzcGFuKSB7XG4gICAgbGluZS5tYXJrZWRTcGFucyA9IGxpbmUubWFya2VkU3BhbnMgPyBsaW5lLm1hcmtlZFNwYW5zLmNvbmNhdChbc3Bhbl0pIDogW3NwYW5dO1xuICAgIHNwYW4ubWFya2VyLmF0dGFjaExpbmUobGluZSk7XG4gIH1cblxuICAvLyBVc2VkIGZvciB0aGUgYWxnb3JpdGhtIHRoYXQgYWRqdXN0cyBtYXJrZXJzIGZvciBhIGNoYW5nZSBpbiB0aGVcbiAgLy8gZG9jdW1lbnQuIFRoZXNlIGZ1bmN0aW9ucyBjdXQgYW4gYXJyYXkgb2Ygc3BhbnMgYXQgYSBnaXZlblxuICAvLyBjaGFyYWN0ZXIgcG9zaXRpb24sIHJldHVybmluZyBhbiBhcnJheSBvZiByZW1haW5pbmcgY2h1bmtzIChvclxuICAvLyB1bmRlZmluZWQgaWYgbm90aGluZyByZW1haW5zKS5cbiAgZnVuY3Rpb24gbWFya2VkU3BhbnNCZWZvcmUob2xkLCBzdGFydENoLCBpc0luc2VydCkge1xuICAgIGlmIChvbGQpIGZvciAodmFyIGkgPSAwLCBudzsgaSA8IG9sZC5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwYW4gPSBvbGRbaV0sIG1hcmtlciA9IHNwYW4ubWFya2VyO1xuICAgICAgdmFyIHN0YXJ0c0JlZm9yZSA9IHNwYW4uZnJvbSA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlTGVmdCA/IHNwYW4uZnJvbSA8PSBzdGFydENoIDogc3Bhbi5mcm9tIDwgc3RhcnRDaCk7XG4gICAgICBpZiAoc3RhcnRzQmVmb3JlIHx8IHNwYW4uZnJvbSA9PSBzdGFydENoICYmIG1hcmtlci50eXBlID09IFwiYm9va21hcmtcIiAmJiAoIWlzSW5zZXJ0IHx8ICFzcGFuLm1hcmtlci5pbnNlcnRMZWZ0KSkge1xuICAgICAgICB2YXIgZW5kc0FmdGVyID0gc3Bhbi50byA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyBzcGFuLnRvID49IHN0YXJ0Q2ggOiBzcGFuLnRvID4gc3RhcnRDaCk7XG4gICAgICAgIChudyB8fCAobncgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4obWFya2VyLCBzcGFuLmZyb20sIGVuZHNBZnRlciA/IG51bGwgOiBzcGFuLnRvKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudztcbiAgfVxuICBmdW5jdGlvbiBtYXJrZWRTcGFuc0FmdGVyKG9sZCwgZW5kQ2gsIGlzSW5zZXJ0KSB7XG4gICAgaWYgKG9sZCkgZm9yICh2YXIgaSA9IDAsIG53OyBpIDwgb2xkLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3BhbiA9IG9sZFtpXSwgbWFya2VyID0gc3Bhbi5tYXJrZXI7XG4gICAgICB2YXIgZW5kc0FmdGVyID0gc3Bhbi50byA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyBzcGFuLnRvID49IGVuZENoIDogc3Bhbi50byA+IGVuZENoKTtcbiAgICAgIGlmIChlbmRzQWZ0ZXIgfHwgc3Bhbi5mcm9tID09IGVuZENoICYmIG1hcmtlci50eXBlID09IFwiYm9va21hcmtcIiAmJiAoIWlzSW5zZXJ0IHx8IHNwYW4ubWFya2VyLmluc2VydExlZnQpKSB7XG4gICAgICAgIHZhciBzdGFydHNCZWZvcmUgPSBzcGFuLmZyb20gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZUxlZnQgPyBzcGFuLmZyb20gPD0gZW5kQ2ggOiBzcGFuLmZyb20gPCBlbmRDaCk7XG4gICAgICAgIChudyB8fCAobncgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4obWFya2VyLCBzdGFydHNCZWZvcmUgPyBudWxsIDogc3Bhbi5mcm9tIC0gZW5kQ2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi50byA9PSBudWxsID8gbnVsbCA6IHNwYW4udG8gLSBlbmRDaCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnc7XG4gIH1cblxuICAvLyBHaXZlbiBhIGNoYW5nZSBvYmplY3QsIGNvbXB1dGUgdGhlIG5ldyBzZXQgb2YgbWFya2VyIHNwYW5zIHRoYXRcbiAgLy8gY292ZXIgdGhlIGxpbmUgaW4gd2hpY2ggdGhlIGNoYW5nZSB0b29rIHBsYWNlLiBSZW1vdmVzIHNwYW5zXG4gIC8vIGVudGlyZWx5IHdpdGhpbiB0aGUgY2hhbmdlLCByZWNvbm5lY3RzIHNwYW5zIGJlbG9uZ2luZyB0byB0aGVcbiAgLy8gc2FtZSBtYXJrZXIgdGhhdCBhcHBlYXIgb24gYm90aCBzaWRlcyBvZiB0aGUgY2hhbmdlLCBhbmQgY3V0cyBvZmZcbiAgLy8gc3BhbnMgcGFydGlhbGx5IHdpdGhpbiB0aGUgY2hhbmdlLiBSZXR1cm5zIGFuIGFycmF5IG9mIHNwYW5cbiAgLy8gYXJyYXlzIHdpdGggb25lIGVsZW1lbnQgZm9yIGVhY2ggbGluZSBpbiAoYWZ0ZXIpIHRoZSBjaGFuZ2UuXG4gIGZ1bmN0aW9uIHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgICBpZiAoY2hhbmdlLmZ1bGwpIHJldHVybiBudWxsO1xuICAgIHZhciBvbGRGaXJzdCA9IGlzTGluZShkb2MsIGNoYW5nZS5mcm9tLmxpbmUpICYmIGdldExpbmUoZG9jLCBjaGFuZ2UuZnJvbS5saW5lKS5tYXJrZWRTcGFucztcbiAgICB2YXIgb2xkTGFzdCA9IGlzTGluZShkb2MsIGNoYW5nZS50by5saW5lKSAmJiBnZXRMaW5lKGRvYywgY2hhbmdlLnRvLmxpbmUpLm1hcmtlZFNwYW5zO1xuICAgIGlmICghb2xkRmlyc3QgJiYgIW9sZExhc3QpIHJldHVybiBudWxsO1xuXG4gICAgdmFyIHN0YXJ0Q2ggPSBjaGFuZ2UuZnJvbS5jaCwgZW5kQ2ggPSBjaGFuZ2UudG8uY2gsIGlzSW5zZXJ0ID0gY21wKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pID09IDA7XG4gICAgLy8gR2V0IHRoZSBzcGFucyB0aGF0ICdzdGljayBvdXQnIG9uIGJvdGggc2lkZXNcbiAgICB2YXIgZmlyc3QgPSBtYXJrZWRTcGFuc0JlZm9yZShvbGRGaXJzdCwgc3RhcnRDaCwgaXNJbnNlcnQpO1xuICAgIHZhciBsYXN0ID0gbWFya2VkU3BhbnNBZnRlcihvbGRMYXN0LCBlbmRDaCwgaXNJbnNlcnQpO1xuXG4gICAgLy8gTmV4dCwgbWVyZ2UgdGhvc2UgdHdvIGVuZHNcbiAgICB2YXIgc2FtZUxpbmUgPSBjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSwgb2Zmc2V0ID0gbHN0KGNoYW5nZS50ZXh0KS5sZW5ndGggKyAoc2FtZUxpbmUgPyBzdGFydENoIDogMCk7XG4gICAgaWYgKGZpcnN0KSB7XG4gICAgICAvLyBGaXggdXAgLnRvIHByb3BlcnRpZXMgb2YgZmlyc3RcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlyc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHNwYW4gPSBmaXJzdFtpXTtcbiAgICAgICAgaWYgKHNwYW4udG8gPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBmb3VuZCA9IGdldE1hcmtlZFNwYW5Gb3IobGFzdCwgc3Bhbi5tYXJrZXIpO1xuICAgICAgICAgIGlmICghZm91bmQpIHNwYW4udG8gPSBzdGFydENoO1xuICAgICAgICAgIGVsc2UgaWYgKHNhbWVMaW5lKSBzcGFuLnRvID0gZm91bmQudG8gPT0gbnVsbCA/IG51bGwgOiBmb3VuZC50byArIG9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGFzdCkge1xuICAgICAgLy8gRml4IHVwIC5mcm9tIGluIGxhc3QgKG9yIG1vdmUgdGhlbSBpbnRvIGZpcnN0IGluIGNhc2Ugb2Ygc2FtZUxpbmUpXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHNwYW4gPSBsYXN0W2ldO1xuICAgICAgICBpZiAoc3Bhbi50byAhPSBudWxsKSBzcGFuLnRvICs9IG9mZnNldDtcbiAgICAgICAgaWYgKHNwYW4uZnJvbSA9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGZvdW5kID0gZ2V0TWFya2VkU3BhbkZvcihmaXJzdCwgc3Bhbi5tYXJrZXIpO1xuICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgIHNwYW4uZnJvbSA9IG9mZnNldDtcbiAgICAgICAgICAgIGlmIChzYW1lTGluZSkgKGZpcnN0IHx8IChmaXJzdCA9IFtdKSkucHVzaChzcGFuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3Bhbi5mcm9tICs9IG9mZnNldDtcbiAgICAgICAgICBpZiAoc2FtZUxpbmUpIChmaXJzdCB8fCAoZmlyc3QgPSBbXSkpLnB1c2goc3Bhbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIHdlIGRpZG4ndCBjcmVhdGUgYW55IHplcm8tbGVuZ3RoIHNwYW5zXG4gICAgaWYgKGZpcnN0KSBmaXJzdCA9IGNsZWFyRW1wdHlTcGFucyhmaXJzdCk7XG4gICAgaWYgKGxhc3QgJiYgbGFzdCAhPSBmaXJzdCkgbGFzdCA9IGNsZWFyRW1wdHlTcGFucyhsYXN0KTtcblxuICAgIHZhciBuZXdNYXJrZXJzID0gW2ZpcnN0XTtcbiAgICBpZiAoIXNhbWVMaW5lKSB7XG4gICAgICAvLyBGaWxsIGdhcCB3aXRoIHdob2xlLWxpbmUtc3BhbnNcbiAgICAgIHZhciBnYXAgPSBjaGFuZ2UudGV4dC5sZW5ndGggLSAyLCBnYXBNYXJrZXJzO1xuICAgICAgaWYgKGdhcCA+IDAgJiYgZmlyc3QpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlyc3QubGVuZ3RoOyArK2kpXG4gICAgICAgICAgaWYgKGZpcnN0W2ldLnRvID09IG51bGwpXG4gICAgICAgICAgICAoZ2FwTWFya2VycyB8fCAoZ2FwTWFya2VycyA9IFtdKSkucHVzaChuZXcgTWFya2VkU3BhbihmaXJzdFtpXS5tYXJrZXIsIG51bGwsIG51bGwpKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2FwOyArK2kpXG4gICAgICAgIG5ld01hcmtlcnMucHVzaChnYXBNYXJrZXJzKTtcbiAgICAgIG5ld01hcmtlcnMucHVzaChsYXN0KTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld01hcmtlcnM7XG4gIH1cblxuICAvLyBSZW1vdmUgc3BhbnMgdGhhdCBhcmUgZW1wdHkgYW5kIGRvbid0IGhhdmUgYSBjbGVhcldoZW5FbXB0eVxuICAvLyBvcHRpb24gb2YgZmFsc2UuXG4gIGZ1bmN0aW9uIGNsZWFyRW1wdHlTcGFucyhzcGFucykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcGFuID0gc3BhbnNbaV07XG4gICAgICBpZiAoc3Bhbi5mcm9tICE9IG51bGwgJiYgc3Bhbi5mcm9tID09IHNwYW4udG8gJiYgc3Bhbi5tYXJrZXIuY2xlYXJXaGVuRW1wdHkgIT09IGZhbHNlKVxuICAgICAgICBzcGFucy5zcGxpY2UoaS0tLCAxKTtcbiAgICB9XG4gICAgaWYgKCFzcGFucy5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBzcGFucztcbiAgfVxuXG4gIC8vIFVzZWQgZm9yIHVuL3JlLWRvaW5nIGNoYW5nZXMgZnJvbSB0aGUgaGlzdG9yeS4gQ29tYmluZXMgdGhlXG4gIC8vIHJlc3VsdCBvZiBjb21wdXRpbmcgdGhlIGV4aXN0aW5nIHNwYW5zIHdpdGggdGhlIHNldCBvZiBzcGFucyB0aGF0XG4gIC8vIGV4aXN0ZWQgaW4gdGhlIGhpc3RvcnkgKHNvIHRoYXQgZGVsZXRpbmcgYXJvdW5kIGEgc3BhbiBhbmQgdGhlblxuICAvLyB1bmRvaW5nIGJyaW5ncyBiYWNrIHRoZSBzcGFuKS5cbiAgZnVuY3Rpb24gbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkge1xuICAgIHZhciBvbGQgPSBnZXRPbGRTcGFucyhkb2MsIGNoYW5nZSk7XG4gICAgdmFyIHN0cmV0Y2hlZCA9IHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpO1xuICAgIGlmICghb2xkKSByZXR1cm4gc3RyZXRjaGVkO1xuICAgIGlmICghc3RyZXRjaGVkKSByZXR1cm4gb2xkO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBvbGRDdXIgPSBvbGRbaV0sIHN0cmV0Y2hDdXIgPSBzdHJldGNoZWRbaV07XG4gICAgICBpZiAob2xkQ3VyICYmIHN0cmV0Y2hDdXIpIHtcbiAgICAgICAgc3BhbnM6IGZvciAodmFyIGogPSAwOyBqIDwgc3RyZXRjaEN1ci5sZW5ndGg7ICsraikge1xuICAgICAgICAgIHZhciBzcGFuID0gc3RyZXRjaEN1cltqXTtcbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG9sZEN1ci5sZW5ndGg7ICsraylcbiAgICAgICAgICAgIGlmIChvbGRDdXJba10ubWFya2VyID09IHNwYW4ubWFya2VyKSBjb250aW51ZSBzcGFucztcbiAgICAgICAgICBvbGRDdXIucHVzaChzcGFuKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdHJldGNoQ3VyKSB7XG4gICAgICAgIG9sZFtpXSA9IHN0cmV0Y2hDdXI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvbGQ7XG4gIH1cblxuICAvLyBVc2VkIHRvICdjbGlwJyBvdXQgcmVhZE9ubHkgcmFuZ2VzIHdoZW4gbWFraW5nIGEgY2hhbmdlLlxuICBmdW5jdGlvbiByZW1vdmVSZWFkT25seVJhbmdlcyhkb2MsIGZyb20sIHRvKSB7XG4gICAgdmFyIG1hcmtlcnMgPSBudWxsO1xuICAgIGRvYy5pdGVyKGZyb20ubGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lLm1hcmtlZFNwYW5zKSBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIG1hcmsgPSBsaW5lLm1hcmtlZFNwYW5zW2ldLm1hcmtlcjtcbiAgICAgICAgaWYgKG1hcmsucmVhZE9ubHkgJiYgKCFtYXJrZXJzIHx8IGluZGV4T2YobWFya2VycywgbWFyaykgPT0gLTEpKVxuICAgICAgICAgIChtYXJrZXJzIHx8IChtYXJrZXJzID0gW10pKS5wdXNoKG1hcmspO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghbWFya2VycykgcmV0dXJuIG51bGw7XG4gICAgdmFyIHBhcnRzID0gW3tmcm9tOiBmcm9tLCB0bzogdG99XTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBtayA9IG1hcmtlcnNbaV0sIG0gPSBtay5maW5kKDApO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIgcCA9IHBhcnRzW2pdO1xuICAgICAgICBpZiAoY21wKHAudG8sIG0uZnJvbSkgPCAwIHx8IGNtcChwLmZyb20sIG0udG8pID4gMCkgY29udGludWU7XG4gICAgICAgIHZhciBuZXdQYXJ0cyA9IFtqLCAxXSwgZGZyb20gPSBjbXAocC5mcm9tLCBtLmZyb20pLCBkdG8gPSBjbXAocC50bywgbS50byk7XG4gICAgICAgIGlmIChkZnJvbSA8IDAgfHwgIW1rLmluY2x1c2l2ZUxlZnQgJiYgIWRmcm9tKVxuICAgICAgICAgIG5ld1BhcnRzLnB1c2goe2Zyb206IHAuZnJvbSwgdG86IG0uZnJvbX0pO1xuICAgICAgICBpZiAoZHRvID4gMCB8fCAhbWsuaW5jbHVzaXZlUmlnaHQgJiYgIWR0bylcbiAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHtmcm9tOiBtLnRvLCB0bzogcC50b30pO1xuICAgICAgICBwYXJ0cy5zcGxpY2UuYXBwbHkocGFydHMsIG5ld1BhcnRzKTtcbiAgICAgICAgaiArPSBuZXdQYXJ0cy5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydHM7XG4gIH1cblxuICAvLyBDb25uZWN0IG9yIGRpc2Nvbm5lY3Qgc3BhbnMgZnJvbSBhIGxpbmUuXG4gIGZ1bmN0aW9uIGRldGFjaE1hcmtlZFNwYW5zKGxpbmUpIHtcbiAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zO1xuICAgIGlmICghc3BhbnMpIHJldHVybjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKVxuICAgICAgc3BhbnNbaV0ubWFya2VyLmRldGFjaExpbmUobGluZSk7XG4gICAgbGluZS5tYXJrZWRTcGFucyA9IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gYXR0YWNoTWFya2VkU3BhbnMobGluZSwgc3BhbnMpIHtcbiAgICBpZiAoIXNwYW5zKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSlcbiAgICAgIHNwYW5zW2ldLm1hcmtlci5hdHRhY2hMaW5lKGxpbmUpO1xuICAgIGxpbmUubWFya2VkU3BhbnMgPSBzcGFucztcbiAgfVxuXG4gIC8vIEhlbHBlcnMgdXNlZCB3aGVuIGNvbXB1dGluZyB3aGljaCBvdmVybGFwcGluZyBjb2xsYXBzZWQgc3BhblxuICAvLyBjb3VudHMgYXMgdGhlIGxhcmdlciBvbmUuXG4gIGZ1bmN0aW9uIGV4dHJhTGVmdChtYXJrZXIpIHsgcmV0dXJuIG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gLTEgOiAwOyB9XG4gIGZ1bmN0aW9uIGV4dHJhUmlnaHQobWFya2VyKSB7IHJldHVybiBtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyAxIDogMDsgfVxuXG4gIC8vIFJldHVybnMgYSBudW1iZXIgaW5kaWNhdGluZyB3aGljaCBvZiB0d28gb3ZlcmxhcHBpbmcgY29sbGFwc2VkXG4gIC8vIHNwYW5zIGlzIGxhcmdlciAoYW5kIHRodXMgaW5jbHVkZXMgdGhlIG90aGVyKS4gRmFsbHMgYmFjayB0b1xuICAvLyBjb21wYXJpbmcgaWRzIHdoZW4gdGhlIHNwYW5zIGNvdmVyIGV4YWN0bHkgdGhlIHNhbWUgcmFuZ2UuXG4gIGZ1bmN0aW9uIGNvbXBhcmVDb2xsYXBzZWRNYXJrZXJzKGEsIGIpIHtcbiAgICB2YXIgbGVuRGlmZiA9IGEubGluZXMubGVuZ3RoIC0gYi5saW5lcy5sZW5ndGg7XG4gICAgaWYgKGxlbkRpZmYgIT0gMCkgcmV0dXJuIGxlbkRpZmY7XG4gICAgdmFyIGFQb3MgPSBhLmZpbmQoKSwgYlBvcyA9IGIuZmluZCgpO1xuICAgIHZhciBmcm9tQ21wID0gY21wKGFQb3MuZnJvbSwgYlBvcy5mcm9tKSB8fCBleHRyYUxlZnQoYSkgLSBleHRyYUxlZnQoYik7XG4gICAgaWYgKGZyb21DbXApIHJldHVybiAtZnJvbUNtcDtcbiAgICB2YXIgdG9DbXAgPSBjbXAoYVBvcy50bywgYlBvcy50bykgfHwgZXh0cmFSaWdodChhKSAtIGV4dHJhUmlnaHQoYik7XG4gICAgaWYgKHRvQ21wKSByZXR1cm4gdG9DbXA7XG4gICAgcmV0dXJuIGIuaWQgLSBhLmlkO1xuICB9XG5cbiAgLy8gRmluZCBvdXQgd2hldGhlciBhIGxpbmUgZW5kcyBvciBzdGFydHMgaW4gYSBjb2xsYXBzZWQgc3Bhbi4gSWZcbiAgLy8gc28sIHJldHVybiB0aGUgbWFya2VyIGZvciB0aGF0IHNwYW4uXG4gIGZ1bmN0aW9uIGNvbGxhcHNlZFNwYW5BdFNpZGUobGluZSwgc3RhcnQpIHtcbiAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucywgZm91bmQ7XG4gICAgaWYgKHNwcykgZm9yICh2YXIgc3AsIGkgPSAwOyBpIDwgc3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICBzcCA9IHNwc1tpXTtcbiAgICAgIGlmIChzcC5tYXJrZXIuY29sbGFwc2VkICYmIChzdGFydCA/IHNwLmZyb20gOiBzcC50bykgPT0gbnVsbCAmJlxuICAgICAgICAgICghZm91bmQgfHwgY29tcGFyZUNvbGxhcHNlZE1hcmtlcnMoZm91bmQsIHNwLm1hcmtlcikgPCAwKSlcbiAgICAgICAgZm91bmQgPSBzcC5tYXJrZXI7XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRTdGFydChsaW5lKSB7IHJldHVybiBjb2xsYXBzZWRTcGFuQXRTaWRlKGxpbmUsIHRydWUpOyB9XG4gIGZ1bmN0aW9uIGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSB7IHJldHVybiBjb2xsYXBzZWRTcGFuQXRTaWRlKGxpbmUsIGZhbHNlKTsgfVxuXG4gIC8vIFRlc3Qgd2hldGhlciB0aGVyZSBleGlzdHMgYSBjb2xsYXBzZWQgc3BhbiB0aGF0IHBhcnRpYWxseVxuICAvLyBvdmVybGFwcyAoY292ZXJzIHRoZSBzdGFydCBvciBlbmQsIGJ1dCBub3QgYm90aCkgb2YgYSBuZXcgc3Bhbi5cbiAgLy8gU3VjaCBvdmVybGFwIGlzIG5vdCBhbGxvd2VkLlxuICBmdW5jdGlvbiBjb25mbGljdGluZ0NvbGxhcHNlZFJhbmdlKGRvYywgbGluZU5vLCBmcm9tLCB0bywgbWFya2VyKSB7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU5vKTtcbiAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucztcbiAgICBpZiAoc3BzKSBmb3IgKHZhciBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwID0gc3BzW2ldO1xuICAgICAgaWYgKCFzcC5tYXJrZXIuY29sbGFwc2VkKSBjb250aW51ZTtcbiAgICAgIHZhciBmb3VuZCA9IHNwLm1hcmtlci5maW5kKDApO1xuICAgICAgdmFyIGZyb21DbXAgPSBjbXAoZm91bmQuZnJvbSwgZnJvbSkgfHwgZXh0cmFMZWZ0KHNwLm1hcmtlcikgLSBleHRyYUxlZnQobWFya2VyKTtcbiAgICAgIHZhciB0b0NtcCA9IGNtcChmb3VuZC50bywgdG8pIHx8IGV4dHJhUmlnaHQoc3AubWFya2VyKSAtIGV4dHJhUmlnaHQobWFya2VyKTtcbiAgICAgIGlmIChmcm9tQ21wID49IDAgJiYgdG9DbXAgPD0gMCB8fCBmcm9tQ21wIDw9IDAgJiYgdG9DbXAgPj0gMCkgY29udGludWU7XG4gICAgICBpZiAoZnJvbUNtcCA8PSAwICYmIChzcC5tYXJrZXIuaW5jbHVzaXZlUmlnaHQgJiYgbWFya2VyLmluY2x1c2l2ZUxlZnQgPyBjbXAoZm91bmQudG8sIGZyb20pID49IDAgOiBjbXAoZm91bmQudG8sIGZyb20pID4gMCkgfHxcbiAgICAgICAgICBmcm9tQ21wID49IDAgJiYgKHNwLm1hcmtlci5pbmNsdXNpdmVSaWdodCAmJiBtYXJrZXIuaW5jbHVzaXZlTGVmdCA/IGNtcChmb3VuZC5mcm9tLCB0bykgPD0gMCA6IGNtcChmb3VuZC5mcm9tLCB0bykgPCAwKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gQSB2aXN1YWwgbGluZSBpcyBhIGxpbmUgYXMgZHJhd24gb24gdGhlIHNjcmVlbi4gRm9sZGluZywgZm9yXG4gIC8vIGV4YW1wbGUsIGNhbiBjYXVzZSBtdWx0aXBsZSBsb2dpY2FsIGxpbmVzIHRvIGFwcGVhciBvbiB0aGUgc2FtZVxuICAvLyB2aXN1YWwgbGluZS4gVGhpcyBmaW5kcyB0aGUgc3RhcnQgb2YgdGhlIHZpc3VhbCBsaW5lIHRoYXQgdGhlXG4gIC8vIGdpdmVuIGxpbmUgaXMgcGFydCBvZiAodXN1YWxseSB0aGF0IGlzIHRoZSBsaW5lIGl0c2VsZikuXG4gIGZ1bmN0aW9uIHZpc3VhbExpbmUobGluZSkge1xuICAgIHZhciBtZXJnZWQ7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdFN0YXJ0KGxpbmUpKVxuICAgICAgbGluZSA9IG1lcmdlZC5maW5kKC0xLCB0cnVlKS5saW5lO1xuICAgIHJldHVybiBsaW5lO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhbiBhcnJheSBvZiBsb2dpY2FsIGxpbmVzIHRoYXQgY29udGludWUgdGhlIHZpc3VhbCBsaW5lXG4gIC8vIHN0YXJ0ZWQgYnkgdGhlIGFyZ3VtZW50LCBvciB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG5vIHN1Y2ggbGluZXMuXG4gIGZ1bmN0aW9uIHZpc3VhbExpbmVDb250aW51ZWQobGluZSkge1xuICAgIHZhciBtZXJnZWQsIGxpbmVzO1xuICAgIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRFbmQobGluZSkpIHtcbiAgICAgIGxpbmUgPSBtZXJnZWQuZmluZCgxLCB0cnVlKS5saW5lO1xuICAgICAgKGxpbmVzIHx8IChsaW5lcyA9IFtdKSkucHVzaChsaW5lKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpbmVzO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBsaW5lIG51bWJlciBvZiB0aGUgc3RhcnQgb2YgdGhlIHZpc3VhbCBsaW5lIHRoYXQgdGhlXG4gIC8vIGdpdmVuIGxpbmUgbnVtYmVyIGlzIHBhcnQgb2YuXG4gIGZ1bmN0aW9uIHZpc3VhbExpbmVObyhkb2MsIGxpbmVOKSB7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU4pLCB2aXMgPSB2aXN1YWxMaW5lKGxpbmUpO1xuICAgIGlmIChsaW5lID09IHZpcykgcmV0dXJuIGxpbmVOO1xuICAgIHJldHVybiBsaW5lTm8odmlzKTtcbiAgfVxuICAvLyBHZXQgdGhlIGxpbmUgbnVtYmVyIG9mIHRoZSBzdGFydCBvZiB0aGUgbmV4dCB2aXN1YWwgbGluZSBhZnRlclxuICAvLyB0aGUgZ2l2ZW4gbGluZS5cbiAgZnVuY3Rpb24gdmlzdWFsTGluZUVuZE5vKGRvYywgbGluZU4pIHtcbiAgICBpZiAobGluZU4gPiBkb2MubGFzdExpbmUoKSkgcmV0dXJuIGxpbmVOO1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIGxpbmVOKSwgbWVyZ2VkO1xuICAgIGlmICghbGluZUlzSGlkZGVuKGRvYywgbGluZSkpIHJldHVybiBsaW5lTjtcbiAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmUpKVxuICAgICAgbGluZSA9IG1lcmdlZC5maW5kKDEsIHRydWUpLmxpbmU7XG4gICAgcmV0dXJuIGxpbmVObyhsaW5lKSArIDE7XG4gIH1cblxuICAvLyBDb21wdXRlIHdoZXRoZXIgYSBsaW5lIGlzIGhpZGRlbi4gTGluZXMgY291bnQgYXMgaGlkZGVuIHdoZW4gdGhleVxuICAvLyBhcmUgcGFydCBvZiBhIHZpc3VhbCBsaW5lIHRoYXQgc3RhcnRzIHdpdGggYW5vdGhlciBsaW5lLCBvciB3aGVuXG4gIC8vIHRoZXkgYXJlIGVudGlyZWx5IGNvdmVyZWQgYnkgY29sbGFwc2VkLCBub24td2lkZ2V0IHNwYW4uXG4gIGZ1bmN0aW9uIGxpbmVJc0hpZGRlbihkb2MsIGxpbmUpIHtcbiAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucztcbiAgICBpZiAoc3BzKSBmb3IgKHZhciBzcCwgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHNwID0gc3BzW2ldO1xuICAgICAgaWYgKCFzcC5tYXJrZXIuY29sbGFwc2VkKSBjb250aW51ZTtcbiAgICAgIGlmIChzcC5mcm9tID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHNwLm1hcmtlci53aWRnZXROb2RlKSBjb250aW51ZTtcbiAgICAgIGlmIChzcC5mcm9tID09IDAgJiYgc3AubWFya2VyLmluY2x1c2l2ZUxlZnQgJiYgbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBsaW5lSXNIaWRkZW5Jbm5lcihkb2MsIGxpbmUsIHNwYW4pIHtcbiAgICBpZiAoc3Bhbi50byA9PSBudWxsKSB7XG4gICAgICB2YXIgZW5kID0gc3Bhbi5tYXJrZXIuZmluZCgxLCB0cnVlKTtcbiAgICAgIHJldHVybiBsaW5lSXNIaWRkZW5Jbm5lcihkb2MsIGVuZC5saW5lLCBnZXRNYXJrZWRTcGFuRm9yKGVuZC5saW5lLm1hcmtlZFNwYW5zLCBzcGFuLm1hcmtlcikpO1xuICAgIH1cbiAgICBpZiAoc3Bhbi5tYXJrZXIuaW5jbHVzaXZlUmlnaHQgJiYgc3Bhbi50byA9PSBsaW5lLnRleHQubGVuZ3RoKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZm9yICh2YXIgc3AsIGkgPSAwOyBpIDwgbGluZS5tYXJrZWRTcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgc3AgPSBsaW5lLm1hcmtlZFNwYW5zW2ldO1xuICAgICAgaWYgKHNwLm1hcmtlci5jb2xsYXBzZWQgJiYgIXNwLm1hcmtlci53aWRnZXROb2RlICYmIHNwLmZyb20gPT0gc3Bhbi50byAmJlxuICAgICAgICAgIChzcC50byA9PSBudWxsIHx8IHNwLnRvICE9IHNwYW4uZnJvbSkgJiZcbiAgICAgICAgICAoc3AubWFya2VyLmluY2x1c2l2ZUxlZnQgfHwgc3Bhbi5tYXJrZXIuaW5jbHVzaXZlUmlnaHQpICYmXG4gICAgICAgICAgbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcCkpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIExJTkUgV0lER0VUU1xuXG4gIC8vIExpbmUgd2lkZ2V0cyBhcmUgYmxvY2sgZWxlbWVudHMgZGlzcGxheWVkIGFib3ZlIG9yIGJlbG93IGEgbGluZS5cblxuICB2YXIgTGluZVdpZGdldCA9IENvZGVNaXJyb3IuTGluZVdpZGdldCA9IGZ1bmN0aW9uKGRvYywgbm9kZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zKSBmb3IgKHZhciBvcHQgaW4gb3B0aW9ucykgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0KSlcbiAgICAgIHRoaXNbb3B0XSA9IG9wdGlvbnNbb3B0XTtcbiAgICB0aGlzLmRvYyA9IGRvYztcbiAgICB0aGlzLm5vZGUgPSBub2RlO1xuICB9O1xuICBldmVudE1peGluKExpbmVXaWRnZXQpO1xuXG4gIGZ1bmN0aW9uIGFkanVzdFNjcm9sbFdoZW5BYm92ZVZpc2libGUoY20sIGxpbmUsIGRpZmYpIHtcbiAgICBpZiAoaGVpZ2h0QXRMaW5lKGxpbmUpIDwgKChjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxUb3ApIHx8IGNtLmRvYy5zY3JvbGxUb3ApKVxuICAgICAgYWRkVG9TY3JvbGxQb3MoY20sIG51bGwsIGRpZmYpO1xuICB9XG5cbiAgTGluZVdpZGdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY20gPSB0aGlzLmRvYy5jbSwgd3MgPSB0aGlzLmxpbmUud2lkZ2V0cywgbGluZSA9IHRoaXMubGluZSwgbm8gPSBsaW5lTm8obGluZSk7XG4gICAgaWYgKG5vID09IG51bGwgfHwgIXdzKSByZXR1cm47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3cy5sZW5ndGg7ICsraSkgaWYgKHdzW2ldID09IHRoaXMpIHdzLnNwbGljZShpLS0sIDEpO1xuICAgIGlmICghd3MubGVuZ3RoKSBsaW5lLndpZGdldHMgPSBudWxsO1xuICAgIHZhciBoZWlnaHQgPSB3aWRnZXRIZWlnaHQodGhpcyk7XG4gICAgdXBkYXRlTGluZUhlaWdodChsaW5lLCBNYXRoLm1heCgwLCBsaW5lLmhlaWdodCAtIGhlaWdodCkpO1xuICAgIGlmIChjbSkgcnVuSW5PcChjbSwgZnVuY3Rpb24oKSB7XG4gICAgICBhZGp1c3RTY3JvbGxXaGVuQWJvdmVWaXNpYmxlKGNtLCBsaW5lLCAtaGVpZ2h0KTtcbiAgICAgIHJlZ0xpbmVDaGFuZ2UoY20sIG5vLCBcIndpZGdldFwiKTtcbiAgICB9KTtcbiAgfTtcbiAgTGluZVdpZGdldC5wcm90b3R5cGUuY2hhbmdlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbGRIID0gdGhpcy5oZWlnaHQsIGNtID0gdGhpcy5kb2MuY20sIGxpbmUgPSB0aGlzLmxpbmU7XG4gICAgdGhpcy5oZWlnaHQgPSBudWxsO1xuICAgIHZhciBkaWZmID0gd2lkZ2V0SGVpZ2h0KHRoaXMpIC0gb2xkSDtcbiAgICBpZiAoIWRpZmYpIHJldHVybjtcbiAgICB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGxpbmUuaGVpZ2h0ICsgZGlmZik7XG4gICAgaWYgKGNtKSBydW5Jbk9wKGNtLCBmdW5jdGlvbigpIHtcbiAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIGFkanVzdFNjcm9sbFdoZW5BYm92ZVZpc2libGUoY20sIGxpbmUsIGRpZmYpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHdpZGdldEhlaWdodCh3aWRnZXQpIHtcbiAgICBpZiAod2lkZ2V0LmhlaWdodCAhPSBudWxsKSByZXR1cm4gd2lkZ2V0LmhlaWdodDtcbiAgICB2YXIgY20gPSB3aWRnZXQuZG9jLmNtO1xuICAgIGlmICghY20pIHJldHVybiAwO1xuICAgIGlmICghY29udGFpbnMoZG9jdW1lbnQuYm9keSwgd2lkZ2V0Lm5vZGUpKSB7XG4gICAgICB2YXIgcGFyZW50U3R5bGUgPSBcInBvc2l0aW9uOiByZWxhdGl2ZTtcIjtcbiAgICAgIGlmICh3aWRnZXQuY292ZXJHdXR0ZXIpXG4gICAgICAgIHBhcmVudFN0eWxlICs9IFwibWFyZ2luLWxlZnQ6IC1cIiArIGNtLmRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCArIFwicHg7XCI7XG4gICAgICBpZiAod2lkZ2V0Lm5vSFNjcm9sbClcbiAgICAgICAgcGFyZW50U3R5bGUgKz0gXCJ3aWR0aDogXCIgKyBjbS5kaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGggKyBcInB4O1wiO1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoY20uZGlzcGxheS5tZWFzdXJlLCBlbHQoXCJkaXZcIiwgW3dpZGdldC5ub2RlXSwgbnVsbCwgcGFyZW50U3R5bGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpZGdldC5oZWlnaHQgPSB3aWRnZXQubm9kZS5wYXJlbnROb2RlLm9mZnNldEhlaWdodDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZExpbmVXaWRnZXQoZG9jLCBoYW5kbGUsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgd2lkZ2V0ID0gbmV3IExpbmVXaWRnZXQoZG9jLCBub2RlLCBvcHRpb25zKTtcbiAgICB2YXIgY20gPSBkb2MuY207XG4gICAgaWYgKGNtICYmIHdpZGdldC5ub0hTY3JvbGwpIGNtLmRpc3BsYXkuYWxpZ25XaWRnZXRzID0gdHJ1ZTtcbiAgICBjaGFuZ2VMaW5lKGRvYywgaGFuZGxlLCBcIndpZGdldFwiLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgd2lkZ2V0cyA9IGxpbmUud2lkZ2V0cyB8fCAobGluZS53aWRnZXRzID0gW10pO1xuICAgICAgaWYgKHdpZGdldC5pbnNlcnRBdCA9PSBudWxsKSB3aWRnZXRzLnB1c2god2lkZ2V0KTtcbiAgICAgIGVsc2Ugd2lkZ2V0cy5zcGxpY2UoTWF0aC5taW4od2lkZ2V0cy5sZW5ndGggLSAxLCBNYXRoLm1heCgwLCB3aWRnZXQuaW5zZXJ0QXQpKSwgMCwgd2lkZ2V0KTtcbiAgICAgIHdpZGdldC5saW5lID0gbGluZTtcbiAgICAgIGlmIChjbSAmJiAhbGluZUlzSGlkZGVuKGRvYywgbGluZSkpIHtcbiAgICAgICAgdmFyIGFib3ZlVmlzaWJsZSA9IGhlaWdodEF0TGluZShsaW5lKSA8IGRvYy5zY3JvbGxUb3A7XG4gICAgICAgIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgbGluZS5oZWlnaHQgKyB3aWRnZXRIZWlnaHQod2lkZ2V0KSk7XG4gICAgICAgIGlmIChhYm92ZVZpc2libGUpIGFkZFRvU2Nyb2xsUG9zKGNtLCBudWxsLCB3aWRnZXQuaGVpZ2h0KTtcbiAgICAgICAgY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHdpZGdldDtcbiAgfVxuXG4gIC8vIExJTkUgREFUQSBTVFJVQ1RVUkVcblxuICAvLyBMaW5lIG9iamVjdHMuIFRoZXNlIGhvbGQgc3RhdGUgcmVsYXRlZCB0byBhIGxpbmUsIGluY2x1ZGluZ1xuICAvLyBoaWdobGlnaHRpbmcgaW5mbyAodGhlIHN0eWxlcyBhcnJheSkuXG4gIHZhciBMaW5lID0gQ29kZU1pcnJvci5MaW5lID0gZnVuY3Rpb24odGV4dCwgbWFya2VkU3BhbnMsIGVzdGltYXRlSGVpZ2h0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICBhdHRhY2hNYXJrZWRTcGFucyh0aGlzLCBtYXJrZWRTcGFucyk7XG4gICAgdGhpcy5oZWlnaHQgPSBlc3RpbWF0ZUhlaWdodCA/IGVzdGltYXRlSGVpZ2h0KHRoaXMpIDogMTtcbiAgfTtcbiAgZXZlbnRNaXhpbihMaW5lKTtcbiAgTGluZS5wcm90b3R5cGUubGluZU5vID0gZnVuY3Rpb24oKSB7IHJldHVybiBsaW5lTm8odGhpcyk7IH07XG5cbiAgLy8gQ2hhbmdlIHRoZSBjb250ZW50ICh0ZXh0LCBtYXJrZXJzKSBvZiBhIGxpbmUuIEF1dG9tYXRpY2FsbHlcbiAgLy8gaW52YWxpZGF0ZXMgY2FjaGVkIGluZm9ybWF0aW9uIGFuZCB0cmllcyB0byByZS1lc3RpbWF0ZSB0aGVcbiAgLy8gbGluZSdzIGhlaWdodC5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZShsaW5lLCB0ZXh0LCBtYXJrZWRTcGFucywgZXN0aW1hdGVIZWlnaHQpIHtcbiAgICBsaW5lLnRleHQgPSB0ZXh0O1xuICAgIGlmIChsaW5lLnN0YXRlQWZ0ZXIpIGxpbmUuc3RhdGVBZnRlciA9IG51bGw7XG4gICAgaWYgKGxpbmUuc3R5bGVzKSBsaW5lLnN0eWxlcyA9IG51bGw7XG4gICAgaWYgKGxpbmUub3JkZXIgIT0gbnVsbCkgbGluZS5vcmRlciA9IG51bGw7XG4gICAgZGV0YWNoTWFya2VkU3BhbnMobGluZSk7XG4gICAgYXR0YWNoTWFya2VkU3BhbnMobGluZSwgbWFya2VkU3BhbnMpO1xuICAgIHZhciBlc3RIZWlnaHQgPSBlc3RpbWF0ZUhlaWdodCA/IGVzdGltYXRlSGVpZ2h0KGxpbmUpIDogMTtcbiAgICBpZiAoZXN0SGVpZ2h0ICE9IGxpbmUuaGVpZ2h0KSB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIGVzdEhlaWdodCk7XG4gIH1cblxuICAvLyBEZXRhY2ggYSBsaW5lIGZyb20gdGhlIGRvY3VtZW50IHRyZWUgYW5kIGl0cyBtYXJrZXJzLlxuICBmdW5jdGlvbiBjbGVhblVwTGluZShsaW5lKSB7XG4gICAgbGluZS5wYXJlbnQgPSBudWxsO1xuICAgIGRldGFjaE1hcmtlZFNwYW5zKGxpbmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0cmFjdExpbmVDbGFzc2VzKHR5cGUsIG91dHB1dCkge1xuICAgIGlmICh0eXBlKSBmb3IgKDs7KSB7XG4gICAgICB2YXIgbGluZUNsYXNzID0gdHlwZS5tYXRjaCgvKD86XnxcXHMrKWxpbmUtKGJhY2tncm91bmQtKT8oXFxTKykvKTtcbiAgICAgIGlmICghbGluZUNsYXNzKSBicmVhaztcbiAgICAgIHR5cGUgPSB0eXBlLnNsaWNlKDAsIGxpbmVDbGFzcy5pbmRleCkgKyB0eXBlLnNsaWNlKGxpbmVDbGFzcy5pbmRleCArIGxpbmVDbGFzc1swXS5sZW5ndGgpO1xuICAgICAgdmFyIHByb3AgPSBsaW5lQ2xhc3NbMV0gPyBcImJnQ2xhc3NcIiA6IFwidGV4dENsYXNzXCI7XG4gICAgICBpZiAob3V0cHV0W3Byb3BdID09IG51bGwpXG4gICAgICAgIG91dHB1dFtwcm9wXSA9IGxpbmVDbGFzc1syXTtcbiAgICAgIGVsc2UgaWYgKCEobmV3IFJlZ0V4cChcIig/Ol58XFxzKVwiICsgbGluZUNsYXNzWzJdICsgXCIoPzokfFxccylcIikpLnRlc3Qob3V0cHV0W3Byb3BdKSlcbiAgICAgICAgb3V0cHV0W3Byb3BdICs9IFwiIFwiICsgbGluZUNsYXNzWzJdO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbGxCbGFua0xpbmUobW9kZSwgc3RhdGUpIHtcbiAgICBpZiAobW9kZS5ibGFua0xpbmUpIHJldHVybiBtb2RlLmJsYW5rTGluZShzdGF0ZSk7XG4gICAgaWYgKCFtb2RlLmlubmVyTW9kZSkgcmV0dXJuO1xuICAgIHZhciBpbm5lciA9IENvZGVNaXJyb3IuaW5uZXJNb2RlKG1vZGUsIHN0YXRlKTtcbiAgICBpZiAoaW5uZXIubW9kZS5ibGFua0xpbmUpIHJldHVybiBpbm5lci5tb2RlLmJsYW5rTGluZShpbm5lci5zdGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkVG9rZW4obW9kZSwgc3RyZWFtLCBzdGF0ZSwgaW5uZXIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGlmIChpbm5lcikgaW5uZXJbMF0gPSBDb2RlTWlycm9yLmlubmVyTW9kZShtb2RlLCBzdGF0ZSkubW9kZTtcbiAgICAgIHZhciBzdHlsZSA9IG1vZGUudG9rZW4oc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBpZiAoc3RyZWFtLnBvcyA+IHN0cmVhbS5zdGFydCkgcmV0dXJuIHN0eWxlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNb2RlIFwiICsgbW9kZS5uYW1lICsgXCIgZmFpbGVkIHRvIGFkdmFuY2Ugc3RyZWFtLlwiKTtcbiAgfVxuXG4gIC8vIFV0aWxpdHkgZm9yIGdldFRva2VuQXQgYW5kIGdldExpbmVUb2tlbnNcbiAgZnVuY3Rpb24gdGFrZVRva2VuKGNtLCBwb3MsIHByZWNpc2UsIGFzQXJyYXkpIHtcbiAgICBmdW5jdGlvbiBnZXRPYmooY29weSkge1xuICAgICAgcmV0dXJuIHtzdGFydDogc3RyZWFtLnN0YXJ0LCBlbmQ6IHN0cmVhbS5wb3MsXG4gICAgICAgICAgICAgIHN0cmluZzogc3RyZWFtLmN1cnJlbnQoKSxcbiAgICAgICAgICAgICAgdHlwZTogc3R5bGUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgc3RhdGU6IGNvcHkgPyBjb3B5U3RhdGUoZG9jLm1vZGUsIHN0YXRlKSA6IHN0YXRlfTtcbiAgICB9XG5cbiAgICB2YXIgZG9jID0gY20uZG9jLCBtb2RlID0gZG9jLm1vZGUsIHN0eWxlO1xuICAgIHBvcyA9IGNsaXBQb3MoZG9jLCBwb3MpO1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIHBvcy5saW5lKSwgc3RhdGUgPSBnZXRTdGF0ZUJlZm9yZShjbSwgcG9zLmxpbmUsIHByZWNpc2UpO1xuICAgIHZhciBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKGxpbmUudGV4dCwgY20ub3B0aW9ucy50YWJTaXplKSwgdG9rZW5zO1xuICAgIGlmIChhc0FycmF5KSB0b2tlbnMgPSBbXTtcbiAgICB3aGlsZSAoKGFzQXJyYXkgfHwgc3RyZWFtLnBvcyA8IHBvcy5jaCkgJiYgIXN0cmVhbS5lb2woKSkge1xuICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICAgIHN0eWxlID0gcmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgICAgaWYgKGFzQXJyYXkpIHRva2Vucy5wdXNoKGdldE9iaih0cnVlKSk7XG4gICAgfVxuICAgIHJldHVybiBhc0FycmF5ID8gdG9rZW5zIDogZ2V0T2JqKCk7XG4gIH1cblxuICAvLyBSdW4gdGhlIGdpdmVuIG1vZGUncyBwYXJzZXIgb3ZlciBhIGxpbmUsIGNhbGxpbmcgZiBmb3IgZWFjaCB0b2tlbi5cbiAgZnVuY3Rpb24gcnVuTW9kZShjbSwgdGV4dCwgbW9kZSwgc3RhdGUsIGYsIGxpbmVDbGFzc2VzLCBmb3JjZVRvRW5kKSB7XG4gICAgdmFyIGZsYXR0ZW5TcGFucyA9IG1vZGUuZmxhdHRlblNwYW5zO1xuICAgIGlmIChmbGF0dGVuU3BhbnMgPT0gbnVsbCkgZmxhdHRlblNwYW5zID0gY20ub3B0aW9ucy5mbGF0dGVuU3BhbnM7XG4gICAgdmFyIGN1clN0YXJ0ID0gMCwgY3VyU3R5bGUgPSBudWxsO1xuICAgIHZhciBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKHRleHQsIGNtLm9wdGlvbnMudGFiU2l6ZSksIHN0eWxlO1xuICAgIHZhciBpbm5lciA9IGNtLm9wdGlvbnMuYWRkTW9kZUNsYXNzICYmIFtudWxsXTtcbiAgICBpZiAodGV4dCA9PSBcIlwiKSBleHRyYWN0TGluZUNsYXNzZXMoY2FsbEJsYW5rTGluZShtb2RlLCBzdGF0ZSksIGxpbmVDbGFzc2VzKTtcbiAgICB3aGlsZSAoIXN0cmVhbS5lb2woKSkge1xuICAgICAgaWYgKHN0cmVhbS5wb3MgPiBjbS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aCkge1xuICAgICAgICBmbGF0dGVuU3BhbnMgPSBmYWxzZTtcbiAgICAgICAgaWYgKGZvcmNlVG9FbmQpIHByb2Nlc3NMaW5lKGNtLCB0ZXh0LCBzdGF0ZSwgc3RyZWFtLnBvcyk7XG4gICAgICAgIHN0cmVhbS5wb3MgPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgc3R5bGUgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUgPSBleHRyYWN0TGluZUNsYXNzZXMocmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUsIGlubmVyKSwgbGluZUNsYXNzZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGlubmVyKSB7XG4gICAgICAgIHZhciBtTmFtZSA9IGlubmVyWzBdLm5hbWU7XG4gICAgICAgIGlmIChtTmFtZSkgc3R5bGUgPSBcIm0tXCIgKyAoc3R5bGUgPyBtTmFtZSArIFwiIFwiICsgc3R5bGUgOiBtTmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoIWZsYXR0ZW5TcGFucyB8fCBjdXJTdHlsZSAhPSBzdHlsZSkge1xuICAgICAgICB3aGlsZSAoY3VyU3RhcnQgPCBzdHJlYW0uc3RhcnQpIHtcbiAgICAgICAgICBjdXJTdGFydCA9IE1hdGgubWluKHN0cmVhbS5zdGFydCwgY3VyU3RhcnQgKyA1MDAwMCk7XG4gICAgICAgICAgZihjdXJTdGFydCwgY3VyU3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGN1clN0eWxlID0gc3R5bGU7XG4gICAgICB9XG4gICAgICBzdHJlYW0uc3RhcnQgPSBzdHJlYW0ucG9zO1xuICAgIH1cbiAgICB3aGlsZSAoY3VyU3RhcnQgPCBzdHJlYW0ucG9zKSB7XG4gICAgICAvLyBXZWJraXQgc2VlbXMgdG8gcmVmdXNlIHRvIHJlbmRlciB0ZXh0IG5vZGVzIGxvbmdlciB0aGFuIDU3NDQ0IGNoYXJhY3RlcnNcbiAgICAgIHZhciBwb3MgPSBNYXRoLm1pbihzdHJlYW0ucG9zLCBjdXJTdGFydCArIDUwMDAwKTtcbiAgICAgIGYocG9zLCBjdXJTdHlsZSk7XG4gICAgICBjdXJTdGFydCA9IHBvcztcbiAgICB9XG4gIH1cblxuICAvLyBDb21wdXRlIGEgc3R5bGUgYXJyYXkgKGFuIGFycmF5IHN0YXJ0aW5nIHdpdGggYSBtb2RlIGdlbmVyYXRpb25cbiAgLy8gLS0gZm9yIGludmFsaWRhdGlvbiAtLSBmb2xsb3dlZCBieSBwYWlycyBvZiBlbmQgcG9zaXRpb25zIGFuZFxuICAvLyBzdHlsZSBzdHJpbmdzKSwgd2hpY2ggaXMgdXNlZCB0byBoaWdobGlnaHQgdGhlIHRva2VucyBvbiB0aGVcbiAgLy8gbGluZS5cbiAgZnVuY3Rpb24gaGlnaGxpZ2h0TGluZShjbSwgbGluZSwgc3RhdGUsIGZvcmNlVG9FbmQpIHtcbiAgICAvLyBBIHN0eWxlcyBhcnJheSBhbHdheXMgc3RhcnRzIHdpdGggYSBudW1iZXIgaWRlbnRpZnlpbmcgdGhlXG4gICAgLy8gbW9kZS9vdmVybGF5cyB0aGF0IGl0IGlzIGJhc2VkIG9uIChmb3IgZWFzeSBpbnZhbGlkYXRpb24pLlxuICAgIHZhciBzdCA9IFtjbS5zdGF0ZS5tb2RlR2VuXSwgbGluZUNsYXNzZXMgPSB7fTtcbiAgICAvLyBDb21wdXRlIHRoZSBiYXNlIGFycmF5IG9mIHN0eWxlc1xuICAgIHJ1bk1vZGUoY20sIGxpbmUudGV4dCwgY20uZG9jLm1vZGUsIHN0YXRlLCBmdW5jdGlvbihlbmQsIHN0eWxlKSB7XG4gICAgICBzdC5wdXNoKGVuZCwgc3R5bGUpO1xuICAgIH0sIGxpbmVDbGFzc2VzLCBmb3JjZVRvRW5kKTtcblxuICAgIC8vIFJ1biBvdmVybGF5cywgYWRqdXN0IHN0eWxlIGFycmF5LlxuICAgIGZvciAodmFyIG8gPSAwOyBvIDwgY20uc3RhdGUub3ZlcmxheXMubGVuZ3RoOyArK28pIHtcbiAgICAgIHZhciBvdmVybGF5ID0gY20uc3RhdGUub3ZlcmxheXNbb10sIGkgPSAxLCBhdCA9IDA7XG4gICAgICBydW5Nb2RlKGNtLCBsaW5lLnRleHQsIG92ZXJsYXkubW9kZSwgdHJ1ZSwgZnVuY3Rpb24oZW5kLCBzdHlsZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSBpO1xuICAgICAgICAvLyBFbnN1cmUgdGhlcmUncyBhIHRva2VuIGVuZCBhdCB0aGUgY3VycmVudCBwb3NpdGlvbiwgYW5kIHRoYXQgaSBwb2ludHMgYXQgaXRcbiAgICAgICAgd2hpbGUgKGF0IDwgZW5kKSB7XG4gICAgICAgICAgdmFyIGlfZW5kID0gc3RbaV07XG4gICAgICAgICAgaWYgKGlfZW5kID4gZW5kKVxuICAgICAgICAgICAgc3Quc3BsaWNlKGksIDEsIGVuZCwgc3RbaSsxXSwgaV9lbmQpO1xuICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICBhdCA9IE1hdGgubWluKGVuZCwgaV9lbmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3R5bGUpIHJldHVybjtcbiAgICAgICAgaWYgKG92ZXJsYXkub3BhcXVlKSB7XG4gICAgICAgICAgc3Quc3BsaWNlKHN0YXJ0LCBpIC0gc3RhcnQsIGVuZCwgXCJjbS1vdmVybGF5IFwiICsgc3R5bGUpO1xuICAgICAgICAgIGkgPSBzdGFydCArIDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yICg7IHN0YXJ0IDwgaTsgc3RhcnQgKz0gMikge1xuICAgICAgICAgICAgdmFyIGN1ciA9IHN0W3N0YXJ0KzFdO1xuICAgICAgICAgICAgc3Rbc3RhcnQrMV0gPSAoY3VyID8gY3VyICsgXCIgXCIgOiBcIlwiKSArIFwiY20tb3ZlcmxheSBcIiArIHN0eWxlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgbGluZUNsYXNzZXMpO1xuICAgIH1cblxuICAgIHJldHVybiB7c3R5bGVzOiBzdCwgY2xhc3NlczogbGluZUNsYXNzZXMuYmdDbGFzcyB8fCBsaW5lQ2xhc3Nlcy50ZXh0Q2xhc3MgPyBsaW5lQ2xhc3NlcyA6IG51bGx9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGluZVN0eWxlcyhjbSwgbGluZSwgdXBkYXRlRnJvbnRpZXIpIHtcbiAgICBpZiAoIWxpbmUuc3R5bGVzIHx8IGxpbmUuc3R5bGVzWzBdICE9IGNtLnN0YXRlLm1vZGVHZW4pIHtcbiAgICAgIHZhciBzdGF0ZSA9IGdldFN0YXRlQmVmb3JlKGNtLCBsaW5lTm8obGluZSkpO1xuICAgICAgdmFyIHJlc3VsdCA9IGhpZ2hsaWdodExpbmUoY20sIGxpbmUsIGxpbmUudGV4dC5sZW5ndGggPiBjbS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aCA/IGNvcHlTdGF0ZShjbS5kb2MubW9kZSwgc3RhdGUpIDogc3RhdGUpO1xuICAgICAgbGluZS5zdGF0ZUFmdGVyID0gc3RhdGU7XG4gICAgICBsaW5lLnN0eWxlcyA9IHJlc3VsdC5zdHlsZXM7XG4gICAgICBpZiAocmVzdWx0LmNsYXNzZXMpIGxpbmUuc3R5bGVDbGFzc2VzID0gcmVzdWx0LmNsYXNzZXM7XG4gICAgICBlbHNlIGlmIChsaW5lLnN0eWxlQ2xhc3NlcykgbGluZS5zdHlsZUNsYXNzZXMgPSBudWxsO1xuICAgICAgaWYgKHVwZGF0ZUZyb250aWVyID09PSBjbS5kb2MuZnJvbnRpZXIpIGNtLmRvYy5mcm9udGllcisrO1xuICAgIH1cbiAgICByZXR1cm4gbGluZS5zdHlsZXM7XG4gIH1cblxuICAvLyBMaWdodHdlaWdodCBmb3JtIG9mIGhpZ2hsaWdodCAtLSBwcm9jZWVkIG92ZXIgdGhpcyBsaW5lIGFuZFxuICAvLyB1cGRhdGUgc3RhdGUsIGJ1dCBkb24ndCBzYXZlIGEgc3R5bGUgYXJyYXkuIFVzZWQgZm9yIGxpbmVzIHRoYXRcbiAgLy8gYXJlbid0IGN1cnJlbnRseSB2aXNpYmxlLlxuICBmdW5jdGlvbiBwcm9jZXNzTGluZShjbSwgdGV4dCwgc3RhdGUsIHN0YXJ0QXQpIHtcbiAgICB2YXIgbW9kZSA9IGNtLmRvYy5tb2RlO1xuICAgIHZhciBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKHRleHQsIGNtLm9wdGlvbnMudGFiU2l6ZSk7XG4gICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcyA9IHN0YXJ0QXQgfHwgMDtcbiAgICBpZiAodGV4dCA9PSBcIlwiKSBjYWxsQmxhbmtMaW5lKG1vZGUsIHN0YXRlKTtcbiAgICB3aGlsZSAoIXN0cmVhbS5lb2woKSkge1xuICAgICAgcmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICB9XG4gIH1cblxuICAvLyBDb252ZXJ0IGEgc3R5bGUgYXMgcmV0dXJuZWQgYnkgYSBtb2RlIChlaXRoZXIgbnVsbCwgb3IgYSBzdHJpbmdcbiAgLy8gY29udGFpbmluZyBvbmUgb3IgbW9yZSBzdHlsZXMpIHRvIGEgQ1NTIHN0eWxlLiBUaGlzIGlzIGNhY2hlZCxcbiAgLy8gYW5kIGFsc28gbG9va3MgZm9yIGxpbmUtd2lkZSBzdHlsZXMuXG4gIHZhciBzdHlsZVRvQ2xhc3NDYWNoZSA9IHt9LCBzdHlsZVRvQ2xhc3NDYWNoZVdpdGhNb2RlID0ge307XG4gIGZ1bmN0aW9uIGludGVycHJldFRva2VuU3R5bGUoc3R5bGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIXN0eWxlIHx8IC9eXFxzKiQvLnRlc3Qoc3R5bGUpKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgY2FjaGUgPSBvcHRpb25zLmFkZE1vZGVDbGFzcyA/IHN0eWxlVG9DbGFzc0NhY2hlV2l0aE1vZGUgOiBzdHlsZVRvQ2xhc3NDYWNoZTtcbiAgICByZXR1cm4gY2FjaGVbc3R5bGVdIHx8XG4gICAgICAoY2FjaGVbc3R5bGVdID0gc3R5bGUucmVwbGFjZSgvXFxTKy9nLCBcImNtLSQmXCIpKTtcbiAgfVxuXG4gIC8vIFJlbmRlciB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0ZXh0IG9mIGEgbGluZS4gQWxzbyBidWlsZHNcbiAgLy8gdXAgYSAnbGluZSBtYXAnLCB3aGljaCBwb2ludHMgYXQgdGhlIERPTSBub2RlcyB0aGF0IHJlcHJlc2VudFxuICAvLyBzcGVjaWZpYyBzdHJldGNoZXMgb2YgdGV4dCwgYW5kIGlzIHVzZWQgYnkgdGhlIG1lYXN1cmluZyBjb2RlLlxuICAvLyBUaGUgcmV0dXJuZWQgb2JqZWN0IGNvbnRhaW5zIHRoZSBET00gbm9kZSwgdGhpcyBtYXAsIGFuZFxuICAvLyBpbmZvcm1hdGlvbiBhYm91dCBsaW5lLXdpZGUgc3R5bGVzIHRoYXQgd2VyZSBzZXQgYnkgdGhlIG1vZGUuXG4gIGZ1bmN0aW9uIGJ1aWxkTGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KSB7XG4gICAgLy8gVGhlIHBhZGRpbmctcmlnaHQgZm9yY2VzIHRoZSBlbGVtZW50IHRvIGhhdmUgYSAnYm9yZGVyJywgd2hpY2hcbiAgICAvLyBpcyBuZWVkZWQgb24gV2Via2l0IHRvIGJlIGFibGUgdG8gZ2V0IGxpbmUtbGV2ZWwgYm91bmRpbmdcbiAgICAvLyByZWN0YW5nbGVzIGZvciBpdCAoaW4gbWVhc3VyZUNoYXIpLlxuICAgIHZhciBjb250ZW50ID0gZWx0KFwic3BhblwiLCBudWxsLCBudWxsLCB3ZWJraXQgPyBcInBhZGRpbmctcmlnaHQ6IC4xcHhcIiA6IG51bGwpO1xuICAgIHZhciBidWlsZGVyID0ge3ByZTogZWx0KFwicHJlXCIsIFtjb250ZW50XSwgXCJDb2RlTWlycm9yLWxpbmVcIiksIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgY29sOiAwLCBwb3M6IDAsIGNtOiBjbSxcbiAgICAgICAgICAgICAgICAgICB0cmFpbGluZ1NwYWNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICBzcGxpdFNwYWNlczogKGllIHx8IHdlYmtpdCkgJiYgY20uZ2V0T3B0aW9uKFwibGluZVdyYXBwaW5nXCIpfTtcbiAgICBsaW5lVmlldy5tZWFzdXJlID0ge307XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGxvZ2ljYWwgbGluZXMgdGhhdCBtYWtlIHVwIHRoaXMgdmlzdWFsIGxpbmUuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gKGxpbmVWaWV3LnJlc3QgPyBsaW5lVmlldy5yZXN0Lmxlbmd0aCA6IDApOyBpKyspIHtcbiAgICAgIHZhciBsaW5lID0gaSA/IGxpbmVWaWV3LnJlc3RbaSAtIDFdIDogbGluZVZpZXcubGluZSwgb3JkZXI7XG4gICAgICBidWlsZGVyLnBvcyA9IDA7XG4gICAgICBidWlsZGVyLmFkZFRva2VuID0gYnVpbGRUb2tlbjtcbiAgICAgIC8vIE9wdGlvbmFsbHkgd2lyZSBpbiBzb21lIGhhY2tzIGludG8gdGhlIHRva2VuLXJlbmRlcmluZ1xuICAgICAgLy8gYWxnb3JpdGhtLCB0byBkZWFsIHdpdGggYnJvd3NlciBxdWlya3MuXG4gICAgICBpZiAoaGFzQmFkQmlkaVJlY3RzKGNtLmRpc3BsYXkubWVhc3VyZSkgJiYgKG9yZGVyID0gZ2V0T3JkZXIobGluZSkpKVxuICAgICAgICBidWlsZGVyLmFkZFRva2VuID0gYnVpbGRUb2tlbkJhZEJpZGkoYnVpbGRlci5hZGRUb2tlbiwgb3JkZXIpO1xuICAgICAgYnVpbGRlci5tYXAgPSBbXTtcbiAgICAgIHZhciBhbGxvd0Zyb250aWVyVXBkYXRlID0gbGluZVZpZXcgIT0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkICYmIGxpbmVObyhsaW5lKTtcbiAgICAgIGluc2VydExpbmVDb250ZW50KGxpbmUsIGJ1aWxkZXIsIGdldExpbmVTdHlsZXMoY20sIGxpbmUsIGFsbG93RnJvbnRpZXJVcGRhdGUpKTtcbiAgICAgIGlmIChsaW5lLnN0eWxlQ2xhc3Nlcykge1xuICAgICAgICBpZiAobGluZS5zdHlsZUNsYXNzZXMuYmdDbGFzcylcbiAgICAgICAgICBidWlsZGVyLmJnQ2xhc3MgPSBqb2luQ2xhc3NlcyhsaW5lLnN0eWxlQ2xhc3Nlcy5iZ0NsYXNzLCBidWlsZGVyLmJnQ2xhc3MgfHwgXCJcIik7XG4gICAgICAgIGlmIChsaW5lLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MpXG4gICAgICAgICAgYnVpbGRlci50ZXh0Q2xhc3MgPSBqb2luQ2xhc3NlcyhsaW5lLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MsIGJ1aWxkZXIudGV4dENsYXNzIHx8IFwiXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBFbnN1cmUgYXQgbGVhc3QgYSBzaW5nbGUgbm9kZSBpcyBwcmVzZW50LCBmb3IgbWVhc3VyaW5nLlxuICAgICAgaWYgKGJ1aWxkZXIubWFwLmxlbmd0aCA9PSAwKVxuICAgICAgICBidWlsZGVyLm1hcC5wdXNoKDAsIDAsIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh6ZXJvV2lkdGhFbGVtZW50KGNtLmRpc3BsYXkubWVhc3VyZSkpKTtcblxuICAgICAgLy8gU3RvcmUgdGhlIG1hcCBhbmQgYSBjYWNoZSBvYmplY3QgZm9yIHRoZSBjdXJyZW50IGxvZ2ljYWwgbGluZVxuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBsaW5lVmlldy5tZWFzdXJlLm1hcCA9IGJ1aWxkZXIubWFwO1xuICAgICAgICBsaW5lVmlldy5tZWFzdXJlLmNhY2hlID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAobGluZVZpZXcubWVhc3VyZS5tYXBzIHx8IChsaW5lVmlldy5tZWFzdXJlLm1hcHMgPSBbXSkpLnB1c2goYnVpbGRlci5tYXApO1xuICAgICAgICAobGluZVZpZXcubWVhc3VyZS5jYWNoZXMgfHwgKGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzID0gW10pKS5wdXNoKHt9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZWUgaXNzdWUgIzI5MDFcbiAgICBpZiAod2Via2l0KSB7XG4gICAgICB2YXIgbGFzdCA9IGJ1aWxkZXIuY29udGVudC5sYXN0Q2hpbGRcbiAgICAgIGlmICgvXFxiY20tdGFiXFxiLy50ZXN0KGxhc3QuY2xhc3NOYW1lKSB8fCAobGFzdC5xdWVyeVNlbGVjdG9yICYmIGxhc3QucXVlcnlTZWxlY3RvcihcIi5jbS10YWJcIikpKVxuICAgICAgICBidWlsZGVyLmNvbnRlbnQuY2xhc3NOYW1lID0gXCJjbS10YWItd3JhcC1oYWNrXCI7XG4gICAgfVxuXG4gICAgc2lnbmFsKGNtLCBcInJlbmRlckxpbmVcIiwgY20sIGxpbmVWaWV3LmxpbmUsIGJ1aWxkZXIucHJlKTtcbiAgICBpZiAoYnVpbGRlci5wcmUuY2xhc3NOYW1lKVxuICAgICAgYnVpbGRlci50ZXh0Q2xhc3MgPSBqb2luQ2xhc3NlcyhidWlsZGVyLnByZS5jbGFzc05hbWUsIGJ1aWxkZXIudGV4dENsYXNzIHx8IFwiXCIpO1xuXG4gICAgcmV0dXJuIGJ1aWxkZXI7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0U3BlY2lhbENoYXJQbGFjZWhvbGRlcihjaCkge1xuICAgIHZhciB0b2tlbiA9IGVsdChcInNwYW5cIiwgXCJcXHUyMDIyXCIsIFwiY20taW52YWxpZGNoYXJcIik7XG4gICAgdG9rZW4udGl0bGUgPSBcIlxcXFx1XCIgKyBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KTtcbiAgICB0b2tlbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHRva2VuLnRpdGxlKTtcbiAgICByZXR1cm4gdG9rZW47XG4gIH1cblxuICAvLyBCdWlsZCB1cCB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIGZvciBhIHNpbmdsZSB0b2tlbiwgYW5kIGFkZCBpdCB0b1xuICAvLyB0aGUgbGluZSBtYXAuIFRha2VzIGNhcmUgdG8gcmVuZGVyIHNwZWNpYWwgY2hhcmFjdGVycyBzZXBhcmF0ZWx5LlxuICBmdW5jdGlvbiBidWlsZFRva2VuKGJ1aWxkZXIsIHRleHQsIHN0eWxlLCBzdGFydFN0eWxlLCBlbmRTdHlsZSwgdGl0bGUsIGNzcykge1xuICAgIGlmICghdGV4dCkgcmV0dXJuO1xuICAgIHZhciBkaXNwbGF5VGV4dCA9IGJ1aWxkZXIuc3BsaXRTcGFjZXMgPyBzcGxpdFNwYWNlcyh0ZXh0LCBidWlsZGVyLnRyYWlsaW5nU3BhY2UpIDogdGV4dFxuICAgIHZhciBzcGVjaWFsID0gYnVpbGRlci5jbS5zdGF0ZS5zcGVjaWFsQ2hhcnMsIG11c3RXcmFwID0gZmFsc2U7XG4gICAgaWYgKCFzcGVjaWFsLnRlc3QodGV4dCkpIHtcbiAgICAgIGJ1aWxkZXIuY29sICs9IHRleHQubGVuZ3RoO1xuICAgICAgdmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkaXNwbGF5VGV4dCk7XG4gICAgICBidWlsZGVyLm1hcC5wdXNoKGJ1aWxkZXIucG9zLCBidWlsZGVyLnBvcyArIHRleHQubGVuZ3RoLCBjb250ZW50KTtcbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgbXVzdFdyYXAgPSB0cnVlO1xuICAgICAgYnVpbGRlci5wb3MgKz0gdGV4dC5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBwb3MgPSAwO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3BlY2lhbC5sYXN0SW5kZXggPSBwb3M7XG4gICAgICAgIHZhciBtID0gc3BlY2lhbC5leGVjKHRleHQpO1xuICAgICAgICB2YXIgc2tpcHBlZCA9IG0gPyBtLmluZGV4IC0gcG9zIDogdGV4dC5sZW5ndGggLSBwb3M7XG4gICAgICAgIGlmIChza2lwcGVkKSB7XG4gICAgICAgICAgdmFyIHR4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRpc3BsYXlUZXh0LnNsaWNlKHBvcywgcG9zICsgc2tpcHBlZCkpO1xuICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIFt0eHRdKSk7XG4gICAgICAgICAgZWxzZSBjb250ZW50LmFwcGVuZENoaWxkKHR4dCk7XG4gICAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyBza2lwcGVkLCB0eHQpO1xuICAgICAgICAgIGJ1aWxkZXIuY29sICs9IHNraXBwZWQ7XG4gICAgICAgICAgYnVpbGRlci5wb3MgKz0gc2tpcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW0pIGJyZWFrO1xuICAgICAgICBwb3MgKz0gc2tpcHBlZCArIDE7XG4gICAgICAgIGlmIChtWzBdID09IFwiXFx0XCIpIHtcbiAgICAgICAgICB2YXIgdGFiU2l6ZSA9IGJ1aWxkZXIuY20ub3B0aW9ucy50YWJTaXplLCB0YWJXaWR0aCA9IHRhYlNpemUgLSBidWlsZGVyLmNvbCAlIHRhYlNpemU7XG4gICAgICAgICAgdmFyIHR4dCA9IGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBzcGFjZVN0cih0YWJXaWR0aCksIFwiY20tdGFiXCIpKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInByZXNlbnRhdGlvblwiKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBcIlxcdFwiKTtcbiAgICAgICAgICBidWlsZGVyLmNvbCArPSB0YWJXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChtWzBdID09IFwiXFxyXCIgfHwgbVswXSA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgdmFyIHR4dCA9IGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBtWzBdID09IFwiXFxyXCIgPyBcIlxcdTI0MGRcIiA6IFwiXFx1MjQyNFwiLCBcImNtLWludmFsaWRjaGFyXCIpKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBtWzBdKTtcbiAgICAgICAgICBidWlsZGVyLmNvbCArPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciB0eHQgPSBidWlsZGVyLmNtLm9wdGlvbnMuc3BlY2lhbENoYXJQbGFjZWhvbGRlcihtWzBdKTtcbiAgICAgICAgICB0eHQuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBtWzBdKTtcbiAgICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWx0KFwic3BhblwiLCBbdHh0XSkpO1xuICAgICAgICAgIGVsc2UgY29udGVudC5hcHBlbmRDaGlsZCh0eHQpO1xuICAgICAgICAgIGJ1aWxkZXIuY29sICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyAxLCB0eHQpO1xuICAgICAgICBidWlsZGVyLnBvcysrO1xuICAgICAgfVxuICAgIH1cbiAgICBidWlsZGVyLnRyYWlsaW5nU3BhY2UgPSBkaXNwbGF5VGV4dC5jaGFyQ29kZUF0KHRleHQubGVuZ3RoIC0gMSkgPT0gMzJcbiAgICBpZiAoc3R5bGUgfHwgc3RhcnRTdHlsZSB8fCBlbmRTdHlsZSB8fCBtdXN0V3JhcCB8fCBjc3MpIHtcbiAgICAgIHZhciBmdWxsU3R5bGUgPSBzdHlsZSB8fCBcIlwiO1xuICAgICAgaWYgKHN0YXJ0U3R5bGUpIGZ1bGxTdHlsZSArPSBzdGFydFN0eWxlO1xuICAgICAgaWYgKGVuZFN0eWxlKSBmdWxsU3R5bGUgKz0gZW5kU3R5bGU7XG4gICAgICB2YXIgdG9rZW4gPSBlbHQoXCJzcGFuXCIsIFtjb250ZW50XSwgZnVsbFN0eWxlLCBjc3MpO1xuICAgICAgaWYgKHRpdGxlKSB0b2tlbi50aXRsZSA9IHRpdGxlO1xuICAgICAgcmV0dXJuIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh0b2tlbik7XG4gICAgfVxuICAgIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGl0U3BhY2VzKHRleHQsIHRyYWlsaW5nQmVmb3JlKSB7XG4gICAgaWYgKHRleHQubGVuZ3RoID4gMSAmJiAhLyAgLy50ZXN0KHRleHQpKSByZXR1cm4gdGV4dFxuICAgIHZhciBzcGFjZUJlZm9yZSA9IHRyYWlsaW5nQmVmb3JlLCByZXN1bHQgPSBcIlwiXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2ggPSB0ZXh0LmNoYXJBdChpKVxuICAgICAgaWYgKGNoID09IFwiIFwiICYmIHNwYWNlQmVmb3JlICYmIChpID09IHRleHQubGVuZ3RoIC0gMSB8fCB0ZXh0LmNoYXJDb2RlQXQoaSArIDEpID09IDMyKSlcbiAgICAgICAgY2ggPSBcIlxcdTAwYTBcIlxuICAgICAgcmVzdWx0ICs9IGNoXG4gICAgICBzcGFjZUJlZm9yZSA9IGNoID09IFwiIFwiXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIC8vIFdvcmsgYXJvdW5kIG5vbnNlbnNlIGRpbWVuc2lvbnMgYmVpbmcgcmVwb3J0ZWQgZm9yIHN0cmV0Y2hlcyBvZlxuICAvLyByaWdodC10by1sZWZ0IHRleHQuXG4gIGZ1bmN0aW9uIGJ1aWxkVG9rZW5CYWRCaWRpKGlubmVyLCBvcmRlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihidWlsZGVyLCB0ZXh0LCBzdHlsZSwgc3RhcnRTdHlsZSwgZW5kU3R5bGUsIHRpdGxlLCBjc3MpIHtcbiAgICAgIHN0eWxlID0gc3R5bGUgPyBzdHlsZSArIFwiIGNtLWZvcmNlLWJvcmRlclwiIDogXCJjbS1mb3JjZS1ib3JkZXJcIjtcbiAgICAgIHZhciBzdGFydCA9IGJ1aWxkZXIucG9zLCBlbmQgPSBzdGFydCArIHRleHQubGVuZ3RoO1xuICAgICAgZm9yICg7Oykge1xuICAgICAgICAvLyBGaW5kIHRoZSBwYXJ0IHRoYXQgb3ZlcmxhcHMgd2l0aCB0aGUgc3RhcnQgb2YgdGhpcyB0ZXh0XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgcGFydCA9IG9yZGVyW2ldO1xuICAgICAgICAgIGlmIChwYXJ0LnRvID4gc3RhcnQgJiYgcGFydC5mcm9tIDw9IHN0YXJ0KSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydC50byA+PSBlbmQpIHJldHVybiBpbm5lcihidWlsZGVyLCB0ZXh0LCBzdHlsZSwgc3RhcnRTdHlsZSwgZW5kU3R5bGUsIHRpdGxlLCBjc3MpO1xuICAgICAgICBpbm5lcihidWlsZGVyLCB0ZXh0LnNsaWNlKDAsIHBhcnQudG8gLSBzdGFydCksIHN0eWxlLCBzdGFydFN0eWxlLCBudWxsLCB0aXRsZSwgY3NzKTtcbiAgICAgICAgc3RhcnRTdHlsZSA9IG51bGw7XG4gICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKHBhcnQudG8gLSBzdGFydCk7XG4gICAgICAgIHN0YXJ0ID0gcGFydC50bztcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYnVpbGRDb2xsYXBzZWRTcGFuKGJ1aWxkZXIsIHNpemUsIG1hcmtlciwgaWdub3JlV2lkZ2V0KSB7XG4gICAgdmFyIHdpZGdldCA9ICFpZ25vcmVXaWRnZXQgJiYgbWFya2VyLndpZGdldE5vZGU7XG4gICAgaWYgKHdpZGdldCkgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyBzaXplLCB3aWRnZXQpO1xuICAgIGlmICghaWdub3JlV2lkZ2V0ICYmIGJ1aWxkZXIuY20uZGlzcGxheS5pbnB1dC5uZWVkc0NvbnRlbnRBdHRyaWJ1dGUpIHtcbiAgICAgIGlmICghd2lkZ2V0KVxuICAgICAgICB3aWRnZXQgPSBidWlsZGVyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO1xuICAgICAgd2lkZ2V0LnNldEF0dHJpYnV0ZShcImNtLW1hcmtlclwiLCBtYXJrZXIuaWQpO1xuICAgIH1cbiAgICBpZiAod2lkZ2V0KSB7XG4gICAgICBidWlsZGVyLmNtLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZSh3aWRnZXQpO1xuICAgICAgYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKHdpZGdldCk7XG4gICAgfVxuICAgIGJ1aWxkZXIucG9zICs9IHNpemU7XG4gICAgYnVpbGRlci50cmFpbGluZ1NwYWNlID0gZmFsc2VcbiAgfVxuXG4gIC8vIE91dHB1dHMgYSBudW1iZXIgb2Ygc3BhbnMgdG8gbWFrZSB1cCBhIGxpbmUsIHRha2luZyBoaWdobGlnaHRpbmdcbiAgLy8gYW5kIG1hcmtlZCB0ZXh0IGludG8gYWNjb3VudC5cbiAgZnVuY3Rpb24gaW5zZXJ0TGluZUNvbnRlbnQobGluZSwgYnVpbGRlciwgc3R5bGVzKSB7XG4gICAgdmFyIHNwYW5zID0gbGluZS5tYXJrZWRTcGFucywgYWxsVGV4dCA9IGxpbmUudGV4dCwgYXQgPSAwO1xuICAgIGlmICghc3BhbnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSs9MilcbiAgICAgICAgYnVpbGRlci5hZGRUb2tlbihidWlsZGVyLCBhbGxUZXh0LnNsaWNlKGF0LCBhdCA9IHN0eWxlc1tpXSksIGludGVycHJldFRva2VuU3R5bGUoc3R5bGVzW2krMV0sIGJ1aWxkZXIuY20ub3B0aW9ucykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsZW4gPSBhbGxUZXh0Lmxlbmd0aCwgcG9zID0gMCwgaSA9IDEsIHRleHQgPSBcIlwiLCBzdHlsZSwgY3NzO1xuICAgIHZhciBuZXh0Q2hhbmdlID0gMCwgc3BhblN0eWxlLCBzcGFuRW5kU3R5bGUsIHNwYW5TdGFydFN0eWxlLCB0aXRsZSwgY29sbGFwc2VkO1xuICAgIGZvciAoOzspIHtcbiAgICAgIGlmIChuZXh0Q2hhbmdlID09IHBvcykgeyAvLyBVcGRhdGUgY3VycmVudCBtYXJrZXIgc2V0XG4gICAgICAgIHNwYW5TdHlsZSA9IHNwYW5FbmRTdHlsZSA9IHNwYW5TdGFydFN0eWxlID0gdGl0bGUgPSBjc3MgPSBcIlwiO1xuICAgICAgICBjb2xsYXBzZWQgPSBudWxsOyBuZXh0Q2hhbmdlID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBmb3VuZEJvb2ttYXJrcyA9IFtdLCBlbmRTdHlsZXNcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzcGFucy5sZW5ndGg7ICsraikge1xuICAgICAgICAgIHZhciBzcCA9IHNwYW5zW2pdLCBtID0gc3AubWFya2VyO1xuICAgICAgICAgIGlmIChtLnR5cGUgPT0gXCJib29rbWFya1wiICYmIHNwLmZyb20gPT0gcG9zICYmIG0ud2lkZ2V0Tm9kZSkge1xuICAgICAgICAgICAgZm91bmRCb29rbWFya3MucHVzaChtKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNwLmZyb20gPD0gcG9zICYmIChzcC50byA9PSBudWxsIHx8IHNwLnRvID4gcG9zIHx8IG0uY29sbGFwc2VkICYmIHNwLnRvID09IHBvcyAmJiBzcC5mcm9tID09IHBvcykpIHtcbiAgICAgICAgICAgIGlmIChzcC50byAhPSBudWxsICYmIHNwLnRvICE9IHBvcyAmJiBuZXh0Q2hhbmdlID4gc3AudG8pIHtcbiAgICAgICAgICAgICAgbmV4dENoYW5nZSA9IHNwLnRvO1xuICAgICAgICAgICAgICBzcGFuRW5kU3R5bGUgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG0uY2xhc3NOYW1lKSBzcGFuU3R5bGUgKz0gXCIgXCIgKyBtLmNsYXNzTmFtZTtcbiAgICAgICAgICAgIGlmIChtLmNzcykgY3NzID0gKGNzcyA/IGNzcyArIFwiO1wiIDogXCJcIikgKyBtLmNzcztcbiAgICAgICAgICAgIGlmIChtLnN0YXJ0U3R5bGUgJiYgc3AuZnJvbSA9PSBwb3MpIHNwYW5TdGFydFN0eWxlICs9IFwiIFwiICsgbS5zdGFydFN0eWxlO1xuICAgICAgICAgICAgaWYgKG0uZW5kU3R5bGUgJiYgc3AudG8gPT0gbmV4dENoYW5nZSkgKGVuZFN0eWxlcyB8fCAoZW5kU3R5bGVzID0gW10pKS5wdXNoKG0uZW5kU3R5bGUsIHNwLnRvKVxuICAgICAgICAgICAgaWYgKG0udGl0bGUgJiYgIXRpdGxlKSB0aXRsZSA9IG0udGl0bGU7XG4gICAgICAgICAgICBpZiAobS5jb2xsYXBzZWQgJiYgKCFjb2xsYXBzZWQgfHwgY29tcGFyZUNvbGxhcHNlZE1hcmtlcnMoY29sbGFwc2VkLm1hcmtlciwgbSkgPCAwKSlcbiAgICAgICAgICAgICAgY29sbGFwc2VkID0gc3A7XG4gICAgICAgICAgfSBlbHNlIGlmIChzcC5mcm9tID4gcG9zICYmIG5leHRDaGFuZ2UgPiBzcC5mcm9tKSB7XG4gICAgICAgICAgICBuZXh0Q2hhbmdlID0gc3AuZnJvbTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZFN0eWxlcykgZm9yICh2YXIgaiA9IDA7IGogPCBlbmRTdHlsZXMubGVuZ3RoOyBqICs9IDIpXG4gICAgICAgICAgaWYgKGVuZFN0eWxlc1tqICsgMV0gPT0gbmV4dENoYW5nZSkgc3BhbkVuZFN0eWxlICs9IFwiIFwiICsgZW5kU3R5bGVzW2pdXG5cbiAgICAgICAgaWYgKCFjb2xsYXBzZWQgfHwgY29sbGFwc2VkLmZyb20gPT0gcG9zKSBmb3IgKHZhciBqID0gMDsgaiA8IGZvdW5kQm9va21hcmtzLmxlbmd0aDsgKytqKVxuICAgICAgICAgIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCAwLCBmb3VuZEJvb2ttYXJrc1tqXSk7XG4gICAgICAgIGlmIChjb2xsYXBzZWQgJiYgKGNvbGxhcHNlZC5mcm9tIHx8IDApID09IHBvcykge1xuICAgICAgICAgIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCAoY29sbGFwc2VkLnRvID09IG51bGwgPyBsZW4gKyAxIDogY29sbGFwc2VkLnRvKSAtIHBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VkLm1hcmtlciwgY29sbGFwc2VkLmZyb20gPT0gbnVsbCk7XG4gICAgICAgICAgaWYgKGNvbGxhcHNlZC50byA9PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgaWYgKGNvbGxhcHNlZC50byA9PSBwb3MpIGNvbGxhcHNlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocG9zID49IGxlbikgYnJlYWs7XG5cbiAgICAgIHZhciB1cHRvID0gTWF0aC5taW4obGVuLCBuZXh0Q2hhbmdlKTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgdmFyIGVuZCA9IHBvcyArIHRleHQubGVuZ3RoO1xuICAgICAgICAgIGlmICghY29sbGFwc2VkKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5UZXh0ID0gZW5kID4gdXB0byA/IHRleHQuc2xpY2UoMCwgdXB0byAtIHBvcykgOiB0ZXh0O1xuICAgICAgICAgICAgYnVpbGRlci5hZGRUb2tlbihidWlsZGVyLCB0b2tlblRleHQsIHN0eWxlID8gc3R5bGUgKyBzcGFuU3R5bGUgOiBzcGFuU3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5TdGFydFN0eWxlLCBwb3MgKyB0b2tlblRleHQubGVuZ3RoID09IG5leHRDaGFuZ2UgPyBzcGFuRW5kU3R5bGUgOiBcIlwiLCB0aXRsZSwgY3NzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVuZCA+PSB1cHRvKSB7dGV4dCA9IHRleHQuc2xpY2UodXB0byAtIHBvcyk7IHBvcyA9IHVwdG87IGJyZWFrO31cbiAgICAgICAgICBwb3MgPSBlbmQ7XG4gICAgICAgICAgc3BhblN0YXJ0U3R5bGUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHRleHQgPSBhbGxUZXh0LnNsaWNlKGF0LCBhdCA9IHN0eWxlc1tpKytdKTtcbiAgICAgICAgc3R5bGUgPSBpbnRlcnByZXRUb2tlblN0eWxlKHN0eWxlc1tpKytdLCBidWlsZGVyLmNtLm9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIERPQ1VNRU5UIERBVEEgU1RSVUNUVVJFXG5cbiAgLy8gQnkgZGVmYXVsdCwgdXBkYXRlcyB0aGF0IHN0YXJ0IGFuZCBlbmQgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgLy8gYXJlIHRyZWF0ZWQgc3BlY2lhbGx5LCBpbiBvcmRlciB0byBtYWtlIHRoZSBhc3NvY2lhdGlvbiBvZiBsaW5lXG4gIC8vIHdpZGdldHMgYW5kIG1hcmtlciBlbGVtZW50cyB3aXRoIHRoZSB0ZXh0IGJlaGF2ZSBtb3JlIGludHVpdGl2ZS5cbiAgZnVuY3Rpb24gaXNXaG9sZUxpbmVVcGRhdGUoZG9jLCBjaGFuZ2UpIHtcbiAgICByZXR1cm4gY2hhbmdlLmZyb20uY2ggPT0gMCAmJiBjaGFuZ2UudG8uY2ggPT0gMCAmJiBsc3QoY2hhbmdlLnRleHQpID09IFwiXCIgJiZcbiAgICAgICghZG9jLmNtIHx8IGRvYy5jbS5vcHRpb25zLndob2xlTGluZVVwZGF0ZUJlZm9yZSk7XG4gIH1cblxuICAvLyBQZXJmb3JtIGEgY2hhbmdlIG9uIHRoZSBkb2N1bWVudCBkYXRhIHN0cnVjdHVyZS5cbiAgZnVuY3Rpb24gdXBkYXRlRG9jKGRvYywgY2hhbmdlLCBtYXJrZWRTcGFucywgZXN0aW1hdGVIZWlnaHQpIHtcbiAgICBmdW5jdGlvbiBzcGFuc0ZvcihuKSB7cmV0dXJuIG1hcmtlZFNwYW5zID8gbWFya2VkU3BhbnNbbl0gOiBudWxsO31cbiAgICBmdW5jdGlvbiB1cGRhdGUobGluZSwgdGV4dCwgc3BhbnMpIHtcbiAgICAgIHVwZGF0ZUxpbmUobGluZSwgdGV4dCwgc3BhbnMsIGVzdGltYXRlSGVpZ2h0KTtcbiAgICAgIHNpZ25hbExhdGVyKGxpbmUsIFwiY2hhbmdlXCIsIGxpbmUsIGNoYW5nZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpbmVzRm9yKHN0YXJ0LCBlbmQpIHtcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydCwgcmVzdWx0ID0gW107IGkgPCBlbmQ7ICsraSlcbiAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpbmUodGV4dFtpXSwgc3BhbnNGb3IoaSksIGVzdGltYXRlSGVpZ2h0KSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHZhciBmcm9tID0gY2hhbmdlLmZyb20sIHRvID0gY2hhbmdlLnRvLCB0ZXh0ID0gY2hhbmdlLnRleHQ7XG4gICAgdmFyIGZpcnN0TGluZSA9IGdldExpbmUoZG9jLCBmcm9tLmxpbmUpLCBsYXN0TGluZSA9IGdldExpbmUoZG9jLCB0by5saW5lKTtcbiAgICB2YXIgbGFzdFRleHQgPSBsc3QodGV4dCksIGxhc3RTcGFucyA9IHNwYW5zRm9yKHRleHQubGVuZ3RoIC0gMSksIG5saW5lcyA9IHRvLmxpbmUgLSBmcm9tLmxpbmU7XG5cbiAgICAvLyBBZGp1c3QgdGhlIGxpbmUgc3RydWN0dXJlXG4gICAgaWYgKGNoYW5nZS5mdWxsKSB7XG4gICAgICBkb2MuaW5zZXJ0KDAsIGxpbmVzRm9yKDAsIHRleHQubGVuZ3RoKSk7XG4gICAgICBkb2MucmVtb3ZlKHRleHQubGVuZ3RoLCBkb2Muc2l6ZSAtIHRleHQubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGlzV2hvbGVMaW5lVXBkYXRlKGRvYywgY2hhbmdlKSkge1xuICAgICAgLy8gVGhpcyBpcyBhIHdob2xlLWxpbmUgcmVwbGFjZS4gVHJlYXRlZCBzcGVjaWFsbHkgdG8gbWFrZVxuICAgICAgLy8gc3VyZSBsaW5lIG9iamVjdHMgbW92ZSB0aGUgd2F5IHRoZXkgYXJlIHN1cHBvc2VkIHRvLlxuICAgICAgdmFyIGFkZGVkID0gbGluZXNGb3IoMCwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgIHVwZGF0ZShsYXN0TGluZSwgbGFzdExpbmUudGV4dCwgbGFzdFNwYW5zKTtcbiAgICAgIGlmIChubGluZXMpIGRvYy5yZW1vdmUoZnJvbS5saW5lLCBubGluZXMpO1xuICAgICAgaWYgKGFkZGVkLmxlbmd0aCkgZG9jLmluc2VydChmcm9tLmxpbmUsIGFkZGVkKTtcbiAgICB9IGVsc2UgaWYgKGZpcnN0TGluZSA9PSBsYXN0TGluZSkge1xuICAgICAgaWYgKHRleHQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyBsYXN0VGV4dCArIGZpcnN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgbGFzdFNwYW5zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBhZGRlZCA9IGxpbmVzRm9yKDEsIHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIGFkZGVkLnB1c2gobmV3IExpbmUobGFzdFRleHQgKyBmaXJzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucywgZXN0aW1hdGVIZWlnaHQpKTtcbiAgICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdLCBzcGFuc0ZvcigwKSk7XG4gICAgICAgIGRvYy5pbnNlcnQoZnJvbS5saW5lICsgMSwgYWRkZWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGV4dC5sZW5ndGggPT0gMSkge1xuICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdICsgbGFzdExpbmUudGV4dC5zbGljZSh0by5jaCksIHNwYW5zRm9yKDApKTtcbiAgICAgIGRvYy5yZW1vdmUoZnJvbS5saW5lICsgMSwgbmxpbmVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdLCBzcGFuc0ZvcigwKSk7XG4gICAgICB1cGRhdGUobGFzdExpbmUsIGxhc3RUZXh0ICsgbGFzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucyk7XG4gICAgICB2YXIgYWRkZWQgPSBsaW5lc0ZvcigxLCB0ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgaWYgKG5saW5lcyA+IDEpIGRvYy5yZW1vdmUoZnJvbS5saW5lICsgMSwgbmxpbmVzIC0gMSk7XG4gICAgICBkb2MuaW5zZXJ0KGZyb20ubGluZSArIDEsIGFkZGVkKTtcbiAgICB9XG5cbiAgICBzaWduYWxMYXRlcihkb2MsIFwiY2hhbmdlXCIsIGRvYywgY2hhbmdlKTtcbiAgfVxuXG4gIC8vIFRoZSBkb2N1bWVudCBpcyByZXByZXNlbnRlZCBhcyBhIEJUcmVlIGNvbnNpc3Rpbmcgb2YgbGVhdmVzLCB3aXRoXG4gIC8vIGNodW5rIG9mIGxpbmVzIGluIHRoZW0sIGFuZCBicmFuY2hlcywgd2l0aCB1cCB0byB0ZW4gbGVhdmVzIG9yXG4gIC8vIG90aGVyIGJyYW5jaCBub2RlcyBiZWxvdyB0aGVtLiBUaGUgdG9wIG5vZGUgaXMgYWx3YXlzIGEgYnJhbmNoXG4gIC8vIG5vZGUsIGFuZCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IGl0c2VsZiAobWVhbmluZyBpdCBoYXNcbiAgLy8gYWRkaXRpb25hbCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzKS5cbiAgLy9cbiAgLy8gQWxsIG5vZGVzIGhhdmUgcGFyZW50IGxpbmtzLiBUaGUgdHJlZSBpcyB1c2VkIGJvdGggdG8gZ28gZnJvbVxuICAvLyBsaW5lIG51bWJlcnMgdG8gbGluZSBvYmplY3RzLCBhbmQgdG8gZ28gZnJvbSBvYmplY3RzIHRvIG51bWJlcnMuXG4gIC8vIEl0IGFsc28gaW5kZXhlcyBieSBoZWlnaHQsIGFuZCBpcyB1c2VkIHRvIGNvbnZlcnQgYmV0d2VlbiBoZWlnaHRcbiAgLy8gYW5kIGxpbmUgb2JqZWN0LCBhbmQgdG8gZmluZCB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudC5cbiAgLy9cbiAgLy8gU2VlIGFsc28gaHR0cDovL21hcmlqbmhhdmVyYmVrZS5ubC9ibG9nL2NvZGVtaXJyb3ItbGluZS10cmVlLmh0bWxcblxuICBmdW5jdGlvbiBMZWFmQ2h1bmsobGluZXMpIHtcbiAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwLCBoZWlnaHQgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxpbmVzW2ldLnBhcmVudCA9IHRoaXM7XG4gICAgICBoZWlnaHQgKz0gbGluZXNbaV0uaGVpZ2h0O1xuICAgIH1cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIExlYWZDaHVuay5wcm90b3R5cGUgPSB7XG4gICAgY2h1bmtTaXplOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubGluZXMubGVuZ3RoOyB9LFxuICAgIC8vIFJlbW92ZSB0aGUgbiBsaW5lcyBhdCBvZmZzZXQgJ2F0Jy5cbiAgICByZW1vdmVJbm5lcjogZnVuY3Rpb24oYXQsIG4pIHtcbiAgICAgIGZvciAodmFyIGkgPSBhdCwgZSA9IGF0ICsgbjsgaSA8IGU7ICsraSkge1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMubGluZXNbaV07XG4gICAgICAgIHRoaXMuaGVpZ2h0IC09IGxpbmUuaGVpZ2h0O1xuICAgICAgICBjbGVhblVwTGluZShsaW5lKTtcbiAgICAgICAgc2lnbmFsTGF0ZXIobGluZSwgXCJkZWxldGVcIik7XG4gICAgICB9XG4gICAgICB0aGlzLmxpbmVzLnNwbGljZShhdCwgbik7XG4gICAgfSxcbiAgICAvLyBIZWxwZXIgdXNlZCB0byBjb2xsYXBzZSBhIHNtYWxsIGJyYW5jaCBpbnRvIGEgc2luZ2xlIGxlYWYuXG4gICAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgICBsaW5lcy5wdXNoLmFwcGx5KGxpbmVzLCB0aGlzLmxpbmVzKTtcbiAgICB9LFxuICAgIC8vIEluc2VydCB0aGUgZ2l2ZW4gYXJyYXkgb2YgbGluZXMgYXQgb2Zmc2V0ICdhdCcsIGNvdW50IHRoZW0gYXNcbiAgICAvLyBoYXZpbmcgdGhlIGdpdmVuIGhlaWdodC5cbiAgICBpbnNlcnRJbm5lcjogZnVuY3Rpb24oYXQsIGxpbmVzLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuaGVpZ2h0ICs9IGhlaWdodDtcbiAgICAgIHRoaXMubGluZXMgPSB0aGlzLmxpbmVzLnNsaWNlKDAsIGF0KS5jb25jYXQobGluZXMpLmNvbmNhdCh0aGlzLmxpbmVzLnNsaWNlKGF0KSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSBsaW5lc1tpXS5wYXJlbnQgPSB0aGlzO1xuICAgIH0sXG4gICAgLy8gVXNlZCB0byBpdGVyYXRlIG92ZXIgYSBwYXJ0IG9mIHRoZSB0cmVlLlxuICAgIGl0ZXJOOiBmdW5jdGlvbihhdCwgbiwgb3ApIHtcbiAgICAgIGZvciAodmFyIGUgPSBhdCArIG47IGF0IDwgZTsgKythdClcbiAgICAgICAgaWYgKG9wKHRoaXMubGluZXNbYXRdKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIEJyYW5jaENodW5rKGNoaWxkcmVuKSB7XG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHZhciBzaXplID0gMCwgaGVpZ2h0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgY2ggPSBjaGlsZHJlbltpXTtcbiAgICAgIHNpemUgKz0gY2guY2h1bmtTaXplKCk7IGhlaWdodCArPSBjaC5oZWlnaHQ7XG4gICAgICBjaC5wYXJlbnQgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgfVxuXG4gIEJyYW5jaENodW5rLnByb3RvdHlwZSA9IHtcbiAgICBjaHVua1NpemU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5zaXplOyB9LFxuICAgIHJlbW92ZUlubmVyOiBmdW5jdGlvbihhdCwgbikge1xuICAgICAgdGhpcy5zaXplIC09IG47XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgc3ogPSBjaGlsZC5jaHVua1NpemUoKTtcbiAgICAgICAgaWYgKGF0IDwgc3opIHtcbiAgICAgICAgICB2YXIgcm0gPSBNYXRoLm1pbihuLCBzeiAtIGF0KSwgb2xkSGVpZ2h0ID0gY2hpbGQuaGVpZ2h0O1xuICAgICAgICAgIGNoaWxkLnJlbW92ZUlubmVyKGF0LCBybSk7XG4gICAgICAgICAgdGhpcy5oZWlnaHQgLT0gb2xkSGVpZ2h0IC0gY2hpbGQuaGVpZ2h0O1xuICAgICAgICAgIGlmIChzeiA9PSBybSkgeyB0aGlzLmNoaWxkcmVuLnNwbGljZShpLS0sIDEpOyBjaGlsZC5wYXJlbnQgPSBudWxsOyB9XG4gICAgICAgICAgaWYgKChuIC09IHJtKSA9PSAwKSBicmVhaztcbiAgICAgICAgICBhdCA9IDA7XG4gICAgICAgIH0gZWxzZSBhdCAtPSBzejtcbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgc21hbGxlciB0aGFuIDI1IGxpbmVzLCBlbnN1cmUgdGhhdCBpdCBpcyBhXG4gICAgICAvLyBzaW5nbGUgbGVhZiBub2RlLlxuICAgICAgaWYgKHRoaXMuc2l6ZSAtIG4gPCAyNSAmJlxuICAgICAgICAgICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEgfHwgISh0aGlzLmNoaWxkcmVuWzBdIGluc3RhbmNlb2YgTGVhZkNodW5rKSkpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gW107XG4gICAgICAgIHRoaXMuY29sbGFwc2UobGluZXMpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW25ldyBMZWFmQ2h1bmsobGluZXMpXTtcbiAgICAgICAgdGhpcy5jaGlsZHJlblswXS5wYXJlbnQgPSB0aGlzO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHRoaXMuY2hpbGRyZW5baV0uY29sbGFwc2UobGluZXMpO1xuICAgIH0sXG4gICAgaW5zZXJ0SW5uZXI6IGZ1bmN0aW9uKGF0LCBsaW5lcywgaGVpZ2h0KSB7XG4gICAgICB0aGlzLnNpemUgKz0gbGluZXMubGVuZ3RoO1xuICAgICAgdGhpcy5oZWlnaHQgKz0gaGVpZ2h0O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICAgIGlmIChhdCA8PSBzeikge1xuICAgICAgICAgIGNoaWxkLmluc2VydElubmVyKGF0LCBsaW5lcywgaGVpZ2h0KTtcbiAgICAgICAgICBpZiAoY2hpbGQubGluZXMgJiYgY2hpbGQubGluZXMubGVuZ3RoID4gNTApIHtcbiAgICAgICAgICAgIC8vIFRvIGF2b2lkIG1lbW9yeSB0aHJhc2hpbmcgd2hlbiBjaGlsZC5saW5lcyBpcyBodWdlIChlLmcuIGZpcnN0IHZpZXcgb2YgYSBsYXJnZSBmaWxlKSwgaXQncyBuZXZlciBzcGxpY2VkLlxuICAgICAgICAgICAgLy8gSW5zdGVhZCwgc21hbGwgc2xpY2VzIGFyZSB0YWtlbi4gVGhleSdyZSB0YWtlbiBpbiBvcmRlciBiZWNhdXNlIHNlcXVlbnRpYWwgbWVtb3J5IGFjY2Vzc2VzIGFyZSBmYXN0ZXN0LlxuICAgICAgICAgICAgdmFyIHJlbWFpbmluZyA9IGNoaWxkLmxpbmVzLmxlbmd0aCAlIDI1ICsgMjVcbiAgICAgICAgICAgIGZvciAodmFyIHBvcyA9IHJlbWFpbmluZzsgcG9zIDwgY2hpbGQubGluZXMubGVuZ3RoOykge1xuICAgICAgICAgICAgICB2YXIgbGVhZiA9IG5ldyBMZWFmQ2h1bmsoY2hpbGQubGluZXMuc2xpY2UocG9zLCBwb3MgKz0gMjUpKTtcbiAgICAgICAgICAgICAgY2hpbGQuaGVpZ2h0IC09IGxlYWYuaGVpZ2h0O1xuICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZSgrK2ksIDAsIGxlYWYpO1xuICAgICAgICAgICAgICBsZWFmLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5saW5lcyA9IGNoaWxkLmxpbmVzLnNsaWNlKDAsIHJlbWFpbmluZyk7XG4gICAgICAgICAgICB0aGlzLm1heWJlU3BpbGwoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYXQgLT0gc3o7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBXaGVuIGEgbm9kZSBoYXMgZ3Jvd24sIGNoZWNrIHdoZXRoZXIgaXQgc2hvdWxkIGJlIHNwbGl0LlxuICAgIG1heWJlU3BpbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoIDw9IDEwKSByZXR1cm47XG4gICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgc3BpbGxlZCA9IG1lLmNoaWxkcmVuLnNwbGljZShtZS5jaGlsZHJlbi5sZW5ndGggLSA1LCA1KTtcbiAgICAgICAgdmFyIHNpYmxpbmcgPSBuZXcgQnJhbmNoQ2h1bmsoc3BpbGxlZCk7XG4gICAgICAgIGlmICghbWUucGFyZW50KSB7IC8vIEJlY29tZSB0aGUgcGFyZW50IG5vZGVcbiAgICAgICAgICB2YXIgY29weSA9IG5ldyBCcmFuY2hDaHVuayhtZS5jaGlsZHJlbik7XG4gICAgICAgICAgY29weS5wYXJlbnQgPSBtZTtcbiAgICAgICAgICBtZS5jaGlsZHJlbiA9IFtjb3B5LCBzaWJsaW5nXTtcbiAgICAgICAgICBtZSA9IGNvcHk7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZS5zaXplIC09IHNpYmxpbmcuc2l6ZTtcbiAgICAgICAgICBtZS5oZWlnaHQgLT0gc2libGluZy5oZWlnaHQ7XG4gICAgICAgICAgdmFyIG15SW5kZXggPSBpbmRleE9mKG1lLnBhcmVudC5jaGlsZHJlbiwgbWUpO1xuICAgICAgICAgIG1lLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UobXlJbmRleCArIDEsIDAsIHNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHNpYmxpbmcucGFyZW50ID0gbWUucGFyZW50O1xuICAgICAgfSB3aGlsZSAobWUuY2hpbGRyZW4ubGVuZ3RoID4gMTApO1xuICAgICAgbWUucGFyZW50Lm1heWJlU3BpbGwoKTtcbiAgICB9LFxuICAgIGl0ZXJOOiBmdW5jdGlvbihhdCwgbiwgb3ApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBzeiA9IGNoaWxkLmNodW5rU2l6ZSgpO1xuICAgICAgICBpZiAoYXQgPCBzeikge1xuICAgICAgICAgIHZhciB1c2VkID0gTWF0aC5taW4obiwgc3ogLSBhdCk7XG4gICAgICAgICAgaWYgKGNoaWxkLml0ZXJOKGF0LCB1c2VkLCBvcCkpIHJldHVybiB0cnVlO1xuICAgICAgICAgIGlmICgobiAtPSB1c2VkKSA9PSAwKSBicmVhaztcbiAgICAgICAgICBhdCA9IDA7XG4gICAgICAgIH0gZWxzZSBhdCAtPSBzejtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIG5leHREb2NJZCA9IDA7XG4gIHZhciBEb2MgPSBDb2RlTWlycm9yLkRvYyA9IGZ1bmN0aW9uKHRleHQsIG1vZGUsIGZpcnN0TGluZSwgbGluZVNlcCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEb2MpKSByZXR1cm4gbmV3IERvYyh0ZXh0LCBtb2RlLCBmaXJzdExpbmUsIGxpbmVTZXApO1xuICAgIGlmIChmaXJzdExpbmUgPT0gbnVsbCkgZmlyc3RMaW5lID0gMDtcblxuICAgIEJyYW5jaENodW5rLmNhbGwodGhpcywgW25ldyBMZWFmQ2h1bmsoW25ldyBMaW5lKFwiXCIsIG51bGwpXSldKTtcbiAgICB0aGlzLmZpcnN0ID0gZmlyc3RMaW5lO1xuICAgIHRoaXMuc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxMZWZ0ID0gMDtcbiAgICB0aGlzLmNhbnRFZGl0ID0gZmFsc2U7XG4gICAgdGhpcy5jbGVhbkdlbmVyYXRpb24gPSAxO1xuICAgIHRoaXMuZnJvbnRpZXIgPSBmaXJzdExpbmU7XG4gICAgdmFyIHN0YXJ0ID0gUG9zKGZpcnN0TGluZSwgMCk7XG4gICAgdGhpcy5zZWwgPSBzaW1wbGVTZWxlY3Rpb24oc3RhcnQpO1xuICAgIHRoaXMuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KG51bGwpO1xuICAgIHRoaXMuaWQgPSArK25leHREb2NJZDtcbiAgICB0aGlzLm1vZGVPcHRpb24gPSBtb2RlO1xuICAgIHRoaXMubGluZVNlcCA9IGxpbmVTZXA7XG4gICAgdGhpcy5leHRlbmQgPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiKSB0ZXh0ID0gdGhpcy5zcGxpdExpbmVzKHRleHQpO1xuICAgIHVwZGF0ZURvYyh0aGlzLCB7ZnJvbTogc3RhcnQsIHRvOiBzdGFydCwgdGV4dDogdGV4dH0pO1xuICAgIHNldFNlbGVjdGlvbih0aGlzLCBzaW1wbGVTZWxlY3Rpb24oc3RhcnQpLCBzZWxfZG9udFNjcm9sbCk7XG4gIH07XG5cbiAgRG9jLnByb3RvdHlwZSA9IGNyZWF0ZU9iaihCcmFuY2hDaHVuay5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3RvcjogRG9jLFxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgZG9jdW1lbnQuIFN1cHBvcnRzIHR3byBmb3JtcyAtLSB3aXRoIG9ubHkgb25lXG4gICAgLy8gYXJndW1lbnQsIGl0IGNhbGxzIHRoYXQgZm9yIGVhY2ggbGluZSBpbiB0aGUgZG9jdW1lbnQuIFdpdGhcbiAgICAvLyB0aHJlZSwgaXQgaXRlcmF0ZXMgb3ZlciB0aGUgcmFuZ2UgZ2l2ZW4gYnkgdGhlIGZpcnN0IHR3byAod2l0aFxuICAgIC8vIHRoZSBzZWNvbmQgYmVpbmcgbm9uLWluY2x1c2l2ZSkuXG4gICAgaXRlcjogZnVuY3Rpb24oZnJvbSwgdG8sIG9wKSB7XG4gICAgICBpZiAob3ApIHRoaXMuaXRlck4oZnJvbSAtIHRoaXMuZmlyc3QsIHRvIC0gZnJvbSwgb3ApO1xuICAgICAgZWxzZSB0aGlzLml0ZXJOKHRoaXMuZmlyc3QsIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUsIGZyb20pO1xuICAgIH0sXG5cbiAgICAvLyBOb24tcHVibGljIGludGVyZmFjZSBmb3IgYWRkaW5nIGFuZCByZW1vdmluZyBsaW5lcy5cbiAgICBpbnNlcnQ6IGZ1bmN0aW9uKGF0LCBsaW5lcykge1xuICAgICAgdmFyIGhlaWdodCA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSBoZWlnaHQgKz0gbGluZXNbaV0uaGVpZ2h0O1xuICAgICAgdGhpcy5pbnNlcnRJbm5lcihhdCAtIHRoaXMuZmlyc3QsIGxpbmVzLCBoZWlnaHQpO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihhdCwgbikgeyB0aGlzLnJlbW92ZUlubmVyKGF0IC0gdGhpcy5maXJzdCwgbik7IH0sXG5cbiAgICAvLyBGcm9tIGhlcmUsIHRoZSBtZXRob2RzIGFyZSBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLiBNb3N0XG4gICAgLy8gYXJlIGFsc28gYXZhaWxhYmxlIGZyb20gQ29kZU1pcnJvciAoZWRpdG9yKSBpbnN0YW5jZXMuXG5cbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24obGluZVNlcCkge1xuICAgICAgdmFyIGxpbmVzID0gZ2V0TGluZXModGhpcywgdGhpcy5maXJzdCwgdGhpcy5maXJzdCArIHRoaXMuc2l6ZSk7XG4gICAgICBpZiAobGluZVNlcCA9PT0gZmFsc2UpIHJldHVybiBsaW5lcztcbiAgICAgIHJldHVybiBsaW5lcy5qb2luKGxpbmVTZXAgfHwgdGhpcy5saW5lU2VwYXJhdG9yKCkpO1xuICAgIH0sXG4gICAgc2V0VmFsdWU6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGNvZGUpIHtcbiAgICAgIHZhciB0b3AgPSBQb3ModGhpcy5maXJzdCwgMCksIGxhc3QgPSB0aGlzLmZpcnN0ICsgdGhpcy5zaXplIC0gMTtcbiAgICAgIG1ha2VDaGFuZ2UodGhpcywge2Zyb206IHRvcCwgdG86IFBvcyhsYXN0LCBnZXRMaW5lKHRoaXMsIGxhc3QpLnRleHQubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc3BsaXRMaW5lcyhjb2RlKSwgb3JpZ2luOiBcInNldFZhbHVlXCIsIGZ1bGw6IHRydWV9LCB0cnVlKTtcbiAgICAgIHNldFNlbGVjdGlvbih0aGlzLCBzaW1wbGVTZWxlY3Rpb24odG9wKSk7XG4gICAgfSksXG4gICAgcmVwbGFjZVJhbmdlOiBmdW5jdGlvbihjb2RlLCBmcm9tLCB0bywgb3JpZ2luKSB7XG4gICAgICBmcm9tID0gY2xpcFBvcyh0aGlzLCBmcm9tKTtcbiAgICAgIHRvID0gdG8gPyBjbGlwUG9zKHRoaXMsIHRvKSA6IGZyb207XG4gICAgICByZXBsYWNlUmFuZ2UodGhpcywgY29kZSwgZnJvbSwgdG8sIG9yaWdpbik7XG4gICAgfSxcbiAgICBnZXRSYW5nZTogZnVuY3Rpb24oZnJvbSwgdG8sIGxpbmVTZXApIHtcbiAgICAgIHZhciBsaW5lcyA9IGdldEJldHdlZW4odGhpcywgY2xpcFBvcyh0aGlzLCBmcm9tKSwgY2xpcFBvcyh0aGlzLCB0bykpO1xuICAgICAgaWYgKGxpbmVTZXAgPT09IGZhbHNlKSByZXR1cm4gbGluZXM7XG4gICAgICByZXR1cm4gbGluZXMuam9pbihsaW5lU2VwIHx8IHRoaXMubGluZVNlcGFyYXRvcigpKTtcbiAgICB9LFxuXG4gICAgZ2V0TGluZTogZnVuY3Rpb24obGluZSkge3ZhciBsID0gdGhpcy5nZXRMaW5lSGFuZGxlKGxpbmUpOyByZXR1cm4gbCAmJiBsLnRleHQ7fSxcblxuICAgIGdldExpbmVIYW5kbGU6IGZ1bmN0aW9uKGxpbmUpIHtpZiAoaXNMaW5lKHRoaXMsIGxpbmUpKSByZXR1cm4gZ2V0TGluZSh0aGlzLCBsaW5lKTt9LFxuICAgIGdldExpbmVOdW1iZXI6IGZ1bmN0aW9uKGxpbmUpIHtyZXR1cm4gbGluZU5vKGxpbmUpO30sXG5cbiAgICBnZXRMaW5lSGFuZGxlVmlzdWFsU3RhcnQ6IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmICh0eXBlb2YgbGluZSA9PSBcIm51bWJlclwiKSBsaW5lID0gZ2V0TGluZSh0aGlzLCBsaW5lKTtcbiAgICAgIHJldHVybiB2aXN1YWxMaW5lKGxpbmUpO1xuICAgIH0sXG5cbiAgICBsaW5lQ291bnQ6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnNpemU7fSxcbiAgICBmaXJzdExpbmU6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmZpcnN0O30sXG4gICAgbGFzdExpbmU6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmZpcnN0ICsgdGhpcy5zaXplIC0gMTt9LFxuXG4gICAgY2xpcFBvczogZnVuY3Rpb24ocG9zKSB7cmV0dXJuIGNsaXBQb3ModGhpcywgcG9zKTt9LFxuXG4gICAgZ2V0Q3Vyc29yOiBmdW5jdGlvbihzdGFydCkge1xuICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWwucHJpbWFyeSgpLCBwb3M7XG4gICAgICBpZiAoc3RhcnQgPT0gbnVsbCB8fCBzdGFydCA9PSBcImhlYWRcIikgcG9zID0gcmFuZ2UuaGVhZDtcbiAgICAgIGVsc2UgaWYgKHN0YXJ0ID09IFwiYW5jaG9yXCIpIHBvcyA9IHJhbmdlLmFuY2hvcjtcbiAgICAgIGVsc2UgaWYgKHN0YXJ0ID09IFwiZW5kXCIgfHwgc3RhcnQgPT0gXCJ0b1wiIHx8IHN0YXJ0ID09PSBmYWxzZSkgcG9zID0gcmFuZ2UudG8oKTtcbiAgICAgIGVsc2UgcG9zID0gcmFuZ2UuZnJvbSgpO1xuICAgICAgcmV0dXJuIHBvcztcbiAgICB9LFxuICAgIGxpc3RTZWxlY3Rpb25zOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuc2VsLnJhbmdlczsgfSxcbiAgICBzb21ldGhpbmdTZWxlY3RlZDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCk7fSxcblxuICAgIHNldEN1cnNvcjogZG9jTWV0aG9kT3AoZnVuY3Rpb24obGluZSwgY2gsIG9wdGlvbnMpIHtcbiAgICAgIHNldFNpbXBsZVNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIHR5cGVvZiBsaW5lID09IFwibnVtYmVyXCIgPyBQb3MobGluZSwgY2ggfHwgMCkgOiBsaW5lKSwgbnVsbCwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgc2V0U2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbihhbmNob3IsIGhlYWQsIG9wdGlvbnMpIHtcbiAgICAgIHNldFNpbXBsZVNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIGFuY2hvciksIGNsaXBQb3ModGhpcywgaGVhZCB8fCBhbmNob3IpLCBvcHRpb25zKTtcbiAgICB9KSxcbiAgICBleHRlbmRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhlYWQsIG90aGVyLCBvcHRpb25zKSB7XG4gICAgICBleHRlbmRTZWxlY3Rpb24odGhpcywgY2xpcFBvcyh0aGlzLCBoZWFkKSwgb3RoZXIgJiYgY2xpcFBvcyh0aGlzLCBvdGhlciksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIGV4dGVuZFNlbGVjdGlvbnM6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhlYWRzLCBvcHRpb25zKSB7XG4gICAgICBleHRlbmRTZWxlY3Rpb25zKHRoaXMsIGNsaXBQb3NBcnJheSh0aGlzLCBoZWFkcyksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIGV4dGVuZFNlbGVjdGlvbnNCeTogZG9jTWV0aG9kT3AoZnVuY3Rpb24oZiwgb3B0aW9ucykge1xuICAgICAgdmFyIGhlYWRzID0gbWFwKHRoaXMuc2VsLnJhbmdlcywgZik7XG4gICAgICBleHRlbmRTZWxlY3Rpb25zKHRoaXMsIGNsaXBQb3NBcnJheSh0aGlzLCBoZWFkcyksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIHNldFNlbGVjdGlvbnM6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKHJhbmdlcywgcHJpbWFyeSwgb3B0aW9ucykge1xuICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoKSByZXR1cm47XG4gICAgICBmb3IgKHZhciBpID0gMCwgb3V0ID0gW107IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShjbGlwUG9zKHRoaXMsIHJhbmdlc1tpXS5hbmNob3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcFBvcyh0aGlzLCByYW5nZXNbaV0uaGVhZCkpO1xuICAgICAgaWYgKHByaW1hcnkgPT0gbnVsbCkgcHJpbWFyeSA9IE1hdGgubWluKHJhbmdlcy5sZW5ndGggLSAxLCB0aGlzLnNlbC5wcmltSW5kZXgpO1xuICAgICAgc2V0U2VsZWN0aW9uKHRoaXMsIG5vcm1hbGl6ZVNlbGVjdGlvbihvdXQsIHByaW1hcnkpLCBvcHRpb25zKTtcbiAgICB9KSxcbiAgICBhZGRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGFuY2hvciwgaGVhZCwgb3B0aW9ucykge1xuICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuc2VsLnJhbmdlcy5zbGljZSgwKTtcbiAgICAgIHJhbmdlcy5wdXNoKG5ldyBSYW5nZShjbGlwUG9zKHRoaXMsIGFuY2hvciksIGNsaXBQb3ModGhpcywgaGVhZCB8fCBhbmNob3IpKSk7XG4gICAgICBzZXRTZWxlY3Rpb24odGhpcywgbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcywgcmFuZ2VzLmxlbmd0aCAtIDEpLCBvcHRpb25zKTtcbiAgICB9KSxcblxuICAgIGdldFNlbGVjdGlvbjogZnVuY3Rpb24obGluZVNlcCkge1xuICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuc2VsLnJhbmdlcywgbGluZXM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2VsID0gZ2V0QmV0d2Vlbih0aGlzLCByYW5nZXNbaV0uZnJvbSgpLCByYW5nZXNbaV0udG8oKSk7XG4gICAgICAgIGxpbmVzID0gbGluZXMgPyBsaW5lcy5jb25jYXQoc2VsKSA6IHNlbDtcbiAgICAgIH1cbiAgICAgIGlmIChsaW5lU2VwID09PSBmYWxzZSkgcmV0dXJuIGxpbmVzO1xuICAgICAgZWxzZSByZXR1cm4gbGluZXMuam9pbihsaW5lU2VwIHx8IHRoaXMubGluZVNlcGFyYXRvcigpKTtcbiAgICB9LFxuICAgIGdldFNlbGVjdGlvbnM6IGZ1bmN0aW9uKGxpbmVTZXApIHtcbiAgICAgIHZhciBwYXJ0cyA9IFtdLCByYW5nZXMgPSB0aGlzLnNlbC5yYW5nZXM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2VsID0gZ2V0QmV0d2Vlbih0aGlzLCByYW5nZXNbaV0uZnJvbSgpLCByYW5nZXNbaV0udG8oKSk7XG4gICAgICAgIGlmIChsaW5lU2VwICE9PSBmYWxzZSkgc2VsID0gc2VsLmpvaW4obGluZVNlcCB8fCB0aGlzLmxpbmVTZXBhcmF0b3IoKSk7XG4gICAgICAgIHBhcnRzW2ldID0gc2VsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcnRzO1xuICAgIH0sXG4gICAgcmVwbGFjZVNlbGVjdGlvbjogZnVuY3Rpb24oY29kZSwgY29sbGFwc2UsIG9yaWdpbikge1xuICAgICAgdmFyIGR1cCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIGR1cFtpXSA9IGNvZGU7XG4gICAgICB0aGlzLnJlcGxhY2VTZWxlY3Rpb25zKGR1cCwgY29sbGFwc2UsIG9yaWdpbiB8fCBcIitpbnB1dFwiKTtcbiAgICB9LFxuICAgIHJlcGxhY2VTZWxlY3Rpb25zOiBkb2NNZXRob2RPcChmdW5jdGlvbihjb2RlLCBjb2xsYXBzZSwgb3JpZ2luKSB7XG4gICAgICB2YXIgY2hhbmdlcyA9IFtdLCBzZWwgPSB0aGlzLnNlbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmFuZ2UgPSBzZWwucmFuZ2VzW2ldO1xuICAgICAgICBjaGFuZ2VzW2ldID0ge2Zyb206IHJhbmdlLmZyb20oKSwgdG86IHJhbmdlLnRvKCksIHRleHQ6IHRoaXMuc3BsaXRMaW5lcyhjb2RlW2ldKSwgb3JpZ2luOiBvcmlnaW59O1xuICAgICAgfVxuICAgICAgdmFyIG5ld1NlbCA9IGNvbGxhcHNlICYmIGNvbGxhcHNlICE9IFwiZW5kXCIgJiYgY29tcHV0ZVJlcGxhY2VkU2VsKHRoaXMsIGNoYW5nZXMsIGNvbGxhcHNlKTtcbiAgICAgIGZvciAodmFyIGkgPSBjaGFuZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICBtYWtlQ2hhbmdlKHRoaXMsIGNoYW5nZXNbaV0pO1xuICAgICAgaWYgKG5ld1NlbCkgc2V0U2VsZWN0aW9uUmVwbGFjZUhpc3RvcnkodGhpcywgbmV3U2VsKTtcbiAgICAgIGVsc2UgaWYgKHRoaXMuY20pIGVuc3VyZUN1cnNvclZpc2libGUodGhpcy5jbSk7XG4gICAgfSksXG4gICAgdW5kbzogZG9jTWV0aG9kT3AoZnVuY3Rpb24oKSB7bWFrZUNoYW5nZUZyb21IaXN0b3J5KHRoaXMsIFwidW5kb1wiKTt9KSxcbiAgICByZWRvOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgXCJyZWRvXCIpO30pLFxuICAgIHVuZG9TZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKCkge21ha2VDaGFuZ2VGcm9tSGlzdG9yeSh0aGlzLCBcInVuZG9cIiwgdHJ1ZSk7fSksXG4gICAgcmVkb1NlbGVjdGlvbjogZG9jTWV0aG9kT3AoZnVuY3Rpb24oKSB7bWFrZUNoYW5nZUZyb21IaXN0b3J5KHRoaXMsIFwicmVkb1wiLCB0cnVlKTt9KSxcblxuICAgIHNldEV4dGVuZGluZzogZnVuY3Rpb24odmFsKSB7dGhpcy5leHRlbmQgPSB2YWw7fSxcbiAgICBnZXRFeHRlbmRpbmc6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmV4dGVuZDt9LFxuXG4gICAgaGlzdG9yeVNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhpc3QgPSB0aGlzLmhpc3RvcnksIGRvbmUgPSAwLCB1bmRvbmUgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoaXN0LmRvbmUubGVuZ3RoOyBpKyspIGlmICghaGlzdC5kb25lW2ldLnJhbmdlcykgKytkb25lO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoaXN0LnVuZG9uZS5sZW5ndGg7IGkrKykgaWYgKCFoaXN0LnVuZG9uZVtpXS5yYW5nZXMpICsrdW5kb25lO1xuICAgICAgcmV0dXJuIHt1bmRvOiBkb25lLCByZWRvOiB1bmRvbmV9O1xuICAgIH0sXG4gICAgY2xlYXJIaXN0b3J5OiBmdW5jdGlvbigpIHt0aGlzLmhpc3RvcnkgPSBuZXcgSGlzdG9yeSh0aGlzLmhpc3RvcnkubWF4R2VuZXJhdGlvbik7fSxcblxuICAgIG1hcmtDbGVhbjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNsZWFuR2VuZXJhdGlvbiA9IHRoaXMuY2hhbmdlR2VuZXJhdGlvbih0cnVlKTtcbiAgICB9LFxuICAgIGNoYW5nZUdlbmVyYXRpb246IGZ1bmN0aW9uKGZvcmNlU3BsaXQpIHtcbiAgICAgIGlmIChmb3JjZVNwbGl0KVxuICAgICAgICB0aGlzLmhpc3RvcnkubGFzdE9wID0gdGhpcy5oaXN0b3J5Lmxhc3RTZWxPcCA9IHRoaXMuaGlzdG9yeS5sYXN0T3JpZ2luID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLmhpc3RvcnkuZ2VuZXJhdGlvbjtcbiAgICB9LFxuICAgIGlzQ2xlYW46IGZ1bmN0aW9uIChnZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLmhpc3RvcnkuZ2VuZXJhdGlvbiA9PSAoZ2VuIHx8IHRoaXMuY2xlYW5HZW5lcmF0aW9uKTtcbiAgICB9LFxuXG4gICAgZ2V0SGlzdG9yeTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge2RvbmU6IGNvcHlIaXN0b3J5QXJyYXkodGhpcy5oaXN0b3J5LmRvbmUpLFxuICAgICAgICAgICAgICB1bmRvbmU6IGNvcHlIaXN0b3J5QXJyYXkodGhpcy5oaXN0b3J5LnVuZG9uZSl9O1xuICAgIH0sXG4gICAgc2V0SGlzdG9yeTogZnVuY3Rpb24oaGlzdERhdGEpIHtcbiAgICAgIHZhciBoaXN0ID0gdGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkodGhpcy5oaXN0b3J5Lm1heEdlbmVyYXRpb24pO1xuICAgICAgaGlzdC5kb25lID0gY29weUhpc3RvcnlBcnJheShoaXN0RGF0YS5kb25lLnNsaWNlKDApLCBudWxsLCB0cnVlKTtcbiAgICAgIGhpc3QudW5kb25lID0gY29weUhpc3RvcnlBcnJheShoaXN0RGF0YS51bmRvbmUuc2xpY2UoMCksIG51bGwsIHRydWUpO1xuICAgIH0sXG5cbiAgICBhZGRMaW5lQ2xhc3M6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhhbmRsZSwgd2hlcmUsIGNscykge1xuICAgICAgcmV0dXJuIGNoYW5nZUxpbmUodGhpcywgaGFuZGxlLCB3aGVyZSA9PSBcImd1dHRlclwiID8gXCJndXR0ZXJcIiA6IFwiY2xhc3NcIiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgcHJvcCA9IHdoZXJlID09IFwidGV4dFwiID8gXCJ0ZXh0Q2xhc3NcIlxuICAgICAgICAgICAgICAgICA6IHdoZXJlID09IFwiYmFja2dyb3VuZFwiID8gXCJiZ0NsYXNzXCJcbiAgICAgICAgICAgICAgICAgOiB3aGVyZSA9PSBcImd1dHRlclwiID8gXCJndXR0ZXJDbGFzc1wiIDogXCJ3cmFwQ2xhc3NcIjtcbiAgICAgICAgaWYgKCFsaW5lW3Byb3BdKSBsaW5lW3Byb3BdID0gY2xzO1xuICAgICAgICBlbHNlIGlmIChjbGFzc1Rlc3QoY2xzKS50ZXN0KGxpbmVbcHJvcF0pKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGVsc2UgbGluZVtwcm9wXSArPSBcIiBcIiArIGNscztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9KSxcbiAgICByZW1vdmVMaW5lQ2xhc3M6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhhbmRsZSwgd2hlcmUsIGNscykge1xuICAgICAgcmV0dXJuIGNoYW5nZUxpbmUodGhpcywgaGFuZGxlLCB3aGVyZSA9PSBcImd1dHRlclwiID8gXCJndXR0ZXJcIiA6IFwiY2xhc3NcIiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICB2YXIgcHJvcCA9IHdoZXJlID09IFwidGV4dFwiID8gXCJ0ZXh0Q2xhc3NcIlxuICAgICAgICAgICAgICAgICA6IHdoZXJlID09IFwiYmFja2dyb3VuZFwiID8gXCJiZ0NsYXNzXCJcbiAgICAgICAgICAgICAgICAgOiB3aGVyZSA9PSBcImd1dHRlclwiID8gXCJndXR0ZXJDbGFzc1wiIDogXCJ3cmFwQ2xhc3NcIjtcbiAgICAgICAgdmFyIGN1ciA9IGxpbmVbcHJvcF07XG4gICAgICAgIGlmICghY3VyKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKGNscyA9PSBudWxsKSBsaW5lW3Byb3BdID0gbnVsbDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGZvdW5kID0gY3VyLm1hdGNoKGNsYXNzVGVzdChjbHMpKTtcbiAgICAgICAgICBpZiAoIWZvdW5kKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgdmFyIGVuZCA9IGZvdW5kLmluZGV4ICsgZm91bmRbMF0ubGVuZ3RoO1xuICAgICAgICAgIGxpbmVbcHJvcF0gPSBjdXIuc2xpY2UoMCwgZm91bmQuaW5kZXgpICsgKCFmb3VuZC5pbmRleCB8fCBlbmQgPT0gY3VyLmxlbmd0aCA/IFwiXCIgOiBcIiBcIikgKyBjdXIuc2xpY2UoZW5kKSB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgfSksXG5cbiAgICBhZGRMaW5lV2lkZ2V0OiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhZGRMaW5lV2lkZ2V0KHRoaXMsIGhhbmRsZSwgbm9kZSwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgcmVtb3ZlTGluZVdpZGdldDogZnVuY3Rpb24od2lkZ2V0KSB7IHdpZGdldC5jbGVhcigpOyB9LFxuXG4gICAgbWFya1RleHQ6IGZ1bmN0aW9uKGZyb20sIHRvLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gbWFya1RleHQodGhpcywgY2xpcFBvcyh0aGlzLCBmcm9tKSwgY2xpcFBvcyh0aGlzLCB0byksIG9wdGlvbnMsIG9wdGlvbnMgJiYgb3B0aW9ucy50eXBlIHx8IFwicmFuZ2VcIik7XG4gICAgfSxcbiAgICBzZXRCb29rbWFyazogZnVuY3Rpb24ocG9zLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcmVhbE9wdHMgPSB7cmVwbGFjZWRXaXRoOiBvcHRpb25zICYmIChvcHRpb25zLm5vZGVUeXBlID09IG51bGwgPyBvcHRpb25zLndpZGdldCA6IG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgICAgIGluc2VydExlZnQ6IG9wdGlvbnMgJiYgb3B0aW9ucy5pbnNlcnRMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgIGNsZWFyV2hlbkVtcHR5OiBmYWxzZSwgc2hhcmVkOiBvcHRpb25zICYmIG9wdGlvbnMuc2hhcmVkLFxuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU1vdXNlRXZlbnRzOiBvcHRpb25zICYmIG9wdGlvbnMuaGFuZGxlTW91c2VFdmVudHN9O1xuICAgICAgcG9zID0gY2xpcFBvcyh0aGlzLCBwb3MpO1xuICAgICAgcmV0dXJuIG1hcmtUZXh0KHRoaXMsIHBvcywgcG9zLCByZWFsT3B0cywgXCJib29rbWFya1wiKTtcbiAgICB9LFxuICAgIGZpbmRNYXJrc0F0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgIHBvcyA9IGNsaXBQb3ModGhpcywgcG9zKTtcbiAgICAgIHZhciBtYXJrZXJzID0gW10sIHNwYW5zID0gZ2V0TGluZSh0aGlzLCBwb3MubGluZSkubWFya2VkU3BhbnM7XG4gICAgICBpZiAoc3BhbnMpIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHNwYW4gPSBzcGFuc1tpXTtcbiAgICAgICAgaWYgKChzcGFuLmZyb20gPT0gbnVsbCB8fCBzcGFuLmZyb20gPD0gcG9zLmNoKSAmJlxuICAgICAgICAgICAgKHNwYW4udG8gPT0gbnVsbCB8fCBzcGFuLnRvID49IHBvcy5jaCkpXG4gICAgICAgICAgbWFya2Vycy5wdXNoKHNwYW4ubWFya2VyLnBhcmVudCB8fCBzcGFuLm1hcmtlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFya2VycztcbiAgICB9LFxuICAgIGZpbmRNYXJrczogZnVuY3Rpb24oZnJvbSwgdG8sIGZpbHRlcikge1xuICAgICAgZnJvbSA9IGNsaXBQb3ModGhpcywgZnJvbSk7IHRvID0gY2xpcFBvcyh0aGlzLCB0byk7XG4gICAgICB2YXIgZm91bmQgPSBbXSwgbGluZU5vID0gZnJvbS5saW5lO1xuICAgICAgdGhpcy5pdGVyKGZyb20ubGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgdmFyIHNwYW5zID0gbGluZS5tYXJrZWRTcGFucztcbiAgICAgICAgaWYgKHNwYW5zKSBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHNwYW4gPSBzcGFuc1tpXTtcbiAgICAgICAgICBpZiAoIShzcGFuLnRvICE9IG51bGwgJiYgbGluZU5vID09IGZyb20ubGluZSAmJiBmcm9tLmNoID49IHNwYW4udG8gfHxcbiAgICAgICAgICAgICAgICBzcGFuLmZyb20gPT0gbnVsbCAmJiBsaW5lTm8gIT0gZnJvbS5saW5lIHx8XG4gICAgICAgICAgICAgICAgc3Bhbi5mcm9tICE9IG51bGwgJiYgbGluZU5vID09IHRvLmxpbmUgJiYgc3Bhbi5mcm9tID49IHRvLmNoKSAmJlxuICAgICAgICAgICAgICAoIWZpbHRlciB8fCBmaWx0ZXIoc3Bhbi5tYXJrZXIpKSlcbiAgICAgICAgICAgIGZvdW5kLnB1c2goc3Bhbi5tYXJrZXIucGFyZW50IHx8IHNwYW4ubWFya2VyKTtcbiAgICAgICAgfVxuICAgICAgICArK2xpbmVObztcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH0sXG4gICAgZ2V0QWxsTWFya3M6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1hcmtlcnMgPSBbXTtcbiAgICAgIHRoaXMuaXRlcihmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBzcHMgPSBsaW5lLm1hcmtlZFNwYW5zO1xuICAgICAgICBpZiAoc3BzKSBmb3IgKHZhciBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICBpZiAoc3BzW2ldLmZyb20gIT0gbnVsbCkgbWFya2Vycy5wdXNoKHNwc1tpXS5tYXJrZXIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWFya2VycztcbiAgICB9LFxuXG4gICAgcG9zRnJvbUluZGV4OiBmdW5jdGlvbihvZmYpIHtcbiAgICAgIHZhciBjaCwgbGluZU5vID0gdGhpcy5maXJzdCwgc2VwU2l6ZSA9IHRoaXMubGluZVNlcGFyYXRvcigpLmxlbmd0aDtcbiAgICAgIHRoaXMuaXRlcihmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIHZhciBzeiA9IGxpbmUudGV4dC5sZW5ndGggKyBzZXBTaXplO1xuICAgICAgICBpZiAoc3ogPiBvZmYpIHsgY2ggPSBvZmY7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIG9mZiAtPSBzejtcbiAgICAgICAgKytsaW5lTm87XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjbGlwUG9zKHRoaXMsIFBvcyhsaW5lTm8sIGNoKSk7XG4gICAgfSxcbiAgICBpbmRleEZyb21Qb3M6IGZ1bmN0aW9uIChjb29yZHMpIHtcbiAgICAgIGNvb3JkcyA9IGNsaXBQb3ModGhpcywgY29vcmRzKTtcbiAgICAgIHZhciBpbmRleCA9IGNvb3Jkcy5jaDtcbiAgICAgIGlmIChjb29yZHMubGluZSA8IHRoaXMuZmlyc3QgfHwgY29vcmRzLmNoIDwgMCkgcmV0dXJuIDA7XG4gICAgICB2YXIgc2VwU2l6ZSA9IHRoaXMubGluZVNlcGFyYXRvcigpLmxlbmd0aDtcbiAgICAgIHRoaXMuaXRlcih0aGlzLmZpcnN0LCBjb29yZHMubGluZSwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgaW5kZXggKz0gbGluZS50ZXh0Lmxlbmd0aCArIHNlcFNpemU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuXG4gICAgY29weTogZnVuY3Rpb24oY29weUhpc3RvcnkpIHtcbiAgICAgIHZhciBkb2MgPSBuZXcgRG9jKGdldExpbmVzKHRoaXMsIHRoaXMuZmlyc3QsIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlT3B0aW9uLCB0aGlzLmZpcnN0LCB0aGlzLmxpbmVTZXApO1xuICAgICAgZG9jLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsVG9wOyBkb2Muc2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsTGVmdDtcbiAgICAgIGRvYy5zZWwgPSB0aGlzLnNlbDtcbiAgICAgIGRvYy5leHRlbmQgPSBmYWxzZTtcbiAgICAgIGlmIChjb3B5SGlzdG9yeSkge1xuICAgICAgICBkb2MuaGlzdG9yeS51bmRvRGVwdGggPSB0aGlzLmhpc3RvcnkudW5kb0RlcHRoO1xuICAgICAgICBkb2Muc2V0SGlzdG9yeSh0aGlzLmdldEhpc3RvcnkoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9jO1xuICAgIH0sXG5cbiAgICBsaW5rZWREb2M6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICAgICAgdmFyIGZyb20gPSB0aGlzLmZpcnN0LCB0byA9IHRoaXMuZmlyc3QgKyB0aGlzLnNpemU7XG4gICAgICBpZiAob3B0aW9ucy5mcm9tICE9IG51bGwgJiYgb3B0aW9ucy5mcm9tID4gZnJvbSkgZnJvbSA9IG9wdGlvbnMuZnJvbTtcbiAgICAgIGlmIChvcHRpb25zLnRvICE9IG51bGwgJiYgb3B0aW9ucy50byA8IHRvKSB0byA9IG9wdGlvbnMudG87XG4gICAgICB2YXIgY29weSA9IG5ldyBEb2MoZ2V0TGluZXModGhpcywgZnJvbSwgdG8pLCBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlT3B0aW9uLCBmcm9tLCB0aGlzLmxpbmVTZXApO1xuICAgICAgaWYgKG9wdGlvbnMuc2hhcmVkSGlzdCkgY29weS5oaXN0b3J5ID0gdGhpcy5oaXN0b3J5O1xuICAgICAgKHRoaXMubGlua2VkIHx8ICh0aGlzLmxpbmtlZCA9IFtdKSkucHVzaCh7ZG9jOiBjb3B5LCBzaGFyZWRIaXN0OiBvcHRpb25zLnNoYXJlZEhpc3R9KTtcbiAgICAgIGNvcHkubGlua2VkID0gW3tkb2M6IHRoaXMsIGlzUGFyZW50OiB0cnVlLCBzaGFyZWRIaXN0OiBvcHRpb25zLnNoYXJlZEhpc3R9XTtcbiAgICAgIGNvcHlTaGFyZWRNYXJrZXJzKGNvcHksIGZpbmRTaGFyZWRNYXJrZXJzKHRoaXMpKTtcbiAgICAgIHJldHVybiBjb3B5O1xuICAgIH0sXG4gICAgdW5saW5rRG9jOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQ29kZU1pcnJvcikgb3RoZXIgPSBvdGhlci5kb2M7XG4gICAgICBpZiAodGhpcy5saW5rZWQpIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saW5rZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmxpbmtlZFtpXTtcbiAgICAgICAgaWYgKGxpbmsuZG9jICE9IG90aGVyKSBjb250aW51ZTtcbiAgICAgICAgdGhpcy5saW5rZWQuc3BsaWNlKGksIDEpO1xuICAgICAgICBvdGhlci51bmxpbmtEb2ModGhpcyk7XG4gICAgICAgIGRldGFjaFNoYXJlZE1hcmtlcnMoZmluZFNoYXJlZE1hcmtlcnModGhpcykpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZSBoaXN0b3JpZXMgd2VyZSBzaGFyZWQsIHNwbGl0IHRoZW0gYWdhaW5cbiAgICAgIGlmIChvdGhlci5oaXN0b3J5ID09IHRoaXMuaGlzdG9yeSkge1xuICAgICAgICB2YXIgc3BsaXRJZHMgPSBbb3RoZXIuaWRdO1xuICAgICAgICBsaW5rZWREb2NzKG90aGVyLCBmdW5jdGlvbihkb2MpIHtzcGxpdElkcy5wdXNoKGRvYy5pZCk7fSwgdHJ1ZSk7XG4gICAgICAgIG90aGVyLmhpc3RvcnkgPSBuZXcgSGlzdG9yeShudWxsKTtcbiAgICAgICAgb3RoZXIuaGlzdG9yeS5kb25lID0gY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkuZG9uZSwgc3BsaXRJZHMpO1xuICAgICAgICBvdGhlci5oaXN0b3J5LnVuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkodGhpcy5oaXN0b3J5LnVuZG9uZSwgc3BsaXRJZHMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXRlckxpbmtlZERvY3M6IGZ1bmN0aW9uKGYpIHtsaW5rZWREb2NzKHRoaXMsIGYpO30sXG5cbiAgICBnZXRNb2RlOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5tb2RlO30sXG4gICAgZ2V0RWRpdG9yOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5jbTt9LFxuXG4gICAgc3BsaXRMaW5lczogZnVuY3Rpb24oc3RyKSB7XG4gICAgICBpZiAodGhpcy5saW5lU2VwKSByZXR1cm4gc3RyLnNwbGl0KHRoaXMubGluZVNlcCk7XG4gICAgICByZXR1cm4gc3BsaXRMaW5lc0F1dG8oc3RyKTtcbiAgICB9LFxuICAgIGxpbmVTZXBhcmF0b3I6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5saW5lU2VwIHx8IFwiXFxuXCI7IH1cbiAgfSk7XG5cbiAgLy8gUHVibGljIGFsaWFzLlxuICBEb2MucHJvdG90eXBlLmVhY2hMaW5lID0gRG9jLnByb3RvdHlwZS5pdGVyO1xuXG4gIC8vIFNldCB1cCBtZXRob2RzIG9uIENvZGVNaXJyb3IncyBwcm90b3R5cGUgdG8gcmVkaXJlY3QgdG8gdGhlIGVkaXRvcidzIGRvY3VtZW50LlxuICB2YXIgZG9udERlbGVnYXRlID0gXCJpdGVyIGluc2VydCByZW1vdmUgY29weSBnZXRFZGl0b3IgY29uc3RydWN0b3JcIi5zcGxpdChcIiBcIik7XG4gIGZvciAodmFyIHByb3AgaW4gRG9jLnByb3RvdHlwZSkgaWYgKERvYy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkocHJvcCkgJiYgaW5kZXhPZihkb250RGVsZWdhdGUsIHByb3ApIDwgMClcbiAgICBDb2RlTWlycm9yLnByb3RvdHlwZVtwcm9wXSA9IChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtyZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMuZG9jLCBhcmd1bWVudHMpO307XG4gICAgfSkoRG9jLnByb3RvdHlwZVtwcm9wXSk7XG5cbiAgZXZlbnRNaXhpbihEb2MpO1xuXG4gIC8vIENhbGwgZiBmb3IgYWxsIGxpbmtlZCBkb2N1bWVudHMuXG4gIGZ1bmN0aW9uIGxpbmtlZERvY3MoZG9jLCBmLCBzaGFyZWRIaXN0T25seSkge1xuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZShkb2MsIHNraXAsIHNoYXJlZEhpc3QpIHtcbiAgICAgIGlmIChkb2MubGlua2VkKSBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5saW5rZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHJlbCA9IGRvYy5saW5rZWRbaV07XG4gICAgICAgIGlmIChyZWwuZG9jID09IHNraXApIGNvbnRpbnVlO1xuICAgICAgICB2YXIgc2hhcmVkID0gc2hhcmVkSGlzdCAmJiByZWwuc2hhcmVkSGlzdDtcbiAgICAgICAgaWYgKHNoYXJlZEhpc3RPbmx5ICYmICFzaGFyZWQpIGNvbnRpbnVlO1xuICAgICAgICBmKHJlbC5kb2MsIHNoYXJlZCk7XG4gICAgICAgIHByb3BhZ2F0ZShyZWwuZG9jLCBkb2MsIHNoYXJlZCk7XG4gICAgICB9XG4gICAgfVxuICAgIHByb3BhZ2F0ZShkb2MsIG51bGwsIHRydWUpO1xuICB9XG5cbiAgLy8gQXR0YWNoIGEgZG9jdW1lbnQgdG8gYW4gZWRpdG9yLlxuICBmdW5jdGlvbiBhdHRhY2hEb2MoY20sIGRvYykge1xuICAgIGlmIChkb2MuY20pIHRocm93IG5ldyBFcnJvcihcIlRoaXMgZG9jdW1lbnQgaXMgYWxyZWFkeSBpbiB1c2UuXCIpO1xuICAgIGNtLmRvYyA9IGRvYztcbiAgICBkb2MuY20gPSBjbTtcbiAgICBlc3RpbWF0ZUxpbmVIZWlnaHRzKGNtKTtcbiAgICBsb2FkTW9kZShjbSk7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgZmluZE1heExpbmUoY20pO1xuICAgIGNtLm9wdGlvbnMubW9kZSA9IGRvYy5tb2RlT3B0aW9uO1xuICAgIHJlZ0NoYW5nZShjbSk7XG4gIH1cblxuICAvLyBMSU5FIFVUSUxJVElFU1xuXG4gIC8vIEZpbmQgdGhlIGxpbmUgb2JqZWN0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIGxpbmUgbnVtYmVyLlxuICBmdW5jdGlvbiBnZXRMaW5lKGRvYywgbikge1xuICAgIG4gLT0gZG9jLmZpcnN0O1xuICAgIGlmIChuIDwgMCB8fCBuID49IGRvYy5zaXplKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBpcyBubyBsaW5lIFwiICsgKG4gKyBkb2MuZmlyc3QpICsgXCIgaW4gdGhlIGRvY3VtZW50LlwiKTtcbiAgICBmb3IgKHZhciBjaHVuayA9IGRvYzsgIWNodW5rLmxpbmVzOykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7OyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gY2h1bmsuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICAgIGlmIChuIDwgc3opIHsgY2h1bmsgPSBjaGlsZDsgYnJlYWs7IH1cbiAgICAgICAgbiAtPSBzejtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNodW5rLmxpbmVzW25dO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBwYXJ0IG9mIGEgZG9jdW1lbnQgYmV0d2VlbiB0d28gcG9zaXRpb25zLCBhcyBhbiBhcnJheSBvZlxuICAvLyBzdHJpbmdzLlxuICBmdW5jdGlvbiBnZXRCZXR3ZWVuKGRvYywgc3RhcnQsIGVuZCkge1xuICAgIHZhciBvdXQgPSBbXSwgbiA9IHN0YXJ0LmxpbmU7XG4gICAgZG9jLml0ZXIoc3RhcnQubGluZSwgZW5kLmxpbmUgKyAxLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgdGV4dCA9IGxpbmUudGV4dDtcbiAgICAgIGlmIChuID09IGVuZC5saW5lKSB0ZXh0ID0gdGV4dC5zbGljZSgwLCBlbmQuY2gpO1xuICAgICAgaWYgKG4gPT0gc3RhcnQubGluZSkgdGV4dCA9IHRleHQuc2xpY2Uoc3RhcnQuY2gpO1xuICAgICAgb3V0LnB1c2godGV4dCk7XG4gICAgICArK247XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICAvLyBHZXQgdGhlIGxpbmVzIGJldHdlZW4gZnJvbSBhbmQgdG8sIGFzIGFycmF5IG9mIHN0cmluZ3MuXG4gIGZ1bmN0aW9uIGdldExpbmVzKGRvYywgZnJvbSwgdG8pIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZG9jLml0ZXIoZnJvbSwgdG8sIGZ1bmN0aW9uKGxpbmUpIHsgb3V0LnB1c2gobGluZS50ZXh0KTsgfSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIC8vIFVwZGF0ZSB0aGUgaGVpZ2h0IG9mIGEgbGluZSwgcHJvcGFnYXRpbmcgdGhlIGhlaWdodCBjaGFuZ2VcbiAgLy8gdXB3YXJkcyB0byBwYXJlbnQgbm9kZXMuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgaGVpZ2h0KSB7XG4gICAgdmFyIGRpZmYgPSBoZWlnaHQgLSBsaW5lLmhlaWdodDtcbiAgICBpZiAoZGlmZikgZm9yICh2YXIgbiA9IGxpbmU7IG47IG4gPSBuLnBhcmVudCkgbi5oZWlnaHQgKz0gZGlmZjtcbiAgfVxuXG4gIC8vIEdpdmVuIGEgbGluZSBvYmplY3QsIGZpbmQgaXRzIGxpbmUgbnVtYmVyIGJ5IHdhbGtpbmcgdXAgdGhyb3VnaFxuICAvLyBpdHMgcGFyZW50IGxpbmtzLlxuICBmdW5jdGlvbiBsaW5lTm8obGluZSkge1xuICAgIGlmIChsaW5lLnBhcmVudCA9PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgY3VyID0gbGluZS5wYXJlbnQsIG5vID0gaW5kZXhPZihjdXIubGluZXMsIGxpbmUpO1xuICAgIGZvciAodmFyIGNodW5rID0gY3VyLnBhcmVudDsgY2h1bms7IGN1ciA9IGNodW5rLCBjaHVuayA9IGNodW5rLnBhcmVudCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7OyArK2kpIHtcbiAgICAgICAgaWYgKGNodW5rLmNoaWxkcmVuW2ldID09IGN1cikgYnJlYWs7XG4gICAgICAgIG5vICs9IGNodW5rLmNoaWxkcmVuW2ldLmNodW5rU2l6ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm8gKyBjdXIuZmlyc3Q7XG4gIH1cblxuICAvLyBGaW5kIHRoZSBsaW5lIGF0IHRoZSBnaXZlbiB2ZXJ0aWNhbCBwb3NpdGlvbiwgdXNpbmcgdGhlIGhlaWdodFxuICAvLyBpbmZvcm1hdGlvbiBpbiB0aGUgZG9jdW1lbnQgdHJlZS5cbiAgZnVuY3Rpb24gbGluZUF0SGVpZ2h0KGNodW5rLCBoKSB7XG4gICAgdmFyIG4gPSBjaHVuay5maXJzdDtcbiAgICBvdXRlcjogZG8ge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVuay5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgY2hpbGQgPSBjaHVuay5jaGlsZHJlbltpXSwgY2ggPSBjaGlsZC5oZWlnaHQ7XG4gICAgICAgIGlmIChoIDwgY2gpIHsgY2h1bmsgPSBjaGlsZDsgY29udGludWUgb3V0ZXI7IH1cbiAgICAgICAgaCAtPSBjaDtcbiAgICAgICAgbiArPSBjaGlsZC5jaHVua1NpemUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuO1xuICAgIH0gd2hpbGUgKCFjaHVuay5saW5lcyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVuay5saW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGxpbmUgPSBjaHVuay5saW5lc1tpXSwgbGggPSBsaW5lLmhlaWdodDtcbiAgICAgIGlmIChoIDwgbGgpIGJyZWFrO1xuICAgICAgaCAtPSBsaDtcbiAgICB9XG4gICAgcmV0dXJuIG4gKyBpO1xuICB9XG5cblxuICAvLyBGaW5kIHRoZSBoZWlnaHQgYWJvdmUgdGhlIGdpdmVuIGxpbmUuXG4gIGZ1bmN0aW9uIGhlaWdodEF0TGluZShsaW5lT2JqKSB7XG4gICAgbGluZU9iaiA9IHZpc3VhbExpbmUobGluZU9iaik7XG5cbiAgICB2YXIgaCA9IDAsIGNodW5rID0gbGluZU9iai5wYXJlbnQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVuay5saW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGxpbmUgPSBjaHVuay5saW5lc1tpXTtcbiAgICAgIGlmIChsaW5lID09IGxpbmVPYmopIGJyZWFrO1xuICAgICAgZWxzZSBoICs9IGxpbmUuaGVpZ2h0O1xuICAgIH1cbiAgICBmb3IgKHZhciBwID0gY2h1bmsucGFyZW50OyBwOyBjaHVuayA9IHAsIHAgPSBjaHVuay5wYXJlbnQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcC5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgY3VyID0gcC5jaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGN1ciA9PSBjaHVuaykgYnJlYWs7XG4gICAgICAgIGVsc2UgaCArPSBjdXIuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaDtcbiAgfVxuXG4gIC8vIEdldCB0aGUgYmlkaSBvcmRlcmluZyBmb3IgdGhlIGdpdmVuIGxpbmUgKGFuZCBjYWNoZSBpdCkuIFJldHVybnNcbiAgLy8gZmFsc2UgZm9yIGxpbmVzIHRoYXQgYXJlIGZ1bGx5IGxlZnQtdG8tcmlnaHQsIGFuZCBhbiBhcnJheSBvZlxuICAvLyBCaWRpU3BhbiBvYmplY3RzIG90aGVyd2lzZS5cbiAgZnVuY3Rpb24gZ2V0T3JkZXIobGluZSkge1xuICAgIHZhciBvcmRlciA9IGxpbmUub3JkZXI7XG4gICAgaWYgKG9yZGVyID09IG51bGwpIG9yZGVyID0gbGluZS5vcmRlciA9IGJpZGlPcmRlcmluZyhsaW5lLnRleHQpO1xuICAgIHJldHVybiBvcmRlcjtcbiAgfVxuXG4gIC8vIEhJU1RPUllcblxuICBmdW5jdGlvbiBIaXN0b3J5KHN0YXJ0R2VuKSB7XG4gICAgLy8gQXJyYXlzIG9mIGNoYW5nZSBldmVudHMgYW5kIHNlbGVjdGlvbnMuIERvaW5nIHNvbWV0aGluZyBhZGRzIGFuXG4gICAgLy8gZXZlbnQgdG8gZG9uZSBhbmQgY2xlYXJzIHVuZG8uIFVuZG9pbmcgbW92ZXMgZXZlbnRzIGZyb20gZG9uZVxuICAgIC8vIHRvIHVuZG9uZSwgcmVkb2luZyBtb3ZlcyB0aGVtIGluIHRoZSBvdGhlciBkaXJlY3Rpb24uXG4gICAgdGhpcy5kb25lID0gW107IHRoaXMudW5kb25lID0gW107XG4gICAgdGhpcy51bmRvRGVwdGggPSBJbmZpbml0eTtcbiAgICAvLyBVc2VkIHRvIHRyYWNrIHdoZW4gY2hhbmdlcyBjYW4gYmUgbWVyZ2VkIGludG8gYSBzaW5nbGUgdW5kb1xuICAgIC8vIGV2ZW50XG4gICAgdGhpcy5sYXN0TW9kVGltZSA9IHRoaXMubGFzdFNlbFRpbWUgPSAwO1xuICAgIHRoaXMubGFzdE9wID0gdGhpcy5sYXN0U2VsT3AgPSBudWxsO1xuICAgIHRoaXMubGFzdE9yaWdpbiA9IHRoaXMubGFzdFNlbE9yaWdpbiA9IG51bGw7XG4gICAgLy8gVXNlZCBieSB0aGUgaXNDbGVhbigpIG1ldGhvZFxuICAgIHRoaXMuZ2VuZXJhdGlvbiA9IHRoaXMubWF4R2VuZXJhdGlvbiA9IHN0YXJ0R2VuIHx8IDE7XG4gIH1cblxuICAvLyBDcmVhdGUgYSBoaXN0b3J5IGNoYW5nZSBldmVudCBmcm9tIGFuIHVwZGF0ZURvYy1zdHlsZSBjaGFuZ2VcbiAgLy8gb2JqZWN0LlxuICBmdW5jdGlvbiBoaXN0b3J5Q2hhbmdlRnJvbUNoYW5nZShkb2MsIGNoYW5nZSkge1xuICAgIHZhciBoaXN0Q2hhbmdlID0ge2Zyb206IGNvcHlQb3MoY2hhbmdlLmZyb20pLCB0bzogY2hhbmdlRW5kKGNoYW5nZSksIHRleHQ6IGdldEJldHdlZW4oZG9jLCBjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKX07XG4gICAgYXR0YWNoTG9jYWxTcGFucyhkb2MsIGhpc3RDaGFuZ2UsIGNoYW5nZS5mcm9tLmxpbmUsIGNoYW5nZS50by5saW5lICsgMSk7XG4gICAgbGlua2VkRG9jcyhkb2MsIGZ1bmN0aW9uKGRvYykge2F0dGFjaExvY2FsU3BhbnMoZG9jLCBoaXN0Q2hhbmdlLCBjaGFuZ2UuZnJvbS5saW5lLCBjaGFuZ2UudG8ubGluZSArIDEpO30sIHRydWUpO1xuICAgIHJldHVybiBoaXN0Q2hhbmdlO1xuICB9XG5cbiAgLy8gUG9wIGFsbCBzZWxlY3Rpb24gZXZlbnRzIG9mZiB0aGUgZW5kIG9mIGEgaGlzdG9yeSBhcnJheS4gU3RvcCBhdFxuICAvLyBhIGNoYW5nZSBldmVudC5cbiAgZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb25FdmVudHMoYXJyYXkpIHtcbiAgICB3aGlsZSAoYXJyYXkubGVuZ3RoKSB7XG4gICAgICB2YXIgbGFzdCA9IGxzdChhcnJheSk7XG4gICAgICBpZiAobGFzdC5yYW5nZXMpIGFycmF5LnBvcCgpO1xuICAgICAgZWxzZSBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBGaW5kIHRoZSB0b3AgY2hhbmdlIGV2ZW50IGluIHRoZSBoaXN0b3J5LiBQb3Agb2ZmIHNlbGVjdGlvblxuICAvLyBldmVudHMgdGhhdCBhcmUgaW4gdGhlIHdheS5cbiAgZnVuY3Rpb24gbGFzdENoYW5nZUV2ZW50KGhpc3QsIGZvcmNlKSB7XG4gICAgaWYgKGZvcmNlKSB7XG4gICAgICBjbGVhclNlbGVjdGlvbkV2ZW50cyhoaXN0LmRvbmUpO1xuICAgICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpO1xuICAgIH0gZWxzZSBpZiAoaGlzdC5kb25lLmxlbmd0aCAmJiAhbHN0KGhpc3QuZG9uZSkucmFuZ2VzKSB7XG4gICAgICByZXR1cm4gbHN0KGhpc3QuZG9uZSk7XG4gICAgfSBlbHNlIGlmIChoaXN0LmRvbmUubGVuZ3RoID4gMSAmJiAhaGlzdC5kb25lW2hpc3QuZG9uZS5sZW5ndGggLSAyXS5yYW5nZXMpIHtcbiAgICAgIGhpc3QuZG9uZS5wb3AoKTtcbiAgICAgIHJldHVybiBsc3QoaGlzdC5kb25lKTtcbiAgICB9XG4gIH1cblxuICAvLyBSZWdpc3RlciBhIGNoYW5nZSBpbiB0aGUgaGlzdG9yeS4gTWVyZ2VzIGNoYW5nZXMgdGhhdCBhcmUgd2l0aGluXG4gIC8vIGEgc2luZ2xlIG9wZXJhdGlvbiwgb3JlIGFyZSBjbG9zZSB0b2dldGhlciB3aXRoIGFuIG9yaWdpbiB0aGF0XG4gIC8vIGFsbG93cyBtZXJnaW5nIChzdGFydGluZyB3aXRoIFwiK1wiKSBpbnRvIGEgc2luZ2xlIGV2ZW50LlxuICBmdW5jdGlvbiBhZGRDaGFuZ2VUb0hpc3RvcnkoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBvcElkKSB7XG4gICAgdmFyIGhpc3QgPSBkb2MuaGlzdG9yeTtcbiAgICBoaXN0LnVuZG9uZS5sZW5ndGggPSAwO1xuICAgIHZhciB0aW1lID0gK25ldyBEYXRlLCBjdXI7XG5cbiAgICBpZiAoKGhpc3QubGFzdE9wID09IG9wSWQgfHxcbiAgICAgICAgIGhpc3QubGFzdE9yaWdpbiA9PSBjaGFuZ2Uub3JpZ2luICYmIGNoYW5nZS5vcmlnaW4gJiZcbiAgICAgICAgICgoY2hhbmdlLm9yaWdpbi5jaGFyQXQoMCkgPT0gXCIrXCIgJiYgZG9jLmNtICYmIGhpc3QubGFzdE1vZFRpbWUgPiB0aW1lIC0gZG9jLmNtLm9wdGlvbnMuaGlzdG9yeUV2ZW50RGVsYXkpIHx8XG4gICAgICAgICAgY2hhbmdlLm9yaWdpbi5jaGFyQXQoMCkgPT0gXCIqXCIpKSAmJlxuICAgICAgICAoY3VyID0gbGFzdENoYW5nZUV2ZW50KGhpc3QsIGhpc3QubGFzdE9wID09IG9wSWQpKSkge1xuICAgICAgLy8gTWVyZ2UgdGhpcyBjaGFuZ2UgaW50byB0aGUgbGFzdCBldmVudFxuICAgICAgdmFyIGxhc3QgPSBsc3QoY3VyLmNoYW5nZXMpO1xuICAgICAgaWYgKGNtcChjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKSA9PSAwICYmIGNtcChjaGFuZ2UuZnJvbSwgbGFzdC50bykgPT0gMCkge1xuICAgICAgICAvLyBPcHRpbWl6ZWQgY2FzZSBmb3Igc2ltcGxlIGluc2VydGlvbiAtLSBkb24ndCB3YW50IHRvIGFkZFxuICAgICAgICAvLyBuZXcgY2hhbmdlc2V0cyBmb3IgZXZlcnkgY2hhcmFjdGVyIHR5cGVkXG4gICAgICAgIGxhc3QudG8gPSBjaGFuZ2VFbmQoY2hhbmdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFkZCBuZXcgc3ViLWV2ZW50XG4gICAgICAgIGN1ci5jaGFuZ2VzLnB1c2goaGlzdG9yeUNoYW5nZUZyb21DaGFuZ2UoZG9jLCBjaGFuZ2UpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FuIG5vdCBiZSBtZXJnZWQsIHN0YXJ0IGEgbmV3IGV2ZW50LlxuICAgICAgdmFyIGJlZm9yZSA9IGxzdChoaXN0LmRvbmUpO1xuICAgICAgaWYgKCFiZWZvcmUgfHwgIWJlZm9yZS5yYW5nZXMpXG4gICAgICAgIHB1c2hTZWxlY3Rpb25Ub0hpc3RvcnkoZG9jLnNlbCwgaGlzdC5kb25lKTtcbiAgICAgIGN1ciA9IHtjaGFuZ2VzOiBbaGlzdG9yeUNoYW5nZUZyb21DaGFuZ2UoZG9jLCBjaGFuZ2UpXSxcbiAgICAgICAgICAgICBnZW5lcmF0aW9uOiBoaXN0LmdlbmVyYXRpb259O1xuICAgICAgaGlzdC5kb25lLnB1c2goY3VyKTtcbiAgICAgIHdoaWxlIChoaXN0LmRvbmUubGVuZ3RoID4gaGlzdC51bmRvRGVwdGgpIHtcbiAgICAgICAgaGlzdC5kb25lLnNoaWZ0KCk7XG4gICAgICAgIGlmICghaGlzdC5kb25lWzBdLnJhbmdlcykgaGlzdC5kb25lLnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGhpc3QuZG9uZS5wdXNoKHNlbEFmdGVyKTtcbiAgICBoaXN0LmdlbmVyYXRpb24gPSArK2hpc3QubWF4R2VuZXJhdGlvbjtcbiAgICBoaXN0Lmxhc3RNb2RUaW1lID0gaGlzdC5sYXN0U2VsVGltZSA9IHRpbWU7XG4gICAgaGlzdC5sYXN0T3AgPSBoaXN0Lmxhc3RTZWxPcCA9IG9wSWQ7XG4gICAgaGlzdC5sYXN0T3JpZ2luID0gaGlzdC5sYXN0U2VsT3JpZ2luID0gY2hhbmdlLm9yaWdpbjtcblxuICAgIGlmICghbGFzdCkgc2lnbmFsKGRvYywgXCJoaXN0b3J5QWRkZWRcIik7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3Rpb25FdmVudENhbkJlTWVyZ2VkKGRvYywgb3JpZ2luLCBwcmV2LCBzZWwpIHtcbiAgICB2YXIgY2ggPSBvcmlnaW4uY2hhckF0KDApO1xuICAgIHJldHVybiBjaCA9PSBcIipcIiB8fFxuICAgICAgY2ggPT0gXCIrXCIgJiZcbiAgICAgIHByZXYucmFuZ2VzLmxlbmd0aCA9PSBzZWwucmFuZ2VzLmxlbmd0aCAmJlxuICAgICAgcHJldi5zb21ldGhpbmdTZWxlY3RlZCgpID09IHNlbC5zb21ldGhpbmdTZWxlY3RlZCgpICYmXG4gICAgICBuZXcgRGF0ZSAtIGRvYy5oaXN0b3J5Lmxhc3RTZWxUaW1lIDw9IChkb2MuY20gPyBkb2MuY20ub3B0aW9ucy5oaXN0b3J5RXZlbnREZWxheSA6IDUwMCk7XG4gIH1cblxuICAvLyBDYWxsZWQgd2hlbmV2ZXIgdGhlIHNlbGVjdGlvbiBjaGFuZ2VzLCBzZXRzIHRoZSBuZXcgc2VsZWN0aW9uIGFzXG4gIC8vIHRoZSBwZW5kaW5nIHNlbGVjdGlvbiBpbiB0aGUgaGlzdG9yeSwgYW5kIHB1c2hlcyB0aGUgb2xkIHBlbmRpbmdcbiAgLy8gc2VsZWN0aW9uIGludG8gdGhlICdkb25lJyBhcnJheSB3aGVuIGl0IHdhcyBzaWduaWZpY2FudGx5XG4gIC8vIGRpZmZlcmVudCAoaW4gbnVtYmVyIG9mIHNlbGVjdGVkIHJhbmdlcywgZW1wdGluZXNzLCBvciB0aW1lKS5cbiAgZnVuY3Rpb24gYWRkU2VsZWN0aW9uVG9IaXN0b3J5KGRvYywgc2VsLCBvcElkLCBvcHRpb25zKSB7XG4gICAgdmFyIGhpc3QgPSBkb2MuaGlzdG9yeSwgb3JpZ2luID0gb3B0aW9ucyAmJiBvcHRpb25zLm9yaWdpbjtcblxuICAgIC8vIEEgbmV3IGV2ZW50IGlzIHN0YXJ0ZWQgd2hlbiB0aGUgcHJldmlvdXMgb3JpZ2luIGRvZXMgbm90IG1hdGNoXG4gICAgLy8gdGhlIGN1cnJlbnQsIG9yIHRoZSBvcmlnaW5zIGRvbid0IGFsbG93IG1hdGNoaW5nLiBPcmlnaW5zXG4gICAgLy8gc3RhcnRpbmcgd2l0aCAqIGFyZSBhbHdheXMgbWVyZ2VkLCB0aG9zZSBzdGFydGluZyB3aXRoICsgYXJlXG4gICAgLy8gbWVyZ2VkIHdoZW4gc2ltaWxhciBhbmQgY2xvc2UgdG9nZXRoZXIgaW4gdGltZS5cbiAgICBpZiAob3BJZCA9PSBoaXN0Lmxhc3RTZWxPcCB8fFxuICAgICAgICAob3JpZ2luICYmIGhpc3QubGFzdFNlbE9yaWdpbiA9PSBvcmlnaW4gJiZcbiAgICAgICAgIChoaXN0Lmxhc3RNb2RUaW1lID09IGhpc3QubGFzdFNlbFRpbWUgJiYgaGlzdC5sYXN0T3JpZ2luID09IG9yaWdpbiB8fFxuICAgICAgICAgIHNlbGVjdGlvbkV2ZW50Q2FuQmVNZXJnZWQoZG9jLCBvcmlnaW4sIGxzdChoaXN0LmRvbmUpLCBzZWwpKSkpXG4gICAgICBoaXN0LmRvbmVbaGlzdC5kb25lLmxlbmd0aCAtIDFdID0gc2VsO1xuICAgIGVsc2VcbiAgICAgIHB1c2hTZWxlY3Rpb25Ub0hpc3Rvcnkoc2VsLCBoaXN0LmRvbmUpO1xuXG4gICAgaGlzdC5sYXN0U2VsVGltZSA9ICtuZXcgRGF0ZTtcbiAgICBoaXN0Lmxhc3RTZWxPcmlnaW4gPSBvcmlnaW47XG4gICAgaGlzdC5sYXN0U2VsT3AgPSBvcElkO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY2xlYXJSZWRvICE9PSBmYWxzZSlcbiAgICAgIGNsZWFyU2VsZWN0aW9uRXZlbnRzKGhpc3QudW5kb25lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2hTZWxlY3Rpb25Ub0hpc3Rvcnkoc2VsLCBkZXN0KSB7XG4gICAgdmFyIHRvcCA9IGxzdChkZXN0KTtcbiAgICBpZiAoISh0b3AgJiYgdG9wLnJhbmdlcyAmJiB0b3AuZXF1YWxzKHNlbCkpKVxuICAgICAgZGVzdC5wdXNoKHNlbCk7XG4gIH1cblxuICAvLyBVc2VkIHRvIHN0b3JlIG1hcmtlZCBzcGFuIGluZm9ybWF0aW9uIGluIHRoZSBoaXN0b3J5LlxuICBmdW5jdGlvbiBhdHRhY2hMb2NhbFNwYW5zKGRvYywgY2hhbmdlLCBmcm9tLCB0bykge1xuICAgIHZhciBleGlzdGluZyA9IGNoYW5nZVtcInNwYW5zX1wiICsgZG9jLmlkXSwgbiA9IDA7XG4gICAgZG9jLml0ZXIoTWF0aC5tYXgoZG9jLmZpcnN0LCBmcm9tKSwgTWF0aC5taW4oZG9jLmZpcnN0ICsgZG9jLnNpemUsIHRvKSwgZnVuY3Rpb24obGluZSkge1xuICAgICAgaWYgKGxpbmUubWFya2VkU3BhbnMpXG4gICAgICAgIChleGlzdGluZyB8fCAoZXhpc3RpbmcgPSBjaGFuZ2VbXCJzcGFuc19cIiArIGRvYy5pZF0gPSB7fSkpW25dID0gbGluZS5tYXJrZWRTcGFucztcbiAgICAgICsrbjtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFdoZW4gdW4vcmUtZG9pbmcgcmVzdG9yZXMgdGV4dCBjb250YWluaW5nIG1hcmtlZCBzcGFucywgdGhvc2VcbiAgLy8gdGhhdCBoYXZlIGJlZW4gZXhwbGljaXRseSBjbGVhcmVkIHNob3VsZCBub3QgYmUgcmVzdG9yZWQuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsZWFyZWRTcGFucyhzcGFucykge1xuICAgIGlmICghc3BhbnMpIHJldHVybiBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwLCBvdXQ7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKHNwYW5zW2ldLm1hcmtlci5leHBsaWNpdGx5Q2xlYXJlZCkgeyBpZiAoIW91dCkgb3V0ID0gc3BhbnMuc2xpY2UoMCwgaSk7IH1cbiAgICAgIGVsc2UgaWYgKG91dCkgb3V0LnB1c2goc3BhbnNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gIW91dCA/IHNwYW5zIDogb3V0Lmxlbmd0aCA/IG91dCA6IG51bGw7XG4gIH1cblxuICAvLyBSZXRyaWV2ZSBhbmQgZmlsdGVyIHRoZSBvbGQgbWFya2VkIHNwYW5zIHN0b3JlZCBpbiBhIGNoYW5nZSBldmVudC5cbiAgZnVuY3Rpb24gZ2V0T2xkU3BhbnMoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgZm91bmQgPSBjaGFuZ2VbXCJzcGFuc19cIiArIGRvYy5pZF07XG4gICAgaWYgKCFmb3VuZCkgcmV0dXJuIG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDAsIG53ID0gW107IGkgPCBjaGFuZ2UudGV4dC5sZW5ndGg7ICsraSlcbiAgICAgIG53LnB1c2gocmVtb3ZlQ2xlYXJlZFNwYW5zKGZvdW5kW2ldKSk7XG4gICAgcmV0dXJuIG53O1xuICB9XG5cbiAgLy8gVXNlZCBib3RoIHRvIHByb3ZpZGUgYSBKU09OLXNhZmUgb2JqZWN0IGluIC5nZXRIaXN0b3J5LCBhbmQsIHdoZW5cbiAgLy8gZGV0YWNoaW5nIGEgZG9jdW1lbnQsIHRvIHNwbGl0IHRoZSBoaXN0b3J5IGluIHR3b1xuICBmdW5jdGlvbiBjb3B5SGlzdG9yeUFycmF5KGV2ZW50cywgbmV3R3JvdXAsIGluc3RhbnRpYXRlU2VsKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGNvcHkgPSBbXTsgaSA8IGV2ZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuICAgICAgaWYgKGV2ZW50LnJhbmdlcykge1xuICAgICAgICBjb3B5LnB1c2goaW5zdGFudGlhdGVTZWwgPyBTZWxlY3Rpb24ucHJvdG90eXBlLmRlZXBDb3B5LmNhbGwoZXZlbnQpIDogZXZlbnQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGFuZ2VzID0gZXZlbnQuY2hhbmdlcywgbmV3Q2hhbmdlcyA9IFtdO1xuICAgICAgY29weS5wdXNoKHtjaGFuZ2VzOiBuZXdDaGFuZ2VzfSk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoYW5nZXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgdmFyIGNoYW5nZSA9IGNoYW5nZXNbal0sIG07XG4gICAgICAgIG5ld0NoYW5nZXMucHVzaCh7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBjaGFuZ2UudG8sIHRleHQ6IGNoYW5nZS50ZXh0fSk7XG4gICAgICAgIGlmIChuZXdHcm91cCkgZm9yICh2YXIgcHJvcCBpbiBjaGFuZ2UpIGlmIChtID0gcHJvcC5tYXRjaCgvXnNwYW5zXyhcXGQrKSQvKSkge1xuICAgICAgICAgIGlmIChpbmRleE9mKG5ld0dyb3VwLCBOdW1iZXIobVsxXSkpID4gLTEpIHtcbiAgICAgICAgICAgIGxzdChuZXdDaGFuZ2VzKVtwcm9wXSA9IGNoYW5nZVtwcm9wXTtcbiAgICAgICAgICAgIGRlbGV0ZSBjaGFuZ2VbcHJvcF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xuICB9XG5cbiAgLy8gUmViYXNpbmcvcmVzZXR0aW5nIGhpc3RvcnkgdG8gZGVhbCB3aXRoIGV4dGVybmFsbHktc291cmNlZCBjaGFuZ2VzXG5cbiAgZnVuY3Rpb24gcmViYXNlSGlzdFNlbFNpbmdsZShwb3MsIGZyb20sIHRvLCBkaWZmKSB7XG4gICAgaWYgKHRvIDwgcG9zLmxpbmUpIHtcbiAgICAgIHBvcy5saW5lICs9IGRpZmY7XG4gICAgfSBlbHNlIGlmIChmcm9tIDwgcG9zLmxpbmUpIHtcbiAgICAgIHBvcy5saW5lID0gZnJvbTtcbiAgICAgIHBvcy5jaCA9IDA7XG4gICAgfVxuICB9XG5cbiAgLy8gVHJpZXMgdG8gcmViYXNlIGFuIGFycmF5IG9mIGhpc3RvcnkgZXZlbnRzIGdpdmVuIGEgY2hhbmdlIGluIHRoZVxuICAvLyBkb2N1bWVudC4gSWYgdGhlIGNoYW5nZSB0b3VjaGVzIHRoZSBzYW1lIGxpbmVzIGFzIHRoZSBldmVudCwgdGhlXG4gIC8vIGV2ZW50LCBhbmQgZXZlcnl0aGluZyAnYmVoaW5kJyBpdCwgaXMgZGlzY2FyZGVkLiBJZiB0aGUgY2hhbmdlIGlzXG4gIC8vIGJlZm9yZSB0aGUgZXZlbnQsIHRoZSBldmVudCdzIHBvc2l0aW9ucyBhcmUgdXBkYXRlZC4gVXNlcyBhXG4gIC8vIGNvcHktb24td3JpdGUgc2NoZW1lIGZvciB0aGUgcG9zaXRpb25zLCB0byBhdm9pZCBoYXZpbmcgdG9cbiAgLy8gcmVhbGxvY2F0ZSB0aGVtIGFsbCBvbiBldmVyeSByZWJhc2UsIGJ1dCBhbHNvIGF2b2lkIHByb2JsZW1zIHdpdGhcbiAgLy8gc2hhcmVkIHBvc2l0aW9uIG9iamVjdHMgYmVpbmcgdW5zYWZlbHkgdXBkYXRlZC5cbiAgZnVuY3Rpb24gcmViYXNlSGlzdEFycmF5KGFycmF5LCBmcm9tLCB0bywgZGlmZikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzdWIgPSBhcnJheVtpXSwgb2sgPSB0cnVlO1xuICAgICAgaWYgKHN1Yi5yYW5nZXMpIHtcbiAgICAgICAgaWYgKCFzdWIuY29waWVkKSB7IHN1YiA9IGFycmF5W2ldID0gc3ViLmRlZXBDb3B5KCk7IHN1Yi5jb3BpZWQgPSB0cnVlOyB9XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3ViLnJhbmdlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHJlYmFzZUhpc3RTZWxTaW5nbGUoc3ViLnJhbmdlc1tqXS5hbmNob3IsIGZyb20sIHRvLCBkaWZmKTtcbiAgICAgICAgICByZWJhc2VIaXN0U2VsU2luZ2xlKHN1Yi5yYW5nZXNbal0uaGVhZCwgZnJvbSwgdG8sIGRpZmYpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdWIuY2hhbmdlcy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIgY3VyID0gc3ViLmNoYW5nZXNbal07XG4gICAgICAgIGlmICh0byA8IGN1ci5mcm9tLmxpbmUpIHtcbiAgICAgICAgICBjdXIuZnJvbSA9IFBvcyhjdXIuZnJvbS5saW5lICsgZGlmZiwgY3VyLmZyb20uY2gpO1xuICAgICAgICAgIGN1ci50byA9IFBvcyhjdXIudG8ubGluZSArIGRpZmYsIGN1ci50by5jaCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZnJvbSA8PSBjdXIudG8ubGluZSkge1xuICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghb2spIHtcbiAgICAgICAgYXJyYXkuc3BsaWNlKDAsIGkgKyAxKTtcbiAgICAgICAgaSA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmViYXNlSGlzdChoaXN0LCBjaGFuZ2UpIHtcbiAgICB2YXIgZnJvbSA9IGNoYW5nZS5mcm9tLmxpbmUsIHRvID0gY2hhbmdlLnRvLmxpbmUsIGRpZmYgPSBjaGFuZ2UudGV4dC5sZW5ndGggLSAodG8gLSBmcm9tKSAtIDE7XG4gICAgcmViYXNlSGlzdEFycmF5KGhpc3QuZG9uZSwgZnJvbSwgdG8sIGRpZmYpO1xuICAgIHJlYmFzZUhpc3RBcnJheShoaXN0LnVuZG9uZSwgZnJvbSwgdG8sIGRpZmYpO1xuICB9XG5cbiAgLy8gRVZFTlQgVVRJTElUSUVTXG5cbiAgLy8gRHVlIHRvIHRoZSBmYWN0IHRoYXQgd2Ugc3RpbGwgc3VwcG9ydCBqdXJhc3NpYyBJRSB2ZXJzaW9ucywgc29tZVxuICAvLyBjb21wYXRpYmlsaXR5IHdyYXBwZXJzIGFyZSBuZWVkZWQuXG5cbiAgdmFyIGVfcHJldmVudERlZmF1bHQgPSBDb2RlTWlycm9yLmVfcHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlbHNlIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgfTtcbiAgdmFyIGVfc3RvcFByb3BhZ2F0aW9uID0gQ29kZU1pcnJvci5lX3N0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZWxzZSBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gIH07XG4gIGZ1bmN0aW9uIGVfZGVmYXVsdFByZXZlbnRlZChlKSB7XG4gICAgcmV0dXJuIGUuZGVmYXVsdFByZXZlbnRlZCAhPSBudWxsID8gZS5kZWZhdWx0UHJldmVudGVkIDogZS5yZXR1cm5WYWx1ZSA9PSBmYWxzZTtcbiAgfVxuICB2YXIgZV9zdG9wID0gQ29kZU1pcnJvci5lX3N0b3AgPSBmdW5jdGlvbihlKSB7ZV9wcmV2ZW50RGVmYXVsdChlKTsgZV9zdG9wUHJvcGFnYXRpb24oZSk7fTtcblxuICBmdW5jdGlvbiBlX3RhcmdldChlKSB7cmV0dXJuIGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDt9XG4gIGZ1bmN0aW9uIGVfYnV0dG9uKGUpIHtcbiAgICB2YXIgYiA9IGUud2hpY2g7XG4gICAgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgaWYgKGUuYnV0dG9uICYgMSkgYiA9IDE7XG4gICAgICBlbHNlIGlmIChlLmJ1dHRvbiAmIDIpIGIgPSAzO1xuICAgICAgZWxzZSBpZiAoZS5idXR0b24gJiA0KSBiID0gMjtcbiAgICB9XG4gICAgaWYgKG1hYyAmJiBlLmN0cmxLZXkgJiYgYiA9PSAxKSBiID0gMztcbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIC8vIEVWRU5UIEhBTkRMSU5HXG5cbiAgLy8gTGlnaHR3ZWlnaHQgZXZlbnQgZnJhbWV3b3JrLiBvbi9vZmYgYWxzbyB3b3JrIG9uIERPTSBub2RlcyxcbiAgLy8gcmVnaXN0ZXJpbmcgbmF0aXZlIERPTSBoYW5kbGVycy5cblxuICB2YXIgb24gPSBDb2RlTWlycm9yLm9uID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSwgZikge1xuICAgIGlmIChlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIpXG4gICAgICBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZiwgZmFsc2UpO1xuICAgIGVsc2UgaWYgKGVtaXR0ZXIuYXR0YWNoRXZlbnQpXG4gICAgICBlbWl0dGVyLmF0dGFjaEV2ZW50KFwib25cIiArIHR5cGUsIGYpO1xuICAgIGVsc2Uge1xuICAgICAgdmFyIG1hcCA9IGVtaXR0ZXIuX2hhbmRsZXJzIHx8IChlbWl0dGVyLl9oYW5kbGVycyA9IHt9KTtcbiAgICAgIHZhciBhcnIgPSBtYXBbdHlwZV0gfHwgKG1hcFt0eXBlXSA9IFtdKTtcbiAgICAgIGFyci5wdXNoKGYpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbm9IYW5kbGVycyA9IFtdXG4gIGZ1bmN0aW9uIGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUsIGNvcHkpIHtcbiAgICB2YXIgYXJyID0gZW1pdHRlci5faGFuZGxlcnMgJiYgZW1pdHRlci5faGFuZGxlcnNbdHlwZV1cbiAgICBpZiAoY29weSkgcmV0dXJuIGFyciAmJiBhcnIubGVuZ3RoID4gMCA/IGFyci5zbGljZSgpIDogbm9IYW5kbGVyc1xuICAgIGVsc2UgcmV0dXJuIGFyciB8fCBub0hhbmRsZXJzXG4gIH1cblxuICB2YXIgb2ZmID0gQ29kZU1pcnJvci5vZmYgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlLCBmKSB7XG4gICAgaWYgKGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcilcbiAgICAgIGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSk7XG4gICAgZWxzZSBpZiAoZW1pdHRlci5kZXRhY2hFdmVudClcbiAgICAgIGVtaXR0ZXIuZGV0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgZik7XG4gICAgZWxzZSB7XG4gICAgICB2YXIgaGFuZGxlcnMgPSBnZXRIYW5kbGVycyhlbWl0dGVyLCB0eXBlLCBmYWxzZSlcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyArK2kpXG4gICAgICAgIGlmIChoYW5kbGVyc1tpXSA9PSBmKSB7IGhhbmRsZXJzLnNwbGljZShpLCAxKTsgYnJlYWs7IH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIHNpZ25hbCA9IENvZGVNaXJyb3Iuc2lnbmFsID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSAvKiwgdmFsdWVzLi4uKi8pIHtcbiAgICB2YXIgaGFuZGxlcnMgPSBnZXRIYW5kbGVycyhlbWl0dGVyLCB0eXBlLCB0cnVlKVxuICAgIGlmICghaGFuZGxlcnMubGVuZ3RoKSByZXR1cm47XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZGxlcnMubGVuZ3RoOyArK2kpIGhhbmRsZXJzW2ldLmFwcGx5KG51bGwsIGFyZ3MpO1xuICB9O1xuXG4gIHZhciBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzID0gbnVsbDtcblxuICAvLyBPZnRlbiwgd2Ugd2FudCB0byBzaWduYWwgZXZlbnRzIGF0IGEgcG9pbnQgd2hlcmUgd2UgYXJlIGluIHRoZVxuICAvLyBtaWRkbGUgb2Ygc29tZSB3b3JrLCBidXQgZG9uJ3Qgd2FudCB0aGUgaGFuZGxlciB0byBzdGFydCBjYWxsaW5nXG4gIC8vIG90aGVyIG1ldGhvZHMgb24gdGhlIGVkaXRvciwgd2hpY2ggbWlnaHQgYmUgaW4gYW4gaW5jb25zaXN0ZW50XG4gIC8vIHN0YXRlIG9yIHNpbXBseSBub3QgZXhwZWN0IGFueSBvdGhlciBldmVudHMgdG8gaGFwcGVuLlxuICAvLyBzaWduYWxMYXRlciBsb29rcyB3aGV0aGVyIHRoZXJlIGFyZSBhbnkgaGFuZGxlcnMsIGFuZCBzY2hlZHVsZXNcbiAgLy8gdGhlbSB0byBiZSBleGVjdXRlZCB3aGVuIHRoZSBsYXN0IG9wZXJhdGlvbiBlbmRzLCBvciwgaWYgbm9cbiAgLy8gb3BlcmF0aW9uIGlzIGFjdGl2ZSwgd2hlbiBhIHRpbWVvdXQgZmlyZXMuXG4gIGZ1bmN0aW9uIHNpZ25hbExhdGVyKGVtaXR0ZXIsIHR5cGUgLyosIHZhbHVlcy4uLiovKSB7XG4gICAgdmFyIGFyciA9IGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUsIGZhbHNlKVxuICAgIGlmICghYXJyLmxlbmd0aCkgcmV0dXJuO1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSwgbGlzdDtcbiAgICBpZiAob3BlcmF0aW9uR3JvdXApIHtcbiAgICAgIGxpc3QgPSBvcGVyYXRpb25Hcm91cC5kZWxheWVkQ2FsbGJhY2tzO1xuICAgIH0gZWxzZSBpZiAob3JwaGFuRGVsYXllZENhbGxiYWNrcykge1xuICAgICAgbGlzdCA9IG9ycGhhbkRlbGF5ZWRDYWxsYmFja3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3QgPSBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzID0gW107XG4gICAgICBzZXRUaW1lb3V0KGZpcmVPcnBoYW5EZWxheWVkLCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYm5kKGYpIHtyZXR1cm4gZnVuY3Rpb24oKXtmLmFwcGx5KG51bGwsIGFyZ3MpO307fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSlcbiAgICAgIGxpc3QucHVzaChibmQoYXJyW2ldKSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlT3JwaGFuRGVsYXllZCgpIHtcbiAgICB2YXIgZGVsYXllZCA9IG9ycGhhbkRlbGF5ZWRDYWxsYmFja3M7XG4gICAgb3JwaGFuRGVsYXllZENhbGxiYWNrcyA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxheWVkLmxlbmd0aDsgKytpKSBkZWxheWVkW2ldKCk7XG4gIH1cblxuICAvLyBUaGUgRE9NIGV2ZW50cyB0aGF0IENvZGVNaXJyb3IgaGFuZGxlcyBjYW4gYmUgb3ZlcnJpZGRlbiBieVxuICAvLyByZWdpc3RlcmluZyBhIChub24tRE9NKSBoYW5kbGVyIG9uIHRoZSBlZGl0b3IgZm9yIHRoZSBldmVudCBuYW1lLFxuICAvLyBhbmQgcHJldmVudERlZmF1bHQtaW5nIHRoZSBldmVudCBpbiB0aGF0IGhhbmRsZXIuXG4gIGZ1bmN0aW9uIHNpZ25hbERPTUV2ZW50KGNtLCBlLCBvdmVycmlkZSkge1xuICAgIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiKVxuICAgICAgZSA9IHt0eXBlOiBlLCBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH19O1xuICAgIHNpZ25hbChjbSwgb3ZlcnJpZGUgfHwgZS50eXBlLCBjbSwgZSk7XG4gICAgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKSB8fCBlLmNvZGVtaXJyb3JJZ25vcmU7XG4gIH1cblxuICBmdW5jdGlvbiBzaWduYWxDdXJzb3JBY3Rpdml0eShjbSkge1xuICAgIHZhciBhcnIgPSBjbS5faGFuZGxlcnMgJiYgY20uX2hhbmRsZXJzLmN1cnNvckFjdGl2aXR5O1xuICAgIGlmICghYXJyKSByZXR1cm47XG4gICAgdmFyIHNldCA9IGNtLmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMgfHwgKGNtLmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMgPSBbXSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIGlmIChpbmRleE9mKHNldCwgYXJyW2ldKSA9PSAtMSlcbiAgICAgIHNldC5wdXNoKGFycltpXSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNIYW5kbGVyKGVtaXR0ZXIsIHR5cGUpIHtcbiAgICByZXR1cm4gZ2V0SGFuZGxlcnMoZW1pdHRlciwgdHlwZSkubGVuZ3RoID4gMFxuICB9XG5cbiAgLy8gQWRkIG9uIGFuZCBvZmYgbWV0aG9kcyB0byBhIGNvbnN0cnVjdG9yJ3MgcHJvdG90eXBlLCB0byBtYWtlXG4gIC8vIHJlZ2lzdGVyaW5nIGV2ZW50cyBvbiBzdWNoIG9iamVjdHMgbW9yZSBjb252ZW5pZW50LlxuICBmdW5jdGlvbiBldmVudE1peGluKGN0b3IpIHtcbiAgICBjdG9yLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKHR5cGUsIGYpIHtvbih0aGlzLCB0eXBlLCBmKTt9O1xuICAgIGN0b3IucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKHR5cGUsIGYpIHtvZmYodGhpcywgdHlwZSwgZik7fTtcbiAgfVxuXG4gIC8vIE1JU0MgVVRJTElUSUVTXG5cbiAgLy8gTnVtYmVyIG9mIHBpeGVscyBhZGRlZCB0byBzY3JvbGxlciBhbmQgc2l6ZXIgdG8gaGlkZSBzY3JvbGxiYXJcbiAgdmFyIHNjcm9sbGVyR2FwID0gMzA7XG5cbiAgLy8gUmV0dXJuZWQgb3IgdGhyb3duIGJ5IHZhcmlvdXMgcHJvdG9jb2xzIHRvIHNpZ25hbCAnSSdtIG5vdFxuICAvLyBoYW5kbGluZyB0aGlzJy5cbiAgdmFyIFBhc3MgPSBDb2RlTWlycm9yLlBhc3MgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uKCl7cmV0dXJuIFwiQ29kZU1pcnJvci5QYXNzXCI7fX07XG5cbiAgLy8gUmV1c2VkIG9wdGlvbiBvYmplY3RzIGZvciBzZXRTZWxlY3Rpb24gJiBmcmllbmRzXG4gIHZhciBzZWxfZG9udFNjcm9sbCA9IHtzY3JvbGw6IGZhbHNlfSwgc2VsX21vdXNlID0ge29yaWdpbjogXCIqbW91c2VcIn0sIHNlbF9tb3ZlID0ge29yaWdpbjogXCIrbW92ZVwifTtcblxuICBmdW5jdGlvbiBEZWxheWVkKCkge3RoaXMuaWQgPSBudWxsO31cbiAgRGVsYXllZC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obXMsIGYpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5pZCk7XG4gICAgdGhpcy5pZCA9IHNldFRpbWVvdXQoZiwgbXMpO1xuICB9O1xuXG4gIC8vIENvdW50cyB0aGUgY29sdW1uIG9mZnNldCBpbiBhIHN0cmluZywgdGFraW5nIHRhYnMgaW50byBhY2NvdW50LlxuICAvLyBVc2VkIG1vc3RseSB0byBmaW5kIGluZGVudGF0aW9uLlxuICB2YXIgY291bnRDb2x1bW4gPSBDb2RlTWlycm9yLmNvdW50Q29sdW1uID0gZnVuY3Rpb24oc3RyaW5nLCBlbmQsIHRhYlNpemUsIHN0YXJ0SW5kZXgsIHN0YXJ0VmFsdWUpIHtcbiAgICBpZiAoZW5kID09IG51bGwpIHtcbiAgICAgIGVuZCA9IHN0cmluZy5zZWFyY2goL1teXFxzXFx1MDBhMF0vKTtcbiAgICAgIGlmIChlbmQgPT0gLTEpIGVuZCA9IHN0cmluZy5sZW5ndGg7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4IHx8IDAsIG4gPSBzdGFydFZhbHVlIHx8IDA7Oykge1xuICAgICAgdmFyIG5leHRUYWIgPSBzdHJpbmcuaW5kZXhPZihcIlxcdFwiLCBpKTtcbiAgICAgIGlmIChuZXh0VGFiIDwgMCB8fCBuZXh0VGFiID49IGVuZClcbiAgICAgICAgcmV0dXJuIG4gKyAoZW5kIC0gaSk7XG4gICAgICBuICs9IG5leHRUYWIgLSBpO1xuICAgICAgbiArPSB0YWJTaXplIC0gKG4gJSB0YWJTaXplKTtcbiAgICAgIGkgPSBuZXh0VGFiICsgMTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVGhlIGludmVyc2Ugb2YgY291bnRDb2x1bW4gLS0gZmluZCB0aGUgb2Zmc2V0IHRoYXQgY29ycmVzcG9uZHMgdG9cbiAgLy8gYSBwYXJ0aWN1bGFyIGNvbHVtbi5cbiAgdmFyIGZpbmRDb2x1bW4gPSBDb2RlTWlycm9yLmZpbmRDb2x1bW4gPSBmdW5jdGlvbihzdHJpbmcsIGdvYWwsIHRhYlNpemUpIHtcbiAgICBmb3IgKHZhciBwb3MgPSAwLCBjb2wgPSAwOzspIHtcbiAgICAgIHZhciBuZXh0VGFiID0gc3RyaW5nLmluZGV4T2YoXCJcXHRcIiwgcG9zKTtcbiAgICAgIGlmIChuZXh0VGFiID09IC0xKSBuZXh0VGFiID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIHZhciBza2lwcGVkID0gbmV4dFRhYiAtIHBvcztcbiAgICAgIGlmIChuZXh0VGFiID09IHN0cmluZy5sZW5ndGggfHwgY29sICsgc2tpcHBlZCA+PSBnb2FsKVxuICAgICAgICByZXR1cm4gcG9zICsgTWF0aC5taW4oc2tpcHBlZCwgZ29hbCAtIGNvbCk7XG4gICAgICBjb2wgKz0gbmV4dFRhYiAtIHBvcztcbiAgICAgIGNvbCArPSB0YWJTaXplIC0gKGNvbCAlIHRhYlNpemUpO1xuICAgICAgcG9zID0gbmV4dFRhYiArIDE7XG4gICAgICBpZiAoY29sID49IGdvYWwpIHJldHVybiBwb3M7XG4gICAgfVxuICB9XG5cbiAgdmFyIHNwYWNlU3RycyA9IFtcIlwiXTtcbiAgZnVuY3Rpb24gc3BhY2VTdHIobikge1xuICAgIHdoaWxlIChzcGFjZVN0cnMubGVuZ3RoIDw9IG4pXG4gICAgICBzcGFjZVN0cnMucHVzaChsc3Qoc3BhY2VTdHJzKSArIFwiIFwiKTtcbiAgICByZXR1cm4gc3BhY2VTdHJzW25dO1xuICB9XG5cbiAgZnVuY3Rpb24gbHN0KGFycikgeyByZXR1cm4gYXJyW2Fyci5sZW5ndGgtMV07IH1cblxuICB2YXIgc2VsZWN0SW5wdXQgPSBmdW5jdGlvbihub2RlKSB7IG5vZGUuc2VsZWN0KCk7IH07XG4gIGlmIChpb3MpIC8vIE1vYmlsZSBTYWZhcmkgYXBwYXJlbnRseSBoYXMgYSBidWcgd2hlcmUgc2VsZWN0KCkgaXMgYnJva2VuLlxuICAgIHNlbGVjdElucHV0ID0gZnVuY3Rpb24obm9kZSkgeyBub2RlLnNlbGVjdGlvblN0YXJ0ID0gMDsgbm9kZS5zZWxlY3Rpb25FbmQgPSBub2RlLnZhbHVlLmxlbmd0aDsgfTtcbiAgZWxzZSBpZiAoaWUpIC8vIFN1cHByZXNzIG15c3RlcmlvdXMgSUUxMCBlcnJvcnNcbiAgICBzZWxlY3RJbnB1dCA9IGZ1bmN0aW9uKG5vZGUpIHsgdHJ5IHsgbm9kZS5zZWxlY3QoKTsgfSBjYXRjaChfZSkge30gfTtcblxuICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCBlbHQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgaWYgKGFycmF5W2ldID09IGVsdCkgcmV0dXJuIGk7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGZ1bmN0aW9uIG1hcChhcnJheSwgZikge1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSBvdXRbaV0gPSBmKGFycmF5W2ldLCBpKTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aGluZygpIHt9XG5cbiAgZnVuY3Rpb24gY3JlYXRlT2JqKGJhc2UsIHByb3BzKSB7XG4gICAgdmFyIGluc3Q7XG4gICAgaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgICAgIGluc3QgPSBPYmplY3QuY3JlYXRlKGJhc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3RoaW5nLnByb3RvdHlwZSA9IGJhc2U7XG4gICAgICBpbnN0ID0gbmV3IG5vdGhpbmcoKTtcbiAgICB9XG4gICAgaWYgKHByb3BzKSBjb3B5T2JqKHByb3BzLCBpbnN0KTtcbiAgICByZXR1cm4gaW5zdDtcbiAgfTtcblxuICBmdW5jdGlvbiBjb3B5T2JqKG9iaiwgdGFyZ2V0LCBvdmVyd3JpdGUpIHtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0ge307XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopXG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApICYmIChvdmVyd3JpdGUgIT09IGZhbHNlIHx8ICF0YXJnZXQuaGFzT3duUHJvcGVydHkocHJvcCkpKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBvYmpbcHJvcF07XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJpbmQoZikge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZi5hcHBseShudWxsLCBhcmdzKTt9O1xuICB9XG5cbiAgdmFyIG5vbkFTQ0lJU2luZ2xlQ2FzZVdvcmRDaGFyID0gL1tcXHUwMGRmXFx1MDU4N1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTMwNDAtXFx1MzA5ZlxcdTMwYTAtXFx1MzBmZlxcdTM0MDAtXFx1NGRiNVxcdTRlMDAtXFx1OWZjY1xcdWFjMDAtXFx1ZDdhZl0vO1xuICB2YXIgaXNXb3JkQ2hhckJhc2ljID0gQ29kZU1pcnJvci5pc1dvcmRDaGFyID0gZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gL1xcdy8udGVzdChjaCkgfHwgY2ggPiBcIlxceDgwXCIgJiZcbiAgICAgIChjaC50b1VwcGVyQ2FzZSgpICE9IGNoLnRvTG93ZXJDYXNlKCkgfHwgbm9uQVNDSUlTaW5nbGVDYXNlV29yZENoYXIudGVzdChjaCkpO1xuICB9O1xuICBmdW5jdGlvbiBpc1dvcmRDaGFyKGNoLCBoZWxwZXIpIHtcbiAgICBpZiAoIWhlbHBlcikgcmV0dXJuIGlzV29yZENoYXJCYXNpYyhjaCk7XG4gICAgaWYgKGhlbHBlci5zb3VyY2UuaW5kZXhPZihcIlxcXFx3XCIpID4gLTEgJiYgaXNXb3JkQ2hhckJhc2ljKGNoKSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGhlbHBlci50ZXN0KGNoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XG4gICAgZm9yICh2YXIgbiBpbiBvYmopIGlmIChvYmouaGFzT3duUHJvcGVydHkobikgJiYgb2JqW25dKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBFeHRlbmRpbmcgdW5pY29kZSBjaGFyYWN0ZXJzLiBBIHNlcmllcyBvZiBhIG5vbi1leHRlbmRpbmcgY2hhciArXG4gIC8vIGFueSBudW1iZXIgb2YgZXh0ZW5kaW5nIGNoYXJzIGlzIHRyZWF0ZWQgYXMgYSBzaW5nbGUgdW5pdCBhcyBmYXJcbiAgLy8gYXMgZWRpdGluZyBhbmQgbWVhc3VyaW5nIGlzIGNvbmNlcm5lZC4gVGhpcyBpcyBub3QgZnVsbHkgY29ycmVjdCxcbiAgLy8gc2luY2Ugc29tZSBzY3JpcHRzL2ZvbnRzL2Jyb3dzZXJzIGFsc28gdHJlYXQgb3RoZXIgY29uZmlndXJhdGlvbnNcbiAgLy8gb2YgY29kZSBwb2ludHMgYXMgYSBncm91cC5cbiAgdmFyIGV4dGVuZGluZ0NoYXJzID0gL1tcXHUwMzAwLVxcdTAzNmZcXHUwNDgzLVxcdTA0ODlcXHUwNTkxLVxcdTA1YmRcXHUwNWJmXFx1MDVjMVxcdTA1YzJcXHUwNWM0XFx1MDVjNVxcdTA1YzdcXHUwNjEwLVxcdTA2MWFcXHUwNjRiLVxcdTA2NWVcXHUwNjcwXFx1MDZkNi1cXHUwNmRjXFx1MDZkZS1cXHUwNmU0XFx1MDZlN1xcdTA2ZThcXHUwNmVhLVxcdTA2ZWRcXHUwNzExXFx1MDczMC1cXHUwNzRhXFx1MDdhNi1cXHUwN2IwXFx1MDdlYi1cXHUwN2YzXFx1MDgxNi1cXHUwODE5XFx1MDgxYi1cXHUwODIzXFx1MDgyNS1cXHUwODI3XFx1MDgyOS1cXHUwODJkXFx1MDkwMC1cXHUwOTAyXFx1MDkzY1xcdTA5NDEtXFx1MDk0OFxcdTA5NGRcXHUwOTUxLVxcdTA5NTVcXHUwOTYyXFx1MDk2M1xcdTA5ODFcXHUwOWJjXFx1MDliZVxcdTA5YzEtXFx1MDljNFxcdTA5Y2RcXHUwOWQ3XFx1MDllMlxcdTA5ZTNcXHUwYTAxXFx1MGEwMlxcdTBhM2NcXHUwYTQxXFx1MGE0MlxcdTBhNDdcXHUwYTQ4XFx1MGE0Yi1cXHUwYTRkXFx1MGE1MVxcdTBhNzBcXHUwYTcxXFx1MGE3NVxcdTBhODFcXHUwYTgyXFx1MGFiY1xcdTBhYzEtXFx1MGFjNVxcdTBhYzdcXHUwYWM4XFx1MGFjZFxcdTBhZTJcXHUwYWUzXFx1MGIwMVxcdTBiM2NcXHUwYjNlXFx1MGIzZlxcdTBiNDEtXFx1MGI0NFxcdTBiNGRcXHUwYjU2XFx1MGI1N1xcdTBiNjJcXHUwYjYzXFx1MGI4MlxcdTBiYmVcXHUwYmMwXFx1MGJjZFxcdTBiZDdcXHUwYzNlLVxcdTBjNDBcXHUwYzQ2LVxcdTBjNDhcXHUwYzRhLVxcdTBjNGRcXHUwYzU1XFx1MGM1NlxcdTBjNjJcXHUwYzYzXFx1MGNiY1xcdTBjYmZcXHUwY2MyXFx1MGNjNlxcdTBjY2NcXHUwY2NkXFx1MGNkNVxcdTBjZDZcXHUwY2UyXFx1MGNlM1xcdTBkM2VcXHUwZDQxLVxcdTBkNDRcXHUwZDRkXFx1MGQ1N1xcdTBkNjJcXHUwZDYzXFx1MGRjYVxcdTBkY2ZcXHUwZGQyLVxcdTBkZDRcXHUwZGQ2XFx1MGRkZlxcdTBlMzFcXHUwZTM0LVxcdTBlM2FcXHUwZTQ3LVxcdTBlNGVcXHUwZWIxXFx1MGViNC1cXHUwZWI5XFx1MGViYlxcdTBlYmNcXHUwZWM4LVxcdTBlY2RcXHUwZjE4XFx1MGYxOVxcdTBmMzVcXHUwZjM3XFx1MGYzOVxcdTBmNzEtXFx1MGY3ZVxcdTBmODAtXFx1MGY4NFxcdTBmODZcXHUwZjg3XFx1MGY5MC1cXHUwZjk3XFx1MGY5OS1cXHUwZmJjXFx1MGZjNlxcdTEwMmQtXFx1MTAzMFxcdTEwMzItXFx1MTAzN1xcdTEwMzlcXHUxMDNhXFx1MTAzZFxcdTEwM2VcXHUxMDU4XFx1MTA1OVxcdTEwNWUtXFx1MTA2MFxcdTEwNzEtXFx1MTA3NFxcdTEwODJcXHUxMDg1XFx1MTA4NlxcdTEwOGRcXHUxMDlkXFx1MTM1ZlxcdTE3MTItXFx1MTcxNFxcdTE3MzItXFx1MTczNFxcdTE3NTJcXHUxNzUzXFx1MTc3MlxcdTE3NzNcXHUxN2I3LVxcdTE3YmRcXHUxN2M2XFx1MTdjOS1cXHUxN2QzXFx1MTdkZFxcdTE4MGItXFx1MTgwZFxcdTE4YTlcXHUxOTIwLVxcdTE5MjJcXHUxOTI3XFx1MTkyOFxcdTE5MzJcXHUxOTM5LVxcdTE5M2JcXHUxYTE3XFx1MWExOFxcdTFhNTZcXHUxYTU4LVxcdTFhNWVcXHUxYTYwXFx1MWE2MlxcdTFhNjUtXFx1MWE2Y1xcdTFhNzMtXFx1MWE3Y1xcdTFhN2ZcXHUxYjAwLVxcdTFiMDNcXHUxYjM0XFx1MWIzNi1cXHUxYjNhXFx1MWIzY1xcdTFiNDJcXHUxYjZiLVxcdTFiNzNcXHUxYjgwXFx1MWI4MVxcdTFiYTItXFx1MWJhNVxcdTFiYThcXHUxYmE5XFx1MWMyYy1cXHUxYzMzXFx1MWMzNlxcdTFjMzdcXHUxY2QwLVxcdTFjZDJcXHUxY2Q0LVxcdTFjZTBcXHUxY2UyLVxcdTFjZThcXHUxY2VkXFx1MWRjMC1cXHUxZGU2XFx1MWRmZC1cXHUxZGZmXFx1MjAwY1xcdTIwMGRcXHUyMGQwLVxcdTIwZjBcXHUyY2VmLVxcdTJjZjFcXHUyZGUwLVxcdTJkZmZcXHUzMDJhLVxcdTMwMmZcXHUzMDk5XFx1MzA5YVxcdWE2NmYtXFx1YTY3MlxcdWE2N2NcXHVhNjdkXFx1YTZmMFxcdWE2ZjFcXHVhODAyXFx1YTgwNlxcdWE4MGJcXHVhODI1XFx1YTgyNlxcdWE4YzRcXHVhOGUwLVxcdWE4ZjFcXHVhOTI2LVxcdWE5MmRcXHVhOTQ3LVxcdWE5NTFcXHVhOTgwLVxcdWE5ODJcXHVhOWIzXFx1YTliNi1cXHVhOWI5XFx1YTliY1xcdWFhMjktXFx1YWEyZVxcdWFhMzFcXHVhYTMyXFx1YWEzNVxcdWFhMzZcXHVhYTQzXFx1YWE0Y1xcdWFhYjBcXHVhYWIyLVxcdWFhYjRcXHVhYWI3XFx1YWFiOFxcdWFhYmVcXHVhYWJmXFx1YWFjMVxcdWFiZTVcXHVhYmU4XFx1YWJlZFxcdWRjMDAtXFx1ZGZmZlxcdWZiMWVcXHVmZTAwLVxcdWZlMGZcXHVmZTIwLVxcdWZlMjZcXHVmZjllXFx1ZmY5Zl0vO1xuICBmdW5jdGlvbiBpc0V4dGVuZGluZ0NoYXIoY2gpIHsgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkgPj0gNzY4ICYmIGV4dGVuZGluZ0NoYXJzLnRlc3QoY2gpOyB9XG5cbiAgLy8gRE9NIFVUSUxJVElFU1xuXG4gIGZ1bmN0aW9uIGVsdCh0YWcsIGNvbnRlbnQsIGNsYXNzTmFtZSwgc3R5bGUpIHtcbiAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICBpZiAoY2xhc3NOYW1lKSBlLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICBpZiAoc3R5bGUpIGUuc3R5bGUuY3NzVGV4dCA9IHN0eWxlO1xuICAgIGlmICh0eXBlb2YgY29udGVudCA9PSBcInN0cmluZ1wiKSBlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbnRlbnQpKTtcbiAgICBlbHNlIGlmIChjb250ZW50KSBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyArK2kpIGUuYXBwZW5kQ2hpbGQoY29udGVudFtpXSk7XG4gICAgcmV0dXJuIGU7XG4gIH1cblxuICB2YXIgcmFuZ2U7XG4gIGlmIChkb2N1bWVudC5jcmVhdGVSYW5nZSkgcmFuZ2UgPSBmdW5jdGlvbihub2RlLCBzdGFydCwgZW5kLCBlbmROb2RlKSB7XG4gICAgdmFyIHIgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHIuc2V0RW5kKGVuZE5vZGUgfHwgbm9kZSwgZW5kKTtcbiAgICByLnNldFN0YXJ0KG5vZGUsIHN0YXJ0KTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgZWxzZSByYW5nZSA9IGZ1bmN0aW9uKG5vZGUsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgciA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgdHJ5IHsgci5tb3ZlVG9FbGVtZW50VGV4dChub2RlLnBhcmVudE5vZGUpOyB9XG4gICAgY2F0Y2goZSkgeyByZXR1cm4gcjsgfVxuICAgIHIuY29sbGFwc2UodHJ1ZSk7XG4gICAgci5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsIGVuZCk7XG4gICAgci5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgc3RhcnQpO1xuICAgIHJldHVybiByO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKGUpIHtcbiAgICBmb3IgKHZhciBjb3VudCA9IGUuY2hpbGROb2Rlcy5sZW5ndGg7IGNvdW50ID4gMDsgLS1jb3VudClcbiAgICAgIGUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtcbiAgICByZXR1cm4gZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuQW5kQWRkKHBhcmVudCwgZSkge1xuICAgIHJldHVybiByZW1vdmVDaGlsZHJlbihwYXJlbnQpLmFwcGVuZENoaWxkKGUpO1xuICB9XG5cbiAgdmFyIGNvbnRhaW5zID0gQ29kZU1pcnJvci5jb250YWlucyA9IGZ1bmN0aW9uKHBhcmVudCwgY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMykgLy8gQW5kcm9pZCBicm93c2VyIGFsd2F5cyByZXR1cm5zIGZhbHNlIHdoZW4gY2hpbGQgaXMgYSB0ZXh0bm9kZVxuICAgICAgY2hpbGQgPSBjaGlsZC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQuY29udGFpbnMpXG4gICAgICByZXR1cm4gcGFyZW50LmNvbnRhaW5zKGNoaWxkKTtcbiAgICBkbyB7XG4gICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMTEpIGNoaWxkID0gY2hpbGQuaG9zdDtcbiAgICAgIGlmIChjaGlsZCA9PSBwYXJlbnQpIHJldHVybiB0cnVlO1xuICAgIH0gd2hpbGUgKGNoaWxkID0gY2hpbGQucGFyZW50Tm9kZSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gYWN0aXZlRWx0KCkge1xuICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICB3aGlsZSAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50LnJvb3QgJiYgYWN0aXZlRWxlbWVudC5yb290LmFjdGl2ZUVsZW1lbnQpXG4gICAgICBhY3RpdmVFbGVtZW50ID0gYWN0aXZlRWxlbWVudC5yb290LmFjdGl2ZUVsZW1lbnQ7XG4gICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQ7XG4gIH1cbiAgLy8gT2xkZXIgdmVyc2lvbnMgb2YgSUUgdGhyb3dzIHVuc3BlY2lmaWVkIGVycm9yIHdoZW4gdG91Y2hpbmdcbiAgLy8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbiBzb21lIGNhc2VzIChkdXJpbmcgbG9hZGluZywgaW4gaWZyYW1lKVxuICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSBhY3RpdmVFbHQgPSBmdW5jdGlvbigpIHtcbiAgICB0cnkgeyByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsgfVxuICAgIGNhdGNoKGUpIHsgcmV0dXJuIGRvY3VtZW50LmJvZHk7IH1cbiAgfTtcblxuICBmdW5jdGlvbiBjbGFzc1Rlc3QoY2xzKSB7IHJldHVybiBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBjbHMgKyBcIig/OiR8XFxcXHMpXFxcXHMqXCIpOyB9XG4gIHZhciBybUNsYXNzID0gQ29kZU1pcnJvci5ybUNsYXNzID0gZnVuY3Rpb24obm9kZSwgY2xzKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBub2RlLmNsYXNzTmFtZTtcbiAgICB2YXIgbWF0Y2ggPSBjbGFzc1Rlc3QoY2xzKS5leGVjKGN1cnJlbnQpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgdmFyIGFmdGVyID0gY3VycmVudC5zbGljZShtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICBub2RlLmNsYXNzTmFtZSA9IGN1cnJlbnQuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgKGFmdGVyID8gbWF0Y2hbMV0gKyBhZnRlciA6IFwiXCIpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGFkZENsYXNzID0gQ29kZU1pcnJvci5hZGRDbGFzcyA9IGZ1bmN0aW9uKG5vZGUsIGNscykge1xuICAgIHZhciBjdXJyZW50ID0gbm9kZS5jbGFzc05hbWU7XG4gICAgaWYgKCFjbGFzc1Rlc3QoY2xzKS50ZXN0KGN1cnJlbnQpKSBub2RlLmNsYXNzTmFtZSArPSAoY3VycmVudCA/IFwiIFwiIDogXCJcIikgKyBjbHM7XG4gIH07XG4gIGZ1bmN0aW9uIGpvaW5DbGFzc2VzKGEsIGIpIHtcbiAgICB2YXIgYXMgPSBhLnNwbGl0KFwiIFwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzLmxlbmd0aDsgaSsrKVxuICAgICAgaWYgKGFzW2ldICYmICFjbGFzc1Rlc3QoYXNbaV0pLnRlc3QoYikpIGIgKz0gXCIgXCIgKyBhc1tpXTtcbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIC8vIFdJTkRPVy1XSURFIEVWRU5UU1xuXG4gIC8vIFRoZXNlIG11c3QgYmUgaGFuZGxlZCBjYXJlZnVsbHksIGJlY2F1c2UgbmFpdmVseSByZWdpc3RlcmluZyBhXG4gIC8vIGhhbmRsZXIgZm9yIGVhY2ggZWRpdG9yIHdpbGwgY2F1c2UgdGhlIGVkaXRvcnMgdG8gbmV2ZXIgYmVcbiAgLy8gZ2FyYmFnZSBjb2xsZWN0ZWQuXG5cbiAgZnVuY3Rpb24gZm9yRWFjaENvZGVNaXJyb3IoZikge1xuICAgIGlmICghZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSByZXR1cm47XG4gICAgdmFyIGJ5Q2xhc3MgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJDb2RlTWlycm9yXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnlDbGFzcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNtID0gYnlDbGFzc1tpXS5Db2RlTWlycm9yO1xuICAgICAgaWYgKGNtKSBmKGNtKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZ2xvYmFsc1JlZ2lzdGVyZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZW5zdXJlR2xvYmFsSGFuZGxlcnMoKSB7XG4gICAgaWYgKGdsb2JhbHNSZWdpc3RlcmVkKSByZXR1cm47XG4gICAgcmVnaXN0ZXJHbG9iYWxIYW5kbGVycygpO1xuICAgIGdsb2JhbHNSZWdpc3RlcmVkID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3Rlckdsb2JhbEhhbmRsZXJzKCkge1xuICAgIC8vIFdoZW4gdGhlIHdpbmRvdyByZXNpemVzLCB3ZSBuZWVkIHRvIHJlZnJlc2ggYWN0aXZlIGVkaXRvcnMuXG4gICAgdmFyIHJlc2l6ZVRpbWVyO1xuICAgIG9uKHdpbmRvdywgXCJyZXNpemVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocmVzaXplVGltZXIgPT0gbnVsbCkgcmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNpemVUaW1lciA9IG51bGw7XG4gICAgICAgIGZvckVhY2hDb2RlTWlycm9yKG9uUmVzaXplKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSk7XG4gICAgLy8gV2hlbiB0aGUgd2luZG93IGxvc2VzIGZvY3VzLCB3ZSB3YW50IHRvIHNob3cgdGhlIGVkaXRvciBhcyBibHVycmVkXG4gICAgb24od2luZG93LCBcImJsdXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBmb3JFYWNoQ29kZU1pcnJvcihvbkJsdXIpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gRkVBVFVSRSBERVRFQ1RJT05cblxuICAvLyBEZXRlY3QgZHJhZy1hbmQtZHJvcFxuICB2YXIgZHJhZ0FuZERyb3AgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBUaGVyZSBpcyAqc29tZSoga2luZCBvZiBkcmFnLWFuZC1kcm9wIHN1cHBvcnQgaW4gSUU2LTgsIGJ1dCBJXG4gICAgLy8gY291bGRuJ3QgZ2V0IGl0IHRvIHdvcmsgeWV0LlxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBkaXYgPSBlbHQoJ2RpdicpO1xuICAgIHJldHVybiBcImRyYWdnYWJsZVwiIGluIGRpdiB8fCBcImRyYWdEcm9wXCIgaW4gZGl2O1xuICB9KCk7XG5cbiAgdmFyIHp3c3BTdXBwb3J0ZWQ7XG4gIGZ1bmN0aW9uIHplcm9XaWR0aEVsZW1lbnQobWVhc3VyZSkge1xuICAgIGlmICh6d3NwU3VwcG9ydGVkID09IG51bGwpIHtcbiAgICAgIHZhciB0ZXN0ID0gZWx0KFwic3BhblwiLCBcIlxcdTIwMGJcIik7XG4gICAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChtZWFzdXJlLCBlbHQoXCJzcGFuXCIsIFt0ZXN0LCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIildKSk7XG4gICAgICBpZiAobWVhc3VyZS5maXJzdENoaWxkLm9mZnNldEhlaWdodCAhPSAwKVxuICAgICAgICB6d3NwU3VwcG9ydGVkID0gdGVzdC5vZmZzZXRXaWR0aCA8PSAxICYmIHRlc3Qub2Zmc2V0SGVpZ2h0ID4gMiAmJiAhKGllICYmIGllX3ZlcnNpb24gPCA4KTtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSB6d3NwU3VwcG9ydGVkID8gZWx0KFwic3BhblwiLCBcIlxcdTIwMGJcIikgOlxuICAgICAgZWx0KFwic3BhblwiLCBcIlxcdTAwYTBcIiwgbnVsbCwgXCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiAxcHg7IG1hcmdpbi1yaWdodDogLTFweFwiKTtcbiAgICBub2RlLnNldEF0dHJpYnV0ZShcImNtLXRleHRcIiwgXCJcIik7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvLyBGZWF0dXJlLWRldGVjdCBJRSdzIGNydW1teSBjbGllbnQgcmVjdCByZXBvcnRpbmcgZm9yIGJpZGkgdGV4dFxuICB2YXIgYmFkQmlkaVJlY3RzO1xuICBmdW5jdGlvbiBoYXNCYWRCaWRpUmVjdHMobWVhc3VyZSkge1xuICAgIGlmIChiYWRCaWRpUmVjdHMgIT0gbnVsbCkgcmV0dXJuIGJhZEJpZGlSZWN0cztcbiAgICB2YXIgdHh0ID0gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQobWVhc3VyZSwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJBXFx1MDYyZUFcIikpO1xuICAgIHZhciByMCA9IHJhbmdlKHR4dCwgMCwgMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIHIxID0gcmFuZ2UodHh0LCAxLCAyKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZW1vdmVDaGlsZHJlbihtZWFzdXJlKTtcbiAgICBpZiAoIXIwIHx8IHIwLmxlZnQgPT0gcjAucmlnaHQpIHJldHVybiBmYWxzZTsgLy8gU2FmYXJpIHJldHVybnMgbnVsbCBpbiBzb21lIGNhc2VzICgjMjc4MClcbiAgICByZXR1cm4gYmFkQmlkaVJlY3RzID0gKHIxLnJpZ2h0IC0gcjAucmlnaHQgPCAzKTtcbiAgfVxuXG4gIC8vIFNlZSBpZiBcIlwiLnNwbGl0IGlzIHRoZSBicm9rZW4gSUUgdmVyc2lvbiwgaWYgc28sIHByb3ZpZGUgYW5cbiAgLy8gYWx0ZXJuYXRpdmUgd2F5IHRvIHNwbGl0IGxpbmVzLlxuICB2YXIgc3BsaXRMaW5lc0F1dG8gPSBDb2RlTWlycm9yLnNwbGl0TGluZXMgPSBcIlxcblxcbmJcIi5zcGxpdCgvXFxuLykubGVuZ3RoICE9IDMgPyBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICB2YXIgcG9zID0gMCwgcmVzdWx0ID0gW10sIGwgPSBzdHJpbmcubGVuZ3RoO1xuICAgIHdoaWxlIChwb3MgPD0gbCkge1xuICAgICAgdmFyIG5sID0gc3RyaW5nLmluZGV4T2YoXCJcXG5cIiwgcG9zKTtcbiAgICAgIGlmIChubCA9PSAtMSkgbmwgPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgdmFyIGxpbmUgPSBzdHJpbmcuc2xpY2UocG9zLCBzdHJpbmcuY2hhckF0KG5sIC0gMSkgPT0gXCJcXHJcIiA/IG5sIC0gMSA6IG5sKTtcbiAgICAgIHZhciBydCA9IGxpbmUuaW5kZXhPZihcIlxcclwiKTtcbiAgICAgIGlmIChydCAhPSAtMSkge1xuICAgICAgICByZXN1bHQucHVzaChsaW5lLnNsaWNlKDAsIHJ0KSk7XG4gICAgICAgIHBvcyArPSBydCArIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQucHVzaChsaW5lKTtcbiAgICAgICAgcG9zID0gbmwgKyAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IDogZnVuY3Rpb24oc3RyaW5nKXtyZXR1cm4gc3RyaW5nLnNwbGl0KC9cXHJcXG4/fFxcbi8pO307XG5cbiAgdmFyIGhhc1NlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24gPyBmdW5jdGlvbih0ZSkge1xuICAgIHRyeSB7IHJldHVybiB0ZS5zZWxlY3Rpb25TdGFydCAhPSB0ZS5zZWxlY3Rpb25FbmQ7IH1cbiAgICBjYXRjaChlKSB7IHJldHVybiBmYWxzZTsgfVxuICB9IDogZnVuY3Rpb24odGUpIHtcbiAgICB0cnkge3ZhciByYW5nZSA9IHRlLm93bmVyRG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7fVxuICAgIGNhdGNoKGUpIHt9XG4gICAgaWYgKCFyYW5nZSB8fCByYW5nZS5wYXJlbnRFbGVtZW50KCkgIT0gdGUpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gcmFuZ2UuY29tcGFyZUVuZFBvaW50cyhcIlN0YXJ0VG9FbmRcIiwgcmFuZ2UpICE9IDA7XG4gIH07XG5cbiAgdmFyIGhhc0NvcHlFdmVudCA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgZSA9IGVsdChcImRpdlwiKTtcbiAgICBpZiAoXCJvbmNvcHlcIiBpbiBlKSByZXR1cm4gdHJ1ZTtcbiAgICBlLnNldEF0dHJpYnV0ZShcIm9uY29weVwiLCBcInJldHVybjtcIik7XG4gICAgcmV0dXJuIHR5cGVvZiBlLm9uY29weSA9PSBcImZ1bmN0aW9uXCI7XG4gIH0pKCk7XG5cbiAgdmFyIGJhZFpvb21lZFJlY3RzID0gbnVsbDtcbiAgZnVuY3Rpb24gaGFzQmFkWm9vbWVkUmVjdHMobWVhc3VyZSkge1xuICAgIGlmIChiYWRab29tZWRSZWN0cyAhPSBudWxsKSByZXR1cm4gYmFkWm9vbWVkUmVjdHM7XG4gICAgdmFyIG5vZGUgPSByZW1vdmVDaGlsZHJlbkFuZEFkZChtZWFzdXJlLCBlbHQoXCJzcGFuXCIsIFwieFwiKSk7XG4gICAgdmFyIG5vcm1hbCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIGZyb21SYW5nZSA9IHJhbmdlKG5vZGUsIDAsIDEpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiBiYWRab29tZWRSZWN0cyA9IE1hdGguYWJzKG5vcm1hbC5sZWZ0IC0gZnJvbVJhbmdlLmxlZnQpID4gMTtcbiAgfVxuXG4gIC8vIEtFWSBOQU1FU1xuXG4gIHZhciBrZXlOYW1lcyA9IENvZGVNaXJyb3Iua2V5TmFtZXMgPSB7XG4gICAgMzogXCJFbnRlclwiLCA4OiBcIkJhY2tzcGFjZVwiLCA5OiBcIlRhYlwiLCAxMzogXCJFbnRlclwiLCAxNjogXCJTaGlmdFwiLCAxNzogXCJDdHJsXCIsIDE4OiBcIkFsdFwiLFxuICAgIDE5OiBcIlBhdXNlXCIsIDIwOiBcIkNhcHNMb2NrXCIsIDI3OiBcIkVzY1wiLCAzMjogXCJTcGFjZVwiLCAzMzogXCJQYWdlVXBcIiwgMzQ6IFwiUGFnZURvd25cIiwgMzU6IFwiRW5kXCIsXG4gICAgMzY6IFwiSG9tZVwiLCAzNzogXCJMZWZ0XCIsIDM4OiBcIlVwXCIsIDM5OiBcIlJpZ2h0XCIsIDQwOiBcIkRvd25cIiwgNDQ6IFwiUHJpbnRTY3JuXCIsIDQ1OiBcIkluc2VydFwiLFxuICAgIDQ2OiBcIkRlbGV0ZVwiLCA1OTogXCI7XCIsIDYxOiBcIj1cIiwgOTE6IFwiTW9kXCIsIDkyOiBcIk1vZFwiLCA5MzogXCJNb2RcIixcbiAgICAxMDY6IFwiKlwiLCAxMDc6IFwiPVwiLCAxMDk6IFwiLVwiLCAxMTA6IFwiLlwiLCAxMTE6IFwiL1wiLCAxMjc6IFwiRGVsZXRlXCIsXG4gICAgMTczOiBcIi1cIiwgMTg2OiBcIjtcIiwgMTg3OiBcIj1cIiwgMTg4OiBcIixcIiwgMTg5OiBcIi1cIiwgMTkwOiBcIi5cIiwgMTkxOiBcIi9cIiwgMTkyOiBcImBcIiwgMjE5OiBcIltcIiwgMjIwOiBcIlxcXFxcIixcbiAgICAyMjE6IFwiXVwiLCAyMjI6IFwiJ1wiLCA2MzIzMjogXCJVcFwiLCA2MzIzMzogXCJEb3duXCIsIDYzMjM0OiBcIkxlZnRcIiwgNjMyMzU6IFwiUmlnaHRcIiwgNjMyNzI6IFwiRGVsZXRlXCIsXG4gICAgNjMyNzM6IFwiSG9tZVwiLCA2MzI3NTogXCJFbmRcIiwgNjMyNzY6IFwiUGFnZVVwXCIsIDYzMjc3OiBcIlBhZ2VEb3duXCIsIDYzMzAyOiBcIkluc2VydFwiXG4gIH07XG4gIChmdW5jdGlvbigpIHtcbiAgICAvLyBOdW1iZXIga2V5c1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykga2V5TmFtZXNbaSArIDQ4XSA9IGtleU5hbWVzW2kgKyA5Nl0gPSBTdHJpbmcoaSk7XG4gICAgLy8gQWxwaGFiZXRpYyBrZXlzXG4gICAgZm9yICh2YXIgaSA9IDY1OyBpIDw9IDkwOyBpKyspIGtleU5hbWVzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbiAgICAvLyBGdW5jdGlvbiBrZXlzXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMTI7IGkrKykga2V5TmFtZXNbaSArIDExMV0gPSBrZXlOYW1lc1tpICsgNjMyMzVdID0gXCJGXCIgKyBpO1xuICB9KSgpO1xuXG4gIC8vIEJJREkgSEVMUEVSU1xuXG4gIGZ1bmN0aW9uIGl0ZXJhdGVCaWRpU2VjdGlvbnMob3JkZXIsIGZyb20sIHRvLCBmKSB7XG4gICAgaWYgKCFvcmRlcikgcmV0dXJuIGYoZnJvbSwgdG8sIFwibHRyXCIpO1xuICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXIubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBwYXJ0ID0gb3JkZXJbaV07XG4gICAgICBpZiAocGFydC5mcm9tIDwgdG8gJiYgcGFydC50byA+IGZyb20gfHwgZnJvbSA9PSB0byAmJiBwYXJ0LnRvID09IGZyb20pIHtcbiAgICAgICAgZihNYXRoLm1heChwYXJ0LmZyb20sIGZyb20pLCBNYXRoLm1pbihwYXJ0LnRvLCB0byksIHBhcnQubGV2ZWwgPT0gMSA/IFwicnRsXCIgOiBcImx0clwiKTtcbiAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWZvdW5kKSBmKGZyb20sIHRvLCBcImx0clwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJpZGlMZWZ0KHBhcnQpIHsgcmV0dXJuIHBhcnQubGV2ZWwgJSAyID8gcGFydC50byA6IHBhcnQuZnJvbTsgfVxuICBmdW5jdGlvbiBiaWRpUmlnaHQocGFydCkgeyByZXR1cm4gcGFydC5sZXZlbCAlIDIgPyBwYXJ0LmZyb20gOiBwYXJ0LnRvOyB9XG5cbiAgZnVuY3Rpb24gbGluZUxlZnQobGluZSkgeyB2YXIgb3JkZXIgPSBnZXRPcmRlcihsaW5lKTsgcmV0dXJuIG9yZGVyID8gYmlkaUxlZnQob3JkZXJbMF0pIDogMDsgfVxuICBmdW5jdGlvbiBsaW5lUmlnaHQobGluZSkge1xuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpO1xuICAgIGlmICghb3JkZXIpIHJldHVybiBsaW5lLnRleHQubGVuZ3RoO1xuICAgIHJldHVybiBiaWRpUmlnaHQobHN0KG9yZGVyKSk7XG4gIH1cblxuICBmdW5jdGlvbiBsaW5lU3RhcnQoY20sIGxpbmVOKSB7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgbGluZU4pO1xuICAgIHZhciB2aXN1YWwgPSB2aXN1YWxMaW5lKGxpbmUpO1xuICAgIGlmICh2aXN1YWwgIT0gbGluZSkgbGluZU4gPSBsaW5lTm8odmlzdWFsKTtcbiAgICB2YXIgb3JkZXIgPSBnZXRPcmRlcih2aXN1YWwpO1xuICAgIHZhciBjaCA9ICFvcmRlciA/IDAgOiBvcmRlclswXS5sZXZlbCAlIDIgPyBsaW5lUmlnaHQodmlzdWFsKSA6IGxpbmVMZWZ0KHZpc3VhbCk7XG4gICAgcmV0dXJuIFBvcyhsaW5lTiwgY2gpO1xuICB9XG4gIGZ1bmN0aW9uIGxpbmVFbmQoY20sIGxpbmVOKSB7XG4gICAgdmFyIG1lcmdlZCwgbGluZSA9IGdldExpbmUoY20uZG9jLCBsaW5lTik7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSkge1xuICAgICAgbGluZSA9IG1lcmdlZC5maW5kKDEsIHRydWUpLmxpbmU7XG4gICAgICBsaW5lTiA9IG51bGw7XG4gICAgfVxuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpO1xuICAgIHZhciBjaCA9ICFvcmRlciA/IGxpbmUudGV4dC5sZW5ndGggOiBvcmRlclswXS5sZXZlbCAlIDIgPyBsaW5lTGVmdChsaW5lKSA6IGxpbmVSaWdodChsaW5lKTtcbiAgICByZXR1cm4gUG9zKGxpbmVOID09IG51bGwgPyBsaW5lTm8obGluZSkgOiBsaW5lTiwgY2gpO1xuICB9XG4gIGZ1bmN0aW9uIGxpbmVTdGFydFNtYXJ0KGNtLCBwb3MpIHtcbiAgICB2YXIgc3RhcnQgPSBsaW5lU3RhcnQoY20sIHBvcy5saW5lKTtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoY20uZG9jLCBzdGFydC5saW5lKTtcbiAgICB2YXIgb3JkZXIgPSBnZXRPcmRlcihsaW5lKTtcbiAgICBpZiAoIW9yZGVyIHx8IG9yZGVyWzBdLmxldmVsID09IDApIHtcbiAgICAgIHZhciBmaXJzdE5vbldTID0gTWF0aC5tYXgoMCwgbGluZS50ZXh0LnNlYXJjaCgvXFxTLykpO1xuICAgICAgdmFyIGluV1MgPSBwb3MubGluZSA9PSBzdGFydC5saW5lICYmIHBvcy5jaCA8PSBmaXJzdE5vbldTICYmIHBvcy5jaDtcbiAgICAgIHJldHVybiBQb3Moc3RhcnQubGluZSwgaW5XUyA/IDAgOiBmaXJzdE5vbldTKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0O1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGFyZUJpZGlMZXZlbChvcmRlciwgYSwgYikge1xuICAgIHZhciBsaW5lZGlyID0gb3JkZXJbMF0ubGV2ZWw7XG4gICAgaWYgKGEgPT0gbGluZWRpcikgcmV0dXJuIHRydWU7XG4gICAgaWYgKGIgPT0gbGluZWRpcikgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBhIDwgYjtcbiAgfVxuICB2YXIgYmlkaU90aGVyO1xuICBmdW5jdGlvbiBnZXRCaWRpUGFydEF0KG9yZGVyLCBwb3MpIHtcbiAgICBiaWRpT3RoZXIgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwLCBmb3VuZDsgaSA8IG9yZGVyLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgY3VyID0gb3JkZXJbaV07XG4gICAgICBpZiAoY3VyLmZyb20gPCBwb3MgJiYgY3VyLnRvID4gcG9zKSByZXR1cm4gaTtcbiAgICAgIGlmICgoY3VyLmZyb20gPT0gcG9zIHx8IGN1ci50byA9PSBwb3MpKSB7XG4gICAgICAgIGlmIChmb3VuZCA9PSBudWxsKSB7XG4gICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbXBhcmVCaWRpTGV2ZWwob3JkZXIsIGN1ci5sZXZlbCwgb3JkZXJbZm91bmRdLmxldmVsKSkge1xuICAgICAgICAgIGlmIChjdXIuZnJvbSAhPSBjdXIudG8pIGJpZGlPdGhlciA9IGZvdW5kO1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjdXIuZnJvbSAhPSBjdXIudG8pIGJpZGlPdGhlciA9IGk7XG4gICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVJbkxpbmUobGluZSwgcG9zLCBkaXIsIGJ5VW5pdCkge1xuICAgIGlmICghYnlVbml0KSByZXR1cm4gcG9zICsgZGlyO1xuICAgIGRvIHBvcyArPSBkaXI7XG4gICAgd2hpbGUgKHBvcyA+IDAgJiYgaXNFeHRlbmRpbmdDaGFyKGxpbmUudGV4dC5jaGFyQXQocG9zKSkpO1xuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICAvLyBUaGlzIGlzIG5lZWRlZCBpbiBvcmRlciB0byBtb3ZlICd2aXN1YWxseScgdGhyb3VnaCBiaS1kaXJlY3Rpb25hbFxuICAvLyB0ZXh0IC0tIGkuZS4sIHByZXNzaW5nIGxlZnQgc2hvdWxkIG1ha2UgdGhlIGN1cnNvciBnbyBsZWZ0LCBldmVuXG4gIC8vIHdoZW4gaW4gUlRMIHRleHQuIFRoZSB0cmlja3kgcGFydCBpcyB0aGUgJ2p1bXBzJywgd2hlcmUgUlRMIGFuZFxuICAvLyBMVFIgdGV4dCB0b3VjaCBlYWNoIG90aGVyLiBUaGlzIG9mdGVuIHJlcXVpcmVzIHRoZSBjdXJzb3Igb2Zmc2V0XG4gIC8vIHRvIG1vdmUgbW9yZSB0aGFuIG9uZSB1bml0LCBpbiBvcmRlciB0byB2aXN1YWxseSBtb3ZlIG9uZSB1bml0LlxuICBmdW5jdGlvbiBtb3ZlVmlzdWFsbHkobGluZSwgc3RhcnQsIGRpciwgYnlVbml0KSB7XG4gICAgdmFyIGJpZGkgPSBnZXRPcmRlcihsaW5lKTtcbiAgICBpZiAoIWJpZGkpIHJldHVybiBtb3ZlTG9naWNhbGx5KGxpbmUsIHN0YXJ0LCBkaXIsIGJ5VW5pdCk7XG4gICAgdmFyIHBvcyA9IGdldEJpZGlQYXJ0QXQoYmlkaSwgc3RhcnQpLCBwYXJ0ID0gYmlkaVtwb3NdO1xuICAgIHZhciB0YXJnZXQgPSBtb3ZlSW5MaW5lKGxpbmUsIHN0YXJ0LCBwYXJ0LmxldmVsICUgMiA/IC1kaXIgOiBkaXIsIGJ5VW5pdCk7XG5cbiAgICBmb3IgKDs7KSB7XG4gICAgICBpZiAodGFyZ2V0ID4gcGFydC5mcm9tICYmIHRhcmdldCA8IHBhcnQudG8pIHJldHVybiB0YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0ID09IHBhcnQuZnJvbSB8fCB0YXJnZXQgPT0gcGFydC50bykge1xuICAgICAgICBpZiAoZ2V0QmlkaVBhcnRBdChiaWRpLCB0YXJnZXQpID09IHBvcykgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgcGFydCA9IGJpZGlbcG9zICs9IGRpcl07XG4gICAgICAgIHJldHVybiAoZGlyID4gMCkgPT0gcGFydC5sZXZlbCAlIDIgPyBwYXJ0LnRvIDogcGFydC5mcm9tO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydCA9IGJpZGlbcG9zICs9IGRpcl07XG4gICAgICAgIGlmICghcGFydCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICgoZGlyID4gMCkgPT0gcGFydC5sZXZlbCAlIDIpXG4gICAgICAgICAgdGFyZ2V0ID0gbW92ZUluTGluZShsaW5lLCBwYXJ0LnRvLCAtMSwgYnlVbml0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRhcmdldCA9IG1vdmVJbkxpbmUobGluZSwgcGFydC5mcm9tLCAxLCBieVVuaXQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVMb2dpY2FsbHkobGluZSwgc3RhcnQsIGRpciwgYnlVbml0KSB7XG4gICAgdmFyIHRhcmdldCA9IHN0YXJ0ICsgZGlyO1xuICAgIGlmIChieVVuaXQpIHdoaWxlICh0YXJnZXQgPiAwICYmIGlzRXh0ZW5kaW5nQ2hhcihsaW5lLnRleHQuY2hhckF0KHRhcmdldCkpKSB0YXJnZXQgKz0gZGlyO1xuICAgIHJldHVybiB0YXJnZXQgPCAwIHx8IHRhcmdldCA+IGxpbmUudGV4dC5sZW5ndGggPyBudWxsIDogdGFyZ2V0O1xuICB9XG5cbiAgLy8gQmlkaXJlY3Rpb25hbCBvcmRlcmluZyBhbGdvcml0aG1cbiAgLy8gU2VlIGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcnRzL3RyOS90cjktMTMuaHRtbCBmb3IgdGhlIGFsZ29yaXRobVxuICAvLyB0aGF0IHRoaXMgKHBhcnRpYWxseSkgaW1wbGVtZW50cy5cblxuICAvLyBPbmUtY2hhciBjb2RlcyB1c2VkIGZvciBjaGFyYWN0ZXIgdHlwZXM6XG4gIC8vIEwgKEwpOiAgIExlZnQtdG8tUmlnaHRcbiAgLy8gUiAoUik6ICAgUmlnaHQtdG8tTGVmdFxuICAvLyByIChBTCk6ICBSaWdodC10by1MZWZ0IEFyYWJpY1xuICAvLyAxIChFTik6ICBFdXJvcGVhbiBOdW1iZXJcbiAgLy8gKyAoRVMpOiAgRXVyb3BlYW4gTnVtYmVyIFNlcGFyYXRvclxuICAvLyAlIChFVCk6ICBFdXJvcGVhbiBOdW1iZXIgVGVybWluYXRvclxuICAvLyBuIChBTik6ICBBcmFiaWMgTnVtYmVyXG4gIC8vICwgKENTKTogIENvbW1vbiBOdW1iZXIgU2VwYXJhdG9yXG4gIC8vIG0gKE5TTSk6IE5vbi1TcGFjaW5nIE1hcmtcbiAgLy8gYiAoQk4pOiAgQm91bmRhcnkgTmV1dHJhbFxuICAvLyBzIChCKTogICBQYXJhZ3JhcGggU2VwYXJhdG9yXG4gIC8vIHQgKFMpOiAgIFNlZ21lbnQgU2VwYXJhdG9yXG4gIC8vIHcgKFdTKTogIFdoaXRlc3BhY2VcbiAgLy8gTiAoT04pOiAgT3RoZXIgTmV1dHJhbHNcblxuICAvLyBSZXR1cm5zIG51bGwgaWYgY2hhcmFjdGVycyBhcmUgb3JkZXJlZCBhcyB0aGV5IGFwcGVhclxuICAvLyAobGVmdC10by1yaWdodCksIG9yIGFuIGFycmF5IG9mIHNlY3Rpb25zICh7ZnJvbSwgdG8sIGxldmVsfVxuICAvLyBvYmplY3RzKSBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBvY2N1ciB2aXN1YWxseS5cbiAgdmFyIGJpZGlPcmRlcmluZyA9IChmdW5jdGlvbigpIHtcbiAgICAvLyBDaGFyYWN0ZXIgdHlwZXMgZm9yIGNvZGVwb2ludHMgMCB0byAweGZmXG4gICAgdmFyIGxvd1R5cGVzID0gXCJiYmJiYmJiYmJ0c3R3c2JiYmJiYmJiYmJiYmJic3NzdHdOTiUlJU5OTk5OTixOLE4xMTExMTExMTExTk5OTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTExMTk5OTk5OTExMTExMTExMTExMTExMTExMTExMTExMTExOTk5OYmJiYmJic2JiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiLE4lJSUlTk5OTkxOTk5OTiUlMTFOTE5OTjFMTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTE5MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTlwiO1xuICAgIC8vIENoYXJhY3RlciB0eXBlcyBmb3IgY29kZXBvaW50cyAweDYwMCB0byAweDZmZlxuICAgIHZhciBhcmFiaWNUeXBlcyA9IFwicnJycnJycnJycnJyLHJOTm1tbW1tbXJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJybW1tbW1tbW1tbW1tbW1ycnJycnJybm5ubm5ubm5ubiVubnJycm1ycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycm1tbW1tbW1tbW1tbW1tbW1tbW1ObW1tbVwiO1xuICAgIGZ1bmN0aW9uIGNoYXJUeXBlKGNvZGUpIHtcbiAgICAgIGlmIChjb2RlIDw9IDB4ZjcpIHJldHVybiBsb3dUeXBlcy5jaGFyQXQoY29kZSk7XG4gICAgICBlbHNlIGlmICgweDU5MCA8PSBjb2RlICYmIGNvZGUgPD0gMHg1ZjQpIHJldHVybiBcIlJcIjtcbiAgICAgIGVsc2UgaWYgKDB4NjAwIDw9IGNvZGUgJiYgY29kZSA8PSAweDZlZCkgcmV0dXJuIGFyYWJpY1R5cGVzLmNoYXJBdChjb2RlIC0gMHg2MDApO1xuICAgICAgZWxzZSBpZiAoMHg2ZWUgPD0gY29kZSAmJiBjb2RlIDw9IDB4OGFjKSByZXR1cm4gXCJyXCI7XG4gICAgICBlbHNlIGlmICgweDIwMDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4MjAwYikgcmV0dXJuIFwid1wiO1xuICAgICAgZWxzZSBpZiAoY29kZSA9PSAweDIwMGMpIHJldHVybiBcImJcIjtcbiAgICAgIGVsc2UgcmV0dXJuIFwiTFwiO1xuICAgIH1cblxuICAgIHZhciBiaWRpUkUgPSAvW1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTA3MDAtXFx1MDhhY10vO1xuICAgIHZhciBpc05ldXRyYWwgPSAvW3N0d05dLywgaXNTdHJvbmcgPSAvW0xScl0vLCBjb3VudHNBc0xlZnQgPSAvW0xiMW5dLywgY291bnRzQXNOdW0gPSAvWzFuXS87XG4gICAgLy8gQnJvd3NlcnMgc2VlbSB0byBhbHdheXMgdHJlYXQgdGhlIGJvdW5kYXJpZXMgb2YgYmxvY2sgZWxlbWVudHMgYXMgYmVpbmcgTC5cbiAgICB2YXIgb3V0ZXJUeXBlID0gXCJMXCI7XG5cbiAgICBmdW5jdGlvbiBCaWRpU3BhbihsZXZlbCwgZnJvbSwgdG8pIHtcbiAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICAgIHRoaXMuZnJvbSA9IGZyb207IHRoaXMudG8gPSB0bztcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyKSB7XG4gICAgICBpZiAoIWJpZGlSRS50ZXN0KHN0cikpIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciBsZW4gPSBzdHIubGVuZ3RoLCB0eXBlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIHR5cGU7IGkgPCBsZW47ICsraSlcbiAgICAgICAgdHlwZXMucHVzaCh0eXBlID0gY2hhclR5cGUoc3RyLmNoYXJDb2RlQXQoaSkpKTtcblxuICAgICAgLy8gVzEuIEV4YW1pbmUgZWFjaCBub24tc3BhY2luZyBtYXJrIChOU00pIGluIHRoZSBsZXZlbCBydW4sIGFuZFxuICAgICAgLy8gY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBOU00gdG8gdGhlIHR5cGUgb2YgdGhlIHByZXZpb3VzXG4gICAgICAvLyBjaGFyYWN0ZXIuIElmIHRoZSBOU00gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsZXZlbCBydW4sIGl0IHdpbGxcbiAgICAgIC8vIGdldCB0aGUgdHlwZSBvZiBzb3IuXG4gICAgICBmb3IgKHZhciBpID0gMCwgcHJldiA9IG91dGVyVHlwZTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZXNbaV07XG4gICAgICAgIGlmICh0eXBlID09IFwibVwiKSB0eXBlc1tpXSA9IHByZXY7XG4gICAgICAgIGVsc2UgcHJldiA9IHR5cGU7XG4gICAgICB9XG5cbiAgICAgIC8vIFcyLiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlclxuICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBBTCwgb3Igc29yKSBpcyBmb3VuZC4gSWYgYW5cbiAgICAgIC8vIEFMIGlzIGZvdW5kLCBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIEV1cm9wZWFuIG51bWJlciB0byBBcmFiaWNcbiAgICAgIC8vIG51bWJlci5cbiAgICAgIC8vIFczLiBDaGFuZ2UgYWxsIEFMcyB0byBSLlxuICAgICAgZm9yICh2YXIgaSA9IDAsIGN1ciA9IG91dGVyVHlwZTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZXNbaV07XG4gICAgICAgIGlmICh0eXBlID09IFwiMVwiICYmIGN1ciA9PSBcInJcIikgdHlwZXNbaV0gPSBcIm5cIjtcbiAgICAgICAgZWxzZSBpZiAoaXNTdHJvbmcudGVzdCh0eXBlKSkgeyBjdXIgPSB0eXBlOyBpZiAodHlwZSA9PSBcInJcIikgdHlwZXNbaV0gPSBcIlJcIjsgfVxuICAgICAgfVxuXG4gICAgICAvLyBXNC4gQSBzaW5nbGUgRXVyb3BlYW4gc2VwYXJhdG9yIGJldHdlZW4gdHdvIEV1cm9wZWFuIG51bWJlcnNcbiAgICAgIC8vIGNoYW5nZXMgdG8gYSBFdXJvcGVhbiBudW1iZXIuIEEgc2luZ2xlIGNvbW1vbiBzZXBhcmF0b3IgYmV0d2VlblxuICAgICAgLy8gdHdvIG51bWJlcnMgb2YgdGhlIHNhbWUgdHlwZSBjaGFuZ2VzIHRvIHRoYXQgdHlwZS5cbiAgICAgIGZvciAodmFyIGkgPSAxLCBwcmV2ID0gdHlwZXNbMF07IGkgPCBsZW4gLSAxOyArK2kpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCIrXCIgJiYgcHJldiA9PSBcIjFcIiAmJiB0eXBlc1tpKzFdID09IFwiMVwiKSB0eXBlc1tpXSA9IFwiMVwiO1xuICAgICAgICBlbHNlIGlmICh0eXBlID09IFwiLFwiICYmIHByZXYgPT0gdHlwZXNbaSsxXSAmJlxuICAgICAgICAgICAgICAgICAocHJldiA9PSBcIjFcIiB8fCBwcmV2ID09IFwiblwiKSkgdHlwZXNbaV0gPSBwcmV2O1xuICAgICAgICBwcmV2ID0gdHlwZTtcbiAgICAgIH1cblxuICAgICAgLy8gVzUuIEEgc2VxdWVuY2Ugb2YgRXVyb3BlYW4gdGVybWluYXRvcnMgYWRqYWNlbnQgdG8gRXVyb3BlYW5cbiAgICAgIC8vIG51bWJlcnMgY2hhbmdlcyB0byBhbGwgRXVyb3BlYW4gbnVtYmVycy5cbiAgICAgIC8vIFc2LiBPdGhlcndpc2UsIHNlcGFyYXRvcnMgYW5kIHRlcm1pbmF0b3JzIGNoYW5nZSB0byBPdGhlclxuICAgICAgLy8gTmV1dHJhbC5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlc1tpXTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCIsXCIpIHR5cGVzW2ldID0gXCJOXCI7XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCIlXCIpIHtcbiAgICAgICAgICBmb3IgKHZhciBlbmQgPSBpICsgMTsgZW5kIDwgbGVuICYmIHR5cGVzW2VuZF0gPT0gXCIlXCI7ICsrZW5kKSB7fVxuICAgICAgICAgIHZhciByZXBsYWNlID0gKGkgJiYgdHlwZXNbaS0xXSA9PSBcIiFcIikgfHwgKGVuZCA8IGxlbiAmJiB0eXBlc1tlbmRdID09IFwiMVwiKSA/IFwiMVwiIDogXCJOXCI7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IGk7IGogPCBlbmQ7ICsraikgdHlwZXNbal0gPSByZXBsYWNlO1xuICAgICAgICAgIGkgPSBlbmQgLSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFc3LiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlclxuICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBvciBzb3IpIGlzIGZvdW5kLiBJZiBhbiBMIGlzXG4gICAgICAvLyBmb3VuZCwgdGhlbiBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIEV1cm9wZWFuIG51bWJlciB0byBMLlxuICAgICAgZm9yICh2YXIgaSA9IDAsIGN1ciA9IG91dGVyVHlwZTsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZXNbaV07XG4gICAgICAgIGlmIChjdXIgPT0gXCJMXCIgJiYgdHlwZSA9PSBcIjFcIikgdHlwZXNbaV0gPSBcIkxcIjtcbiAgICAgICAgZWxzZSBpZiAoaXNTdHJvbmcudGVzdCh0eXBlKSkgY3VyID0gdHlwZTtcbiAgICAgIH1cblxuICAgICAgLy8gTjEuIEEgc2VxdWVuY2Ugb2YgbmV1dHJhbHMgdGFrZXMgdGhlIGRpcmVjdGlvbiBvZiB0aGVcbiAgICAgIC8vIHN1cnJvdW5kaW5nIHN0cm9uZyB0ZXh0IGlmIHRoZSB0ZXh0IG9uIGJvdGggc2lkZXMgaGFzIHRoZSBzYW1lXG4gICAgICAvLyBkaXJlY3Rpb24uIEV1cm9wZWFuIGFuZCBBcmFiaWMgbnVtYmVycyBhY3QgYXMgaWYgdGhleSB3ZXJlIFIgaW5cbiAgICAgIC8vIHRlcm1zIG9mIHRoZWlyIGluZmx1ZW5jZSBvbiBuZXV0cmFscy4gU3RhcnQtb2YtbGV2ZWwtcnVuIChzb3IpXG4gICAgICAvLyBhbmQgZW5kLW9mLWxldmVsLXJ1biAoZW9yKSBhcmUgdXNlZCBhdCBsZXZlbCBydW4gYm91bmRhcmllcy5cbiAgICAgIC8vIE4yLiBBbnkgcmVtYWluaW5nIG5ldXRyYWxzIHRha2UgdGhlIGVtYmVkZGluZyBkaXJlY3Rpb24uXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIGlmIChpc05ldXRyYWwudGVzdCh0eXBlc1tpXSkpIHtcbiAgICAgICAgICBmb3IgKHZhciBlbmQgPSBpICsgMTsgZW5kIDwgbGVuICYmIGlzTmV1dHJhbC50ZXN0KHR5cGVzW2VuZF0pOyArK2VuZCkge31cbiAgICAgICAgICB2YXIgYmVmb3JlID0gKGkgPyB0eXBlc1tpLTFdIDogb3V0ZXJUeXBlKSA9PSBcIkxcIjtcbiAgICAgICAgICB2YXIgYWZ0ZXIgPSAoZW5kIDwgbGVuID8gdHlwZXNbZW5kXSA6IG91dGVyVHlwZSkgPT0gXCJMXCI7XG4gICAgICAgICAgdmFyIHJlcGxhY2UgPSBiZWZvcmUgfHwgYWZ0ZXIgPyBcIkxcIiA6IFwiUlwiO1xuICAgICAgICAgIGZvciAodmFyIGogPSBpOyBqIDwgZW5kOyArK2opIHR5cGVzW2pdID0gcmVwbGFjZTtcbiAgICAgICAgICBpID0gZW5kIC0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIZXJlIHdlIGRlcGFydCBmcm9tIHRoZSBkb2N1bWVudGVkIGFsZ29yaXRobSwgaW4gb3JkZXIgdG8gYXZvaWRcbiAgICAgIC8vIGJ1aWxkaW5nIHVwIGFuIGFjdHVhbCBsZXZlbHMgYXJyYXkuIFNpbmNlIHRoZXJlIGFyZSBvbmx5IHRocmVlXG4gICAgICAvLyBsZXZlbHMgKDAsIDEsIDIpIGluIGFuIGltcGxlbWVudGF0aW9uIHRoYXQgZG9lc24ndCB0YWtlXG4gICAgICAvLyBleHBsaWNpdCBlbWJlZGRpbmcgaW50byBhY2NvdW50LCB3ZSBjYW4gYnVpbGQgdXAgdGhlIG9yZGVyIG9uXG4gICAgICAvLyB0aGUgZmx5LCB3aXRob3V0IGZvbGxvd2luZyB0aGUgbGV2ZWwtYmFzZWQgYWxnb3JpdGhtLlxuICAgICAgdmFyIG9yZGVyID0gW10sIG07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjspIHtcbiAgICAgICAgaWYgKGNvdW50c0FzTGVmdC50ZXN0KHR5cGVzW2ldKSkge1xuICAgICAgICAgIHZhciBzdGFydCA9IGk7XG4gICAgICAgICAgZm9yICgrK2k7IGkgPCBsZW4gJiYgY291bnRzQXNMZWZ0LnRlc3QodHlwZXNbaV0pOyArK2kpIHt9XG4gICAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oMCwgc3RhcnQsIGkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcG9zID0gaSwgYXQgPSBvcmRlci5sZW5ndGg7XG4gICAgICAgICAgZm9yICgrK2k7IGkgPCBsZW4gJiYgdHlwZXNbaV0gIT0gXCJMXCI7ICsraSkge31cbiAgICAgICAgICBmb3IgKHZhciBqID0gcG9zOyBqIDwgaTspIHtcbiAgICAgICAgICAgIGlmIChjb3VudHNBc051bS50ZXN0KHR5cGVzW2pdKSkge1xuICAgICAgICAgICAgICBpZiAocG9zIDwgaikgb3JkZXIuc3BsaWNlKGF0LCAwLCBuZXcgQmlkaVNwYW4oMSwgcG9zLCBqKSk7XG4gICAgICAgICAgICAgIHZhciBuc3RhcnQgPSBqO1xuICAgICAgICAgICAgICBmb3IgKCsrajsgaiA8IGkgJiYgY291bnRzQXNOdW0udGVzdCh0eXBlc1tqXSk7ICsraikge31cbiAgICAgICAgICAgICAgb3JkZXIuc3BsaWNlKGF0LCAwLCBuZXcgQmlkaVNwYW4oMiwgbnN0YXJ0LCBqKSk7XG4gICAgICAgICAgICAgIHBvcyA9IGo7XG4gICAgICAgICAgICB9IGVsc2UgKytqO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocG9zIDwgaSkgb3JkZXIuc3BsaWNlKGF0LCAwLCBuZXcgQmlkaVNwYW4oMSwgcG9zLCBpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChvcmRlclswXS5sZXZlbCA9PSAxICYmIChtID0gc3RyLm1hdGNoKC9eXFxzKy8pKSkge1xuICAgICAgICBvcmRlclswXS5mcm9tID0gbVswXS5sZW5ndGg7XG4gICAgICAgIG9yZGVyLnVuc2hpZnQobmV3IEJpZGlTcGFuKDAsIDAsIG1bMF0ubGVuZ3RoKSk7XG4gICAgICB9XG4gICAgICBpZiAobHN0KG9yZGVyKS5sZXZlbCA9PSAxICYmIChtID0gc3RyLm1hdGNoKC9cXHMrJC8pKSkge1xuICAgICAgICBsc3Qob3JkZXIpLnRvIC09IG1bMF0ubGVuZ3RoO1xuICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbigwLCBsZW4gLSBtWzBdLmxlbmd0aCwgbGVuKSk7XG4gICAgICB9XG4gICAgICBpZiAob3JkZXJbMF0ubGV2ZWwgPT0gMilcbiAgICAgICAgb3JkZXIudW5zaGlmdChuZXcgQmlkaVNwYW4oMSwgb3JkZXJbMF0udG8sIG9yZGVyWzBdLnRvKSk7XG4gICAgICBpZiAob3JkZXJbMF0ubGV2ZWwgIT0gbHN0KG9yZGVyKS5sZXZlbClcbiAgICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4ob3JkZXJbMF0ubGV2ZWwsIGxlbiwgbGVuKSk7XG5cbiAgICAgIHJldHVybiBvcmRlcjtcbiAgICB9O1xuICB9KSgpO1xuXG4gIC8vIFRIRSBFTkRcblxuICBDb2RlTWlycm9yLnZlcnNpb24gPSBcIjUuMTcuMFwiO1xuXG4gIHJldHVybiBDb2RlTWlycm9yO1xufSk7XG4iLCIvKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjIuMi40XG4gKiBodHRwOi8vanF1ZXJ5LmNvbS9cbiAqXG4gKiBJbmNsdWRlcyBTaXp6bGUuanNcbiAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDUtMjBUMTc6MjNaXG4gKi9cblxuKGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXG5cdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuXHRcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxuXHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuXHRcdC8vIFNlZSB0aWNrZXQgIzE0NTQ5IGZvciBtb3JlIGluZm8uXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XG5cdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHR9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59KHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gU3VwcG9ydDogRmlyZWZveCAxOCtcbi8vIENhbid0IGJlIGluIHN0cmljdCBtb2RlLCBzZXZlcmFsIGxpYnMgaW5jbHVkaW5nIEFTUC5ORVQgdHJhY2Vcbi8vIHRoZSBzdGFjayB2aWEgYXJndW1lbnRzLmNhbGxlci5jYWxsZWUgYW5kIEZpcmVmb3ggZGllcyBpZlxuLy8geW91IHRyeSB0byB0cmFjZSB0aHJvdWdoIFwidXNlIHN0cmljdFwiIGNhbGwgY2hhaW5zLiAoIzEzMzM1KVxuLy9cInVzZSBzdHJpY3RcIjtcbnZhciBhcnIgPSBbXTtcblxudmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBjb25jYXQgPSBhcnIuY29uY2F0O1xuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIHN1cHBvcnQgPSB7fTtcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIyLjIuNFwiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblxuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMVxuXHQvLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1Bcblx0cnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXG5cblx0Ly8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXG5cdHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdHJkYXNoQWxwaGEgPSAvLShbXFxkYS16XSkvZ2ksXG5cblx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuXHRmY2FtZWxDYXNlID0gZnVuY3Rpb24oIGFsbCwgbGV0dGVyICkge1xuXHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFN0YXJ0IHdpdGggYW4gZW1wdHkgc2VsZWN0b3Jcblx0c2VsZWN0b3I6IFwiXCIsXG5cblx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdGxlbmd0aDogMCxcblxuXHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcblx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXHRcdHJldHVybiBudW0gIT0gbnVsbCA/XG5cblx0XHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRcdCggbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXSApIDpcblxuXHRcdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdFx0c2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIFRha2UgYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIHB1c2ggaXQgb250byB0aGUgc3RhY2tcblx0Ly8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpXG5cdHB1c2hTdGFjazogZnVuY3Rpb24oIGVsZW1zICkge1xuXG5cdFx0Ly8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXRcblx0XHR2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7XG5cblx0XHQvLyBBZGQgdGhlIG9sZCBvYmplY3Qgb250byB0aGUgc3RhY2sgKGFzIGEgcmVmZXJlbmNlKVxuXHRcdHJldC5wcmV2T2JqZWN0ID0gdGhpcztcblx0XHRyZXQuY29udGV4dCA9IHRoaXMuY29udGV4dDtcblxuXHRcdC8vIFJldHVybiB0aGUgbmV3bHktZm9ybWVkIGVsZW1lbnQgc2V0XG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHQvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxuXHRlYWNoOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdG1hcDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5Lm1hcCggdGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xuXHRcdH0gKSApO1xuXHR9LFxuXG5cdHNsaWNlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xuXHR9LFxuXG5cdGZpcnN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggMCApO1xuXHR9LFxuXG5cdGxhc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAtMSApO1xuXHR9LFxuXG5cdGVxOiBmdW5jdGlvbiggaSApIHtcblx0XHR2YXIgbGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApO1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYmIGogPCBsZW4gPyBbIHRoaXNbIGogXSBdIDogW10gKTtcblx0fSxcblxuXHRlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpO1xuXHR9LFxuXG5cdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0Ly8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXG5cdHB1c2g6IHB1c2gsXG5cdHNvcnQ6IGFyci5zb3J0LFxuXHRzcGxpY2U6IGFyci5zcGxpY2Vcbn07XG5cbmpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG5cdHZhciBvcHRpb25zLCBuYW1lLCBzcmMsIGNvcHksIGNvcHlJc0FycmF5LCBjbG9uZSxcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIDAgXSB8fCB7fSxcblx0XHRpID0gMSxcblx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGRlZXAgPSBmYWxzZTtcblxuXHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdGlmICggdHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0ZGVlcCA9IHRhcmdldDtcblxuXHRcdC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIGkgXSB8fCB7fTtcblx0XHRpKys7XG5cdH1cblxuXHQvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcblx0aWYgKCB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFqUXVlcnkuaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XG5cdFx0dGFyZ2V0ID0ge307XG5cdH1cblxuXHQvLyBFeHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcblx0aWYgKCBpID09PSBsZW5ndGggKSB7XG5cdFx0dGFyZ2V0ID0gdGhpcztcblx0XHRpLS07XG5cdH1cblxuXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblxuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHtcblxuXHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0XHRzcmMgPSB0YXJnZXRbIG5hbWUgXTtcblx0XHRcdFx0Y29weSA9IG9wdGlvbnNbIG5hbWUgXTtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG5ldmVyLWVuZGluZyBsb29wXG5cdFx0XHRcdGlmICggdGFyZ2V0ID09PSBjb3B5ICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG5cdFx0XHRcdGlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvcHkgKSB8fFxuXHRcdFx0XHRcdCggY29weUlzQXJyYXkgPSBqUXVlcnkuaXNBcnJheSggY29weSApICkgKSApIHtcblxuXHRcdFx0XHRcdGlmICggY29weUlzQXJyYXkgKSB7XG5cdFx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzQXJyYXkoIHNyYyApID8gc3JjIDogW107XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApID8gc3JjIDoge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0aXNGdW5jdGlvbjogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LnR5cGUoIG9iaiApID09PSBcImZ1bmN0aW9uXCI7XG5cdH0sXG5cblx0aXNBcnJheTogQXJyYXkuaXNBcnJheSxcblxuXHRpc1dpbmRvdzogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHR9LFxuXG5cdGlzTnVtZXJpYzogZnVuY3Rpb24oIG9iaiApIHtcblxuXHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChudWxsfHRydWV8ZmFsc2V8XCJcIilcblx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG5cdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0Ly8gYWRkaW5nIDEgY29ycmVjdHMgbG9zcyBvZiBwcmVjaXNpb24gZnJvbSBwYXJzZUZsb2F0ICgjMTUxMDApXG5cdFx0dmFyIHJlYWxTdHJpbmdPYmogPSBvYmogJiYgb2JqLnRvU3RyaW5nKCk7XG5cdFx0cmV0dXJuICFqUXVlcnkuaXNBcnJheSggb2JqICkgJiYgKCByZWFsU3RyaW5nT2JqIC0gcGFyc2VGbG9hdCggcmVhbFN0cmluZ09iaiApICsgMSApID49IDA7XG5cdH0sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIga2V5O1xuXG5cdFx0Ly8gTm90IHBsYWluIG9iamVjdHM6XG5cdFx0Ly8gLSBBbnkgb2JqZWN0IG9yIHZhbHVlIHdob3NlIGludGVybmFsIFtbQ2xhc3NdXSBwcm9wZXJ0eSBpcyBub3QgXCJbb2JqZWN0IE9iamVjdF1cIlxuXHRcdC8vIC0gRE9NIG5vZGVzXG5cdFx0Ly8gLSB3aW5kb3dcblx0XHRpZiAoIGpRdWVyeS50eXBlKCBvYmogKSAhPT0gXCJvYmplY3RcIiB8fCBvYmoubm9kZVR5cGUgfHwgalF1ZXJ5LmlzV2luZG93KCBvYmogKSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBOb3Qgb3duIGNvbnN0cnVjdG9yIHByb3BlcnR5IG11c3QgYmUgT2JqZWN0XG5cdFx0aWYgKCBvYmouY29uc3RydWN0b3IgJiZcblx0XHRcdFx0IWhhc093bi5jYWxsKCBvYmosIFwiY29uc3RydWN0b3JcIiApICYmXG5cdFx0XHRcdCFoYXNPd24uY2FsbCggb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSB8fCB7fSwgXCJpc1Byb3RvdHlwZU9mXCIgKSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBPd24gcHJvcGVydGllcyBhcmUgZW51bWVyYXRlZCBmaXJzdGx5LCBzbyB0byBzcGVlZCB1cCxcblx0XHQvLyBpZiBsYXN0IG9uZSBpcyBvd24sIHRoZW4gYWxsIHByb3BlcnRpZXMgYXJlIG93blxuXHRcdGZvciAoIGtleSBpbiBvYmogKSB7fVxuXG5cdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkIHx8IGhhc093bi5jYWxsKCBvYmosIGtleSApO1xuXHR9LFxuXG5cdGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIG5hbWU7XG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdHR5cGU6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0aWYgKCBvYmogPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiBvYmogKyBcIlwiO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wLCBpT1M8NiAoZnVuY3Rpb25pc2ggUmVnRXhwKVxuXHRcdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG5cdFx0XHRjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8IFwib2JqZWN0XCIgOlxuXHRcdFx0dHlwZW9mIG9iajtcblx0fSxcblxuXHQvLyBFdmFsdWF0ZXMgYSBzY3JpcHQgaW4gYSBnbG9iYWwgY29udGV4dFxuXHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSApIHtcblx0XHR2YXIgc2NyaXB0LFxuXHRcdFx0aW5kaXJlY3QgPSBldmFsO1xuXG5cdFx0Y29kZSA9IGpRdWVyeS50cmltKCBjb2RlICk7XG5cblx0XHRpZiAoIGNvZGUgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBjb2RlIGluY2x1ZGVzIGEgdmFsaWQsIHByb2xvZ3VlIHBvc2l0aW9uXG5cdFx0XHQvLyBzdHJpY3QgbW9kZSBwcmFnbWEsIGV4ZWN1dGUgY29kZSBieSBpbmplY3RpbmcgYVxuXHRcdFx0Ly8gc2NyaXB0IHRhZyBpbnRvIHRoZSBkb2N1bWVudC5cblx0XHRcdGlmICggY29kZS5pbmRleE9mKCBcInVzZSBzdHJpY3RcIiApID09PSAxICkge1xuXHRcdFx0XHRzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cdFx0XHRcdHNjcmlwdC50ZXh0ID0gY29kZTtcblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgYXZvaWQgdGhlIERPTSBub2RlIGNyZWF0aW9uLCBpbnNlcnRpb25cblx0XHRcdFx0Ly8gYW5kIHJlbW92YWwgYnkgdXNpbmcgYW4gaW5kaXJlY3QgZ2xvYmFsIGV2YWxcblxuXHRcdFx0XHRpbmRpcmVjdCggY29kZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXG5cdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0Ly8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKVxuXHRjYW1lbENhc2U6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XG5cdH0sXG5cblx0bm9kZU5hbWU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHR9LFxuXG5cdGVhY2g6IGZ1bmN0aW9uKCBvYmosIGNhbGxiYWNrICkge1xuXHRcdHZhciBsZW5ndGgsIGkgPSAwO1xuXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggb2JqICkgKSB7XG5cdFx0XHRsZW5ndGggPSBvYmoubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjFcblx0dHJpbTogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XHRcIlwiIDpcblx0XHRcdCggdGV4dCArIFwiXCIgKS5yZXBsYWNlKCBydHJpbSwgXCJcIiApO1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0WyBhcnIgXSA6IGFyclxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5jYWxsKCByZXQsIGFyciApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0aW5BcnJheTogZnVuY3Rpb24oIGVsZW0sIGFyciwgaSApIHtcblx0XHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdH0sXG5cblx0bWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xuXHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IGZpcnN0Lmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0Zmlyc3RbIGkrKyBdID0gc2Vjb25kWyBqIF07XG5cdFx0fVxuXG5cdFx0Zmlyc3QubGVuZ3RoID0gaTtcblxuXHRcdHJldHVybiBmaXJzdDtcblx0fSxcblxuXHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XG5cdFx0dmFyIGNhbGxiYWNrSW52ZXJzZSxcblx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xuXHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRjYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTtcblx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZXM7XG5cdH0sXG5cblx0Ly8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdHZhciBsZW5ndGgsIHZhbHVlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRyZXQgPSBbXTtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggZWxlbXMgKSApIHtcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRyZXR1cm4gY29uY2F0LmFwcGx5KCBbXSwgcmV0ICk7XG5cdH0sXG5cblx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG5cdGd1aWQ6IDEsXG5cblx0Ly8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG5cdC8vIGFyZ3VtZW50cy5cblx0cHJveHk6IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0XHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcblxuXHRcdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdFx0Y29udGV4dCA9IGZuO1xuXHRcdFx0Zm4gPSB0bXA7XG5cdFx0fVxuXG5cdFx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0XHQvLyB0aGlzIHRocm93cyBhIFR5cGVFcnJvciwgYnV0IHdlIHdpbGwganVzdCByZXR1cm4gdW5kZWZpbmVkLlxuXHRcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCBmbiApICkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBTaW11bGF0ZWQgYmluZFxuXHRcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0XHRwcm94eSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGZuLmFwcGx5KCBjb250ZXh0IHx8IHRoaXMsIGFyZ3MuY29uY2F0KCBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSApICk7XG5cdFx0fTtcblxuXHRcdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRcdHByb3h5Lmd1aWQgPSBmbi5ndWlkID0gZm4uZ3VpZCB8fCBqUXVlcnkuZ3VpZCsrO1xuXG5cdFx0cmV0dXJuIHByb3h5O1xuXHR9LFxuXG5cdG5vdzogRGF0ZS5ub3csXG5cblx0Ly8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyXG5cdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdHN1cHBvcnQ6IHN1cHBvcnRcbn0gKTtcblxuLy8gSlNIaW50IHdvdWxkIGVycm9yIG9uIHRoaXMgY29kZSBkdWUgdG8gdGhlIFN5bWJvbCBub3QgYmVpbmcgZGVmaW5lZCBpbiBFUzUuXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuanNoaW50cmMgd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWxcbi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBqdXN0IGRpc2FibGUgSlNIaW50IGZvciB0aGVzZVxuLy8gdGhyZWUgbGluZXMuXG4vKiBqc2hpbnQgaWdub3JlOiBzdGFydCAqL1xuaWYgKCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdGpRdWVyeS5mblsgU3ltYm9sLml0ZXJhdG9yIF0gPSBhcnJbIFN5bWJvbC5pdGVyYXRvciBdO1xufVxuLyoganNoaW50IGlnbm9yZTogZW5kICovXG5cbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxualF1ZXJ5LmVhY2goIFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdCggXCIgXCIgKSxcbmZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbn0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiBpT1MgOC4yIChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcblx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuXHQvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcblx0Ly8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRVxuXHR2YXIgbGVuZ3RoID0gISFvYmogJiYgXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcblx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXG5cdGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjIuMVxuICogaHR0cDovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxNS0xMC0xN1xuICovXG4oZnVuY3Rpb24oIHdpbmRvdyApIHtcblxudmFyIGksXG5cdHN1cHBvcnQsXG5cdEV4cHIsXG5cdGdldFRleHQsXG5cdGlzWE1MLFxuXHR0b2tlbml6ZSxcblx0Y29tcGlsZSxcblx0c2VsZWN0LFxuXHRvdXRlcm1vc3RDb250ZXh0LFxuXHRzb3J0SW5wdXQsXG5cdGhhc0R1cGxpY2F0ZSxcblxuXHQvLyBMb2NhbCBkb2N1bWVudCB2YXJzXG5cdHNldERvY3VtZW50LFxuXHRkb2N1bWVudCxcblx0ZG9jRWxlbSxcblx0ZG9jdW1lbnRJc0hUTUwsXG5cdHJidWdneVFTQSxcblx0cmJ1Z2d5TWF0Y2hlcyxcblx0bWF0Y2hlcyxcblx0Y29udGFpbnMsXG5cblx0Ly8gSW5zdGFuY2Utc3BlY2lmaWMgZGF0YVxuXHRleHBhbmRvID0gXCJzaXp6bGVcIiArIDEgKiBuZXcgRGF0ZSgpLFxuXHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXG5cdGRpcnJ1bnMgPSAwLFxuXHRkb25lID0gMCxcblx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7XG5cdH0sXG5cblx0Ly8gR2VuZXJhbC1wdXJwb3NlIGNvbnN0YW50c1xuXHRNQVhfTkVHQVRJVkUgPSAxIDw8IDMxLFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcblx0YXJyID0gW10sXG5cdHBvcCA9IGFyci5wb3AsXG5cdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQvLyBodHRwOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcblx0aW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGxlbiA9IGxpc3QubGVuZ3RoO1xuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0aWYgKCBsaXN0W2ldID09PSBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIC0xO1xuXHR9LFxuXG5cdGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLFxuXG5cdC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8jd2hpdGVzcGFjZVxuXHR3aGl0ZXNwYWNlID0gXCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLFxuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCN2YWx1ZS1kZWYtaWRlbnRpZmllclxuXHRpZGVudGlmaWVyID0gXCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXFxceDAwLVxcXFx4YTBdKStcIixcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblx0XHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuXHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuXHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgKyB3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIiApLFxuXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblxuXHRyYXR0cmlidXRlUXVvdGVzID0gbmV3IFJlZ0V4cCggXCI9XCIgKyB3aGl0ZXNwYWNlICsgXCIqKFteXFxcXF0nXFxcIl0qPylcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBcImdcIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cdHJlc2NhcGUgPSAvJ3xcXFxcL2csXG5cblx0Ly8gQ1NTIGVzY2FwZXMgaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggXywgZXNjYXBlZCwgZXNjYXBlZFdoaXRlc3BhY2UgKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjRcblx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XG5cdFx0XHRlc2NhcGVkIDpcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDpcblx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0Ly8gU2VlIHNldERvY3VtZW50KClcblx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG5cdC8vIGVycm9yIGluIElFXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRzZXREb2N1bWVudCgpO1xuXHR9O1xuXG4vLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxudHJ5IHtcblx0cHVzaC5hcHBseShcblx0XHQoYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSksXG5cdFx0cHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcblx0KTtcblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0Ly8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuXHRhcnJbIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzLmxlbmd0aCBdLm5vZGVUeXBlO1xufSBjYXRjaCAoIGUgKSB7XG5cdHB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3RoID9cblxuXHRcdC8vIExldmVyYWdlIHNsaWNlIGlmIHBvc3NpYmxlXG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0cHVzaF9uYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbChlbHMpICk7XG5cdFx0fSA6XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHZhciBqID0gdGFyZ2V0Lmxlbmd0aCxcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHQvLyBDYW4ndCB0cnVzdCBOb2RlTGlzdC5sZW5ndGhcblx0XHRcdHdoaWxlICggKHRhcmdldFtqKytdID0gZWxzW2krK10pICkge31cblx0XHRcdHRhcmdldC5sZW5ndGggPSBqIC0gMTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBtLCBpLCBlbGVtLCBuaWQsIG5pZHNlbGVjdCwgbWF0Y2gsIGdyb3VwcywgbmV3U2VsZWN0b3IsXG5cdFx0bmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LFxuXG5cdFx0Ly8gbm9kZVR5cGUgZGVmYXVsdHMgdG8gOSwgc2luY2UgY29udGV4dCBkZWZhdWx0cyB0byBkb2N1bWVudFxuXHRcdG5vZGVUeXBlID0gY29udGV4dCA/IGNvbnRleHQubm9kZVR5cGUgOiA5O1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFJldHVybiBlYXJseSBmcm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0XG5cdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiIHx8ICFzZWxlY3RvciB8fFxuXHRcdG5vZGVUeXBlICE9PSAxICYmIG5vZGVUeXBlICE9PSA5ICYmIG5vZGVUeXBlICE9PSAxMSApIHtcblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0Ly8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50c1xuXHRpZiAoICFzZWVkICkge1xuXG5cdFx0aWYgKCAoIGNvbnRleHQgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IHByZWZlcnJlZERvYyApICE9PSBkb2N1bWVudCApIHtcblx0XHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdFx0fVxuXHRcdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG5cdFx0aWYgKCBkb2N1bWVudElzSFRNTCApIHtcblxuXHRcdFx0Ly8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhIFwiZ2V0KkJ5KlwiIERPTSBtZXRob2Rcblx0XHRcdC8vIChleGNlcHRpbmcgRG9jdW1lbnRGcmFnbWVudCBjb250ZXh0LCB3aGVyZSB0aGUgbWV0aG9kcyBkb24ndCBleGlzdClcblx0XHRcdGlmICggbm9kZVR5cGUgIT09IDExICYmIChtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSkgKSB7XG5cblx0XHRcdFx0Ly8gSUQgc2VsZWN0b3Jcblx0XHRcdFx0aWYgKCAobSA9IG1hdGNoWzFdKSApIHtcblxuXHRcdFx0XHRcdC8vIERvY3VtZW50IGNvbnRleHRcblx0XHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRWxlbWVudCBjb250ZXh0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgJiYgKGVsZW0gPSBuZXdDb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICYmXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiZcblx0XHRcdFx0XHRcdFx0ZWxlbS5pZCA9PT0gbSApIHtcblxuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFR5cGUgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbMl0gKSB7XG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHRcdC8vIENsYXNzIHNlbGVjdG9yXG5cdFx0XHRcdH0gZWxzZSBpZiAoIChtID0gbWF0Y2hbM10pICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJlxuXHRcdFx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggbSApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGFrZSBhZHZhbnRhZ2Ugb2YgcXVlcnlTZWxlY3RvckFsbFxuXHRcdFx0aWYgKCBzdXBwb3J0LnFzYSAmJlxuXHRcdFx0XHQhY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdICYmXG5cdFx0XHRcdCghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7XG5cblx0XHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IHNlbGVjdG9yO1xuXG5cdFx0XHRcdC8vIHFTQSBsb29rcyBvdXRzaWRlIEVsZW1lbnQgY29udGV4dCwgd2hpY2ggaXMgbm90IHdoYXQgd2Ugd2FudFxuXHRcdFx0XHQvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB3b3JrYXJvdW5kIHRlY2huaXF1ZVxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PThcblx0XHRcdFx0Ly8gRXhjbHVkZSBvYmplY3QgZWxlbWVudHNcblx0XHRcdFx0fSBlbHNlIGlmICggY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRpZiAoIChuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXCJpZFwiICkpICkge1xuXHRcdFx0XHRcdFx0bmlkID0gbmlkLnJlcGxhY2UoIHJlc2NhcGUsIFwiXFxcXCQmXCIgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29udGV4dC5zZXRBdHRyaWJ1dGUoIFwiaWRcIiwgKG5pZCA9IGV4cGFuZG8pICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG5cdFx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0bmlkc2VsZWN0ID0gcmlkZW50aWZpZXIudGVzdCggbmlkICkgPyBcIiNcIiArIG5pZCA6IFwiW2lkPSdcIiArIG5pZCArIFwiJ11cIjtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGdyb3Vwc1tpXSA9IG5pZHNlbGVjdCArIFwiIFwiICsgdG9TZWxlY3RvciggZ3JvdXBzW2ldICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIFwiLFwiICk7XG5cblx0XHRcdFx0XHQvLyBFeHBhbmQgY29udGV4dCBmb3Igc2libGluZyBzZWxlY3RvcnNcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHxcblx0XHRcdFx0XHRcdGNvbnRleHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIG5ld1NlbGVjdG9yICkge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLFxuXHRcdFx0XHRcdFx0XHRuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XG5cdFx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRcdGlmICggbmlkID09PSBleHBhbmRvICkge1xuXHRcdFx0XHRcdFx0XHRjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSggXCJpZFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQWxsIG90aGVyc1xuXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUga2V5LXZhbHVlIGNhY2hlcyBvZiBsaW1pdGVkIHNpemVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcbiAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxuICpcdGRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnlcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG5cdHZhciBrZXlzID0gW107XG5cblx0ZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XG5cdFx0Ly8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1Nylcblx0XHRpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcblx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0fVxuXHRcdHJldHVybiAoY2FjaGVbIGtleSArIFwiIFwiIF0gPSB2YWx1ZSk7XG5cdH1cblx0cmV0dXJuIGNhY2hlO1xufVxuXG4vKipcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFya1xuICovXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xuXHRmblsgZXhwYW5kbyBdID0gdHJ1ZTtcblx0cmV0dXJuIGZuO1xufVxuXG4vKipcbiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZGl2IGFuZCBleHBlY3RzIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZGl2ICk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBkaXYucGFyZW50Tm9kZSApIHtcblx0XHRcdGRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBkaXYgKTtcblx0XHR9XG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRkaXYgPSBudWxsO1xuXHR9XG59XG5cbi8qKlxuICogQWRkcyB0aGUgc2FtZSBoYW5kbGVyIGZvciBhbGwgb2YgdGhlIHNwZWNpZmllZCBhdHRyc1xuICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXG4gKi9cbmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7XG5cdHZhciBhcnIgPSBhdHRycy5zcGxpdChcInxcIiksXG5cdFx0aSA9IGFyci5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0RXhwci5hdHRySGFuZGxlWyBhcnJbaV0gXSA9IGhhbmRsZXI7XG5cdH1cbn1cblxuLyoqXG4gKiBDaGVja3MgZG9jdW1lbnQgb3JkZXIgb2YgdHdvIHNpYmxpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYlxuICogQHJldHVybnMge051bWJlcn0gUmV0dXJucyBsZXNzIHRoYW4gMCBpZiBhIHByZWNlZGVzIGIsIGdyZWF0ZXIgdGhhbiAwIGlmIGEgZm9sbG93cyBiXG4gKi9cbmZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcblx0dmFyIGN1ciA9IGIgJiYgYSxcblx0XHRkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0KCB+Yi5zb3VyY2VJbmRleCB8fCBNQVhfTkVHQVRJVkUgKSAtXG5cdFx0XHQoIH5hLnNvdXJjZUluZGV4IHx8IE1BWF9ORUdBVElWRSApO1xuXG5cdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuXHRpZiAoIGRpZmYgKSB7XG5cdFx0cmV0dXJuIGRpZmY7XG5cdH1cblxuXHQvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxuXHRpZiAoIGN1ciApIHtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkge1xuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIChuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIikgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xuXHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0Ly8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBwYXJlbnQsXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50O1xuXHR9XG5cblx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2Vcblx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRpZiAoIChwYXJlbnQgPSBkb2N1bWVudC5kZWZhdWx0VmlldykgJiYgcGFyZW50LnRvcCAhPT0gcGFyZW50ICkge1xuXHRcdC8vIFN1cHBvcnQ6IElFIDExXG5cdFx0aWYgKCBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHBhcmVudC5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBwYXJlbnQuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRwYXJlbnQuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRkaXYuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFkaXYuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRkaXYuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJcIikgKTtcblx0XHRyZXR1cm4gIWRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZGl2ICkuaWQgPSBleHBhbmRvO1xuXHRcdHJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCBleHBhbmRvICkubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBJRCBmaW5kIGFuZCBmaWx0ZXJcblx0aWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7XG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdHJldHVybiBtID8gWyBtIF0gOiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHQvLyBTdXBwb3J0OiBJRTYvN1xuXHRcdC8vIGdldEVsZW1lbnRCeUlkIGlzIG5vdCByZWxpYWJsZSBhcyBhIGZpbmQgc2hvcnRjdXRcblx0XHRkZWxldGUgRXhwci5maW5kW1wiSURcIl07XG5cblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gIGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtcblx0XHRcdFx0cmV0dXJuIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gYXR0cklkO1xuXHRcdFx0fTtcblx0XHR9O1xuXHR9XG5cblx0Ly8gVGFnXG5cdEV4cHIuZmluZFtcIlRBR1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgP1xuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTlxuXHRcdFx0fSBlbHNlIGlmICggc3VwcG9ydC5xc2EgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyApO1xuXHRcdFx0fVxuXHRcdH0gOlxuXG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHR0bXAgPSBbXSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdC8vIEJ5IGhhcHB5IGNvaW5jaWRlbmNlLCBhIChicm9rZW4pIGdFQlROIGFwcGVhcnMgb24gRG9jdW1lbnRGcmFnbWVudCBub2RlcyB0b29cblx0XHRcdFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBGaWx0ZXIgb3V0IHBvc3NpYmxlIGNvbW1lbnRzXG5cdFx0XHRpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdHRtcC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRtcDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdH07XG5cblx0Ly8gQ2xhc3Ncblx0RXhwci5maW5kW1wiQ0xBU1NcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHtcblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblx0XHR9XG5cdH07XG5cblx0LyogUVNBL21hdGNoZXNTZWxlY3RvclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydFxuXG5cdC8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpXG5cdHJidWdneU1hdGNoZXMgPSBbXTtcblxuXHQvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKVxuXHQvLyBXZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2YgYSBidWcgaW4gSUU4LzkgdGhhdCB0aHJvd3MgYW4gZXJyb3Jcblx0Ly8gd2hlbmV2ZXIgYGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRgIGlzIGFjY2Vzc2VkIG9uIGFuIGlmcmFtZVxuXHQvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvclxuXHQvLyBTZWUgaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRcdFx0Ly8gU2VsZWN0IGlzIHNldCB0byBlbXB0eSBzdHJpbmcgb24gcHVycG9zZVxuXHRcdFx0Ly8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5XG5cdFx0XHQvLyBzZXR0aW5nIGEgYm9vbGVhbiBjb250ZW50IGF0dHJpYnV0ZSxcblx0XHRcdC8vIHNpbmNlIGl0cyBwcmVzZW5jZSBzaG91bGQgYmUgZW5vdWdoXG5cdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZGl2ICkuaW5uZXJIVE1MID0gXCI8YSBpZD0nXCIgKyBleHBhbmRvICsgXCInPjwvYT5cIiArXG5cdFx0XHRcdFwiPHNlbGVjdCBpZD0nXCIgKyBleHBhbmRvICsgXCItXFxyXFxcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+XCIgK1xuXHRcdFx0XHRcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOCwgT3BlcmEgMTEtMTIuMTZcblx0XHRcdC8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj1cblx0XHRcdC8vIFRoZSB0ZXN0IGF0dHJpYnV0ZSBtdXN0IGJlIHVua25vd24gaW4gT3BlcmEgYnV0IFwic2FmZVwiIGZvciBXaW5SVFxuXHRcdFx0Ly8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbXNhbGxvd2NhcHR1cmVePScnXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlsqXiRdPVwiICsgd2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gQm9vbGVhbiBhdHRyaWJ1dGVzIGFuZCBcInZhbHVlXCIgYXJlIG5vdCB0cmVhdGVkIGNvcnJlY3RseVxuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lPDI5LCBBbmRyb2lkPDQuNCwgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjgrXG5cdFx0XHRpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiOmNoZWNrZWRcIik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrXG5cdFx0XHQvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXG5cdFx0XHQvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCBcImEjXCIgKyBleHBhbmRvICsgXCIrKlwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIi4jLitbK35dXCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0XHQvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHNcblx0XHRcdC8vIFRoZSB0eXBlIGFuZCBuYW1lIGF0dHJpYnV0ZXMgYXJlIHJlc3RyaWN0ZWQgZHVyaW5nIC5pbm5lckhUTUwgYXNzaWdubWVudFxuXHRcdFx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJoaWRkZW5cIiApO1xuXHRcdFx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdGRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZGl2ICkge1xuXHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG5cdFx0XHQvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KVxuXHRcdFx0c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IG1hdGNoZXMuY2FsbCggZGl2LCBcImRpdlwiICk7XG5cblx0XHRcdC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cblx0XHRcdC8vIEdlY2tvIGRvZXMgbm90IGVycm9yLCByZXR1cm5zIGZhbHNlIGluc3RlYWRcblx0XHRcdG1hdGNoZXMuY2FsbCggZGl2LCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRyYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xuXHRcdH0pO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcblx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbihcInxcIikgKTtcblxuXHQvKiBDb250YWluc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdGhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24gKTtcblxuXHQvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXJcblx0Ly8gUHVycG9zZWZ1bGx5IHNlbGYtZXhjbHVzaXZlXG5cdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG5cdGNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxuXHRcdFx0XHRidXAgPSBiICYmIGIucGFyZW50Tm9kZTtcblx0XHRcdHJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKFxuXHRcdFx0XHRhZG93bi5jb250YWlucyA/XG5cdFx0XHRcdFx0YWRvd24uY29udGFpbnMoIGJ1cCApIDpcblx0XHRcdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGJ1cCApICYgMTZcblx0XHRcdCkpO1xuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0aWYgKCBiICkge1xuXHRcdFx0XHR3aGlsZSAoIChiID0gYi5wYXJlbnROb2RlKSApIHtcblx0XHRcdFx0XHRpZiAoIGIgPT09IGEgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXG5cdC8qIFNvcnRpbmdcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIERvY3VtZW50IG9yZGVyIHNvcnRpbmdcblx0c29ydE9yZGVyID0gaGFzQ29tcGFyZSA/XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXG5cdFx0Ly8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0Ly8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuXHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcblx0XHRpZiAoIGNvbXBhcmUgKSB7XG5cdFx0XHRyZXR1cm4gY29tcGFyZTtcblx0XHR9XG5cblx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50XG5cdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cblx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGIgKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdFx0MTtcblxuXHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdGlmICggY29tcGFyZSAmIDEgfHxcblx0XHRcdCghc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYSApID09PSBjb21wYXJlKSApIHtcblxuXHRcdFx0Ly8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50XG5cdFx0XHRpZiAoIGEgPT09IGRvY3VtZW50IHx8IGEub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYSkgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHRcdGlmICggYiA9PT0gZG9jdW1lbnQgfHwgYi5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBiKSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0fSA6XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXVwID0gYS5wYXJlbnROb2RlLFxuXHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxuXHRcdFx0YXAgPSBbIGEgXSxcblx0XHRcdGJwID0gWyBiIF07XG5cblx0XHQvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxuXHRcdGlmICggIWF1cCB8fCAhYnVwICkge1xuXHRcdFx0cmV0dXJuIGEgPT09IGRvY3VtZW50ID8gLTEgOlxuXHRcdFx0XHRiID09PSBkb2N1bWVudCA/IDEgOlxuXHRcdFx0XHRhdXAgPyAtMSA6XG5cdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cblx0XHQvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVja1xuXHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uXG5cdFx0Y3VyID0gYTtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cdFx0Y3VyID0gYjtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRicC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cblx0XHQvLyBXYWxrIGRvd24gdGhlIHRyZWUgbG9va2luZyBmb3IgYSBkaXNjcmVwYW5jeVxuXHRcdHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBpID9cblx0XHRcdC8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvclxuXHRcdFx0c2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuXHRcdFx0YXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcblx0XHRcdGJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDpcblx0XHRcdDA7XG5cdH07XG5cblx0cmV0dXJuIGRvY3VtZW50O1xufTtcblxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG59O1xuXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0fVxuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IGF0dHJpYnV0ZSBzZWxlY3RvcnMgYXJlIHF1b3RlZFxuXHRleHByID0gZXhwci5yZXBsYWNlKCByYXR0cmlidXRlUXVvdGVzLCBcIj0nJDEnXVwiICk7XG5cblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCFjb21waWxlckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXG5cdFx0XHQvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cdFx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0XHQvLyBmcmFnbWVudCBpbiBJRSA5XG5cdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7fVxuXHR9XG5cblx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcbn07XG5cblNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdH1cblx0cmV0dXJuIGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XG59O1xuXG5TaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cblx0XHRcdGZuKCBlbGVtLCBuYW1lLCAhZG9jdW1lbnRJc0hUTUwgKSA6XG5cdFx0XHR1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID9cblx0XHR2YWwgOlxuXHRcdHN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XG5cdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcbn07XG5cblNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xufTtcblxuLyoqXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICovXG5TaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0aiA9IDAsXG5cdFx0aSA9IDA7XG5cblx0Ly8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuXHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcblx0cmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTtcblxuXHRpZiAoIGhhc0R1cGxpY2F0ZSApIHtcblx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG4gKi9cbmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9kZSxcblx0XHRyZXQgPSBcIlwiLFxuXHRcdGkgPSAwLFxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRpZiAoICFub2RlVHlwZSApIHtcblx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdHdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkge1xuXHRcdFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcblx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7XG5cdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdC8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS50ZXh0Q29udGVudCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuXHR9XG5cdC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuXG5cdHJldHVybiByZXQ7XG59O1xuXG5FeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblxuXHQvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXJcblx0Y2FjaGVMZW5ndGg6IDUwLFxuXG5cdGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxuXG5cdG1hdGNoOiBtYXRjaEV4cHIsXG5cblx0YXR0ckhhbmRsZToge30sXG5cblx0ZmluZDoge30sXG5cblx0cmVsYXRpdmU6IHtcblx0XHRcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cblx0fSxcblxuXHRwcmVGaWx0ZXI6IHtcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0bWF0Y2hbM10gPSAoIG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzJdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdG1hdGNoWzNdID0gXCIgXCIgKyBtYXRjaFszXSArIFwiIFwiO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHQvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByW1wiQ0hJTERcIl1cblx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXG5cdFx0XHRcdDIgd2hhdCAoY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0MyBhcmd1bWVudCAoZXZlbnxvZGR8XFxkKnxcXGQqbihbKy1dXFxkKyk/fC4uLilcblx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG5cdFx0XHRcdDUgc2lnbiBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NiB4IG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcblx0XHRcdFx0OCB5IG9mIHktY29tcG9uZW50XG5cdFx0XHQqL1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzFdLnNsaWNlKCAwLCAzICkgPT09IFwibnRoXCIgKSB7XG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdGlmICggIW1hdGNoWzNdICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRFxuXHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdG1hdGNoWzRdID0gKyggbWF0Y2hbNF0gPyBtYXRjaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6IDIgKiAoIG1hdGNoWzNdID09PSBcImV2ZW5cIiB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApICk7XG5cdFx0XHRcdG1hdGNoWzVdID0gKyggKCBtYXRjaFs3XSArIG1hdGNoWzhdICkgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKTtcblxuXHRcdFx0Ly8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGNoWzJdO1xuXG5cdFx0XHRpZiAoIG1hdGNoRXhwcltcIkNISUxEXCJdLnRlc3QoIG1hdGNoWzBdICkgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pc1xuXHRcdFx0aWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0bWF0Y2hbMl0gPSBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXG5cdFx0XHRcdC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG5cdFx0XHRcdChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcblx0XHRcdFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG5cdFx0XHRcdChleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKCBcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGgpICkge1xuXG5cdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0XHRtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHR9XG5cdH0sXG5cblx0ZmlsdGVyOiB7XG5cblx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9IDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDTEFTU1wiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkge1xuXHRcdFx0dmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcIiBcIiBdO1xuXG5cdFx0XHRyZXR1cm4gcGF0dGVybiB8fFxuXHRcdFx0XHQocGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyBjbGFzc05hbWUgKyBcIihcIiArIHdoaXRlc3BhY2UgKyBcInwkKVwiICkpICYmXG5cdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdCggdHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIgKTtcblx0XHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJePVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ+PVwiID8gKCBcIiBcIiArIHJlc3VsdC5yZXBsYWNlKCByd2hpdGVzcGFjZSwgXCIgXCIgKSArIFwiIFwiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0ZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBhcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0ZGlmZiA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXG5cdFx0XHRcdFx0XHQvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxuXHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFNlZWsgYGVsZW1gIGZyb20gYSBwcmV2aW91c2x5LWNhY2hlZCBpbmRleFxuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0bm9kZSA9IHBhcmVudDtcblx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleDtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcblx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpZmYgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEluY29ycG9yYXRlIHRoZSBvZmZzZXQsIHRoZW4gY2hlY2sgYWdhaW5zdCBjeWNsZSBzaXplXG5cdFx0XHRcdFx0XHRkaWZmIC09IGxhc3Q7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBwc2V1ZG8sIGFyZ3VtZW50ICkge1xuXHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHQvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdGZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXG5cdFx0XHQvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XG5cdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0Ly8ganVzdCBhcyBTaXp6bGUgZG9lc1xuXHRcdFx0aWYgKCBmblsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0aWYgKCBmbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgXCJcIiwgYXJndW1lbnQgXTtcblx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0XHRcdFx0dmFyIGlkeCxcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLFxuXHRcdFx0XHRcdFx0XHRpID0gbWF0Y2hlZC5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXHRcdC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xuXHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHQvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuXHRcdFx0Ly8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcblx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0dmFyIGlucHV0ID0gW10sXG5cdFx0XHRcdHJlc3VsdHMgPSBbXSxcblx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXG5cdFx0XHRyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID9cblx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksXG5cdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cblx0XHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0c2VlZFtpXSA9ICEobWF0Y2hlc1tpXSA9IGVsZW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkgOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdGlucHV0WzBdID0gZWxlbTtcblx0XHRcdFx0XHRtYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7XG5cdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0XHRpbnB1dFswXSA9IG51bGw7XG5cdFx0XHRcdFx0cmV0dXJuICFyZXN1bHRzLnBvcCgpO1xuXHRcdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3Jcblx0XHQvLyBpcyBiYXNlZCBzb2xlbHkgb24gdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZVxuXHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0Ly8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cblx0XHQvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS5cblx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdFwibGFuZ1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkge1xuXHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuXHRcdFx0aWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8IFwiXCIpICkge1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgbGFuZzogXCIgKyBsYW5nICk7XG5cdFx0XHR9XG5cdFx0XHRsYW5nID0gbGFuZy5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBlbGVtTGFuZztcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdGlmICggKGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcblx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKSApIHtcblxuXHRcdFx0XHRcdFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YoIGxhbmcgKyBcIi1cIiApID09PSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBNaXNjZWxsYW5lb3VzXG5cdFx0XCJ0YXJnZXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdHJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDtcblx0XHR9LFxuXG5cdFx0XCJyb290XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY0VsZW07XG5cdFx0fSxcblxuXHRcdFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkpICYmICEhKGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0udGFiSW5kZXgpO1xuXHRcdH0sXG5cblx0XHQvLyBCb29sZWFuIHByb3BlcnRpZXNcblx0XHRcImVuYWJsZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdFwiZGlzYWJsZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0XCJjaGVja2VkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0dmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09IFwib3B0aW9uXCIgJiYgISFlbGVtLnNlbGVjdGVkKTtcblx0XHR9LFxuXG5cdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEFjY2Vzc2luZyB0aGlzIHByb3BlcnR5IG1ha2VzIHNlbGVjdGVkLWJ5LWRlZmF1bHRcblx0XHRcdC8vIG9wdGlvbnMgaW4gU2FmYXJpIHdvcmsgcHJvcGVybHlcblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdC8vIENvbnRlbnRzXG5cdFx0XCJlbXB0eVwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG5cdFx0XHQvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXG5cdFx0XHQvLyAgIGJ1dCBub3QgYnkgb3RoZXJzIChjb21tZW50OiA4OyBwcm9jZXNzaW5nIGluc3RydWN0aW9uOiA3OyBldGMuKVxuXHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuXHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA8IDYgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gIUV4cHIucHNldWRvc1tcImVtcHR5XCJdKCBlbGVtICk7XG5cdFx0fSxcblxuXHRcdC8vIEVsZW1lbnQvaW5wdXQgdHlwZXNcblx0XHRcImhlYWRlclwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaW5wdXRzLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJidXR0b25cIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCI7XG5cdFx0fSxcblxuXHRcdFwidGV4dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBhdHRyO1xuXHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICYmXG5cdFx0XHRcdGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG5cdFx0XHRcdCggKGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShcInR5cGVcIikpID09IG51bGwgfHwgYXR0ci50b0xvd2VyQ2FzZSgpID09PSBcInRleHRcIiApO1xuXHRcdH0sXG5cblx0XHQvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXG5cdFx0XCJmaXJzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xuXHRcdH0pLFxuXG5cdFx0XCJlcVwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gWyBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50IF07XG5cdFx0fSksXG5cblx0XHRcImV2ZW5cIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcIm9kZFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwibHRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyAtLWkgPj0gMDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJndFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pXG5cdH1cbn07XG5cbkV4cHIucHNldWRvc1tcIm50aFwiXSA9IEV4cHIucHNldWRvc1tcImVxXCJdO1xuXG4vLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvc1xuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTtcbn1cbmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XG59XG5cbi8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9XG5zZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcbkV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG5cbnRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggY2FjaGVkICkge1xuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdH1cblxuXHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRncm91cHMgPSBbXTtcblx0cHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuXG5cdHdoaWxlICggc29GYXIgKSB7XG5cblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0aWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRpZiAoIG1hdGNoICkge1xuXHRcdFx0XHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFswXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdH1cblx0XHRcdGdyb3Vwcy5wdXNoKCAodG9rZW5zID0gW10pICk7XG5cdFx0fVxuXG5cdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gQ29tYmluYXRvcnNcblx0XHRpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0Ly8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlXG5cdFx0XHRcdHR5cGU6IG1hdGNoWzBdLnJlcGxhY2UoIHJ0cmltLCBcIiBcIiApXG5cdFx0XHR9KTtcblx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmlsdGVyc1xuXHRcdGZvciAoIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7XG5cdFx0XHRpZiAoIChtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkpICYmICghcHJlRmlsdGVyc1sgdHlwZSBdIHx8XG5cdFx0XHRcdChtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSkpICkge1xuXHRcdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdHJldHVybiBwYXJzZU9ubHkgP1xuXHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0c29GYXIgP1xuXHRcdFx0U2l6emxlLmVycm9yKCBzZWxlY3RvciApIDpcblx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcblx0XHRcdHRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApO1xufTtcblxuZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRzZWxlY3RvciA9IFwiXCI7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gc2VsZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGFkZENvbWJpbmF0b3IoIG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UgKSB7XG5cdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBkaXIgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHwgKG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCAob2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsgZGlyIF0pICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBkaXIgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0KHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwW2ldKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG5cdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdG1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmNvbXBpbGUgPSBTaXp6bGUuY29tcGlsZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdHZhciBpLFxuXHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggIWNhY2hlZCApIHtcblx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRpZiAoICFtYXRjaCApIHtcblx0XHRcdG1hdGNoID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdGkgPSBtYXRjaC5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSApO1xuXG5cdFx0Ly8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXG5cdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdH1cblx0cmV0dXJuIGNhY2hlZDtcbn07XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAqL1xuc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvcikgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRzdXBwb3J0LmdldEJ5SWQgJiYgY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdFx0XHRFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkge1xuXG5cdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XG5cdFx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0Ly8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuXHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcblx0XHRpID0gbWF0Y2hFeHByW1wibmVlZHNDb250ZXh0XCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zW2ldO1xuXG5cdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xuXHRcdFx0XHQvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcblx0XHRcdFx0aWYgKCAoc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1swXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0XHRcdFx0KSkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHQhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcblxuLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxuc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzID0gISFoYXNEdXBsaWNhdGU7XG5cbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuc2V0RG9jdW1lbnQoKTtcblxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcbi8vIERldGFjaGVkIG5vZGVzIGNvbmZvdW5kaW5nbHkgZm9sbG93ICplYWNoIG90aGVyKlxuc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdjEgKSB7XG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZGl2MS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSApICYgMTtcbn0pO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdGRpdi5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0cmV0dXJuIGRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiI1wiIDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcbmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdGRpdi5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdGRpdi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG5cdHJldHVybiBkaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdHJldHVybiBkaXYuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT0gbnVsbDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHZhbDtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdCh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcblx0XHR9XG5cdH0pO1xufVxuXG5yZXR1cm4gU2l6emxlO1xuXG59KSggd2luZG93ICk7XG5cblxuXG5qUXVlcnkuZmluZCA9IFNpenpsZTtcbmpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9ycztcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0O1xualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcbmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWlucztcblxuXG5cbnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cblx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cbnZhciByc2luZ2xlVGFnID0gKCAvXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8gKTtcblxuXG5cbnZhciByaXNTaW1wbGUgPSAvXi5bXjojXFxbXFwuLF0qJC87XG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cblx0fVxuXG5cdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcblx0XHR9ICk7XG5cblx0fVxuXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRpZiAoIHJpc1NpbXBsZS50ZXN0KCBxdWFsaWZpZXIgKSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QgKTtcblx0XHR9XG5cblx0XHRxdWFsaWZpZXIgPSBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzICk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90O1xuXHR9ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRyZXR1cm4gZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgP1xuXHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXSA6XG5cdFx0alF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHRcdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xuXHRcdH1cblxuXHRcdC8vIE5lZWRlZCBiZWNhdXNlICQoIHNlbGVjdG9yLCBjb250ZXh0ICkgYmVjb21lcyAkKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKVxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBsZW4gPiAxID8galF1ZXJ5LnVuaXF1ZSggcmV0ICkgOiByZXQgKTtcblx0XHRyZXQuc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yID8gdGhpcy5zZWxlY3RvciArIFwiIFwiICsgc2VsZWN0b3IgOiBzZWxlY3Rvcjtcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXHRmaWx0ZXI6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlICkgKTtcblx0fSxcblx0bm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlICkgKTtcblx0fSxcblx0aXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gISF3aW5ub3coXG5cdFx0XHR0aGlzLFxuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XG5cdFx0XHQvLyBzbyAkKFwicDpmaXJzdFwiKS5pcyhcInA6bGFzdFwiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gXCJwXCIuXG5cdFx0XHR0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvciApIDpcblx0XHRcdFx0c2VsZWN0b3IgfHwgW10sXG5cdFx0XHRmYWxzZVxuXHRcdCkubGVuZ3RoO1xuXHR9XG59ICk7XG5cblxuLy8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3RcblxuXG4vLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcbnZhciByb290alF1ZXJ5LFxuXG5cdC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG5cdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcblx0Ly8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKCMxMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBCbGFja2JlcnJ5IDQuNlxuXHRcdFx0XHRcdC8vIGdFQklEIHJldHVybnMgbm9kZXMgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAoIzY5NjMpXG5cdFx0XHRcdFx0aWYgKCBlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGhpcy5jb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0XHRcdFx0dGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHR9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcblx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG5cdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0dGhpcy5jb250ZXh0ID0gdGhpc1sgMCBdID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdC8vIEhBTkRMRTogJChmdW5jdGlvbilcblx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggc2VsZWN0b3IgKSApIHtcblx0XHRcdHJldHVybiByb290LnJlYWR5ICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRyb290LnJlYWR5KCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBFeGVjdXRlIGltbWVkaWF0ZWx5IGlmIHJlYWR5IGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdHNlbGVjdG9yKCBqUXVlcnkgKTtcblx0XHR9XG5cblx0XHRpZiAoIHNlbGVjdG9yLnNlbGVjdG9yICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3Iuc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmNvbnRleHQgPSBzZWxlY3Rvci5jb250ZXh0O1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0cG9zID0gcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSB8fCB0eXBlb2Ygc2VsZWN0b3JzICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvcnMsIGNvbnRleHQgfHwgdGhpcy5jb250ZXh0ICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0Zm9yICggY3VyID0gdGhpc1sgaSBdOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblxuXHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHBvcyA/XG5cdFx0XHRcdFx0cG9zLmluZGV4KCBjdXIgKSA+IC0xIDpcblxuXHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cblx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQgfHwgalF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG5cdH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuXHRcdHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7XG5cblx0XHRpZiAoIG5hbWUuc2xpY2UoIC01ICkgIT09IFwiVW50aWxcIiApIHtcblx0XHRcdHNlbGVjdG9yID0gdW50aWw7XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRtYXRjaGVkID0galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIG1hdGNoZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcblx0XHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXNcblx0XHRcdGlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHtcblx0XHRcdFx0bWF0Y2hlZC5yZXZlcnNlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkICk7XG5cdH07XG59ICk7XG52YXIgcm5vdHdoaXRlID0gKCAvXFxTKy9nICk7XG5cblxuXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIHtcblx0dmFyIG9iamVjdCA9IHt9O1xuXHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSApO1xuXHRyZXR1cm4gb2JqZWN0O1xufVxuXG4vKlxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gKlxuICpcdG9wdGlvbnM6IGFuIG9wdGlvbmFsIGxpc3Qgb2Ygc3BhY2Utc2VwYXJhdGVkIG9wdGlvbnMgdGhhdCB3aWxsIGNoYW5nZSBob3dcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxuICpcbiAqIEJ5IGRlZmF1bHQgYSBjYWxsYmFjayBsaXN0IHdpbGwgYWN0IGxpa2UgYW4gZXZlbnQgY2FsbGJhY2sgbGlzdCBhbmQgY2FuIGJlXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXG4gKlxuICogUG9zc2libGUgb3B0aW9uczpcbiAqXG4gKlx0b25jZTpcdFx0XHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXG4gKlx0XHRcdFx0XHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcIm1lbW9yaXplZFwiXG4gKlx0XHRcdFx0XHR2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0dW5pcXVlOlx0XHRcdHdpbGwgZW5zdXJlIGEgY2FsbGJhY2sgY2FuIG9ubHkgYmUgYWRkZWQgb25jZSAobm8gZHVwbGljYXRlIGluIHRoZSBsaXN0KVxuICpcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxuICpcbiAqL1xualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdC8vIENvbnZlcnQgb3B0aW9ucyBmcm9tIFN0cmluZy1mb3JtYXR0ZWQgdG8gT2JqZWN0LWZvcm1hdHRlZCBpZiBuZWVkZWRcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxuXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgP1xuXHRcdGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gRmxhZyB0byBrbm93IGlmIGxpc3QgaXMgY3VycmVudGx5IGZpcmluZ1xuXHRcdGZpcmluZyxcblxuXHRcdC8vIExhc3QgZmlyZSB2YWx1ZSBmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzXG5cdFx0bWVtb3J5LFxuXG5cdFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcblx0XHRmaXJlZCxcblxuXHRcdC8vIEZsYWcgdG8gcHJldmVudCBmaXJpbmdcblx0XHRsb2NrZWQsXG5cblx0XHQvLyBBY3R1YWwgY2FsbGJhY2sgbGlzdFxuXHRcdGxpc3QgPSBbXSxcblxuXHRcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXG5cdFx0cXVldWUgPSBbXSxcblxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IGFkZC9yZW1vdmUgYXMgbmVlZGVkKVxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXG5cblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5mb3JjZSBzaW5nbGUtZmlyaW5nXG5cdFx0XHRsb2NrZWQgPSBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIGpRdWVyeS50eXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0bG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhbG9ja2VkO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xuXHRcdFx0XHRpZiAoICFsb2NrZWQgKSB7XG5cdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBhcmdzICk7XG5cdFx0XHRcdFx0aWYgKCAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXG5cdFx0XHRmaXJlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi5maXJlV2l0aCggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXG5cdFx0XHRmaXJlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWZpcmVkO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0cmV0dXJuIHNlbGY7XG59O1xuXG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XG5cdFx0dmFyIHR1cGxlcyA9IFtcblxuXHRcdFx0XHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgbGlzdGVuZXIgbGlzdCwgZmluYWwgc3RhdGVcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIFwicmVqZWN0ZWRcIiBdLFxuXHRcdFx0XHRbIFwibm90aWZ5XCIsIFwicHJvZ3Jlc3NcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApIF1cblx0XHRcdF0sXG5cdFx0XHRzdGF0ZSA9IFwicGVuZGluZ1wiLFxuXHRcdFx0cHJvbWlzZSA9IHtcblx0XHRcdFx0c3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0YWx3YXlzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIC8qIGZuRG9uZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkge1xuXHRcdFx0XHRcdHZhciBmbnMgPSBhcmd1bWVudHM7XG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuXHRcdFx0XHRcdFx0XHR2YXIgZm4gPSBqUXVlcnkuaXNGdW5jdGlvbiggZm5zWyBpIF0gKSAmJiBmbnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZFsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdIGZvciBmb3J3YXJkaW5nIGFjdGlvbnMgdG8gbmV3RGVmZXJcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMgPT09IHByb21pc2UgPyBuZXdEZWZlci5wcm9taXNlKCkgOiB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdHByb21pc2UucGlwZSA9IHByb21pc2UudGhlbjtcblxuXHRcdC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcblx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHR2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXG5cdFx0XHRcdHN0YXRlU3RyaW5nID0gdHVwbGVbIDMgXTtcblxuXHRcdFx0Ly8gcHJvbWlzZVsgZG9uZSB8IGZhaWwgfCBwcm9ncmVzcyBdID0gbGlzdC5hZGRcblx0XHRcdHByb21pc2VbIHR1cGxlWyAxIF0gXSA9IGxpc3QuYWRkO1xuXG5cdFx0XHQvLyBIYW5kbGUgc3RhdGVcblx0XHRcdGlmICggc3RhdGVTdHJpbmcgKSB7XG5cdFx0XHRcdGxpc3QuYWRkKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdC8vIHN0YXRlID0gWyByZXNvbHZlZCB8IHJlamVjdGVkIF1cblx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXG5cdFx0XHRcdC8vIFsgcmVqZWN0X2xpc3QgfCByZXNvbHZlX2xpc3QgXS5kaXNhYmxlOyBwcm9ncmVzc19saXN0LmxvY2tcblx0XHRcdFx0fSwgdHVwbGVzWyBpIF4gMSBdWyAyIF0uZGlzYWJsZSwgdHVwbGVzWyAyIF1bIDIgXS5sb2NrICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGRlZmVycmVkWyByZXNvbHZlIHwgcmVqZWN0IHwgbm90aWZ5IF1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHByb21pc2UgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcblx0XHR9ICk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzdWJvcmRpbmF0ZSAvKiAsIC4uLiwgc3Vib3JkaW5hdGVOICovICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblx0XHRcdGxlbmd0aCA9IHJlc29sdmVWYWx1ZXMubGVuZ3RoLFxuXG5cdFx0XHQvLyB0aGUgY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBsZW5ndGggIT09IDEgfHxcblx0XHRcdFx0KCBzdWJvcmRpbmF0ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggc3Vib3JkaW5hdGUucHJvbWlzZSApICkgPyBsZW5ndGggOiAwLFxuXG5cdFx0XHQvLyB0aGUgbWFzdGVyIERlZmVycmVkLlxuXHRcdFx0Ly8gSWYgcmVzb2x2ZVZhbHVlcyBjb25zaXN0IG9mIG9ubHkgYSBzaW5nbGUgRGVmZXJyZWQsIGp1c3QgdXNlIHRoYXQuXG5cdFx0XHRkZWZlcnJlZCA9IHJlbWFpbmluZyA9PT0gMSA/IHN1Ym9yZGluYXRlIDogalF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIFVwZGF0ZSBmdW5jdGlvbiBmb3IgYm90aCByZXNvbHZlIGFuZCBwcm9ncmVzcyB2YWx1ZXNcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSwgY29udGV4dHMsIHZhbHVlcyApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRjb250ZXh0c1sgaSBdID0gdGhpcztcblx0XHRcdFx0XHR2YWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcblx0XHRcdFx0XHRpZiAoIHZhbHVlcyA9PT0gcHJvZ3Jlc3NWYWx1ZXMgKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBjb250ZXh0cywgdmFsdWVzICk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggISggLS1yZW1haW5pbmcgKSApIHtcblx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjb250ZXh0cywgdmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fSxcblxuXHRcdFx0cHJvZ3Jlc3NWYWx1ZXMsIHByb2dyZXNzQ29udGV4dHMsIHJlc29sdmVDb250ZXh0cztcblxuXHRcdC8vIEFkZCBsaXN0ZW5lcnMgdG8gRGVmZXJyZWQgc3Vib3JkaW5hdGVzOyB0cmVhdCBvdGhlcnMgYXMgcmVzb2x2ZWRcblx0XHRpZiAoIGxlbmd0aCA+IDEgKSB7XG5cdFx0XHRwcm9ncmVzc1ZhbHVlcyA9IG5ldyBBcnJheSggbGVuZ3RoICk7XG5cdFx0XHRwcm9ncmVzc0NvbnRleHRzID0gbmV3IEFycmF5KCBsZW5ndGggKTtcblx0XHRcdHJlc29sdmVDb250ZXh0cyA9IG5ldyBBcnJheSggbGVuZ3RoICk7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJlc29sdmVWYWx1ZXNbIGkgXS5wcm9taXNlICkgKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0LnByb2dyZXNzKCB1cGRhdGVGdW5jKCBpLCBwcm9ncmVzc0NvbnRleHRzLCBwcm9ncmVzc1ZhbHVlcyApIClcblx0XHRcdFx0XHRcdC5kb25lKCB1cGRhdGVGdW5jKCBpLCByZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMgKSApXG5cdFx0XHRcdFx0XHQuZmFpbCggZGVmZXJyZWQucmVqZWN0ICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0LS1yZW1haW5pbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBJZiB3ZSdyZSBub3Qgd2FpdGluZyBvbiBhbnl0aGluZywgcmVzb2x2ZSB0aGUgbWFzdGVyXG5cdFx0aWYgKCAhcmVtYWluaW5nICkge1xuXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG5cdH1cbn0gKTtcblxuXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbnZhciByZWFkeUxpc3Q7XG5cbmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblxuXHQvLyBBZGQgdGhlIGNhbGxiYWNrXG5cdGpRdWVyeS5yZWFkeS5wcm9taXNlKCkuZG9uZSggZm4gKTtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuXHRpc1JlYWR5OiBmYWxzZSxcblxuXHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG5cdC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxXG5cdHJlYWR5V2FpdDogMSxcblxuXHQvLyBIb2xkIChvciByZWxlYXNlKSB0aGUgcmVhZHkgZXZlbnRcblx0aG9sZFJlYWR5OiBmdW5jdGlvbiggaG9sZCApIHtcblx0XHRpZiAoIGhvbGQgKSB7XG5cdFx0XHRqUXVlcnkucmVhZHlXYWl0Kys7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHRcdH1cblx0fSxcblxuXHQvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG5cdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcblxuXHRcdC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcblx0XHRpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cblx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcblx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cblx0XHQvLyBUcmlnZ2VyIGFueSBib3VuZCByZWFkeSBldmVudHNcblx0XHRpZiAoIGpRdWVyeS5mbi50cmlnZ2VySGFuZGxlciApIHtcblx0XHRcdGpRdWVyeSggZG9jdW1lbnQgKS50cmlnZ2VySGFuZGxlciggXCJyZWFkeVwiICk7XG5cdFx0XHRqUXVlcnkoIGRvY3VtZW50ICkub2ZmKCBcInJlYWR5XCIgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuLyoqXG4gKiBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuICovXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG5cdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0alF1ZXJ5LnJlYWR5KCk7XG59XG5cbmpRdWVyeS5yZWFkeS5wcm9taXNlID0gZnVuY3Rpb24oIG9iaiApIHtcblx0aWYgKCAhcmVhZHlMaXN0ICkge1xuXG5cdFx0cmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cblx0XHQvLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuXHRcdC8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuXHRcdC8vIFN1cHBvcnQ6IElFOS0xMCBvbmx5XG5cdFx0Ly8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5cdFx0aWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcblx0XHRcdCggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkge1xuXG5cdFx0XHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblxuXHRcdFx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZWFkeUxpc3QucHJvbWlzZSggb2JqICk7XG59O1xuXG4vLyBLaWNrIG9mZiB0aGUgRE9NIHJlYWR5IGNoZWNrIGV2ZW4gaWYgdGhlIHVzZXIgZG9lcyBub3RcbmpRdWVyeS5yZWFkeS5wcm9taXNlKCk7XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblxuXHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdGlmICggalF1ZXJ5LnR5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG5cdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdGZuID0gbnVsbDtcblxuXHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBrZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjaGFpbmFibGUgP1xuXHRcdGVsZW1zIDpcblxuXHRcdC8vIEdldHNcblx0XHRidWxrID9cblx0XHRcdGZuLmNhbGwoIGVsZW1zICkgOlxuXHRcdFx0bGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XG59O1xudmFyIGFjY2VwdERhdGEgPSBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0Ly8gQWNjZXB0cyBvbmx5OlxuXHQvLyAgLSBOb2RlXG5cdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcblx0Ly8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREVcblx0Ly8gIC0gT2JqZWN0XG5cdC8vICAgIC0gQW55XG5cdC8qIGpzaGludCAtVzAxOCAqL1xuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0cmVnaXN0ZXI6IGZ1bmN0aW9uKCBvd25lciwgaW5pdGlhbCApIHtcblx0XHR2YXIgdmFsdWUgPSBpbml0aWFsIHx8IHt9O1xuXG5cdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XG5cdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0Ly8gT3RoZXJ3aXNlIHNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlLCBub24td3JpdGFibGUgcHJvcGVydHlcblx0XHQvLyBjb25maWd1cmFiaWxpdHkgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdC8vIGRlbGV0ZWQgd2l0aCB0aGUgZGVsZXRlIG9wZXJhdG9yXG5cdFx0fSBlbHNlIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdH0gKTtcblx0XHR9XG5cdFx0cmV0dXJuIG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0fSxcblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXG5cdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0aWYgKCAhYWNjZXB0RGF0YSggb3duZXIgKSApIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgb3duZXIgb2JqZWN0IGFscmVhZHkgaGFzIGEgY2FjaGVcblx0XHR2YXIgdmFsdWUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHQvLyBJZiBub3QsIGNyZWF0ZSBvbmVcblx0XHRpZiAoICF2YWx1ZSApIHtcblx0XHRcdHZhbHVlID0ge307XG5cblx0XHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdFx0Ly8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS5cblx0XHRcdC8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBvd25lciApICkge1xuXG5cdFx0XHRcdC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcblx0XHRcdFx0Ly8gdXNlIHBsYWluIGFzc2lnbm1lbnRcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB2YWx1ZTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcblx0XHRcdFx0Ly8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcblx0XHRcdFx0Ly8gZGVsZXRlZCB3aGVuIGRhdGEgaXMgcmVtb3ZlZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRzZXQ6IGZ1bmN0aW9uKCBvd25lciwgZGF0YSwgdmFsdWUgKSB7XG5cdFx0dmFyIHByb3AsXG5cdFx0XHRjYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBkYXRhIF0gPSB2YWx1ZTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29weSB0aGUgcHJvcGVydGllcyBvbmUtYnktb25lIHRvIHRoZSBjYWNoZSBvYmplY3Rcblx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVbIHByb3AgXSA9IGRhdGFbIHByb3AgXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGtleSBdO1xuXHR9LFxuXHRhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgc3RvcmVkO1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRzdG9yZWQgPSB0aGlzLmdldCggb3duZXIsIGtleSApO1xuXG5cdFx0XHRyZXR1cm4gc3RvcmVkICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRzdG9yZWQgOiB0aGlzLmdldCggb3duZXIsIGpRdWVyeS5jYW1lbENhc2UoIGtleSApICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcblx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcblx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vXG5cdFx0dGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcblx0XHQvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl1cblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHZhciBpLCBuYW1lLCBjYW1lbCxcblx0XHRcdGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0aWYgKCBjYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aGlzLnJlZ2lzdGVyKCBvd25lciApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIGtleSApICkge1xuXG5cdFx0XHRcdC8vIElmIFwibmFtZVwiIGlzIGFuIGFycmF5IG9mIGtleXMuLi5cblx0XHRcdFx0Ly8gV2hlbiBkYXRhIGlzIGluaXRpYWxseSBjcmVhdGVkLCB2aWEgKFwia2V5XCIsIFwidmFsXCIpIHNpZ25hdHVyZSxcblx0XHRcdFx0Ly8ga2V5cyB3aWxsIGJlIGNvbnZlcnRlZCB0byBjYW1lbENhc2UuXG5cdFx0XHRcdC8vIFNpbmNlIHRoZXJlIGlzIG5vIHdheSB0byB0ZWxsIF9ob3dfIGEga2V5IHdhcyBhZGRlZCwgcmVtb3ZlXG5cdFx0XHRcdC8vIGJvdGggcGxhaW4ga2V5IGFuZCBjYW1lbENhc2Uga2V5LiAjMTI3ODZcblx0XHRcdFx0Ly8gVGhpcyB3aWxsIG9ubHkgcGVuYWxpemUgdGhlIGFycmF5IGFyZ3VtZW50IHBhdGguXG5cdFx0XHRcdG5hbWUgPSBrZXkuY29uY2F0KCBrZXkubWFwKCBqUXVlcnkuY2FtZWxDYXNlICkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNhbWVsID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdFx0Ly8gVHJ5IHRoZSBzdHJpbmcgYXMgYSBrZXkgYmVmb3JlIGFueSBtYW5pcHVsYXRpb25cblx0XHRcdFx0aWYgKCBrZXkgaW4gY2FjaGUgKSB7XG5cdFx0XHRcdFx0bmFtZSA9IFsga2V5LCBjYW1lbCBdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0bmFtZSA9IGNhbWVsO1xuXHRcdFx0XHRcdG5hbWUgPSBuYW1lIGluIGNhY2hlID9cblx0XHRcdFx0XHRcdFsgbmFtZSBdIDogKCBuYW1lLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGkgPSBuYW1lLmxlbmd0aDtcblxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsgbmFtZVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9IDM1LTQ1K1xuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzg2MDdcblx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcblx0fVxufTtcbnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG5cbnZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cblxuXG4vL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuLy9cbi8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG4vL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG4vL1x0XHRwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uXG4vL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cbi8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG4vL1x0NS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpXG4vL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cbnZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sXG5cdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBkYXRhID09PSBcInRydWVcIiA/IHRydWUgOlxuXHRcdFx0XHRcdGRhdGEgPT09IFwiZmFsc2VcIiA/IGZhbHNlIDpcblx0XHRcdFx0XHRkYXRhID09PSBcIm51bGxcIiA/IG51bGwgOlxuXG5cdFx0XHRcdFx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0XHRcdFx0XHQrZGF0YSArIFwiXCIgPT09IGRhdGEgPyArZGF0YSA6XG5cdFx0XHRcdFx0cmJyYWNlLnRlc3QoIGRhdGEgKSA/IGpRdWVyeS5wYXJzZUpTT04oIGRhdGEgKSA6XG5cdFx0XHRcdFx0ZGF0YTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge31cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG5cdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH0sXG5cblx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRpID0gYXR0cnMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTExK1xuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGEsIGNhbWVsS2V5O1xuXG5cdFx0XHQvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxuXHRcdFx0Ly8gKGFuZCB0aGVyZWZvcmUgaGFzIGFuIGVsZW1lbnQgYXBwZWFycyBhdCB0aGlzWyAwIF0pIGFuZCB0aGVcblx0XHRcdC8vIGB2YWx1ZWAgcGFyYW1ldGVyIHdhcyBub3QgdW5kZWZpbmVkLiBBbiBlbXB0eSBqUXVlcnkgb2JqZWN0XG5cdFx0XHQvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXG5cdFx0XHQvLyB0aHJvdyBhbiBleGNlcHRpb24gaWYgYW4gYXR0ZW1wdCB0byByZWFkIGEgZGF0YSBjYWNoZSBpcyBtYWRlLlxuXHRcdFx0aWYgKCBlbGVtICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNoZVxuXHRcdFx0XHQvLyB3aXRoIHRoZSBrZXkgYXMtaXNcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICkgfHxcblxuXHRcdFx0XHRcdC8vIFRyeSB0byBmaW5kIGRhc2hlZCBrZXkgaWYgaXQgZXhpc3RzIChnaC0yNzc5KVxuXHRcdFx0XHRcdC8vIFRoaXMgaXMgZm9yIDIuMi54IG9ubHlcblx0XHRcdFx0XHRkYXRhVXNlci5nZXQoIGVsZW0sIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kJlwiICkudG9Mb3dlckNhc2UoKSApO1xuXG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FtZWxLZXkgPSBqUXVlcnkuY2FtZWxDYXNlKCBrZXkgKTtcblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIHdpdGggdGhlIGtleSBjYW1lbGl6ZWRcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwgY2FtZWxLZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuXHRcdFx0XHQvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXG5cdFx0XHRcdGRhdGEgPSBkYXRhQXR0ciggZWxlbSwgY2FtZWxLZXksIHVuZGVmaW5lZCApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdGNhbWVsS2V5ID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIEZpcnN0LCBhdHRlbXB0IHRvIHN0b3JlIGEgY29weSBvciByZWZlcmVuY2Ugb2YgYW55XG5cdFx0XHRcdC8vIGRhdGEgdGhhdCBtaWdodCd2ZSBiZWVuIHN0b3JlIHdpdGggYSBjYW1lbENhc2VkIGtleS5cblx0XHRcdFx0dmFyIGRhdGEgPSBkYXRhVXNlci5nZXQoIHRoaXMsIGNhbWVsS2V5ICk7XG5cblx0XHRcdFx0Ly8gRm9yIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGUgaW50ZXJvcCwgd2UgaGF2ZSB0b1xuXHRcdFx0XHQvLyBzdG9yZSBwcm9wZXJ0eSBuYW1lcyB3aXRoIGRhc2hlcyBpbiBhIGNhbWVsQ2FzZSBmb3JtLlxuXHRcdFx0XHQvLyBUaGlzIG1pZ2h0IG5vdCBhcHBseSB0byBhbGwgcHJvcGVydGllcy4uLipcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBjYW1lbEtleSwgdmFsdWUgKTtcblxuXHRcdFx0XHQvLyAqLi4uIEluIHRoZSBjYXNlIG9mIHByb3BlcnRpZXMgdGhhdCBtaWdodCBfYWN0dWFsbHlfXG5cdFx0XHRcdC8vIGhhdmUgZGFzaGVzLCB3ZSBuZWVkIHRvIGFsc28gc3RvcmUgYSBjb3B5IG9mIHRoYXRcblx0XHRcdFx0Ly8gdW5jaGFuZ2VkIHByb3BlcnR5LlxuXHRcdFx0XHRpZiAoIGtleS5pbmRleE9mKCBcIi1cIiApID4gLTEgJiYgZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHF1ZXVlO1xuXG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0dHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcblx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcblx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0aWYgKCAhcXVldWUgfHwgalF1ZXJ5LmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0fVxuXHR9LFxuXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxuXHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxuXHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0fTtcblxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRpZiAoIGZuID09PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblxuXHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgKSB7XG5cdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0Zm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcblx0XHR9XG5cblx0XHRpZiAoICFzdGFydExlbmd0aCAmJiBob29rcyApIHtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcblx0X3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKS5hZGQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdH0gKVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMgOlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0fSApO1xuXHR9LFxuXHRjbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdH0sXG5cblx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcblx0cHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcblx0XHR2YXIgdG1wLFxuXHRcdFx0Y291bnQgPSAxLFxuXHRcdFx0ZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJlc29sdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc29sdmUoKTtcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdH1cbn0gKTtcbnZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcblxudmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXG5cbnZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblxudmFyIGlzSGlkZGVuID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xuXG5cdFx0Ly8gaXNIaWRkZW4gbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcblx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRlbGVtID0gZWwgfHwgZWxlbTtcblx0XHRyZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCIgfHxcblx0XHRcdCFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXHR9O1xuXG5cblxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0dmFyIGFkanVzdGVkLFxuXHRcdHNjYWxlID0gMSxcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0Y3VycmVudFZhbHVlID0gdHdlZW4gP1xuXHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiB0d2Vlbi5jdXIoKTsgfSA6XG5cdFx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFwiXCIgKTsgfSxcblx0XHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXG5cdFx0dW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApLFxuXG5cdFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcblx0XHRpbml0aWFsSW5Vbml0ID0gKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gXCJweFwiICYmICtpbml0aWFsICkgJiZcblx0XHRcdHJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7XG5cblx0aWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMgXSAhPT0gdW5pdCApIHtcblxuXHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHR1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07XG5cblx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0dmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107XG5cblx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbCB8fCAxO1xuXG5cdFx0ZG8ge1xuXG5cdFx0XHQvLyBJZiBwcmV2aW91cyBpdGVyYXRpb24gemVyb2VkIG91dCwgZG91YmxlIHVudGlsIHdlIGdldCAqc29tZXRoaW5nKi5cblx0XHRcdC8vIFVzZSBzdHJpbmcgZm9yIGRvdWJsaW5nIHNvIHdlIGRvbid0IGFjY2lkZW50YWxseSBzZWUgc2NhbGUgYXMgdW5jaGFuZ2VkIGJlbG93XG5cdFx0XHRzY2FsZSA9IHNjYWxlIHx8IFwiLjVcIjtcblxuXHRcdFx0Ly8gQWRqdXN0IGFuZCBhcHBseVxuXHRcdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgLyBzY2FsZTtcblx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblxuXHRcdC8vIFVwZGF0ZSBzY2FsZSwgdG9sZXJhdGluZyB6ZXJvIG9yIE5hTiBmcm9tIHR3ZWVuLmN1cigpXG5cdFx0Ly8gQnJlYWsgdGhlIGxvb3AgaWYgc2NhbGUgaXMgdW5jaGFuZ2VkIG9yIHBlcmZlY3QsIG9yIGlmIHdlJ3ZlIGp1c3QgaGFkIGVub3VnaC5cblx0XHR9IHdoaWxlIChcblx0XHRcdHNjYWxlICE9PSAoIHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsICkgJiYgc2NhbGUgIT09IDEgJiYgLS1tYXhJdGVyYXRpb25zXG5cdFx0KTtcblx0fVxuXG5cdGlmICggdmFsdWVQYXJ0cyApIHtcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcblxuXHRcdC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuXHRcdGFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID9cblx0XHRcdGluaXRpYWxJblVuaXQgKyAoIHZhbHVlUGFydHNbIDEgXSArIDEgKSAqIHZhbHVlUGFydHNbIDIgXSA6XG5cdFx0XHQrdmFsdWVQYXJ0c1sgMiBdO1xuXHRcdGlmICggdHdlZW4gKSB7XG5cdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcblx0XHRcdHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gYWRqdXN0ZWQ7XG59XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW1xcdzotXSspLyApO1xuXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcblxuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBTdXBwb3J0OiBJRTlcblx0b3B0aW9uOiBbIDEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiIF0sXG5cblx0Ly8gWEhUTUwgcGFyc2VycyBkbyBub3QgbWFnaWNhbGx5IGluc2VydCBlbGVtZW50cyBpbiB0aGVcblx0Ly8gc2FtZSB3YXkgdGhhdCB0YWcgc291cCBwYXJzZXJzIGRvLiBTbyB3ZSBjYW5ub3Qgc2hvcnRlblxuXHQvLyB0aGlzIGJ5IG9taXR0aW5nIDx0Ym9keT4gb3Igb3RoZXIgcmVxdWlyZWQgZWxlbWVudHMuXG5cdHRoZWFkOiBbIDEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCIgXSxcblx0Y29sOiBbIDIsIFwiPHRhYmxlPjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIgXSxcblx0dHI6IFsgMiwgXCI8dGFibGU+PHRib2R5PlwiLCBcIjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXHR0ZDogWyAzLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiIF0sXG5cblx0X2RlZmF1bHQ6IFsgMCwgXCJcIiwgXCJcIiBdXG59O1xuXG4vLyBTdXBwb3J0OiBJRTlcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcblxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHR2YXIgcmV0ID0gdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgP1xuXHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0dHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiA/XG5cdFx0XHRcdGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0W107XG5cblx0cmV0dXJuIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBqUXVlcnkubm9kZU5hbWUoIGNvbnRleHQsIHRhZyApID9cblx0XHRqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKSA6XG5cdFx0cmV0O1xufVxuXG5cbi8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxuZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZGF0YVByaXYuc2V0KFxuXHRcdFx0ZWxlbXNbIGkgXSxcblx0XHRcdFwiZ2xvYmFsRXZhbFwiLFxuXHRcdFx0IXJlZkVsZW1lbnRzIHx8IGRhdGFQcml2LmdldCggcmVmRWxlbWVudHNbIGkgXSwgXCJnbG9iYWxFdmFsXCIgKVxuXHRcdCk7XG5cdH1cbn1cblxuXG52YXIgcmh0bWwgPSAvPHwmIz9cXHcrOy87XG5cbmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQgKSB7XG5cdHZhciBlbGVtLCB0bXAsIHRhZywgd3JhcCwgY29udGFpbnMsIGosXG5cdFx0ZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRub2RlcyA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGVsZW0gPSBlbGVtc1sgaSBdO1xuXG5cdFx0aWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7XG5cblx0XHRcdC8vIEFkZCBub2RlcyBkaXJlY3RseVxuXHRcdFx0aWYgKCBqUXVlcnkudHlwZSggZWxlbSApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4xLCBQaGFudG9tSlM8MlxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTtcblxuXHRcdFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG5cdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcblxuXHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHR0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdO1xuXG5cdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRqID0gd3JhcFsgMCBdO1xuXHRcdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjEsIFBoYW50b21KUzwyXG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHR0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5Milcblx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG5cdGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcblxuXHRpID0gMDtcblx0d2hpbGUgKCAoIGVsZW0gPSBub2Rlc1sgaSsrIF0gKSApIHtcblxuXHRcdC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXG5cdFx0aWYgKCBzZWxlY3Rpb24gJiYgalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHNlbGVjdGlvbiApID4gLTEgKSB7XG5cdFx0XHRpZiAoIGlnbm9yZWQgKSB7XG5cdFx0XHRcdGlnbm9yZWQucHVzaCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y29udGFpbnMgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXG5cdFx0Ly8gQXBwZW5kIHRvIGZyYWdtZW50XG5cdFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0aWYgKCBjb250YWlucyApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdH1cblxuXHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcblx0XHRpZiAoIHNjcmlwdHMgKSB7XG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xuXHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZnJhZ21lbnQ7XG59XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wLTQuMywgU2FmYXJpPD01LjFcblx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKCMxMTIxNylcblx0Ly8gU3VwcG9ydDogV2luZG93cyBXZWIgQXBwcyAoV1dBKVxuXHQvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKCMxNDkwMSlcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJyYWRpb1wiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwidFwiICk7XG5cblx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXG5cdC8vIFN1cHBvcnQ6IFNhZmFyaTw9NS4xLCBBbmRyb2lkPDQuMlxuXHQvLyBPbGRlciBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcblx0c3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5jaGVja2VkO1xuXG5cdC8vIFN1cHBvcnQ6IElFPD0xMStcblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcblx0ZGl2LmlubmVySFRNTCA9IFwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiO1xuXHRzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkID0gISFkaXYuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtcbn0gKSgpO1xuXG5cbnZhclxuXHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTdXBwb3J0OiBJRTlcbi8vIFNlZSAjMTMzOTMgZm9yIG1vcmUgaW5mb1xuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cblx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBEb24ndCBhdHRhY2ggZXZlbnRzIHRvIG5vRGF0YSBvciB0ZXh0L2NvbW1lbnQgbm9kZXMgKGJ1dCBhbGxvdyBwbGFpbiBvYmplY3RzKVxuXHRcdGlmICggIWVsZW1EYXRhICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuXHRcdGlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSB7fTtcblx0XHR9XG5cdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSA/XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZVxuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcblx0XHRcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXG5cdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiIClcblx0XHRcdH0sIGhhbmRsZU9iakluICk7XG5cblx0XHRcdC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XG5cdFx0XHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuXHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcblxuXHRcdFx0XHQvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2Vcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fFxuXHRcdFx0XHRcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblxuXHRcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRkaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0ZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApO1xuXG5cdFx0dmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXG5cdFx0XHRoYW5kbGVycyA9ICggZGF0YVByaXYuZ2V0KCB0aGlzLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdIHx8IFtdLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyBldmVudC50eXBlIF0gfHwge307XG5cblx0XHQvLyBVc2UgdGhlIGZpeC1lZCBqUXVlcnkuRXZlbnQgcmF0aGVyIHRoYW4gdGhlIChyZWFkLW9ubHkpIG5hdGl2ZSBldmVudFxuXHRcdGFyZ3NbIDAgXSA9IGV2ZW50O1xuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyZWQgZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNwYWNlKHMpXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBtYXRjaGVzLCBzZWwsIGhhbmRsZU9iaixcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cblx0XHQvLyBTdXBwb3J0IChhdCBsZWFzdCk6IENocm9tZSwgSUU5XG5cdFx0Ly8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVyc1xuXHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICgjMTMxODApXG5cdFx0Ly9cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PD00Mitcblx0XHQvLyBBdm9pZCBub24tbGVmdC1jbGljayBpbiBGRiBidXQgZG9uJ3QgYmxvY2sgSUUgcmFkaW8gZXZlbnRzICgjMzg2MSwgZ2gtMjM0Mylcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiYgY3VyLm5vZGVUeXBlICYmXG5cdFx0XHQoIGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiB8fCBpc05hTiggZXZlbnQuYnV0dG9uICkgfHwgZXZlbnQuYnV0dG9uIDwgMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICggY3VyLmRpc2FibGVkICE9PSB0cnVlIHx8IGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIiApICkge1xuXHRcdFx0XHRcdG1hdGNoZXMgPSBbXTtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKyApIHtcblx0XHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICgjMTMyMDMpXG5cdFx0XHRcdFx0XHRzZWwgPSBoYW5kbGVPYmouc2VsZWN0b3IgKyBcIiBcIjtcblxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVzWyBzZWwgXSA9IGhhbmRsZU9iai5uZWVkc0NvbnRleHQgP1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggc2VsLCB0aGlzICkuaW5kZXgoIGN1ciApID4gLTEgOlxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51bGwsIFsgY3VyIF0gKS5sZW5ndGg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZXMubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogbWF0Y2hlcyB9ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVyc1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IHRoaXMsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGFuZGxlclF1ZXVlO1xuXHR9LFxuXG5cdC8vIEluY2x1ZGVzIHNvbWUgZXZlbnQgcHJvcHMgc2hhcmVkIGJ5IEtleUV2ZW50IGFuZCBNb3VzZUV2ZW50XG5cdHByb3BzOiAoIFwiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZGV0YWlsIGV2ZW50UGhhc2UgXCIgK1xuXHRcdFwibWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaFwiICkuc3BsaXQoIFwiIFwiICksXG5cblx0Zml4SG9va3M6IHt9LFxuXG5cdGtleUhvb2tzOiB7XG5cdFx0cHJvcHM6IFwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KCBcIiBcIiApLFxuXHRcdGZpbHRlcjogZnVuY3Rpb24oIGV2ZW50LCBvcmlnaW5hbCApIHtcblxuXHRcdFx0Ly8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG5cdFx0XHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgKSB7XG5cdFx0XHRcdGV2ZW50LndoaWNoID0gb3JpZ2luYWwuY2hhckNvZGUgIT0gbnVsbCA/IG9yaWdpbmFsLmNoYXJDb2RlIDogb3JpZ2luYWwua2V5Q29kZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblx0fSxcblxuXHRtb3VzZUhvb2tzOiB7XG5cdFx0cHJvcHM6ICggXCJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIFwiICtcblx0XHRcdFwic2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiICkuc3BsaXQoIFwiIFwiICksXG5cdFx0ZmlsdGVyOiBmdW5jdGlvbiggZXZlbnQsIG9yaWdpbmFsICkge1xuXHRcdFx0dmFyIGV2ZW50RG9jLCBkb2MsIGJvZHksXG5cdFx0XHRcdGJ1dHRvbiA9IG9yaWdpbmFsLmJ1dHRvbjtcblxuXHRcdFx0Ly8gQ2FsY3VsYXRlIHBhZ2VYL1kgaWYgbWlzc2luZyBhbmQgY2xpZW50WC9ZIGF2YWlsYWJsZVxuXHRcdFx0aWYgKCBldmVudC5wYWdlWCA9PSBudWxsICYmIG9yaWdpbmFsLmNsaWVudFggIT0gbnVsbCApIHtcblx0XHRcdFx0ZXZlbnREb2MgPSBldmVudC50YXJnZXQub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudDtcblx0XHRcdFx0ZG9jID0gZXZlbnREb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0XHRib2R5ID0gZXZlbnREb2MuYm9keTtcblxuXHRcdFx0XHRldmVudC5wYWdlWCA9IG9yaWdpbmFsLmNsaWVudFggK1xuXHRcdFx0XHRcdCggZG9jICYmIGRvYy5zY3JvbGxMZWZ0IHx8IGJvZHkgJiYgYm9keS5zY3JvbGxMZWZ0IHx8IDAgKSAtXG5cdFx0XHRcdFx0KCBkb2MgJiYgZG9jLmNsaWVudExlZnQgfHwgYm9keSAmJiBib2R5LmNsaWVudExlZnQgfHwgMCApO1xuXHRcdFx0XHRldmVudC5wYWdlWSA9IG9yaWdpbmFsLmNsaWVudFkgK1xuXHRcdFx0XHRcdCggZG9jICYmIGRvYy5zY3JvbGxUb3AgIHx8IGJvZHkgJiYgYm9keS5zY3JvbGxUb3AgIHx8IDAgKSAtXG5cdFx0XHRcdFx0KCBkb2MgJiYgZG9jLmNsaWVudFRvcCAgfHwgYm9keSAmJiBib2R5LmNsaWVudFRvcCAgfHwgMCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgd2hpY2ggZm9yIGNsaWNrOiAxID09PSBsZWZ0OyAyID09PSBtaWRkbGU7IDMgPT09IHJpZ2h0XG5cdFx0XHQvLyBOb3RlOiBidXR0b24gaXMgbm90IG5vcm1hbGl6ZWQsIHNvIGRvbid0IHVzZSBpdFxuXHRcdFx0aWYgKCAhZXZlbnQud2hpY2ggJiYgYnV0dG9uICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGV2ZW50LndoaWNoID0gKCBidXR0b24gJiAxID8gMSA6ICggYnV0dG9uICYgMiA/IDMgOiAoIGJ1dHRvbiAmIDQgPyAyIDogMCApICkgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdICkge1xuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBhIHdyaXRhYmxlIGNvcHkgb2YgdGhlIGV2ZW50IG9iamVjdCBhbmQgbm9ybWFsaXplIHNvbWUgcHJvcGVydGllc1xuXHRcdHZhciBpLCBwcm9wLCBjb3B5LFxuXHRcdFx0dHlwZSA9IGV2ZW50LnR5cGUsXG5cdFx0XHRvcmlnaW5hbEV2ZW50ID0gZXZlbnQsXG5cdFx0XHRmaXhIb29rID0gdGhpcy5maXhIb29rc1sgdHlwZSBdO1xuXG5cdFx0aWYgKCAhZml4SG9vayApIHtcblx0XHRcdHRoaXMuZml4SG9va3NbIHR5cGUgXSA9IGZpeEhvb2sgPVxuXHRcdFx0XHRybW91c2VFdmVudC50ZXN0KCB0eXBlICkgPyB0aGlzLm1vdXNlSG9va3MgOlxuXHRcdFx0XHRya2V5RXZlbnQudGVzdCggdHlwZSApID8gdGhpcy5rZXlIb29rcyA6XG5cdFx0XHRcdHt9O1xuXHRcdH1cblx0XHRjb3B5ID0gZml4SG9vay5wcm9wcyA/IHRoaXMucHJvcHMuY29uY2F0KCBmaXhIb29rLnByb3BzICkgOiB0aGlzLnByb3BzO1xuXG5cdFx0ZXZlbnQgPSBuZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7XG5cblx0XHRpID0gY29weS5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRwcm9wID0gY29weVsgaSBdO1xuXHRcdFx0ZXZlbnRbIHByb3AgXSA9IG9yaWdpbmFsRXZlbnRbIHByb3AgXTtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBDb3Jkb3ZhIDIuNSAoV2ViS2l0KSAoIzEzMjU1KVxuXHRcdC8vIEFsbCBldmVudHMgc2hvdWxkIGhhdmUgYSB0YXJnZXQ7IENvcmRvdmEgZGV2aWNlcmVhZHkgZG9lc24ndFxuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGRvY3VtZW50O1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA2LjArLCBDaHJvbWU8Mjhcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdGlmICggZXZlbnQudGFyZ2V0Lm5vZGVUeXBlID09PSAzICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpeEhvb2suZmlsdGVyID8gZml4SG9vay5maWx0ZXIoIGV2ZW50LCBvcmlnaW5hbEV2ZW50ICkgOiBldmVudDtcblx0fSxcblxuXHRzcGVjaWFsOiB7XG5cdFx0bG9hZDoge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG5cdFx0XHRub0J1YmJsZTogdHJ1ZVxuXHRcdH0sXG5cdFx0Zm9jdXM6IHtcblxuXHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c2luXCJcblx0XHR9LFxuXHRcdGJsdXI6IHtcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5ibHVyICkge1xuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayAmJiBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHRoaXMuY2xpY2soKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBkb24ndCBmaXJlIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0XHRcdFx0c3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRyZXR1cm5UcnVlIDpcblx0XHRcdHJldHVybkZhbHNlO1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcblxuXHQvLyBNYXJrIGl0IGFzIGZpeGVkXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xufTtcblxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXG4vLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcbmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsXG5cdGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXG5cdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc1NpbXVsYXRlZDogZmFsc2UsXG5cblx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblx0c3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcblx0fVxufTtcblxuLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG4vLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5LlxuLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcbi8vXG4vLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5XG4vLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcbi8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRvbjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdG9uZTogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XG5cdH0sXG5cdG9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7XG5cdFx0dmFyIGhhbmRsZU9iaiwgdHlwZTtcblx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblxuXHRcdFx0Ly8gKCBldmVudCApICBkaXNwYXRjaGVkIGpRdWVyeS5FdmVudFxuXHRcdFx0aGFuZGxlT2JqID0gdHlwZXMuaGFuZGxlT2JqO1xuXHRcdFx0alF1ZXJ5KCB0eXBlcy5kZWxlZ2F0ZVRhcmdldCApLm9mZihcblx0XHRcdFx0aGFuZGxlT2JqLm5hbWVzcGFjZSA/XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlICsgXCIuXCIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDpcblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUsXG5cdFx0XHRcdGhhbmRsZU9iai5zZWxlY3Rvcixcblx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtb2JqZWN0IFssIHNlbGVjdG9yXSApXG5cdFx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0XHR0aGlzLm9mZiggdHlwZSwgc2VsZWN0b3IsIHR5cGVzWyB0eXBlIF0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHNlbGVjdG9yID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcyBbLCBmbl0gKVxuXHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgdHlwZXMsIGZuLCBzZWxlY3RvciApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbnZhclxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLFxuXG5cdC8vIFN1cHBvcnQ6IElFIDEwLTExLCBFZGdlIDEwMjQwK1xuXHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuXHQvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyL1xuXHRybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxcblxuXHQvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcblx0cmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFxuXHRyc2NyaXB0VHlwZU1hc2tlZCA9IC9edHJ1ZVxcLyguKikvLFxuXHRyY2xlYW5TY3JpcHQgPSAvXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7XG5cbi8vIE1hbmlwdWxhdGluZyB0YWJsZXMgcmVxdWlyZXMgYSB0Ym9keVxuZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KCBlbGVtLCBjb250ZW50ICkge1xuXHRyZXR1cm4galF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSA/XG5cblx0XHRlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInRib2R5XCIgKVsgMCBdIHx8XG5cdFx0XHRlbGVtLmFwcGVuZENoaWxkKCBlbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJ0Ym9keVwiICkgKSA6XG5cdFx0ZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XG5cblx0aWYgKCBtYXRjaCApIHtcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRlbGV0ZSBwZGF0YUN1ci5oYW5kbGU7XG5cdFx0XHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcblx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXG5cdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0YXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTtcblxuXHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjEsIFBoYW50b21KUzwyXG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY29sbGVjdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKCBlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7XG5cdHZhciBub2RlLFxuXHRcdG5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSxcblx0XHRpID0gMDtcblxuXHRmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0aWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBub2RlLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggbm9kZS5vd25lckRvY3VtZW50LCBub2RlICkgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHR9XG5cdFx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRyZXR1cm4gaHRtbC5yZXBsYWNlKCByeGh0bWxUYWcsIFwiPCQxPjwvJDI+XCIgKTtcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLFxuXHRcdFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSggdHJ1ZSApLFxuXHRcdFx0aW5QYWdlID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuXHRcdC8vIEZpeCBJRSBjbG9uaW5nIGlzc3Vlc1xuXHRcdGlmICggIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExICkgJiZcblx0XHRcdFx0IWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHA6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMlxuXHRcdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSApO1xuXHRcdFx0c3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTtcblxuXHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcblx0XHRpZiAoIGRhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbCggZWxlbSApO1xuXHRcdFx0XHRkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApO1xuXG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGNsb25lQ29weUV2ZW50KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSwgXCJzY3JpcHRcIiApO1xuXHRcdGlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0Y2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0dmFyIGRhdGEsIGVsZW0sIHR5cGUsXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHtcblx0XHRcdGlmICggYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0XHRpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkge1xuXHRcdFx0XHRcdGlmICggZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PSAzNS00NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0gMzUtNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHQvLyBLZWVwIGRvbU1hbmlwIGV4cG9zZWQgdW50aWwgMy4wIChnaC0yMjI1KVxuXHRkb21NYW5pcDogZG9tTWFuaXAsXG5cblx0ZGV0YWNoOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciApO1xuXHR9LFxuXG5cdHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdGpRdWVyeS50ZXh0KCB0aGlzICkgOlxuXHRcdFx0XHR0aGlzLmVtcHR5KCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXG5cdFx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHRcdGVsZW0udGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0ZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcblx0XHRkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG5cblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jbG9uZSggdGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xuXG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XG5cblx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHR0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0cmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZ25vcmVkID0gW107XG5cblx0XHQvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApO1xuXHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb25cblx0XHR9LCBpZ25vcmVkICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIHtcblx0YXBwZW5kVG86IFwiYXBwZW5kXCIsXG5cdHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXG5cdGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcblx0aW5zZXJ0QWZ0ZXI6IFwiYWZ0ZXJcIixcblx0cmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXG59LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBlbGVtcyxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxuXHRcdFx0bGFzdCA9IGluc2VydC5sZW5ndGggLSAxLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xuXHRcdFx0ZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTtcblx0XHRcdGpRdWVyeSggaW5zZXJ0WyBpIF0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogUXRXZWJLaXRcblx0XHRcdC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Ncblx0XHRcdHB1c2guYXBwbHkoIHJldCwgZWxlbXMuZ2V0KCkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApO1xuXHR9O1xufSApO1xuXG5cbnZhciBpZnJhbWUsXG5cdGVsZW1kaXNwbGF5ID0ge1xuXG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveFxuXHRcdC8vIFdlIGhhdmUgdG8gcHJlLWRlZmluZSB0aGVzZSB2YWx1ZXMgZm9yIEZGICgjMTAyMjcpXG5cdFx0SFRNTDogXCJibG9ja1wiLFxuXHRcdEJPRFk6IFwiYmxvY2tcIlxuXHR9O1xuXG4vKipcbiAqIFJldHJpZXZlIHRoZSBhY3R1YWwgZGlzcGxheSBvZiBhIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5vZGVOYW1lIG9mIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gZG9jIERvY3VtZW50IG9iamVjdFxuICovXG5cbi8vIENhbGxlZCBvbmx5IGZyb20gd2l0aGluIGRlZmF1bHREaXNwbGF5XG5mdW5jdGlvbiBhY3R1YWxEaXNwbGF5KCBuYW1lLCBkb2MgKSB7XG5cdHZhciBlbGVtID0galF1ZXJ5KCBkb2MuY3JlYXRlRWxlbWVudCggbmFtZSApICkuYXBwZW5kVG8oIGRvYy5ib2R5ICksXG5cblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbVsgMCBdLCBcImRpc3BsYXlcIiApO1xuXG5cdC8vIFdlIGRvbid0IGhhdmUgYW55IGRhdGEgc3RvcmVkIG9uIHRoZSBlbGVtZW50LFxuXHQvLyBzbyB1c2UgXCJkZXRhY2hcIiBtZXRob2QgYXMgZmFzdCB3YXkgdG8gZ2V0IHJpZCBvZiB0aGUgZWxlbWVudFxuXHRlbGVtLmRldGFjaCgpO1xuXG5cdHJldHVybiBkaXNwbGF5O1xufVxuXG4vKipcbiAqIFRyeSB0byBkZXRlcm1pbmUgdGhlIGRlZmF1bHQgZGlzcGxheSB2YWx1ZSBvZiBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gbm9kZU5hbWVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdERpc3BsYXkoIG5vZGVOYW1lICkge1xuXHR2YXIgZG9jID0gZG9jdW1lbnQsXG5cdFx0ZGlzcGxheSA9IGVsZW1kaXNwbGF5WyBub2RlTmFtZSBdO1xuXG5cdGlmICggIWRpc3BsYXkgKSB7XG5cdFx0ZGlzcGxheSA9IGFjdHVhbERpc3BsYXkoIG5vZGVOYW1lLCBkb2MgKTtcblxuXHRcdC8vIElmIHRoZSBzaW1wbGUgd2F5IGZhaWxzLCByZWFkIGZyb20gaW5zaWRlIGFuIGlmcmFtZVxuXHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgfHwgIWRpc3BsYXkgKSB7XG5cblx0XHRcdC8vIFVzZSB0aGUgYWxyZWFkeS1jcmVhdGVkIGlmcmFtZSBpZiBwb3NzaWJsZVxuXHRcdFx0aWZyYW1lID0gKCBpZnJhbWUgfHwgalF1ZXJ5KCBcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIiApIClcblx0XHRcdFx0LmFwcGVuZFRvKCBkb2MuZG9jdW1lbnRFbGVtZW50ICk7XG5cblx0XHRcdC8vIEFsd2F5cyB3cml0ZSBhIG5ldyBIVE1MIHNrZWxldG9uIHNvIFdlYmtpdCBhbmQgRmlyZWZveCBkb24ndCBjaG9rZSBvbiByZXVzZVxuXHRcdFx0ZG9jID0gaWZyYW1lWyAwIF0uY29udGVudERvY3VtZW50O1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRVxuXHRcdFx0ZG9jLndyaXRlKCk7XG5cdFx0XHRkb2MuY2xvc2UoKTtcblxuXHRcdFx0ZGlzcGxheSA9IGFjdHVhbERpc3BsYXkoIG5vZGVOYW1lLCBkb2MgKTtcblx0XHRcdGlmcmFtZS5kZXRhY2goKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB0aGUgY29ycmVjdCBkZWZhdWx0IGRpc3BsYXlcblx0XHRlbGVtZGlzcGxheVsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XG5cdH1cblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cbnZhciBybWFyZ2luID0gKCAvXm1hcmdpbi8gKTtcblxudmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIiApO1xuXG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw9MTErLCBGaXJlZm94PD0zMCsgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG52YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLCBwaXhlbE1hcmdpblJpZ2h0VmFsLCByZWxpYWJsZU1hcmdpbkxlZnRWYWwsXG5cdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHQvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuXHRpZiAoICFkaXYuc3R5bGUgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwiYm9yZGVyOjA7d2lkdGg6OHB4O2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDtcIiArXG5cdFx0XCJwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcIjtcblx0Y29udGFpbmVyLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuXHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XG5cdFx0ZGl2LnN0eWxlLmNzc1RleHQgPVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI5LCBBbmRyb2lkIDIuM1xuXHRcdFx0Ly8gVmVuZG9yLXByZWZpeCBib3gtc2l6aW5nXG5cdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwidG9wOjElO3dpZHRoOjUwJVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRpdlN0eWxlLm1hcmdpbkxlZnQgPT09IFwiMnB4XCI7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXCI0cHhcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBcIjUwJVwiO1xuXHRcdHBpeGVsTWFyZ2luUmlnaHRWYWwgPSBkaXZTdHlsZS5tYXJnaW5SaWdodCA9PT0gXCI0cHhcIjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cdH1cblxuXHRqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7XG5cdFx0cGl4ZWxQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIFRoaXMgdGVzdCBpcyBleGVjdXRlZCBvbmx5IG9uY2UgYnV0IHdlIHN0aWxsIGRvIG1lbW9pemluZ1xuXHRcdFx0Ly8gc2luY2Ugd2UgY2FuIHVzZSB0aGUgYm94U2l6aW5nUmVsaWFibGUgcHJlLWNvbXB1dGluZy5cblx0XHRcdC8vIE5vIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHRlc3Qgd2FzIGFscmVhZHkgcGVyZm9ybWVkLCB0aG91Z2guXG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XG5cdFx0fSxcblx0XHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGJveFNpemluZ1JlbGlhYmxlVmFsID09IG51bGwgKSB7XG5cdFx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAtNC4zXG5cdFx0XHQvLyBXZSdyZSBjaGVja2luZyBmb3IgYm94U2l6aW5nUmVsaWFibGVWYWwgaGVyZSBpbnN0ZWFkIG9mIHBpeGVsTWFyZ2luUmlnaHRWYWxcblx0XHRcdC8vIHNpbmNlIHRoYXQgY29tcHJlc3NlcyBiZXR0ZXIgYW5kIHRoZXkncmUgY29tcHV0ZWQgdG9nZXRoZXIgYW55d2F5LlxuXHRcdFx0aWYgKCBib3hTaXppbmdSZWxpYWJsZVZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHBpeGVsTWFyZ2luUmlnaHRWYWw7XG5cdFx0fSxcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggb25seSwgQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSAzN1xuXHRcdFx0aWYgKCBib3hTaXppbmdSZWxpYWJsZVZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luUmlnaHQ6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xuXHRcdFx0Ly8gQ2hlY2sgaWYgZGl2IHdpdGggZXhwbGljaXQgd2lkdGggYW5kIG5vIG1hcmdpbi1yaWdodCBpbmNvcnJlY3RseVxuXHRcdFx0Ly8gZ2V0cyBjb21wdXRlZCBtYXJnaW4tcmlnaHQgYmFzZWQgb24gd2lkdGggb2YgY29udGFpbmVyLiAoIzMzMzMpXG5cdFx0XHQvLyBXZWJLaXQgQnVnIDEzMzQzIC0gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHdyb25nIHZhbHVlIGZvciBtYXJnaW4tcmlnaHRcblx0XHRcdC8vIFRoaXMgc3VwcG9ydCBmdW5jdGlvbiBpcyBvbmx5IGV4ZWN1dGVkIG9uY2Ugc28gbm8gbWVtb2l6aW5nIGlzIG5lZWRlZC5cblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdG1hcmdpbkRpdiA9IGRpdi5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdC8vIFJlc2V0IENTUzogYm94LXNpemluZzsgZGlzcGxheTsgbWFyZ2luOyBib3JkZXI7IHBhZGRpbmdcblx0XHRcdG1hcmdpbkRpdi5zdHlsZS5jc3NUZXh0ID0gZGl2LnN0eWxlLmNzc1RleHQgPVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0XHRcdC8vIFZlbmRvci1wcmVmaXggYm94LXNpemluZ1xuXHRcdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O1wiICtcblx0XHRcdFx0XCJkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MFwiO1xuXHRcdFx0bWFyZ2luRGl2LnN0eWxlLm1hcmdpblJpZ2h0ID0gbWFyZ2luRGl2LnN0eWxlLndpZHRoID0gXCIwXCI7XG5cdFx0XHRkaXYuc3R5bGUud2lkdGggPSBcIjFweFwiO1xuXHRcdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKTtcblxuXHRcdFx0cmV0ID0gIXBhcnNlRmxvYXQoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBtYXJnaW5EaXYgKS5tYXJnaW5SaWdodCApO1xuXG5cdFx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXHRcdFx0ZGl2LnJlbW92ZUNoaWxkKCBtYXJnaW5EaXYgKTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cdHJldCA9IGNvbXB1dGVkID8gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF0gOiB1bmRlZmluZWQ7XG5cblx0Ly8gU3VwcG9ydDogT3BlcmEgMTIuMXggb25seVxuXHQvLyBGYWxsIGJhY2sgdG8gc3R5bGUgZXZlbiB3aXRob3V0IGNvbXB1dGVkXG5cdC8vIGNvbXB1dGVkIGlzIHVuZGVmaW5lZCBmb3IgZWxlbXMgb24gZG9jdW1lbnQgZnJhZ21lbnRzXG5cdGlmICggKCByZXQgPT09IFwiXCIgfHwgcmV0ID09PSB1bmRlZmluZWQgKSAmJiAhalF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSApIHtcblx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFOVxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG9ubHkgbmVlZGVkIGZvciAuY3NzKCdmaWx0ZXInKSAoIzEyNTM3KVxuXHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcblx0XHRpZiAoICFzdXBwb3J0LnBpeGVsTWFyZ2luUmlnaHQoKSAmJiBybnVtbm9ucHgudGVzdCggcmV0ICkgJiYgcm1hcmdpbi50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcblx0XHRcdHdpZHRoID0gc3R5bGUud2lkdGg7XG5cdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0bWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcblxuXHRcdFx0Ly8gUHV0IGluIHRoZSBuZXcgdmFsdWVzIHRvIGdldCBhIGNvbXB1dGVkIHZhbHVlIG91dFxuXHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuXHRcdFx0cmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cblx0XHRcdC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcblx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuXHRcdFx0c3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuXG5cdFx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0cmV0ICsgXCJcIiA6XG5cdFx0cmV0O1xufVxuXG5cbmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblxuXHQvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGNvbmRpdGlvbkZuKCkgKSB7XG5cblx0XHRcdFx0Ly8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlXG5cdFx0XHRcdC8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC5cblx0XHRcdFx0ZGVsZXRlIHRoaXMuZ2V0O1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuXHRcdFx0cmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9O1xufVxuXG5cbnZhclxuXG5cdC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGVcblx0Ly8gZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXG5cdC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXG5cblx0Y3NzU2hvdyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0sXG5cdGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcblx0XHRsZXR0ZXJTcGFjaW5nOiBcIjBcIixcblx0XHRmb250V2VpZ2h0OiBcIjQwMFwiXG5cdH0sXG5cblx0Y3NzUHJlZml4ZXMgPSBbIFwiV2Via2l0XCIsIFwiT1wiLCBcIk1velwiLCBcIm1zXCIgXSxcblx0ZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKS5zdHlsZTtcblxuLy8gUmV0dXJuIGEgY3NzIHByb3BlcnR5IG1hcHBlZCB0byBhIHBvdGVudGlhbGx5IHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eVxuZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB7XG5cblx0Ly8gU2hvcnRjdXQgZm9yIG5hbWVzIHRoYXQgYXJlIG5vdCB2ZW5kb3IgcHJlZml4ZWRcblx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblxuXHQvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdHZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksXG5cdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApIHtcblxuXHQvLyBBbnkgcmVsYXRpdmUgKCsvLSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuXG5cdC8vIG5vcm1hbGl6ZWQgYXQgdGhpcyBwb2ludFxuXHR2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKTtcblx0cmV0dXJuIG1hdGNoZXMgP1xuXG5cdFx0Ly8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXCJzdWJ0cmFjdFwiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3Ncblx0XHRNYXRoLm1heCggMCwgbWF0Y2hlc1sgMiBdIC0gKCBzdWJ0cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApIDpcblx0XHR2YWx1ZTtcbn1cblxuZnVuY3Rpb24gYXVnbWVudFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhLCBpc0JvcmRlckJveCwgc3R5bGVzICkge1xuXHR2YXIgaSA9IGV4dHJhID09PSAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICkgP1xuXG5cdFx0Ly8gSWYgd2UgYWxyZWFkeSBoYXZlIHRoZSByaWdodCBtZWFzdXJlbWVudCwgYXZvaWQgYXVnbWVudGF0aW9uXG5cdFx0NCA6XG5cblx0XHQvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXG5cdFx0bmFtZSA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cblx0XHR2YWwgPSAwO1xuXG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcblxuXHRcdC8vIEJvdGggYm94IG1vZGVscyBleGNsdWRlIG1hcmdpbiwgc28gYWRkIGl0IGlmIHdlIHdhbnQgaXRcblx0XHRpZiAoIGV4dHJhID09PSBcIm1hcmdpblwiICkge1xuXHRcdFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIGV4dHJhICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdGlmICggaXNCb3JkZXJCb3ggKSB7XG5cblx0XHRcdC8vIGJvcmRlci1ib3ggaW5jbHVkZXMgcGFkZGluZywgc28gcmVtb3ZlIGl0IGlmIHdlIHdhbnQgY29udGVudFxuXHRcdFx0aWYgKCBleHRyYSA9PT0gXCJjb250ZW50XCIgKSB7XG5cdFx0XHRcdHZhbCAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgYm9yZGVyIG5vciBtYXJnaW4sIHNvIHJlbW92ZSBib3JkZXJcblx0XHRcdGlmICggZXh0cmEgIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRcdHZhbCAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQsIHNvIGFkZCBwYWRkaW5nXG5cdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQgbm9yIHBhZGRpbmcsIHNvIGFkZCBib3JkZXJcblx0XHRcdGlmICggZXh0cmEgIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsO1xufVxuXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApIHtcblxuXHQvLyBTdGFydCB3aXRoIG9mZnNldCBwcm9wZXJ0eSwgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgYm9yZGVyLWJveCB2YWx1ZVxuXHR2YXIgdmFsdWVJc0JvcmRlckJveCA9IHRydWUsXG5cdFx0dmFsID0gbmFtZSA9PT0gXCJ3aWR0aFwiID8gZWxlbS5vZmZzZXRXaWR0aCA6IGVsZW0ub2Zmc2V0SGVpZ2h0LFxuXHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblxuXHQvLyBTb21lIG5vbi1odG1sIGVsZW1lbnRzIHJldHVybiB1bmRlZmluZWQgZm9yIG9mZnNldFdpZHRoLCBzbyBjaGVjayBmb3IgbnVsbC91bmRlZmluZWRcblx0Ly8gc3ZnIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjQ5Mjg1XG5cdC8vIE1hdGhNTCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTQ5MTY2OFxuXHRpZiAoIHZhbCA8PSAwIHx8IHZhbCA9PSBudWxsICkge1xuXG5cdFx0Ly8gRmFsbCBiYWNrIHRvIGNvbXB1dGVkIHRoZW4gdW5jb21wdXRlZCBjc3MgaWYgbmVjZXNzYXJ5XG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHRpZiAoIHZhbCA8IDAgfHwgdmFsID09IG51bGwgKSB7XG5cdFx0XHR2YWwgPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gQ29tcHV0ZWQgdW5pdCBpcyBub3QgcGl4ZWxzLiBTdG9wIGhlcmUgYW5kIHJldHVybi5cblx0XHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcblx0XHRcdHJldHVybiB2YWw7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgZm9yIHN0eWxlIGluIGNhc2UgYSBicm93c2VyIHdoaWNoIHJldHVybnMgdW5yZWxpYWJsZSB2YWx1ZXNcblx0XHQvLyBmb3IgZ2V0Q29tcHV0ZWRTdHlsZSBzaWxlbnRseSBmYWxscyBiYWNrIHRvIHRoZSByZWxpYWJsZSBlbGVtLnN0eWxlXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94ICYmXG5cdFx0XHQoIHN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCB2YWwgPT09IGVsZW0uc3R5bGVbIG5hbWUgXSApO1xuXG5cdFx0Ly8gTm9ybWFsaXplIFwiXCIsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxuXHRcdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cdH1cblxuXHQvLyBVc2UgdGhlIGFjdGl2ZSBib3gtc2l6aW5nIG1vZGVsIHRvIGFkZC9zdWJ0cmFjdCBpcnJlbGV2YW50IHN0eWxlc1xuXHRyZXR1cm4gKCB2YWwgK1xuXHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0ZWxlbSxcblx0XHRcdG5hbWUsXG5cdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHR2YWx1ZUlzQm9yZGVyQm94LFxuXHRcdFx0c3R5bGVzXG5cdFx0KVxuXHQpICsgXCJweFwiO1xufVxuXG5mdW5jdGlvbiBzaG93SGlkZSggZWxlbWVudHMsIHNob3cgKSB7XG5cdHZhciBkaXNwbGF5LCBlbGVtLCBoaWRkZW4sXG5cdFx0dmFsdWVzID0gW10sXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcIm9sZGRpc3BsYXlcIiApO1xuXHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG5cdFx0aWYgKCBzaG93ICkge1xuXG5cdFx0XHQvLyBSZXNldCB0aGUgaW5saW5lIGRpc3BsYXkgb2YgdGhpcyBlbGVtZW50IHRvIGxlYXJuIGlmIGl0IGlzXG5cdFx0XHQvLyBiZWluZyBoaWRkZW4gYnkgY2FzY2FkZWQgcnVsZXMgb3Igbm90XG5cdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gJiYgZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBlbGVtZW50cyB3aGljaCBoYXZlIGJlZW4gb3ZlcnJpZGRlbiB3aXRoIGRpc3BsYXk6IG5vbmVcblx0XHRcdC8vIGluIGEgc3R5bGVzaGVldCB0byB3aGF0ZXZlciB0aGUgZGVmYXVsdCBicm93c2VyIHN0eWxlIGlzXG5cdFx0XHQvLyBmb3Igc3VjaCBhbiBlbGVtZW50XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbiggZWxlbSApICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBkYXRhUHJpdi5hY2Nlc3MoXG5cdFx0XHRcdFx0ZWxlbSxcblx0XHRcdFx0XHRcIm9sZGRpc3BsYXlcIixcblx0XHRcdFx0XHRkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZGRlbiA9IGlzSGlkZGVuKCBlbGVtICk7XG5cblx0XHRcdGlmICggZGlzcGxheSAhPT0gXCJub25lXCIgfHwgIWhpZGRlbiApIHtcblx0XHRcdFx0ZGF0YVByaXYuc2V0KFxuXHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0XCJvbGRkaXNwbGF5XCIsXG5cdFx0XHRcdFx0aGlkZGVuID8gZGlzcGxheSA6IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgdGhlIGRpc3BsYXkgb2YgbW9zdCBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcFxuXHQvLyB0byBhdm9pZCB0aGUgY29uc3RhbnQgcmVmbG93XG5cdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuXHRcdGlmICggIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0aWYgKCAhc2hvdyB8fCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8IGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9IHNob3cgPyB2YWx1ZXNbIGluZGV4IF0gfHwgXCJcIiA6IFwibm9uZVwiO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHtcblx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxuXHR9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRcdG5hbWUgPSBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gfHxcblx0XHRcdCggalF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG9yaWdOYW1lICkgfHwgb3JpZ05hbWUgKTtcblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIHZhbCwgbnVtLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxuXHRcdFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xuXG5cdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcblx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG5cdFx0XHRudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcblx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cdFx0XHRcdFx0ZWxlbS5vZmZzZXRXaWR0aCA9PT0gMCA/XG5cdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIG5hbWUsIGV4dHJhICk7XG5cdFx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkge1xuXHRcdFx0dmFyIG1hdGNoZXMsXG5cdFx0XHRcdHN0eWxlcyA9IGV4dHJhICYmIGdldFN0eWxlcyggZWxlbSApLFxuXHRcdFx0XHRzdWJ0cmFjdCA9IGV4dHJhICYmIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHQpO1xuXG5cdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0aWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHQoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSAhPT0gXCJweFwiICkge1xuXG5cdFx0XHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKTtcblx0XHR9XG5cdH07XG59ICk7XG5cbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCxcblx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gKCBwYXJzZUZsb2F0KCBjdXJDU1MoIGVsZW0sIFwibWFyZ2luTGVmdFwiICkgKSB8fFxuXHRcdFx0XHRlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLVxuXHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cdFx0XHRcdFx0fSApXG5cdFx0XHRcdCkgKyBcInB4XCI7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xualF1ZXJ5LmNzc0hvb2tzLm1hcmdpblJpZ2h0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luUmlnaHQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuIHN3YXAoIGVsZW0sIHsgXCJkaXNwbGF5XCI6IFwiaW5saW5lLWJsb2NrXCIgfSxcblx0XHRcdFx0Y3VyQ1NTLCBbIGVsZW0sIFwibWFyZ2luUmlnaHRcIiBdICk7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG5qUXVlcnkuZWFjaCgge1xuXHRtYXJnaW46IFwiXCIsXG5cdHBhZGRpbmc6IFwiXCIsXG5cdGJvcmRlcjogXCJXaWR0aFwiXG59LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7XG5cdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHRcdGV4cGFuZGVkID0ge30sXG5cblx0XHRcdFx0Ly8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG5cdFx0XHRcdHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoIFwiIFwiICkgOiBbIHZhbHVlIF07XG5cblx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0ZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPVxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoICFybWFyZ2luLnRlc3QoIHByZWZpeCApICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRjc3M6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgc3R5bGVzLCBsZW4sXG5cdFx0XHRcdG1hcCA9IHt9LFxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cdHNob3c6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApO1xuXHR9LFxuXHRoaWRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTtcblx0fSxcblx0dG9nZ2xlOiBmdW5jdGlvbiggc3RhdGUgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggaXNIaWRkZW4oIHRoaXMgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbmZ1bmN0aW9uIFR3ZWVuKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApIHtcblx0cmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdCggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKTtcbn1cbmpRdWVyeS5Ud2VlbiA9IFR3ZWVuO1xuXG5Ud2Vlbi5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBUd2Vlbixcblx0aW5pdDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nLCB1bml0ICkge1xuXHRcdHRoaXMuZWxlbSA9IGVsZW07XG5cdFx0dGhpcy5wcm9wID0gcHJvcDtcblx0XHR0aGlzLmVhc2luZyA9IGVhc2luZyB8fCBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0O1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0dGhpcy5zdGFydCA9IHRoaXMubm93ID0gdGhpcy5jdXIoKTtcblx0XHR0aGlzLmVuZCA9IGVuZDtcblx0XHR0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xuXHR9LFxuXHRjdXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRyZXR1cm4gaG9va3MgJiYgaG9va3MuZ2V0ID9cblx0XHRcdGhvb2tzLmdldCggdGhpcyApIDpcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQoIHRoaXMgKTtcblx0fSxcblx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcblx0XHR2YXIgZWFzZWQsXG5cdFx0XHRob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kdXJhdGlvbiApIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBqUXVlcnkuZWFzaW5nWyB0aGlzLmVhc2luZyBdKFxuXHRcdFx0XHRwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xuXHRcdH1cblx0XHR0aGlzLm5vdyA9ICggdGhpcy5lbmQgLSB0aGlzLnN0YXJ0ICkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5zdGVwICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnN0ZXAuY2FsbCggdGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgaG9va3Muc2V0ICkge1xuXHRcdFx0aG9va3Muc2V0KCB0aGlzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQoIHRoaXMgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn07XG5cblR3ZWVuLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZSA9IFR3ZWVuLnByb3RvdHlwZTtcblxuVHdlZW4ucHJvcEhvb2tzID0ge1xuXHRfZGVmYXVsdDoge1xuXHRcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdFx0dmFyIHJlc3VsdDtcblxuXHRcdFx0Ly8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkgd2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCxcblx0XHRcdC8vIG9yIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc3R5bGUgcHJvcGVydHkgdGhhdCBleGlzdHMuXG5cdFx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgIT09IDEgfHxcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF07XG5cdFx0XHR9XG5cblx0XHRcdC8vIFBhc3NpbmcgYW4gZW1wdHkgc3RyaW5nIGFzIGEgM3JkIHBhcmFtZXRlciB0byAuY3NzIHdpbGwgYXV0b21hdGljYWxseVxuXHRcdFx0Ly8gYXR0ZW1wdCBhIHBhcnNlRmxvYXQgYW5kIGZhbGxiYWNrIHRvIGEgc3RyaW5nIGlmIHRoZSBwYXJzZSBmYWlscy5cblx0XHRcdC8vIFNpbXBsZSB2YWx1ZXMgc3VjaCBhcyBcIjEwcHhcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xuXHRcdFx0Ly8gY29tcGxleCB2YWx1ZXMgc3VjaCBhcyBcInJvdGF0ZSgxcmFkKVwiIGFyZSByZXR1cm5lZCBhcy1pcy5cblx0XHRcdHJlc3VsdCA9IGpRdWVyeS5jc3MoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIFwiXCIgKTtcblxuXHRcdFx0Ly8gRW1wdHkgc3RyaW5ncywgbnVsbCwgdW5kZWZpbmVkIGFuZCBcImF1dG9cIiBhcmUgY29udmVydGVkIHRvIDAuXG5cdFx0XHRyZXR1cm4gIXJlc3VsdCB8fCByZXN1bHQgPT09IFwiYXV0b1wiID8gMCA6IHJlc3VsdDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXG5cdFx0XHQvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC5cblx0XHRcdC8vIFVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZS5cblx0XHRcdC8vIFVzZSAuc3R5bGUgaWYgYXZhaWxhYmxlIGFuZCB1c2UgcGxhaW4gcHJvcGVydGllcyB3aGVyZSBhdmFpbGFibGUuXG5cdFx0XHRpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0oIHR3ZWVuICk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggdHdlZW4uZWxlbS5zdHlsZVsgalF1ZXJ5LmNzc1Byb3BzWyB0d2Vlbi5wcm9wIF0gXSAhPSBudWxsIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LmNzc0hvb2tzWyB0d2Vlbi5wcm9wIF0gKSApIHtcblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBTdXBwb3J0OiBJRTlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmVhc2luZyA9IHtcblx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcDtcblx0fSxcblx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XG5cdH0sXG5cdF9kZWZhdWx0OiBcInN3aW5nXCJcbn07XG5cbmpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXG4vLyBCYWNrIENvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxualF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblxuXG5cblxudmFyXG5cdGZ4Tm93LCB0aW1lcklkLFxuXHRyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBqUXVlcnkubm93KCkgKTtcbn1cblxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG5cdHZhciB3aGljaCxcblx0XHRpID0gMCxcblx0XHRhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG5cblx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcblx0Zm9yICggOyBpIDwgNCA7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcblx0XHR3aGljaCA9IGNzc0V4cGFuZFsgaSBdO1xuXHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHR9XG5cblx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0YXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcblx0fVxuXG5cdHJldHVybiBhdHRycztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XG5cdHZhciB0d2Vlbixcblx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggKCB0d2VlbiA9IGNvbGxlY3Rpb25bIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSApICkgKSB7XG5cblx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHQvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCB0d2VlbiwgaG9va3MsIG9sZGZpcmUsIGRpc3BsYXksIGNoZWNrRGlzcGxheSxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW4oIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIEhhbmRsZSBxdWV1ZTogZmFsc2UgcHJvbWlzZXNcblx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0b2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdG9sZGZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aG9va3MudW5xdWV1ZWQrKztcblxuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcblx0XHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcblx0XHRcdFx0aWYgKCAhalF1ZXJ5LnF1ZXVlKCBlbGVtLCBcImZ4XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gSGVpZ2h0L3dpZHRoIG92ZXJmbG93IHBhc3Ncblx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCJoZWlnaHRcIiBpbiBwcm9wcyB8fCBcIndpZHRoXCIgaW4gcHJvcHMgKSApIHtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IG5vdGhpbmcgc25lYWtzIG91dFxuXHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUU5LTEwIGRvIG5vdFxuXHRcdC8vIGNoYW5nZSB0aGUgb3ZlcmZsb3cgYXR0cmlidXRlIHdoZW4gb3ZlcmZsb3dYIGFuZFxuXHRcdC8vIG92ZXJmbG93WSBhcmUgc2V0IHRvIHRoZSBzYW1lIHZhbHVlXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cblx0XHQvLyBTZXQgZGlzcGxheSBwcm9wZXJ0eSB0byBpbmxpbmUtYmxvY2sgZm9yIGhlaWdodC93aWR0aFxuXHRcdC8vIGFuaW1hdGlvbnMgb24gaW5saW5lIGVsZW1lbnRzIHRoYXQgYXJlIGhhdmluZyB3aWR0aC9oZWlnaHQgYW5pbWF0ZWRcblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblxuXHRcdC8vIFRlc3QgZGVmYXVsdCBkaXNwbGF5IGlmIGRpc3BsYXkgaXMgY3VycmVudGx5IFwibm9uZVwiXG5cdFx0Y2hlY2tEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgP1xuXHRcdFx0ZGF0YVByaXYuZ2V0KCBlbGVtLCBcIm9sZGRpc3BsYXlcIiApIHx8IGRlZmF1bHREaXNwbGF5KCBlbGVtLm5vZGVOYW1lICkgOiBkaXNwbGF5O1xuXG5cdFx0aWYgKCBjaGVja0Rpc3BsYXkgPT09IFwiaW5saW5lXCIgJiYgalF1ZXJ5LmNzcyggZWxlbSwgXCJmbG9hdFwiICkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0c3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBvcHRzLm92ZXJmbG93ICkge1xuXHRcdHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbIDEgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBzaG93L2hpZGUgcGFzc1xuXHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdHZhbHVlID0gcHJvcHNbIHByb3AgXTtcblx0XHRpZiAoIHJmeHR5cGVzLmV4ZWMoIHZhbHVlICkgKSB7XG5cdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGRhdGFTaG93IGxlZnQgb3ZlciBmcm9tIGEgc3RvcHBlZCBoaWRlIG9yIHNob3dcblx0XHRcdFx0Ly8gYW5kIHdlIGFyZSBnb2luZyB0byBwcm9jZWVkIHdpdGggc2hvdywgd2Ugc2hvdWxkIHByZXRlbmQgdG8gYmUgaGlkZGVuXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXG5cdFx0Ly8gQW55IG5vbi1meCB2YWx1ZSBzdG9wcyB1cyBmcm9tIHJlc3RvcmluZyB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkaXNwbGF5ID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgXCJmeHNob3dcIiwge30gKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSBzdGF0ZSBpZiBpdHMgdG9nZ2xlIC0gZW5hYmxlcyAuc3RvcCgpLnRvZ2dsZSgpIHRvIFwicmV2ZXJzZVwiXG5cdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuXHRcdH1cblx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdGpRdWVyeSggZWxlbSApLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5KCBlbGVtICkuaGlkZSgpO1xuXHRcdFx0fSApO1xuXHRcdH1cblx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHByb3A7XG5cblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJmeHNob3dcIiApO1xuXHRcdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHR0d2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xuXG5cdFx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHR3ZWVuLnN0YXJ0O1xuXHRcdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0XHR0d2Vlbi5lbmQgPSB0d2Vlbi5zdGFydDtcblx0XHRcdFx0XHR0d2Vlbi5zdGFydCA9IHByb3AgPT09IFwid2lkdGhcIiB8fCBwcm9wID09PSBcImhlaWdodFwiID8gMSA6IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0Ly8gSWYgdGhpcyBpcyBhIG5vb3AgbGlrZSAuaGlkZSgpLmhpZGUoKSwgcmVzdG9yZSBhbiBvdmVyd3JpdHRlbiBkaXNwbGF5IHZhbHVlXG5cdH0gZWxzZSBpZiAoICggZGlzcGxheSA9PT0gXCJub25lXCIgPyBkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApIDogZGlzcGxheSApID09PSBcImlubGluZVwiICkge1xuXHRcdHN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5O1xuXHR9XG59XG5cbmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkge1xuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXG5cdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0ZWFzaW5nID0gdmFsdWVbIDEgXTtcblx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XG5cdFx0XHRwcm9wc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRkZWxldGUgcHJvcHNbIGluZGV4IF07XG5cdFx0fVxuXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTtcblx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgbmFtZSBdO1xuXG5cdFx0XHQvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuXG5cdFx0XHQvLyBSZXVzaW5nICdpbmRleCcgYmVjYXVzZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IFwibmFtZVwiXG5cdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xuXHRcdFx0XHRcdHByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07XG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzcGVjaWFsRWFzaW5nWyBuYW1lIF0gPSBlYXNpbmc7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcblx0dmFyIHJlc3VsdCxcblx0XHRzdG9wcGVkLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5pbWF0ZWQgc2VsZWN0b3Jcblx0XHRcdGRlbGV0ZSB0aWNrLmVsZW07XG5cdFx0fSApLFxuXHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG5cdFx0XHRcdC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKCMxMjQ5Nylcblx0XHRcdFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblxuXHRcdFx0aWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcblx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0XHRhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0fSxcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSAwLFxuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG5cdFx0XHRcdFx0bGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcblx0XHRyZXN1bHQgPSBBbmltYXRpb24ucHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApO1xuXHRcdGlmICggcmVzdWx0ICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcmVzdWx0LnN0b3AgKSApIHtcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCBhbmltYXRpb24uZWxlbSwgYW5pbWF0aW9uLm9wdHMucXVldWUgKS5zdG9wID1cblx0XHRcdFx0XHRqUXVlcnkucHJveHkoIHJlc3VsdC5zdG9wLCByZXN1bHQgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9XG5cblx0alF1ZXJ5Lm1hcCggcHJvcHMsIGNyZWF0ZVR3ZWVuLCBhbmltYXRpb24gKTtcblxuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuXHRcdGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xuXHR9XG5cblx0alF1ZXJ5LmZ4LnRpbWVyKFxuXHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRhbmltOiBhbmltYXRpb24sXG5cdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHR9IClcblx0KTtcblxuXHQvLyBhdHRhY2ggY2FsbGJhY2tzIGZyb20gb3B0aW9uc1xuXHRyZXR1cm4gYW5pbWF0aW9uLnByb2dyZXNzKCBhbmltYXRpb24ub3B0cy5wcm9ncmVzcyApXG5cdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcblx0XHQuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApXG5cdFx0LmFsd2F5cyggYW5pbWF0aW9uLm9wdHMuYWx3YXlzICk7XG59XG5cbmpRdWVyeS5BbmltYXRpb24gPSBqUXVlcnkuZXh0ZW5kKCBBbmltYXRpb24sIHtcblx0dHdlZW5lcnM6IHtcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0YWRqdXN0Q1NTKCB0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWMoIHZhbHVlICksIHR3ZWVuICk7XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fSBdXG5cdH0sXG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwcm9wcyApICkge1xuXHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdHByb3BzID0gWyBcIipcIiBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90d2hpdGUgKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXG5cdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xuXHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcblx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggc3BlZWQgKSAmJiBzcGVlZCxcblx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFqUXVlcnkuaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4Lm9mZiA/IDAgOiB0eXBlb2Ygb3B0LmR1cmF0aW9uID09PSBcIm51bWJlclwiID9cblx0XHRvcHQuZHVyYXRpb24gOiBvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyA/XG5cdFx0XHRqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXSA6IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW4gKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cblx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0LmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuXHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSAmJiB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0KCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7XG5cblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cblx0XHRcdC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcblx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0dmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuXHRcdFx0Y3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDpcblx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxuLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xualF1ZXJ5LmVhY2goIHtcblx0c2xpZGVEb3duOiBnZW5GeCggXCJzaG93XCIgKSxcblx0c2xpZGVVcDogZ2VuRngoIFwiaGlkZVwiICksXG5cdHNsaWRlVG9nZ2xlOiBnZW5GeCggXCJ0b2dnbGVcIiApLFxuXHRmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcblx0ZmFkZU91dDogeyBvcGFjaXR5OiBcImhpZGVcIiB9LFxuXHRmYWRlVG9nZ2xlOiB7IG9wYWNpdHk6IFwidG9nZ2xlXCIgfVxufSwgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5hbmltYXRlKCBwcm9wcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LnRpbWVycyA9IFtdO1xualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcblx0dmFyIHRpbWVyLFxuXHRcdGkgPSAwLFxuXHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XG5cblx0ZnhOb3cgPSBqUXVlcnkubm93KCk7XG5cblx0Zm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkge1xuXHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cblx0XHQvLyBDaGVja3MgdGhlIHRpbWVyIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlbW92ZWRcblx0XHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcblx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdGlmICggIXRpbWVycy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0b3AoKTtcblx0fVxuXHRmeE5vdyA9IHVuZGVmaW5lZDtcbn07XG5cbmpRdWVyeS5meC50aW1lciA9IGZ1bmN0aW9uKCB0aW1lciApIHtcblx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xuXHRpZiAoIHRpbWVyKCkgKSB7XG5cdFx0alF1ZXJ5LmZ4LnN0YXJ0KCk7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5LnRpbWVycy5wb3AoKTtcblx0fVxufTtcblxualF1ZXJ5LmZ4LmludGVydmFsID0gMTM7XG5qUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCAhdGltZXJJZCApIHtcblx0XHR0aW1lcklkID0gd2luZG93LnNldEludGVydmFsKCBqUXVlcnkuZngudGljaywgalF1ZXJ5LmZ4LmludGVydmFsICk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdHdpbmRvdy5jbGVhckludGVydmFsKCB0aW1lcklkICk7XG5cblx0dGltZXJJZCA9IG51bGw7XG59O1xuXG5qUXVlcnkuZnguc3BlZWRzID0ge1xuXHRzbG93OiA2MDAsXG5cdGZhc3Q6IDIwMCxcblxuXHQvLyBEZWZhdWx0IHNwZWVkXG5cdF9kZWZhdWx0OiA0MDBcbn07XG5cblxuLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLlxuLy8gaHR0cDovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcblx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cdFx0fTtcblx0fSApO1xufTtcblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXG5cdC8vIFN1cHBvcnQ6IGlPUzw9NS4xLCBBbmRyb2lkPD00LjIrXG5cdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblxuXHQvLyBTdXBwb3J0OiBJRTw9MTErXG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw9Mi4zXG5cdC8vIE9wdGlvbnMgaW5zaWRlIGRpc2FibGVkIHNlbGVjdHMgYXJlIGluY29ycmVjdGx5IG1hcmtlZCBhcyBkaXNhYmxlZFxuXHRzZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuXHRzdXBwb3J0Lm9wdERpc2FibGVkID0gIW9wdC5kaXNhYmxlZDtcblxuXHQvLyBTdXBwb3J0OiBJRTw9MTErXG5cdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0gKSgpO1xuXG5cbnZhciBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgYXR0cmlidXRlcyBhcmUgbG93ZXJjYXNlXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0bmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XG5cdFx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXCJcIiApO1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0cmV0dXJuIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0O1xuXHR9LFxuXG5cdGF0dHJIb29rczoge1xuXHRcdHR5cGU6IHtcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFwicmFkaW9cIiAmJlxuXHRcdFx0XHRcdGpRdWVyeS5ub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9IGVsZW0udmFsdWU7XG5cdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCB2YWx1ZSApO1xuXHRcdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdFx0ZWxlbS52YWx1ZSA9IHZhbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHR2YXIgbmFtZSwgcHJvcE5hbWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoICggbmFtZSA9IGF0dHJOYW1lc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0cHJvcE5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cblx0XHRcdFx0Ly8gQm9vbGVhbiBhdHRyaWJ1dGVzIGdldCBzcGVjaWFsIHRyZWF0bWVudCAoIzEwODcwKVxuXHRcdFx0XHRpZiAoIGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdCggbmFtZSApICkge1xuXG5cdFx0XHRcdFx0Ly8gU2V0IGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdG8gZmFsc2Vcblx0XHRcdFx0XHRlbGVtWyBwcm9wTmFtZSBdID0gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5ib29sSG9vayA9IHtcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciByZXQsIGhhbmRsZTtcblx0XHRpZiAoICFpc1hNTCApIHtcblxuXHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbmFtZSBdO1xuXHRcdFx0YXR0ckhhbmRsZVsgbmFtZSBdID0gcmV0O1xuXHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSApO1xuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVQcm9wOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0fSxcblxuXHRwcm9wSG9va3M6IHtcblx0XHR0YWJJbmRleDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0Ly8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdC8vIGh0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdHJldHVybiB0YWJpbmRleCA/XG5cdFx0XHRcdFx0cGFyc2VJbnQoIHRhYmluZGV4LCAxMCApIDpcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdFx0cmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiYgZWxlbS5ocmVmID9cblx0XHRcdFx0XHRcdFx0MCA6XG5cdFx0XHRcdFx0XHRcdC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH1cbn0gKTtcblxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG5pZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goIFtcblx0XCJ0YWJJbmRleFwiLFxuXHRcInJlYWRPbmx5XCIsXG5cdFwibWF4TGVuZ3RoXCIsXG5cdFwiY2VsbFNwYWNpbmdcIixcblx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcInJvd1NwYW5cIixcblx0XCJjb2xTcGFuXCIsXG5cdFwidXNlTWFwXCIsXG5cdFwiZnJhbWVCb3JkZXJcIixcblx0XCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59ICk7XG5cblxuXG5cbnZhciByY2xhc3MgPSAvW1xcdFxcclxcblxcZl0vZztcblxuZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5hZGRDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggXCIgXCIgKyBjdXJWYWx1ZSArIFwiIFwiICkucmVwbGFjZSggcmNsYXNzLCBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IGpRdWVyeS50cmltKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgKSB7XG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblxuXHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0KCBcIiBcIiArIGN1clZhbHVlICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdFx0Y3VyID0gY3VyLnJlcGxhY2UoIFwiIFwiICsgY2xhenogKyBcIiBcIiwgXCIgXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBqUXVlcnkudHJpbSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiB0eXBlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS50b2dnbGVDbGFzcyhcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCB0aGlzLCBpLCBnZXRDbGFzcyggdGhpcyApLCBzdGF0ZVZhbCApLFxuXHRcdFx0XHRcdHN0YXRlVmFsXG5cdFx0XHRcdCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lLCBpLCBzZWxmLCBjbGFzc05hbWVzO1xuXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cblx0XHRcdFx0Ly8gVG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0Y2xhc3NOYW1lcyA9IHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIGdldENsYXNzKCBlbGVtICkgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBjbGFzc05hbWUgKSA+IC0xXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBycmV0dXJuID0gL1xcci9nLFxuXHRyc3BhY2VzID0gL1tcXHgyMFxcdFxcclxcblxcZl0rL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIGlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSApICE9PSB1bmRlZmluZWRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cblx0XHRcdFx0cmV0dXJuIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgP1xuXG5cdFx0XHRcdFx0Ly8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuXHRcdFx0XHRcdHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICkgOlxuXG5cdFx0XHRcdFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdFx0cmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZS5jYWxsKCB0aGlzLCBpLCBqUXVlcnkoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsID0gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHZhbCA9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbDtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHR2YWxIb29rczoge1xuXHRcdG9wdGlvbjoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHR2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ2YWx1ZVwiICk7XG5cdFx0XHRcdHJldHVybiB2YWwgIT0gbnVsbCA/XG5cdFx0XHRcdFx0dmFsIDpcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFMTAtMTErXG5cdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxuXHRcdFx0XHRcdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlXG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRqUXVlcnkudHJpbSggalF1ZXJ5LnRleHQoIGVsZW0gKSApLnJlcGxhY2UoIHJzcGFjZXMsIFwiIFwiICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZWxlY3Q6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciB2YWx1ZSwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0aW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG5cdFx0XHRcdFx0b25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIiB8fCBpbmRleCA8IDAsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoLFxuXHRcdFx0XHRcdGkgPSBpbmRleCA8IDAgP1xuXHRcdFx0XHRcdFx0bWF4IDpcblx0XHRcdFx0XHRcdG9uZSA/IGluZGV4IDogMDtcblxuXHRcdFx0XHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG5cdFx0XHRcdGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuXHRcdFx0XHRcdGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0KCBzdXBwb3J0Lm9wdERpc2FibGVkID9cblx0XHRcdFx0XHRcdFx0XHQhb3B0aW9uLmRpc2FibGVkIDogb3B0aW9uLmdldEF0dHJpYnV0ZSggXCJkaXNhYmxlZFwiICkgPT09IG51bGwgKSAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdCFqUXVlcnkubm9kZU5hbWUoIG9wdGlvbi5wYXJlbnROb2RlLCBcIm9wdGdyb3VwXCIgKSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7XG5cblx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG5cdFx0XHRcdFx0XHRpZiAoIG9uZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgb3B0aW9uU2V0LCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHR2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KCB2YWx1ZSApLFxuXHRcdFx0XHRcdGkgPSBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cdFx0XHRcdFx0aWYgKCBvcHRpb24uc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGpRdWVyeS52YWxIb29rcy5vcHRpb24uZ2V0KCBvcHRpb24gKSwgdmFsdWVzICkgPiAtMVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuXHRcdFx0XHRpZiAoICFvcHRpb25TZXQgKSB7XG5cdFx0XHRcdFx0ZWxlbS5zZWxlY3RlZEluZGV4ID0gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcbmpRdWVyeS5lYWNoKCBbIFwicmFkaW9cIiwgXCJjaGVja2JveFwiIF0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cblxuXG52YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87XG5cbmpRdWVyeS5leHRlbmQoIGpRdWVyeS5ldmVudCwge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXG5cdFx0dmFyIGksIGN1ciwgdG1wLCBidWJibGVUeXBlLCBvbnR5cGUsIGhhbmRsZSwgc3BlY2lhbCxcblx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0dHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcblx0XHRcdG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwibmFtZXNwYWNlXCIgKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdCggXCIuXCIgKSA6IFtdO1xuXG5cdFx0Y3VyID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG5cblx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xuXHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUuaW5kZXhPZiggXCIuXCIgKSA+IC0xICkge1xuXG5cdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRuYW1lc3BhY2VzID0gdHlwZS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XG5cdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHR9XG5cdFx0b250eXBlID0gdHlwZS5pbmRleE9mKCBcIjpcIiApIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG5cdFx0ZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRldmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblxuXHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcblx0XHRldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiICk7XG5cdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKSA6XG5cdFx0XHRudWxsO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG5cdFx0ZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkO1xuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW07XG5cdFx0fVxuXG5cdFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuXHRcdGRhdGEgPSBkYXRhID09IG51bGwgP1xuXHRcdFx0WyBldmVudCBdIDpcblx0XHRcdGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApO1xuXG5cdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxuXHRcdC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpXG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFzcGVjaWFsLm5vQnViYmxlICYmICFqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0YnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG5cdFx0XHRpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkge1xuXHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGZvciAoIDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHR0bXAgPSBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuXHRcdFx0aWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0ZXZlbnQudHlwZSA9IGkgPiAxID9cblx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcblxuXHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9ICggZGF0YVByaXYuZ2V0KCBjdXIsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gJiZcblx0XHRcdFx0ZGF0YVByaXYuZ2V0KCBjdXIsIFwiaGFuZGxlXCIgKTtcblx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XG5cdFx0XHRcdGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xuXG5cdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cblx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxuXHRcdFx0XHRzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UgKSAmJlxuXHRcdFx0XHRhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG5cdFx0XHRcdFx0dG1wID0gZWxlbVsgb250eXBlIF07XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZVxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdH1cblxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbmpRdWVyeS5lYWNoKCAoIFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cblx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0aG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlZW50ZXIoIGZuT3ZlciApLm1vdXNlbGVhdmUoIGZuT3V0IHx8IGZuT3ZlciApO1xuXHR9XG59ICk7XG5cblxuXG5cbnN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXG5cbi8vIFN1cHBvcnQ6IEZpcmVmb3hcbi8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIGZvY3VzKGluIHwgb3V0KSBldmVudHNcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG4vL1xuLy8gU3VwcG9ydDogQ2hyb21lLCBTYWZhcmlcbi8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDk4NTdcbmlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcblx0alF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblxuXHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApICk7XG5cdFx0fTtcblxuXHRcdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXggXSA9IHtcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICkgLSAxO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0gKTtcbn1cbnZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcblxudmFyIG5vbmNlID0galF1ZXJ5Lm5vdygpO1xuXG52YXIgcnF1ZXJ5ID0gKCAvXFw/LyApO1xuXG5cblxuLy8gU3VwcG9ydDogQW5kcm9pZCAyLjNcbi8vIFdvcmthcm91bmQgZmFpbHVyZSB0byBzdHJpbmctY2FzdCBudWxsIGlucHV0XG5qUXVlcnkucGFyc2VKU09OID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHJldHVybiBKU09OLnBhcnNlKCBkYXRhICsgXCJcIiApO1xufTtcblxuXG4vLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXG5qUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiggZGF0YSApIHtcblx0dmFyIHhtbDtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFOVxuXHR0cnkge1xuXHRcdHhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHhtbCA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmICggIXhtbCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwicGFyc2VyZXJyb3JcIiApLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZXJyb3IoIFwiSW52YWxpZCBYTUw6IFwiICsgZGF0YSApO1xuXHR9XG5cdHJldHVybiB4bWw7XG59O1xuXG5cbnZhclxuXHRyaGFzaCA9IC8jLiokLyxcblx0cnRzID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0b3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGtleSwgZGVlcCxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0fVxuXHR9XG5cdGlmICggZGVlcCApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblxuXHR2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsXG5cdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG5cdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuXHRpZiAoIGN0ICkge1xuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuXHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xuXHRcdFx0XHRmaW5hbERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFmaXJzdERhdGFUeXBlICkge1xuXHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuXHR9XG5cblx0Ly8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuXHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdGlmICggZmluYWxEYXRhVHlwZSApIHtcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHR9XG59XG5cbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LFxuXHRcdGNvbnZlcnRlcnMgPSB7fSxcblxuXHRcdC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXG5cdC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuXHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0Y29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0Ly8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcblx0d2hpbGUgKCBjdXJyZW50ICkge1xuXG5cdFx0aWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XG5cdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApO1xuXHRcdH1cblxuXHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHRcdGlmICggY3VycmVudCApIHtcblxuXHRcdC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cblx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXY7XG5cblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XG5cblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0aWYgKCAhY29udiApIHtcblx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcblx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDb25kZW5zZSBlcXVpdmFsZW5jZSBjb252ZXJ0ZXJzXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnQgPSB0bXBbIDAgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxuXHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHQvLyBVbmxlc3MgZXJyb3JzIGFyZSBhbGxvd2VkIHRvIGJ1YmJsZSwgY2F0Y2ggYW5kIHJldHVybiB0aGVtXG5cdFx0XHRcdFx0aWYgKCBjb252ICYmIHMudGhyb3dzICkge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBsb2NhdGlvbi5wcm90b2NvbCApLFxuXHRcdGdsb2JhbDogdHJ1ZSxcblx0XHRwcm9jZXNzRGF0YTogdHJ1ZSxcblx0XHRhc3luYzogdHJ1ZSxcblx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcblx0XHQvKlxuXHRcdHRpbWVvdXQ6IDAsXG5cdFx0ZGF0YTogbnVsbCxcblx0XHRkYXRhVHlwZTogbnVsbCxcblx0XHR1c2VybmFtZTogbnVsbCxcblx0XHRwYXNzd29yZDogbnVsbCxcblx0XHRjYWNoZTogbnVsbCxcblx0XHR0aHJvd3M6IGZhbHNlLFxuXHRcdHRyYWRpdGlvbmFsOiBmYWxzZSxcblx0XHRoZWFkZXJzOiB7fSxcblx0XHQqL1xuXG5cdFx0YWNjZXB0czoge1xuXHRcdFx0XCIqXCI6IGFsbFR5cGVzLFxuXHRcdFx0dGV4dDogXCJ0ZXh0L3BsYWluXCIsXG5cdFx0XHRodG1sOiBcInRleHQvaHRtbFwiLFxuXHRcdFx0eG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcblx0XHRcdGpzb246IFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJcblx0XHR9LFxuXG5cdFx0Y29udGVudHM6IHtcblx0XHRcdHhtbDogL1xcYnhtbFxcYi8sXG5cdFx0XHRodG1sOiAvXFxiaHRtbC8sXG5cdFx0XHRqc29uOiAvXFxianNvblxcYi9cblx0XHR9LFxuXG5cdFx0cmVzcG9uc2VGaWVsZHM6IHtcblx0XHRcdHhtbDogXCJyZXNwb25zZVhNTFwiLFxuXHRcdFx0dGV4dDogXCJyZXNwb25zZVRleHRcIixcblx0XHRcdGpzb246IFwicmVzcG9uc2VKU09OXCJcblx0XHR9LFxuXG5cdFx0Ly8gRGF0YSBjb252ZXJ0ZXJzXG5cdFx0Ly8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuXHRcdGNvbnZlcnRlcnM6IHtcblxuXHRcdFx0Ly8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG5cdFx0XHRcIiogdGV4dFwiOiBTdHJpbmcsXG5cblx0XHRcdC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuXHRcdFx0XCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcblxuXHRcdFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuXHRcdFx0XCJ0ZXh0IGpzb25cIjogalF1ZXJ5LnBhcnNlSlNPTixcblxuXHRcdFx0Ly8gUGFyc2UgdGV4dCBhcyB4bWxcblx0XHRcdFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG5cdFx0fSxcblxuXHRcdC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG5cdFx0Ly8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZlxuXHRcdC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG5cdFx0Ly8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG5cdFx0ZmxhdE9wdGlvbnM6IHtcblx0XHRcdHVybDogdHJ1ZSxcblx0XHRcdGNvbnRleHQ6IHRydWVcblx0XHR9XG5cdH0sXG5cblx0Ly8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXRcblx0Ly8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuXHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuXHRhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkge1xuXHRcdHJldHVybiBzZXR0aW5ncyA/XG5cblx0XHRcdC8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0XHRhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cblx0XHRcdC8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3Ncblx0XHRcdGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuXHR9LFxuXG5cdGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuXHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcblxuXHQvLyBNYWluIG1ldGhvZFxuXHRhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xuXG5cdFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcblx0XHRpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRvcHRpb25zID0gdXJsO1xuXHRcdFx0dXJsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0XHR2YXIgdHJhbnNwb3J0LFxuXG5cdFx0XHQvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG5cdFx0XHRjYWNoZVVSTCxcblxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxuXG5cdFx0XHQvLyB0aW1lb3V0IGhhbmRsZVxuXHRcdFx0dGltZW91dFRpbWVyLFxuXG5cdFx0XHQvLyBVcmwgY2xlYW51cCB2YXJcblx0XHRcdHVybEFuY2hvcixcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuXHRcdFx0cyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksXG5cblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcblxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmXG5cdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblxuXHRcdFx0Ly8gVGhlIGpxWEhSIHN0YXRlXG5cdFx0XHRzdGF0ZSA9IDAsXG5cblx0XHRcdC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuXHRcdFx0c3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsXG5cblx0XHRcdC8vIEZha2UgeGhyXG5cdFx0XHRqcVhIUiA9IHtcblx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblxuXHRcdFx0XHQvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXG5cdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaDtcblx0XHRcdFx0XHRpZiAoIHN0YXRlID09PSAyICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSBdID0gbWF0Y2hbIDIgXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGUgPT09IDIgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhY2hlcyB0aGUgaGVhZGVyXG5cdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHR2YXIgbG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0aWYgKCAhc3RhdGUgKSB7XG5cdFx0XHRcdFx0XHRuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbG5hbWUgXSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIGxuYW1lIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0aWYgKCAhc3RhdGUgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggc3RhdGUgPCAyICkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2sgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3Ncblx0XHRcdFx0XHRcdFx0anFYSFIuYWx3YXlzKCBtYXBbIGpxWEhSLnN0YXR1cyBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhbmNlbCB0aGUgcmVxdWVzdFxuXHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0dmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XG5cdFx0XHRcdFx0aWYgKCB0cmFuc3BvcnQgKSB7XG5cdFx0XHRcdFx0XHR0cmFuc3BvcnQuYWJvcnQoIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkb25lKCAwLCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdC8vIEF0dGFjaCBkZWZlcnJlZHNcblx0XHRkZWZlcnJlZC5wcm9taXNlKCBqcVhIUiApLmNvbXBsZXRlID0gY29tcGxldGVEZWZlcnJlZC5hZGQ7XG5cdFx0anFYSFIuc3VjY2VzcyA9IGpxWEhSLmRvbmU7XG5cdFx0anFYSFIuZXJyb3IgPSBqcVhIUi5mYWlsO1xuXG5cdFx0Ly8gUmVtb3ZlIGhhc2ggY2hhcmFjdGVyICgjNzUzMTogYW5kIHN0cmluZyBwcm9tb3Rpb24pXG5cdFx0Ly8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXG5cdFx0Ly8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcblx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZiApICsgXCJcIiApLnJlcGxhY2UoIHJoYXNoLCBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0galF1ZXJ5LnRyaW0oIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbIFwiXCIgXTtcblxuXHRcdC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB0aGUgb3JpZ2luIGRvZXNuJ3QgbWF0Y2ggdGhlIGN1cnJlbnQgb3JpZ2luLlxuXHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0dXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LTExK1xuXHRcdFx0Ly8gSUUgdGhyb3dzIGV4Y2VwdGlvbiBpZiB1cmwgaXMgbWFsZm9ybWVkLCBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFOC0xMStcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG5cdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggc3RhdGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cblx0XHQvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxuXHRcdGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuXG5cdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0YXJ0XCIgKTtcblx0XHR9XG5cblx0XHQvLyBVcHBlcmNhc2UgdGhlIHR5cGVcblx0XHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcblxuXHRcdC8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50XG5cdFx0cy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XG5cblx0XHQvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2Vcblx0XHQvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cblx0XHRjYWNoZVVSTCA9IHMudXJsO1xuXG5cdFx0Ly8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnRcblx0XHRpZiAoICFzLmhhc0NvbnRlbnQgKSB7XG5cblx0XHRcdC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlLCBhcHBlbmQgZGF0YSB0byB1cmxcblx0XHRcdGlmICggcy5kYXRhICkge1xuXHRcdFx0XHRjYWNoZVVSTCA9ICggcy51cmwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuZGF0YSApO1xuXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGFudGktY2FjaGUgaW4gdXJsIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0cy51cmwgPSBydHMudGVzdCggY2FjaGVVUkwgKSA/XG5cblx0XHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IGEgJ18nIHBhcmFtZXRlciwgc2V0IGl0cyB2YWx1ZVxuXHRcdFx0XHRcdGNhY2hlVVJMLnJlcGxhY2UoIHJ0cywgXCIkMV89XCIgKyBub25jZSsrICkgOlxuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFkZCBvbmUgdG8gdGhlIGVuZFxuXHRcdFx0XHRcdGNhY2hlVVJMICsgKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArIG5vbmNlKys7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcblx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xuXHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdGlmICggcy5iZWZvcmVTZW5kICYmXG5cdFx0XHQoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IHN0YXRlID09PSAyICkgKSB7XG5cblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRmb3IgKCBpIGluIHsgc3VjY2VzczogMSwgZXJyb3I6IDEsIGNvbXBsZXRlOiAxIH0gKSB7XG5cdFx0XHRqcVhIUlsgaSBdKCBzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XG5cdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuXHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0aWYgKCBzdGF0ZSA9PT0gMiApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0c3RhdGUgPSAxO1xuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBleGNlcHRpb24gYXMgZXJyb3IgaWYgbm90IGRvbmVcblx0XHRcdFx0aWYgKCBzdGF0ZSA8IDIgKSB7XG5cdFx0XHRcdFx0ZG9uZSggLTEsIGUgKTtcblxuXHRcdFx0XHQvLyBTaW1wbHkgcmV0aHJvdyBvdGhlcndpc2Vcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG5cdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcblxuXHRcdFx0Ly8gQ2FsbGVkIG9uY2Vcblx0XHRcdGlmICggc3RhdGUgPT09IDIgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhdGUgaXMgXCJkb25lXCIgbm93XG5cdFx0XHRzdGF0ZSA9IDI7XG5cblx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRpZiAoIHRpbWVvdXRUaW1lciApIHtcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcblx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkxhc3QtTW9kaWZpZWRcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiZXRhZ1wiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgbm8gY29udGVudFxuXHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG5cblx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXR1cyA9PT0gMzA0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG5cdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHNcblx0XHRcdFx0ZXJyb3IgPSBzdGF0dXNUZXh0O1xuXHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdGlmICggc3RhdHVzIDwgMCApIHtcblx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XG5cdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XG5cblx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0anFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApO1xuXHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0WyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29tcGxldGVcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhDb21wbGV0ZVwiLCBbIGpxWEhSLCBzIF0gKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ganFYSFI7XG5cdH0sXG5cblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdH0sXG5cblx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG5cdFx0cmV0dXJuIGpRdWVyeS5hamF4KCBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHR1cmw6IHVybCxcblx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0fSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7XG5cdH07XG59ICk7XG5cblxualF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCApIHtcblx0cmV0dXJuIGpRdWVyeS5hamF4KCB7XG5cdFx0dXJsOiB1cmwsXG5cblx0XHQvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2FuIG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKCMxMTI2NClcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGRhdGFUeXBlOiBcInNjcmlwdFwiLFxuXHRcdGFzeW5jOiBmYWxzZSxcblx0XHRnbG9iYWw6IGZhbHNlLFxuXHRcdFwidGhyb3dzXCI6IHRydWVcblx0fSApO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciB3cmFwO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBBbGwoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcblxuXHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5hcHBlbmQoIGh0bWwgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0d3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiYm9keVwiICkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHRcdH1cblx0XHR9ICkuZW5kKCk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXhwci5maWx0ZXJzLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLmZpbHRlcnMudmlzaWJsZSggZWxlbSApO1xufTtcbmpRdWVyeS5leHByLmZpbHRlcnMudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdC8vIFN1cHBvcnQ6IE9wZXJhIDw9IDEyLjEyXG5cdC8vIE9wZXJhIHJlcG9ydHMgb2Zmc2V0V2lkdGhzIGFuZCBvZmZzZXRIZWlnaHRzIGxlc3MgdGhhbiB6ZXJvIG9uIHNvbWUgZWxlbWVudHNcblx0Ly8gVXNlIE9SIGluc3RlYWQgb2YgQU5EIGFzIHRoZSBlbGVtZW50IGlzIG5vdCB2aXNpYmxlIGlmIGVpdGhlciBpcyB0cnVlXG5cdC8vIFNlZSB0aWNrZXRzICMxMDQwNiBhbmQgIzEzMTMyXG5cdHJldHVybiBlbGVtLm9mZnNldFdpZHRoID4gMCB8fCBlbGVtLm9mZnNldEhlaWdodCA+IDAgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCA+IDA7XG59O1xuXG5cblxuXG52YXIgcjIwID0gLyUyMC9nLFxuXHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0ckNSTEYgPSAvXFxyP1xcbi9nLFxuXHRyc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksXG5cdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xuXHR2YXIgbmFtZTtcblxuXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBvYmogKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuXHRcdGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xuXHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblxuXHRcdFx0XHQvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG5cdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG5cdFx0XHRcdGJ1aWxkUGFyYW1zKFxuXHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXG5cdFx0XHRcdFx0dixcblx0XHRcdFx0XHR0cmFkaXRpb25hbCxcblx0XHRcdFx0XHRhZGRcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIGpRdWVyeS50eXBlKCBvYmogKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBzY2FsYXIgaXRlbS5cblx0XHRhZGQoIHByZWZpeCwgb2JqICk7XG5cdH1cbn1cblxuLy8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2Zcbi8vIGtleS92YWx1ZXMgaW50byBhIHF1ZXJ5IHN0cmluZ1xualF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xuXHR2YXIgcHJlZml4LFxuXHRcdHMgPSBbXSxcblx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblxuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCByZXR1cm4gaXRzIHZhbHVlXG5cdFx0XHR2YWx1ZSA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApID8gdmFsdWUoKSA6ICggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgKTtcblx0XHR9O1xuXG5cdC8vIFNldCB0cmFkaXRpb25hbCB0byB0cnVlIGZvciBqUXVlcnkgPD0gMS4zLjIgYmVoYXZpb3IuXG5cdGlmICggdHJhZGl0aW9uYWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHR0cmFkaXRpb25hbCA9IGpRdWVyeS5hamF4U2V0dGluZ3MgJiYgalF1ZXJ5LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbDtcblx0fVxuXG5cdC8vIElmIGFuIGFycmF5IHdhcyBwYXNzZWQgaW4sIGFzc3VtZSB0aGF0IGl0IGlzIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMuXG5cdGlmICggalF1ZXJ5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdH0gKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRyZXR1cm4gcy5qb2luKCBcIiZcIiApLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0gKVxuXHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cblx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9IClcblx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0cmV0dXJuIHZhbCA9PSBudWxsID9cblx0XHRcdFx0bnVsbCA6XG5cdFx0XHRcdGpRdWVyeS5pc0FycmF5KCB2YWwgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHR9ICkuZ2V0KCk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG5cdH0gY2F0Y2ggKCBlICkge31cbn07XG5cbnZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuXG5cdFx0Ly8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDBcblx0XHQwOiAyMDAsXG5cblx0XHQvLyBTdXBwb3J0OiBJRTlcblx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXG5cdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxuXHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcblx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cblx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xuXHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFOVxuXHRcdFx0XHRcdFx0XHRcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuXHRcdFx0XHRcdFx0XHRcdC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIDAsIFwiZXJyb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgIzg2MDUsICMxNDIwN1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcblx0XHRcdFx0XHRcdFx0XHRcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIiApICE9PSBcInRleHRcIiAgfHxcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0eyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSBjYWxsYmFjayggXCJlcnJvclwiICk7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU5XG5cdFx0XHRcdC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XG5cdFx0XHRcdC8vIHRvIGhhbmRsZSB1bmNhdWdodCBhYm9ydHNcblx0XHRcdFx0aWYgKCB4aHIub25hYm9ydCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHhoci5vbmFib3J0ID0gZXJyb3JDYWxsYmFjaztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIENoZWNrIHJlYWR5U3RhdGUgYmVmb3JlIHRpbWVvdXQgYXMgaXQgY2hhbmdlc1xuXHRcdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCxcblx0XHRcdFx0XHRcdFx0Ly8gYnV0IHRoYXQgd2lsbCBub3QgaGFuZGxlIGEgbmF0aXZlIGFib3J0XG5cdFx0XHRcdFx0XHRcdC8vIEFsc28sIHNhdmUgZXJyb3JDYWxsYmFjayB0byBhIHZhcmlhYmxlXG5cdFx0XHRcdFx0XHRcdC8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZFxuXHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGVycm9yQ2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrKCBcImFib3J0XCIgKTtcblxuXHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdCAodGhpcyBtYXkgcmFpc2UgYW4gZXhjZXB0aW9uKVxuXHRcdFx0XHRcdHhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGFjY2VwdHM6IHtcblx0XHRzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBcIiArXG5cdFx0XHRcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXG5cdH0sXG5cdGNvbnRlbnRzOiB7XG5cdFx0c2NyaXB0OiAvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi9cblx0fSxcblx0Y29udmVydGVyczoge1xuXHRcdFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApO1xuXHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0cy5jYWNoZSA9IGZhbHNlO1xuXHR9XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLnR5cGUgPSBcIkdFVFwiO1xuXHR9XG59ICk7XG5cbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXG5cdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggXywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHNjcmlwdCA9IGpRdWVyeSggXCI8c2NyaXB0PlwiICkucHJvcCgge1xuXHRcdFx0XHRcdGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCxcblx0XHRcdFx0XHRzcmM6IHMudXJsXG5cdFx0XHRcdH0gKS5vbihcblx0XHRcdFx0XHRcImxvYWQgZXJyb3JcIixcblx0XHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0fSxcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgb2xkQ2FsbGJhY2tzID0gW10sXG5cdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59ICk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcblx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0KTtcblxuXHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXG5cdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG5cdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdH1cblxuXHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuXHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXG5cdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXG5cdFx0XHRcdC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2Vcblx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7XG5cdFx0XHRcdG92ZXJ3cml0dGVuKCByZXNwb25zZUNvbnRhaW5lclsgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gb3ZlcndyaXR0ZW4gPSB1bmRlZmluZWQ7XG5cdFx0fSApO1xuXG5cdFx0Ly8gRGVsZWdhdGUgdG8gc2NyaXB0XG5cdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gQXJndW1lbnQgXCJkYXRhXCIgc2hvdWxkIGJlIHN0cmluZyBvZiBodG1sXG4vLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsXG4vLyBkZWZhdWx0cyB0byBkb2N1bWVudFxuLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG5cdHZhciBwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKSxcblx0XHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vLyBLZWVwIGEgY29weSBvZiB0aGUgb2xkIGxvYWQgbWV0aG9kXG52YXIgX2xvYWQgPSBqUXVlcnkuZm4ubG9hZDtcblxuLyoqXG4gKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXG4gKi9cbmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcblx0aWYgKCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiICYmIF9sb2FkICkge1xuXHRcdHJldHVybiBfbG9hZC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdH1cblxuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXG5cdGlmICggb2ZmID4gLTEgKSB7XG5cdFx0c2VsZWN0b3IgPSBqUXVlcnkudHJpbSggdXJsLnNsaWNlKCBvZmYgKSApO1xuXHRcdHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XG5cdH1cblxuXHQvLyBJZiBpdCdzIGEgZnVuY3Rpb25cblx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7XG5cblx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuXHRcdGNhbGxiYWNrID0gcGFyYW1zO1xuXHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuXHQvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG5cdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdHR5cGUgPSBcIlBPU1RcIjtcblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG5cdGlmICggc2VsZi5sZW5ndGggPiAwICkge1xuXHRcdGpRdWVyeS5hamF4KCB7XG5cdFx0XHR1cmw6IHVybCxcblxuXHRcdFx0Ly8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cblx0XHRcdC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxuXHRcdFx0Ly8gdXNlciBjYW4gb3ZlcnJpZGUgaXQgdGhyb3VnaCBhamF4U2V0dXAgbWV0aG9kXG5cdFx0XHR0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZTogXCJodG1sXCIsXG5cdFx0XHRkYXRhOiBwYXJhbXNcblx0XHR9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblxuXHRcdFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblxuXHRcdFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XG5cblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuXHRcdFx0XHRqUXVlcnkoIFwiPGRpdj5cIiApLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuXHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblxuXHRcdC8vIElmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJkYXRhXCIsIFwic3RhdHVzXCIsIFwianFYSFJcIlxuXHRcdC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cblx0XHQvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXG5cdFx0fSApLmFsd2F5cyggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cblxuLy8gQXR0YWNoIGEgYnVuY2ggb2YgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBjb21tb24gQUpBWCBldmVudHNcbmpRdWVyeS5lYWNoKCBbXG5cdFwiYWpheFN0YXJ0XCIsXG5cdFwiYWpheFN0b3BcIixcblx0XCJhamF4Q29tcGxldGVcIixcblx0XCJhamF4RXJyb3JcIixcblx0XCJhamF4U3VjY2Vzc1wiLFxuXHRcImFqYXhTZW5kXCJcbl0sIGZ1bmN0aW9uKCBpLCB0eXBlICkge1xuXHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcblx0fTtcbn0gKTtcblxuXG5cblxualF1ZXJ5LmV4cHIuZmlsdGVycy5hbmltYXRlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0fSApLmxlbmd0aDtcbn07XG5cblxuXG5cbi8qKlxuICogR2V0cyBhIHdpbmRvdyBmcm9tIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93KCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmlzV2luZG93KCBlbGVtICkgPyBlbGVtIDogZWxlbS5ub2RlVHlwZSA9PT0gOSAmJiBlbGVtLmRlZmF1bHRWaWV3O1xufVxuXG5qUXVlcnkub2Zmc2V0ID0ge1xuXHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xuXHRcdHZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sXG5cdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxuXHRcdFx0cHJvcHMgPSB7fTtcblxuXHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cblx0XHRpZiAoIHBvc2l0aW9uID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cblx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcblx0XHRjdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJsZWZ0XCIgKTtcblx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcblxuXHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cblx0XHRcdC8vIFVzZSBqUXVlcnkuZXh0ZW5kIGhlcmUgdG8gYWxsb3cgbW9kaWZpY2F0aW9uIG9mIGNvb3JkaW5hdGVzIGFyZ3VtZW50IChnaC0xODQ4KVxuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCgge30sIGN1ck9mZnNldCApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDtcblx0XHR9XG5cdFx0aWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xuXHRcdH1cblxuXHRcdGlmICggXCJ1c2luZ1wiIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRvcHRpb25zLnVzaW5nLmNhbGwoIGVsZW0sIHByb3BzICk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyRWxlbS5jc3MoIHByb3BzICk7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdG9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIG9wdGlvbnMgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHRoaXMgOlxuXHRcdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHR2YXIgZG9jRWxlbSwgd2luLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGJveCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXG5cdFx0XHRkb2MgPSBlbGVtICYmIGVsZW0ub3duZXJEb2N1bWVudDtcblxuXHRcdGlmICggIWRvYyApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdC8vIE1ha2Ugc3VyZSBpdCdzIG5vdCBhIGRpc2Nvbm5lY3RlZCBET00gbm9kZVxuXHRcdGlmICggIWpRdWVyeS5jb250YWlucyggZG9jRWxlbSwgZWxlbSApICkge1xuXHRcdFx0cmV0dXJuIGJveDtcblx0XHR9XG5cblx0XHRib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHdpbiA9IGdldFdpbmRvdyggZG9jICk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogYm94LnRvcCArIHdpbi5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxuXHRcdFx0bGVmdDogYm94LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnRcblx0XHR9O1xuXHR9LFxuXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cblx0XHQvLyBGaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gd2luZG93IChwYXJlbnRPZmZzZXQgPSB7dG9wOjAsIGxlZnQ6IDB9LFxuXHRcdC8vIGJlY2F1c2UgaXQgaXMgaXRzIG9ubHkgb2Zmc2V0IHBhcmVudFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblxuXHRcdFx0Ly8gQXNzdW1lIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyB0aGVyZSB3aGVuIGNvbXB1dGVkIHBvc2l0aW9uIGlzIGZpeGVkXG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcblx0XHRcdG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCk7XG5cblx0XHRcdC8vIEdldCBjb3JyZWN0IG9mZnNldHNcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIG9mZnNldFBhcmVudFsgMCBdLCBcImh0bWxcIiApICkge1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xuXHRcdFx0cGFyZW50T2Zmc2V0LnRvcCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICk7XG5cdFx0XHRwYXJlbnRPZmZzZXQubGVmdCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSApO1xuXHRcdH1cblxuXHRcdC8vIFN1YnRyYWN0IHBhcmVudCBvZmZzZXRzIGFuZCBlbGVtZW50IG1hcmdpbnNcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luVG9wXCIsIHRydWUgKSxcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiwgdHJ1ZSApXG5cdFx0fTtcblx0fSxcblxuXHQvLyBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBkb2N1bWVudEVsZW1lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcblx0Ly8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVyblxuXHQvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcblx0Ly8gMikgRm9yIHRoZSBoaWRkZW4gb3IgZGV0YWNoZWQgZWxlbWVudFxuXHQvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmXG5cdC8vXG5cdC8vIGJ1dCB0aG9zZSBleGNlcHRpb25zIHdlcmUgbmV2ZXIgcHJlc2VudGVkIGFzIGEgcmVhbCBsaWZlIHVzZS1jYXNlc1xuXHQvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy5cblx0Ly9cblx0Ly8gVGhpcyBsb2dpYywgaG93ZXZlciwgaXMgbm90IGd1YXJhbnRlZWQgYW5kIGNhbiBjaGFuZ2UgYXQgYW55IHBvaW50IGluIHRoZSBmdXR1cmVcblx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50O1xuXG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50RWxlbWVudDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBzY3JvbGxMZWZ0OiBcInBhZ2VYT2Zmc2V0XCIsIHNjcm9sbFRvcDogXCJwYWdlWU9mZnNldFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7XG5cdHZhciB0b3AgPSBcInBhZ2VZT2Zmc2V0XCIgPT09IHByb3A7XG5cblx0alF1ZXJ5LmZuWyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuXHRcdFx0dmFyIHdpbiA9IGdldFdpbmRvdyggZWxlbSApO1xuXG5cdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB3aW4gKSB7XG5cdFx0XHRcdHdpbi5zY3JvbGxUbyhcblx0XHRcdFx0XHQhdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHRcdHRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtWyBtZXRob2QgXSA9IHZhbDtcblx0XHRcdH1cblx0XHR9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9O1xufSApO1xuXG4vLyBTdXBwb3J0OiBTYWZhcmk8Ny04KywgQ2hyb21lPDM3LTQ0K1xuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gQmxpbmsgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MjgwXG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0O1xuLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59ICk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSxcblx0XHRmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblxuXHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuXHRcdGpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkge1xuXHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xuXG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBkb2M7XG5cblx0XHRcdFx0aWYgKCBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIEFzIG9mIDUvOC8yMDEyIHRoaXMgd2lsbCB5aWVsZCBpbmNvcnJlY3QgcmVzdWx0cyBmb3IgTW9iaWxlIFNhZmFyaSwgYnV0IHRoZXJlXG5cdFx0XHRcdFx0Ly8gaXNuJ3QgYSB3aG9sZSBsb3Qgd2UgY2FuIGRvLiBTZWUgcHVsbCByZXF1ZXN0IGF0IHRoaXMgVVJMIGZvciBkaXNjdXNzaW9uOlxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNzY0XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlLCBudWxsICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH0sXG5cdHNpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmxlbmd0aDtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uYW5kU2VsZiA9IGpRdWVyeS5mbi5hZGRCYWNrO1xuXG5cblxuXG4vLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcbi8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdFxuLy8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXG4vLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHNcbi8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cblxuLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGRcbi8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cbi8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uXG5cbmlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cdGRlZmluZSggXCJqcXVlcnlcIiwgW10sIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnk7XG5cdH0gKTtcbn1cblxuXG5cbnZhclxuXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbi8vICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggIW5vR2xvYmFsICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cbnJldHVybiBqUXVlcnk7XG59KSk7XG4iLCJ2YXIgZW5naW5lID0gcmVxdWlyZSgnLi4vc3JjL3N0b3JlLWVuZ2luZScpXG5cbnZhciBzdG9yYWdlcyA9IHJlcXVpcmUoJy4uL3N0b3JhZ2VzL2FsbCcpXG52YXIgcGx1Z2lucyA9IFtyZXF1aXJlKCcuLi9wbHVnaW5zL2pzb24yJyldXG5cbm1vZHVsZS5leHBvcnRzID0gZW5naW5lLmNyZWF0ZVN0b3JlKHN0b3JhZ2VzLCBwbHVnaW5zKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBqc29uMlBsdWdpblxuXG5mdW5jdGlvbiBqc29uMlBsdWdpbigpIHtcblx0cmVxdWlyZSgnLi9saWIvanNvbjInKVxuXHRyZXR1cm4ge31cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vICBqc29uMi5qc1xuLy8gIDIwMTYtMTAtMjhcbi8vICBQdWJsaWMgRG9tYWluLlxuLy8gIE5PIFdBUlJBTlRZIEVYUFJFU1NFRCBPUiBJTVBMSUVELiBVU0UgQVQgWU9VUiBPV04gUklTSy5cbi8vICBTZWUgaHR0cDovL3d3dy5KU09OLm9yZy9qcy5odG1sXG4vLyAgVGhpcyBjb2RlIHNob3VsZCBiZSBtaW5pZmllZCBiZWZvcmUgZGVwbG95bWVudC5cbi8vICBTZWUgaHR0cDovL2phdmFzY3JpcHQuY3JvY2tmb3JkLmNvbS9qc21pbi5odG1sXG5cbi8vICBVU0UgWU9VUiBPV04gQ09QWS4gSVQgSVMgRVhUUkVNRUxZIFVOV0lTRSBUTyBMT0FEIENPREUgRlJPTSBTRVJWRVJTIFlPVSBET1xuLy8gIE5PVCBDT05UUk9MLlxuXG4vLyAgVGhpcyBmaWxlIGNyZWF0ZXMgYSBnbG9iYWwgSlNPTiBvYmplY3QgY29udGFpbmluZyB0d28gbWV0aG9kczogc3RyaW5naWZ5XG4vLyAgYW5kIHBhcnNlLiBUaGlzIGZpbGUgcHJvdmlkZXMgdGhlIEVTNSBKU09OIGNhcGFiaWxpdHkgdG8gRVMzIHN5c3RlbXMuXG4vLyAgSWYgYSBwcm9qZWN0IG1pZ2h0IHJ1biBvbiBJRTggb3IgZWFybGllciwgdGhlbiB0aGlzIGZpbGUgc2hvdWxkIGJlIGluY2x1ZGVkLlxuLy8gIFRoaXMgZmlsZSBkb2VzIG5vdGhpbmcgb24gRVM1IHN5c3RlbXMuXG5cbi8vICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUsIHJlcGxhY2VyLCBzcGFjZSlcbi8vICAgICAgICAgIHZhbHVlICAgICAgIGFueSBKYXZhU2NyaXB0IHZhbHVlLCB1c3VhbGx5IGFuIG9iamVjdCBvciBhcnJheS5cbi8vICAgICAgICAgIHJlcGxhY2VyICAgIGFuIG9wdGlvbmFsIHBhcmFtZXRlciB0aGF0IGRldGVybWluZXMgaG93IG9iamVjdFxuLy8gICAgICAgICAgICAgICAgICAgICAgdmFsdWVzIGFyZSBzdHJpbmdpZmllZCBmb3Igb2JqZWN0cy4gSXQgY2FuIGJlIGFcbi8vICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4vLyAgICAgICAgICBzcGFjZSAgICAgICBhbiBvcHRpb25hbCBwYXJhbWV0ZXIgdGhhdCBzcGVjaWZpZXMgdGhlIGluZGVudGF0aW9uXG4vLyAgICAgICAgICAgICAgICAgICAgICBvZiBuZXN0ZWQgc3RydWN0dXJlcy4gSWYgaXQgaXMgb21pdHRlZCwgdGhlIHRleHQgd2lsbFxuLy8gICAgICAgICAgICAgICAgICAgICAgYmUgcGFja2VkIHdpdGhvdXQgZXh0cmEgd2hpdGVzcGFjZS4gSWYgaXQgaXMgYSBudW1iZXIsXG4vLyAgICAgICAgICAgICAgICAgICAgICBpdCB3aWxsIHNwZWNpZnkgdGhlIG51bWJlciBvZiBzcGFjZXMgdG8gaW5kZW50IGF0IGVhY2hcbi8vICAgICAgICAgICAgICAgICAgICAgIGxldmVsLiBJZiBpdCBpcyBhIHN0cmluZyAoc3VjaCBhcyBcIlxcdFwiIG9yIFwiJm5ic3A7XCIpLFxuLy8gICAgICAgICAgICAgICAgICAgICAgaXQgY29udGFpbnMgdGhlIGNoYXJhY3RlcnMgdXNlZCB0byBpbmRlbnQgYXQgZWFjaCBsZXZlbC5cbi8vICAgICAgICAgIFRoaXMgbWV0aG9kIHByb2R1Y2VzIGEgSlNPTiB0ZXh0IGZyb20gYSBKYXZhU2NyaXB0IHZhbHVlLlxuLy8gICAgICAgICAgV2hlbiBhbiBvYmplY3QgdmFsdWUgaXMgZm91bmQsIGlmIHRoZSBvYmplY3QgY29udGFpbnMgYSB0b0pTT05cbi8vICAgICAgICAgIG1ldGhvZCwgaXRzIHRvSlNPTiBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYW5kIHRoZSByZXN1bHQgd2lsbCBiZVxuLy8gICAgICAgICAgc3RyaW5naWZpZWQuIEEgdG9KU09OIG1ldGhvZCBkb2VzIG5vdCBzZXJpYWxpemU6IGl0IHJldHVybnMgdGhlXG4vLyAgICAgICAgICB2YWx1ZSByZXByZXNlbnRlZCBieSB0aGUgbmFtZS92YWx1ZSBwYWlyIHRoYXQgc2hvdWxkIGJlIHNlcmlhbGl6ZWQsXG4vLyAgICAgICAgICBvciB1bmRlZmluZWQgaWYgbm90aGluZyBzaG91bGQgYmUgc2VyaWFsaXplZC4gVGhlIHRvSlNPTiBtZXRob2Rcbi8vICAgICAgICAgIHdpbGwgYmUgcGFzc2VkIHRoZSBrZXkgYXNzb2NpYXRlZCB3aXRoIHRoZSB2YWx1ZSwgYW5kIHRoaXMgd2lsbCBiZVxuLy8gICAgICAgICAgYm91bmQgdG8gdGhlIHZhbHVlLlxuXG4vLyAgICAgICAgICBGb3IgZXhhbXBsZSwgdGhpcyB3b3VsZCBzZXJpYWxpemUgRGF0ZXMgYXMgSVNPIHN0cmluZ3MuXG5cbi8vICAgICAgICAgICAgICBEYXRlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoa2V5KSB7XG4vLyAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGYobikge1xuLy8gICAgICAgICAgICAgICAgICAgICAgLy8gRm9ybWF0IGludGVnZXJzIHRvIGhhdmUgYXQgbGVhc3QgdHdvIGRpZ2l0cy5cbi8vICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobiA8IDEwKVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCIwXCIgKyBuXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuO1xuLy8gICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFVUQ0Z1bGxZZWFyKCkgICArIFwiLVwiICtcbi8vICAgICAgICAgICAgICAgICAgICAgICBmKHRoaXMuZ2V0VVRDTW9udGgoKSArIDEpICsgXCItXCIgK1xuLy8gICAgICAgICAgICAgICAgICAgICAgIGYodGhpcy5nZXRVVENEYXRlKCkpICAgICAgKyBcIlRcIiArXG4vLyAgICAgICAgICAgICAgICAgICAgICAgZih0aGlzLmdldFVUQ0hvdXJzKCkpICAgICArIFwiOlwiICtcbi8vICAgICAgICAgICAgICAgICAgICAgICBmKHRoaXMuZ2V0VVRDTWludXRlcygpKSAgICsgXCI6XCIgK1xuLy8gICAgICAgICAgICAgICAgICAgICAgIGYodGhpcy5nZXRVVENTZWNvbmRzKCkpICAgKyBcIlpcIjtcbi8vICAgICAgICAgICAgICB9O1xuXG4vLyAgICAgICAgICBZb3UgY2FuIHByb3ZpZGUgYW4gb3B0aW9uYWwgcmVwbGFjZXIgbWV0aG9kLiBJdCB3aWxsIGJlIHBhc3NlZCB0aGVcbi8vICAgICAgICAgIGtleSBhbmQgdmFsdWUgb2YgZWFjaCBtZW1iZXIsIHdpdGggdGhpcyBib3VuZCB0byB0aGUgY29udGFpbmluZ1xuLy8gICAgICAgICAgb2JqZWN0LiBUaGUgdmFsdWUgdGhhdCBpcyByZXR1cm5lZCBmcm9tIHlvdXIgbWV0aG9kIHdpbGwgYmVcbi8vICAgICAgICAgIHNlcmlhbGl6ZWQuIElmIHlvdXIgbWV0aG9kIHJldHVybnMgdW5kZWZpbmVkLCB0aGVuIHRoZSBtZW1iZXIgd2lsbFxuLy8gICAgICAgICAgYmUgZXhjbHVkZWQgZnJvbSB0aGUgc2VyaWFsaXphdGlvbi5cblxuLy8gICAgICAgICAgSWYgdGhlIHJlcGxhY2VyIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiBzdHJpbmdzLCB0aGVuIGl0IHdpbGwgYmVcbi8vICAgICAgICAgIHVzZWQgdG8gc2VsZWN0IHRoZSBtZW1iZXJzIHRvIGJlIHNlcmlhbGl6ZWQuIEl0IGZpbHRlcnMgdGhlIHJlc3VsdHNcbi8vICAgICAgICAgIHN1Y2ggdGhhdCBvbmx5IG1lbWJlcnMgd2l0aCBrZXlzIGxpc3RlZCBpbiB0aGUgcmVwbGFjZXIgYXJyYXkgYXJlXG4vLyAgICAgICAgICBzdHJpbmdpZmllZC5cblxuLy8gICAgICAgICAgVmFsdWVzIHRoYXQgZG8gbm90IGhhdmUgSlNPTiByZXByZXNlbnRhdGlvbnMsIHN1Y2ggYXMgdW5kZWZpbmVkIG9yXG4vLyAgICAgICAgICBmdW5jdGlvbnMsIHdpbGwgbm90IGJlIHNlcmlhbGl6ZWQuIFN1Y2ggdmFsdWVzIGluIG9iamVjdHMgd2lsbCBiZVxuLy8gICAgICAgICAgZHJvcHBlZDsgaW4gYXJyYXlzIHRoZXkgd2lsbCBiZSByZXBsYWNlZCB3aXRoIG51bGwuIFlvdSBjYW4gdXNlXG4vLyAgICAgICAgICBhIHJlcGxhY2VyIGZ1bmN0aW9uIHRvIHJlcGxhY2UgdGhvc2Ugd2l0aCBKU09OIHZhbHVlcy5cblxuLy8gICAgICAgICAgSlNPTi5zdHJpbmdpZnkodW5kZWZpbmVkKSByZXR1cm5zIHVuZGVmaW5lZC5cblxuLy8gICAgICAgICAgVGhlIG9wdGlvbmFsIHNwYWNlIHBhcmFtZXRlciBwcm9kdWNlcyBhIHN0cmluZ2lmaWNhdGlvbiBvZiB0aGVcbi8vICAgICAgICAgIHZhbHVlIHRoYXQgaXMgZmlsbGVkIHdpdGggbGluZSBicmVha3MgYW5kIGluZGVudGF0aW9uIHRvIG1ha2UgaXRcbi8vICAgICAgICAgIGVhc2llciB0byByZWFkLlxuXG4vLyAgICAgICAgICBJZiB0aGUgc3BhY2UgcGFyYW1ldGVyIGlzIGEgbm9uLWVtcHR5IHN0cmluZywgdGhlbiB0aGF0IHN0cmluZyB3aWxsXG4vLyAgICAgICAgICBiZSB1c2VkIGZvciBpbmRlbnRhdGlvbi4gSWYgdGhlIHNwYWNlIHBhcmFtZXRlciBpcyBhIG51bWJlciwgdGhlblxuLy8gICAgICAgICAgdGhlIGluZGVudGF0aW9uIHdpbGwgYmUgdGhhdCBtYW55IHNwYWNlcy5cblxuLy8gICAgICAgICAgRXhhbXBsZTpcblxuLy8gICAgICAgICAgdGV4dCA9IEpTT04uc3RyaW5naWZ5KFtcImVcIiwge3BsdXJpYnVzOiBcInVudW1cIn1dKTtcbi8vICAgICAgICAgIC8vIHRleHQgaXMgJ1tcImVcIix7XCJwbHVyaWJ1c1wiOlwidW51bVwifV0nXG5cbi8vICAgICAgICAgIHRleHQgPSBKU09OLnN0cmluZ2lmeShbXCJlXCIsIHtwbHVyaWJ1czogXCJ1bnVtXCJ9XSwgbnVsbCwgXCJcXHRcIik7XG4vLyAgICAgICAgICAvLyB0ZXh0IGlzICdbXFxuXFx0XCJlXCIsXFxuXFx0e1xcblxcdFxcdFwicGx1cmlidXNcIjogXCJ1bnVtXCJcXG5cXHR9XFxuXSdcblxuLy8gICAgICAgICAgdGV4dCA9IEpTT04uc3RyaW5naWZ5KFtuZXcgRGF0ZSgpXSwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbi8vICAgICAgICAgICAgICByZXR1cm4gdGhpc1trZXldIGluc3RhbmNlb2YgRGF0ZVxuLy8gICAgICAgICAgICAgICAgICA/IFwiRGF0ZShcIiArIHRoaXNba2V5XSArIFwiKVwiXG4vLyAgICAgICAgICAgICAgICAgIDogdmFsdWU7XG4vLyAgICAgICAgICB9KTtcbi8vICAgICAgICAgIC8vIHRleHQgaXMgJ1tcIkRhdGUoLS0tY3VycmVudCB0aW1lLS0tKVwiXSdcblxuLy8gICAgICBKU09OLnBhcnNlKHRleHQsIHJldml2ZXIpXG4vLyAgICAgICAgICBUaGlzIG1ldGhvZCBwYXJzZXMgYSBKU09OIHRleHQgdG8gcHJvZHVjZSBhbiBvYmplY3Qgb3IgYXJyYXkuXG4vLyAgICAgICAgICBJdCBjYW4gdGhyb3cgYSBTeW50YXhFcnJvciBleGNlcHRpb24uXG5cbi8vICAgICAgICAgIFRoZSBvcHRpb25hbCByZXZpdmVyIHBhcmFtZXRlciBpcyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGZpbHRlciBhbmRcbi8vICAgICAgICAgIHRyYW5zZm9ybSB0aGUgcmVzdWx0cy4gSXQgcmVjZWl2ZXMgZWFjaCBvZiB0aGUga2V5cyBhbmQgdmFsdWVzLFxuLy8gICAgICAgICAgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgdXNlZCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCB2YWx1ZS5cbi8vICAgICAgICAgIElmIGl0IHJldHVybnMgd2hhdCBpdCByZWNlaXZlZCwgdGhlbiB0aGUgc3RydWN0dXJlIGlzIG5vdCBtb2RpZmllZC5cbi8vICAgICAgICAgIElmIGl0IHJldHVybnMgdW5kZWZpbmVkIHRoZW4gdGhlIG1lbWJlciBpcyBkZWxldGVkLlxuXG4vLyAgICAgICAgICBFeGFtcGxlOlxuXG4vLyAgICAgICAgICAvLyBQYXJzZSB0aGUgdGV4dC4gVmFsdWVzIHRoYXQgbG9vayBsaWtlIElTTyBkYXRlIHN0cmluZ3Mgd2lsbFxuLy8gICAgICAgICAgLy8gYmUgY29udmVydGVkIHRvIERhdGUgb2JqZWN0cy5cblxuLy8gICAgICAgICAgbXlEYXRhID0gSlNPTi5wYXJzZSh0ZXh0LCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuLy8gICAgICAgICAgICAgIHZhciBhO1xuLy8gICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbi8vICAgICAgICAgICAgICAgICAgYSA9XG4vLyAgIC9eKFxcZHs0fSktKFxcZHsyfSktKFxcZHsyfSlUKFxcZHsyfSk6KFxcZHsyfSk6KFxcZHsyfSg/OlxcLlxcZCopPylaJC8uZXhlYyh2YWx1ZSk7XG4vLyAgICAgICAgICAgICAgICAgIGlmIChhKSB7XG4vLyAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoK2FbMV0sICthWzJdIC0gMSwgK2FbM10sICthWzRdLFxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICthWzVdLCArYVs2XSkpO1xuLy8gICAgICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbi8vICAgICAgICAgIH0pO1xuXG4vLyAgICAgICAgICBteURhdGEgPSBKU09OLnBhcnNlKCdbXCJEYXRlKDA5LzA5LzIwMDEpXCJdJywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbi8vICAgICAgICAgICAgICB2YXIgZDtcbi8vICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG4vLyAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zbGljZSgwLCA1KSA9PT0gXCJEYXRlKFwiICYmXG4vLyAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zbGljZSgtMSkgPT09IFwiKVwiKSB7XG4vLyAgICAgICAgICAgICAgICAgIGQgPSBuZXcgRGF0ZSh2YWx1ZS5zbGljZSg1LCAtMSkpO1xuLy8gICAgICAgICAgICAgICAgICBpZiAoZCkge1xuLy8gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XG4vLyAgICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuLy8gICAgICAgICAgfSk7XG5cbi8vICBUaGlzIGlzIGEgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uLiBZb3UgYXJlIGZyZWUgdG8gY29weSwgbW9kaWZ5LCBvclxuLy8gIHJlZGlzdHJpYnV0ZS5cblxuLypqc2xpbnRcbiAgICBldmFsLCBmb3IsIHRoaXNcbiovXG5cbi8qcHJvcGVydHlcbiAgICBKU09OLCBhcHBseSwgY2FsbCwgY2hhckNvZGVBdCwgZ2V0VVRDRGF0ZSwgZ2V0VVRDRnVsbFllYXIsIGdldFVUQ0hvdXJzLFxuICAgIGdldFVUQ01pbnV0ZXMsIGdldFVUQ01vbnRoLCBnZXRVVENTZWNvbmRzLCBoYXNPd25Qcm9wZXJ0eSwgam9pbixcbiAgICBsYXN0SW5kZXgsIGxlbmd0aCwgcGFyc2UsIHByb3RvdHlwZSwgcHVzaCwgcmVwbGFjZSwgc2xpY2UsIHN0cmluZ2lmeSxcbiAgICB0ZXN0LCB0b0pTT04sIHRvU3RyaW5nLCB2YWx1ZU9mXG4qL1xuXG5cbi8vIENyZWF0ZSBhIEpTT04gb2JqZWN0IG9ubHkgaWYgb25lIGRvZXMgbm90IGFscmVhZHkgZXhpc3QuIFdlIGNyZWF0ZSB0aGVcbi8vIG1ldGhvZHMgaW4gYSBjbG9zdXJlIHRvIGF2b2lkIGNyZWF0aW5nIGdsb2JhbCB2YXJpYWJsZXMuXG5cbmlmICh0eXBlb2YgSlNPTiAhPT0gXCJvYmplY3RcIikge1xuICAgIEpTT04gPSB7fTtcbn1cblxuKGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciByeF9vbmUgPSAvXltcXF0sOnt9XFxzXSokLztcbiAgICB2YXIgcnhfdHdvID0gL1xcXFwoPzpbXCJcXFxcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZztcbiAgICB2YXIgcnhfdGhyZWUgPSAvXCJbXlwiXFxcXFxcblxccl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2c7XG4gICAgdmFyIHJ4X2ZvdXIgPSAvKD86Xnw6fCwpKD86XFxzKlxcWykrL2c7XG4gICAgdmFyIHJ4X2VzY2FwYWJsZSA9IC9bXFxcXFwiXFx1MDAwMC1cXHUwMDFmXFx1MDA3Zi1cXHUwMDlmXFx1MDBhZFxcdTA2MDAtXFx1MDYwNFxcdTA3MGZcXHUxN2I0XFx1MTdiNVxcdTIwMGMtXFx1MjAwZlxcdTIwMjgtXFx1MjAyZlxcdTIwNjAtXFx1MjA2ZlxcdWZlZmZcXHVmZmYwLVxcdWZmZmZdL2c7XG4gICAgdmFyIHJ4X2Rhbmdlcm91cyA9IC9bXFx1MDAwMFxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nO1xuXG4gICAgZnVuY3Rpb24gZihuKSB7XG4gICAgICAgIC8vIEZvcm1hdCBpbnRlZ2VycyB0byBoYXZlIGF0IGxlYXN0IHR3byBkaWdpdHMuXG4gICAgICAgIHJldHVybiBuIDwgMTBcbiAgICAgICAgICAgID8gXCIwXCIgKyBuXG4gICAgICAgICAgICA6IG47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGhpc192YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgRGF0ZS5wcm90b3R5cGUudG9KU09OICE9PSBcImZ1bmN0aW9uXCIpIHtcblxuICAgICAgICBEYXRlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiBpc0Zpbml0ZSh0aGlzLnZhbHVlT2YoKSlcbiAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0VVRDRnVsbFllYXIoKSArIFwiLVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYodGhpcy5nZXRVVENNb250aCgpICsgMSkgKyBcIi1cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBmKHRoaXMuZ2V0VVRDRGF0ZSgpKSArIFwiVFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYodGhpcy5nZXRVVENIb3VycygpKSArIFwiOlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYodGhpcy5nZXRVVENNaW51dGVzKCkpICsgXCI6XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZih0aGlzLmdldFVUQ1NlY29uZHMoKSkgKyBcIlpcIlxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICBCb29sZWFuLnByb3RvdHlwZS50b0pTT04gPSB0aGlzX3ZhbHVlO1xuICAgICAgICBOdW1iZXIucHJvdG90eXBlLnRvSlNPTiA9IHRoaXNfdmFsdWU7XG4gICAgICAgIFN0cmluZy5wcm90b3R5cGUudG9KU09OID0gdGhpc192YWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgZ2FwO1xuICAgIHZhciBpbmRlbnQ7XG4gICAgdmFyIG1ldGE7XG4gICAgdmFyIHJlcDtcblxuXG4gICAgZnVuY3Rpb24gcXVvdGUoc3RyaW5nKSB7XG5cbi8vIElmIHRoZSBzdHJpbmcgY29udGFpbnMgbm8gY29udHJvbCBjaGFyYWN0ZXJzLCBubyBxdW90ZSBjaGFyYWN0ZXJzLCBhbmQgbm9cbi8vIGJhY2tzbGFzaCBjaGFyYWN0ZXJzLCB0aGVuIHdlIGNhbiBzYWZlbHkgc2xhcCBzb21lIHF1b3RlcyBhcm91bmQgaXQuXG4vLyBPdGhlcndpc2Ugd2UgbXVzdCBhbHNvIHJlcGxhY2UgdGhlIG9mZmVuZGluZyBjaGFyYWN0ZXJzIHdpdGggc2FmZSBlc2NhcGVcbi8vIHNlcXVlbmNlcy5cblxuICAgICAgICByeF9lc2NhcGFibGUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIHJ4X2VzY2FwYWJsZS50ZXN0KHN0cmluZylcbiAgICAgICAgICAgID8gXCJcXFwiXCIgKyBzdHJpbmcucmVwbGFjZShyeF9lc2NhcGFibGUsIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSBtZXRhW2FdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYyA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICA/IGNcbiAgICAgICAgICAgICAgICAgICAgOiBcIlxcXFx1XCIgKyAoXCIwMDAwXCIgKyBhLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCk7XG4gICAgICAgICAgICB9KSArIFwiXFxcIlwiXG4gICAgICAgICAgICA6IFwiXFxcIlwiICsgc3RyaW5nICsgXCJcXFwiXCI7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBzdHIoa2V5LCBob2xkZXIpIHtcblxuLy8gUHJvZHVjZSBhIHN0cmluZyBmcm9tIGhvbGRlcltrZXldLlxuXG4gICAgICAgIHZhciBpOyAgICAgICAgICAvLyBUaGUgbG9vcCBjb3VudGVyLlxuICAgICAgICB2YXIgazsgICAgICAgICAgLy8gVGhlIG1lbWJlciBrZXkuXG4gICAgICAgIHZhciB2OyAgICAgICAgICAvLyBUaGUgbWVtYmVyIHZhbHVlLlxuICAgICAgICB2YXIgbGVuZ3RoO1xuICAgICAgICB2YXIgbWluZCA9IGdhcDtcbiAgICAgICAgdmFyIHBhcnRpYWw7XG4gICAgICAgIHZhciB2YWx1ZSA9IGhvbGRlcltrZXldO1xuXG4vLyBJZiB0aGUgdmFsdWUgaGFzIGEgdG9KU09OIG1ldGhvZCwgY2FsbCBpdCB0byBvYnRhaW4gYSByZXBsYWNlbWVudCB2YWx1ZS5cblxuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvSlNPTihrZXkpO1xuICAgICAgICB9XG5cbi8vIElmIHdlIHdlcmUgY2FsbGVkIHdpdGggYSByZXBsYWNlciBmdW5jdGlvbiwgdGhlbiBjYWxsIHRoZSByZXBsYWNlciB0b1xuLy8gb2J0YWluIGEgcmVwbGFjZW1lbnQgdmFsdWUuXG5cbiAgICAgICAgaWYgKHR5cGVvZiByZXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdmFsdWUgPSByZXAuY2FsbChob2xkZXIsIGtleSwgdmFsdWUpO1xuICAgICAgICB9XG5cbi8vIFdoYXQgaGFwcGVucyBuZXh0IGRlcGVuZHMgb24gdGhlIHZhbHVlJ3MgdHlwZS5cblxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gcXVvdGUodmFsdWUpO1xuXG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcblxuLy8gSlNPTiBudW1iZXJzIG11c3QgYmUgZmluaXRlLiBFbmNvZGUgbm9uLWZpbml0ZSBudW1iZXJzIGFzIG51bGwuXG5cbiAgICAgICAgICAgIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICA/IFN0cmluZyh2YWx1ZSlcbiAgICAgICAgICAgICAgICA6IFwibnVsbFwiO1xuXG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGNhc2UgXCJudWxsXCI6XG5cbi8vIElmIHRoZSB2YWx1ZSBpcyBhIGJvb2xlYW4gb3IgbnVsbCwgY29udmVydCBpdCB0byBhIHN0cmluZy4gTm90ZTpcbi8vIHR5cGVvZiBudWxsIGRvZXMgbm90IHByb2R1Y2UgXCJudWxsXCIuIFRoZSBjYXNlIGlzIGluY2x1ZGVkIGhlcmUgaW5cbi8vIHRoZSByZW1vdGUgY2hhbmNlIHRoYXQgdGhpcyBnZXRzIGZpeGVkIHNvbWVkYXkuXG5cbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuXG4vLyBJZiB0aGUgdHlwZSBpcyBcIm9iamVjdFwiLCB3ZSBtaWdodCBiZSBkZWFsaW5nIHdpdGggYW4gb2JqZWN0IG9yIGFuIGFycmF5IG9yXG4vLyBudWxsLlxuXG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcblxuLy8gRHVlIHRvIGEgc3BlY2lmaWNhdGlvbiBibHVuZGVyIGluIEVDTUFTY3JpcHQsIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsXG4vLyBzbyB3YXRjaCBvdXQgZm9yIHRoYXQgY2FzZS5cblxuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cblxuLy8gTWFrZSBhbiBhcnJheSB0byBob2xkIHRoZSBwYXJ0aWFsIHJlc3VsdHMgb2Ygc3RyaW5naWZ5aW5nIHRoaXMgb2JqZWN0IHZhbHVlLlxuXG4gICAgICAgICAgICBnYXAgKz0gaW5kZW50O1xuICAgICAgICAgICAgcGFydGlhbCA9IFtdO1xuXG4vLyBJcyB0aGUgdmFsdWUgYW4gYXJyYXk/XG5cbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHZhbHVlKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG5cbi8vIFRoZSB2YWx1ZSBpcyBhbiBhcnJheS4gU3RyaW5naWZ5IGV2ZXJ5IGVsZW1lbnQuIFVzZSBudWxsIGFzIGEgcGxhY2Vob2xkZXJcbi8vIGZvciBub24tSlNPTiB2YWx1ZXMuXG5cbiAgICAgICAgICAgICAgICBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxbaV0gPSBzdHIoaSwgdmFsdWUpIHx8IFwibnVsbFwiO1xuICAgICAgICAgICAgICAgIH1cblxuLy8gSm9pbiBhbGwgb2YgdGhlIGVsZW1lbnRzIHRvZ2V0aGVyLCBzZXBhcmF0ZWQgd2l0aCBjb21tYXMsIGFuZCB3cmFwIHRoZW0gaW5cbi8vIGJyYWNrZXRzLlxuXG4gICAgICAgICAgICAgICAgdiA9IHBhcnRpYWwubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgID8gXCJbXVwiXG4gICAgICAgICAgICAgICAgICAgIDogZ2FwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFwiW1xcblwiICsgZ2FwICsgcGFydGlhbC5qb2luKFwiLFxcblwiICsgZ2FwKSArIFwiXFxuXCIgKyBtaW5kICsgXCJdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJbXCIgKyBwYXJ0aWFsLmpvaW4oXCIsXCIpICsgXCJdXCI7XG4gICAgICAgICAgICAgICAgZ2FwID0gbWluZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICAgIH1cblxuLy8gSWYgdGhlIHJlcGxhY2VyIGlzIGFuIGFycmF5LCB1c2UgaXQgdG8gc2VsZWN0IHRoZSBtZW1iZXJzIHRvIGJlIHN0cmluZ2lmaWVkLlxuXG4gICAgICAgICAgICBpZiAocmVwICYmIHR5cGVvZiByZXAgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSByZXAubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlcFtpXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgayA9IHJlcFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBzdHIoaywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsLnB1c2gocXVvdGUoaykgKyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIjogXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCI6XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApICsgdik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4vLyBPdGhlcndpc2UsIGl0ZXJhdGUgdGhyb3VnaCBhbGwgb2YgdGhlIGtleXMgaW4gdGhlIG9iamVjdC5cblxuICAgICAgICAgICAgICAgIGZvciAoayBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IHN0cihrLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWwucHVzaChxdW90ZShrKSArIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiOiBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIjpcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgKyB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuLy8gSm9pbiBhbGwgb2YgdGhlIG1lbWJlciB0ZXh0cyB0b2dldGhlciwgc2VwYXJhdGVkIHdpdGggY29tbWFzLFxuLy8gYW5kIHdyYXAgdGhlbSBpbiBicmFjZXMuXG5cbiAgICAgICAgICAgIHYgPSBwYXJ0aWFsLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgICAgID8gXCJ7fVwiXG4gICAgICAgICAgICAgICAgOiBnYXBcbiAgICAgICAgICAgICAgICAgICAgPyBcIntcXG5cIiArIGdhcCArIHBhcnRpYWwuam9pbihcIixcXG5cIiArIGdhcCkgKyBcIlxcblwiICsgbWluZCArIFwifVwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJ7XCIgKyBwYXJ0aWFsLmpvaW4oXCIsXCIpICsgXCJ9XCI7XG4gICAgICAgICAgICBnYXAgPSBtaW5kO1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIH1cbiAgICB9XG5cbi8vIElmIHRoZSBKU09OIG9iamVjdCBkb2VzIG5vdCB5ZXQgaGF2ZSBhIHN0cmluZ2lmeSBtZXRob2QsIGdpdmUgaXQgb25lLlxuXG4gICAgaWYgKHR5cGVvZiBKU09OLnN0cmluZ2lmeSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG1ldGEgPSB7ICAgIC8vIHRhYmxlIG9mIGNoYXJhY3RlciBzdWJzdGl0dXRpb25zXG4gICAgICAgICAgICBcIlxcYlwiOiBcIlxcXFxiXCIsXG4gICAgICAgICAgICBcIlxcdFwiOiBcIlxcXFx0XCIsXG4gICAgICAgICAgICBcIlxcblwiOiBcIlxcXFxuXCIsXG4gICAgICAgICAgICBcIlxcZlwiOiBcIlxcXFxmXCIsXG4gICAgICAgICAgICBcIlxcclwiOiBcIlxcXFxyXCIsXG4gICAgICAgICAgICBcIlxcXCJcIjogXCJcXFxcXFxcIlwiLFxuICAgICAgICAgICAgXCJcXFxcXCI6IFwiXFxcXFxcXFxcIlxuICAgICAgICB9O1xuICAgICAgICBKU09OLnN0cmluZ2lmeSA9IGZ1bmN0aW9uICh2YWx1ZSwgcmVwbGFjZXIsIHNwYWNlKSB7XG5cbi8vIFRoZSBzdHJpbmdpZnkgbWV0aG9kIHRha2VzIGEgdmFsdWUgYW5kIGFuIG9wdGlvbmFsIHJlcGxhY2VyLCBhbmQgYW4gb3B0aW9uYWxcbi8vIHNwYWNlIHBhcmFtZXRlciwgYW5kIHJldHVybnMgYSBKU09OIHRleHQuIFRoZSByZXBsYWNlciBjYW4gYmUgYSBmdW5jdGlvblxuLy8gdGhhdCBjYW4gcmVwbGFjZSB2YWx1ZXMsIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MgdGhhdCB3aWxsIHNlbGVjdCB0aGUga2V5cy5cbi8vIEEgZGVmYXVsdCByZXBsYWNlciBtZXRob2QgY2FuIGJlIHByb3ZpZGVkLiBVc2Ugb2YgdGhlIHNwYWNlIHBhcmFtZXRlciBjYW5cbi8vIHByb2R1Y2UgdGV4dCB0aGF0IGlzIG1vcmUgZWFzaWx5IHJlYWRhYmxlLlxuXG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIGdhcCA9IFwiXCI7XG4gICAgICAgICAgICBpbmRlbnQgPSBcIlwiO1xuXG4vLyBJZiB0aGUgc3BhY2UgcGFyYW1ldGVyIGlzIGEgbnVtYmVyLCBtYWtlIGFuIGluZGVudCBzdHJpbmcgY29udGFpbmluZyB0aGF0XG4vLyBtYW55IHNwYWNlcy5cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzcGFjZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzcGFjZTsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudCArPSBcIiBcIjtcbiAgICAgICAgICAgICAgICB9XG5cbi8vIElmIHRoZSBzcGFjZSBwYXJhbWV0ZXIgaXMgYSBzdHJpbmcsIGl0IHdpbGwgYmUgdXNlZCBhcyB0aGUgaW5kZW50IHN0cmluZy5cblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3BhY2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBpbmRlbnQgPSBzcGFjZTtcbiAgICAgICAgICAgIH1cblxuLy8gSWYgdGhlcmUgaXMgYSByZXBsYWNlciwgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIGFuIGFycmF5LlxuLy8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvci5cblxuICAgICAgICAgICAgcmVwID0gcmVwbGFjZXI7XG4gICAgICAgICAgICBpZiAocmVwbGFjZXIgJiYgdHlwZW9mIHJlcGxhY2VyICE9PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiByZXBsYWNlciAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcmVwbGFjZXIubGVuZ3RoICE9PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkpTT04uc3RyaW5naWZ5XCIpO1xuICAgICAgICAgICAgfVxuXG4vLyBNYWtlIGEgZmFrZSByb290IG9iamVjdCBjb250YWluaW5nIG91ciB2YWx1ZSB1bmRlciB0aGUga2V5IG9mIFwiXCIuXG4vLyBSZXR1cm4gdGhlIHJlc3VsdCBvZiBzdHJpbmdpZnlpbmcgdGhlIHZhbHVlLlxuXG4gICAgICAgICAgICByZXR1cm4gc3RyKFwiXCIsIHtcIlwiOiB2YWx1ZX0pO1xuICAgICAgICB9O1xuICAgIH1cblxuXG4vLyBJZiB0aGUgSlNPTiBvYmplY3QgZG9lcyBub3QgeWV0IGhhdmUgYSBwYXJzZSBtZXRob2QsIGdpdmUgaXQgb25lLlxuXG4gICAgaWYgKHR5cGVvZiBKU09OLnBhcnNlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgSlNPTi5wYXJzZSA9IGZ1bmN0aW9uICh0ZXh0LCByZXZpdmVyKSB7XG5cbi8vIFRoZSBwYXJzZSBtZXRob2QgdGFrZXMgYSB0ZXh0IGFuZCBhbiBvcHRpb25hbCByZXZpdmVyIGZ1bmN0aW9uLCBhbmQgcmV0dXJuc1xuLy8gYSBKYXZhU2NyaXB0IHZhbHVlIGlmIHRoZSB0ZXh0IGlzIGEgdmFsaWQgSlNPTiB0ZXh0LlxuXG4gICAgICAgICAgICB2YXIgajtcblxuICAgICAgICAgICAgZnVuY3Rpb24gd2Fsayhob2xkZXIsIGtleSkge1xuXG4vLyBUaGUgd2FsayBtZXRob2QgaXMgdXNlZCB0byByZWN1cnNpdmVseSB3YWxrIHRoZSByZXN1bHRpbmcgc3RydWN0dXJlIHNvXG4vLyB0aGF0IG1vZGlmaWNhdGlvbnMgY2FuIGJlIG1hZGUuXG5cbiAgICAgICAgICAgICAgICB2YXIgaztcbiAgICAgICAgICAgICAgICB2YXIgdjtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBob2xkZXJba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtrXSA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG5cblxuLy8gUGFyc2luZyBoYXBwZW5zIGluIGZvdXIgc3RhZ2VzLiBJbiB0aGUgZmlyc3Qgc3RhZ2UsIHdlIHJlcGxhY2UgY2VydGFpblxuLy8gVW5pY29kZSBjaGFyYWN0ZXJzIHdpdGggZXNjYXBlIHNlcXVlbmNlcy4gSmF2YVNjcmlwdCBoYW5kbGVzIG1hbnkgY2hhcmFjdGVyc1xuLy8gaW5jb3JyZWN0bHksIGVpdGhlciBzaWxlbnRseSBkZWxldGluZyB0aGVtLCBvciB0cmVhdGluZyB0aGVtIGFzIGxpbmUgZW5kaW5ncy5cblxuICAgICAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0KTtcbiAgICAgICAgICAgIHJ4X2Rhbmdlcm91cy5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgaWYgKHJ4X2Rhbmdlcm91cy50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShyeF9kYW5nZXJvdXMsIGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlxcXFx1XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIjAwMDBcIiArIGEuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuLy8gSW4gdGhlIHNlY29uZCBzdGFnZSwgd2UgcnVuIHRoZSB0ZXh0IGFnYWluc3QgcmVndWxhciBleHByZXNzaW9ucyB0aGF0IGxvb2tcbi8vIGZvciBub24tSlNPTiBwYXR0ZXJucy4gV2UgYXJlIGVzcGVjaWFsbHkgY29uY2VybmVkIHdpdGggXCIoKVwiIGFuZCBcIm5ld1wiXG4vLyBiZWNhdXNlIHRoZXkgY2FuIGNhdXNlIGludm9jYXRpb24sIGFuZCBcIj1cIiBiZWNhdXNlIGl0IGNhbiBjYXVzZSBtdXRhdGlvbi5cbi8vIEJ1dCBqdXN0IHRvIGJlIHNhZmUsIHdlIHdhbnQgdG8gcmVqZWN0IGFsbCB1bmV4cGVjdGVkIGZvcm1zLlxuXG4vLyBXZSBzcGxpdCB0aGUgc2Vjb25kIHN0YWdlIGludG8gNCByZWdleHAgb3BlcmF0aW9ucyBpbiBvcmRlciB0byB3b3JrIGFyb3VuZFxuLy8gY3JpcHBsaW5nIGluZWZmaWNpZW5jaWVzIGluIElFJ3MgYW5kIFNhZmFyaSdzIHJlZ2V4cCBlbmdpbmVzLiBGaXJzdCB3ZVxuLy8gcmVwbGFjZSB0aGUgSlNPTiBiYWNrc2xhc2ggcGFpcnMgd2l0aCBcIkBcIiAoYSBub24tSlNPTiBjaGFyYWN0ZXIpLiBTZWNvbmQsIHdlXG4vLyByZXBsYWNlIGFsbCBzaW1wbGUgdmFsdWUgdG9rZW5zIHdpdGggXCJdXCIgY2hhcmFjdGVycy4gVGhpcmQsIHdlIGRlbGV0ZSBhbGxcbi8vIG9wZW4gYnJhY2tldHMgdGhhdCBmb2xsb3cgYSBjb2xvbiBvciBjb21tYSBvciB0aGF0IGJlZ2luIHRoZSB0ZXh0LiBGaW5hbGx5LFxuLy8gd2UgbG9vayB0byBzZWUgdGhhdCB0aGUgcmVtYWluaW5nIGNoYXJhY3RlcnMgYXJlIG9ubHkgd2hpdGVzcGFjZSBvciBcIl1cIiBvclxuLy8gXCIsXCIgb3IgXCI6XCIgb3IgXCJ7XCIgb3IgXCJ9XCIuIElmIHRoYXQgaXMgc28sIHRoZW4gdGhlIHRleHQgaXMgc2FmZSBmb3IgZXZhbC5cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHJ4X29uZS50ZXN0KFxuICAgICAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShyeF90d28sIFwiQFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UocnhfdGhyZWUsIFwiXVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UocnhfZm91ciwgXCJcIilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcblxuLy8gSW4gdGhlIHRoaXJkIHN0YWdlIHdlIHVzZSB0aGUgZXZhbCBmdW5jdGlvbiB0byBjb21waWxlIHRoZSB0ZXh0IGludG8gYVxuLy8gSmF2YVNjcmlwdCBzdHJ1Y3R1cmUuIFRoZSBcIntcIiBvcGVyYXRvciBpcyBzdWJqZWN0IHRvIGEgc3ludGFjdGljIGFtYmlndWl0eVxuLy8gaW4gSmF2YVNjcmlwdDogaXQgY2FuIGJlZ2luIGEgYmxvY2sgb3IgYW4gb2JqZWN0IGxpdGVyYWwuIFdlIHdyYXAgdGhlIHRleHRcbi8vIGluIHBhcmVucyB0byBlbGltaW5hdGUgdGhlIGFtYmlndWl0eS5cblxuICAgICAgICAgICAgICAgIGogPSBldmFsKFwiKFwiICsgdGV4dCArIFwiKVwiKTtcblxuLy8gSW4gdGhlIG9wdGlvbmFsIGZvdXJ0aCBzdGFnZSwgd2UgcmVjdXJzaXZlbHkgd2FsayB0aGUgbmV3IHN0cnVjdHVyZSwgcGFzc2luZ1xuLy8gZWFjaCBuYW1lL3ZhbHVlIHBhaXIgdG8gYSByZXZpdmVyIGZ1bmN0aW9uIGZvciBwb3NzaWJsZSB0cmFuc2Zvcm1hdGlvbi5cblxuICAgICAgICAgICAgICAgIHJldHVybiAodHlwZW9mIHJldml2ZXIgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICAgICAgPyB3YWxrKHtcIlwiOiBqfSwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgOiBqO1xuICAgICAgICAgICAgfVxuXG4vLyBJZiB0aGUgdGV4dCBpcyBub3QgSlNPTiBwYXJzZWFibGUsIHRoZW4gYSBTeW50YXhFcnJvciBpcyB0aHJvd24uXG5cbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkpTT04ucGFyc2VcIik7XG4gICAgICAgIH07XG4gICAgfVxufSgpKTsiLCJ2YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpXG52YXIgc2xpY2UgPSB1dGlsLnNsaWNlXG52YXIgcGx1Y2sgPSB1dGlsLnBsdWNrXG52YXIgZWFjaCA9IHV0aWwuZWFjaFxudmFyIGJpbmQgPSB1dGlsLmJpbmRcbnZhciBjcmVhdGUgPSB1dGlsLmNyZWF0ZVxudmFyIGlzTGlzdCA9IHV0aWwuaXNMaXN0XG52YXIgaXNGdW5jdGlvbiA9IHV0aWwuaXNGdW5jdGlvblxudmFyIGlzT2JqZWN0ID0gdXRpbC5pc09iamVjdFxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0Y3JlYXRlU3RvcmU6IGNyZWF0ZVN0b3JlXG59XG5cbnZhciBzdG9yZUFQSSA9IHtcblx0dmVyc2lvbjogJzIuMC4xMicsXG5cdGVuYWJsZWQ6IGZhbHNlLFxuXHRcblx0Ly8gZ2V0IHJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBrZXkuIElmIHRoYXQgdmFsdWVcblx0Ly8gaXMgdW5kZWZpbmVkLCBpdCByZXR1cm5zIG9wdGlvbmFsRGVmYXVsdFZhbHVlIGluc3RlYWQuXG5cdGdldDogZnVuY3Rpb24oa2V5LCBvcHRpb25hbERlZmF1bHRWYWx1ZSkge1xuXHRcdHZhciBkYXRhID0gdGhpcy5zdG9yYWdlLnJlYWQodGhpcy5fbmFtZXNwYWNlUHJlZml4ICsga2V5KVxuXHRcdHJldHVybiB0aGlzLl9kZXNlcmlhbGl6ZShkYXRhLCBvcHRpb25hbERlZmF1bHRWYWx1ZSlcblx0fSxcblxuXHQvLyBzZXQgd2lsbCBzdG9yZSB0aGUgZ2l2ZW4gdmFsdWUgYXQga2V5IGFuZCByZXR1cm5zIHZhbHVlLlxuXHQvLyBDYWxsaW5nIHNldCB3aXRoIHZhbHVlID09PSB1bmRlZmluZWQgaXMgZXF1aXZhbGVudCB0byBjYWxsaW5nIHJlbW92ZS5cblx0c2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlbW92ZShrZXkpXG5cdFx0fVxuXHRcdHRoaXMuc3RvcmFnZS53cml0ZSh0aGlzLl9uYW1lc3BhY2VQcmVmaXggKyBrZXksIHRoaXMuX3NlcmlhbGl6ZSh2YWx1ZSkpXG5cdFx0cmV0dXJuIHZhbHVlXG5cdH0sXG5cblx0Ly8gcmVtb3ZlIGRlbGV0ZXMgdGhlIGtleSBhbmQgdmFsdWUgc3RvcmVkIGF0IHRoZSBnaXZlbiBrZXkuXG5cdHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG5cdFx0dGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLl9uYW1lc3BhY2VQcmVmaXggKyBrZXkpXG5cdH0sXG5cblx0Ly8gZWFjaCB3aWxsIGNhbGwgdGhlIGdpdmVuIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2gga2V5LXZhbHVlIHBhaXJcblx0Ly8gaW4gdGhpcyBzdG9yZS5cblx0ZWFjaDogZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHR2YXIgc2VsZiA9IHRoaXNcblx0XHR0aGlzLnN0b3JhZ2UuZWFjaChmdW5jdGlvbih2YWwsIG5hbWVzcGFjZWRLZXkpIHtcblx0XHRcdGNhbGxiYWNrLmNhbGwoc2VsZiwgc2VsZi5fZGVzZXJpYWxpemUodmFsKSwgKG5hbWVzcGFjZWRLZXkgfHwgJycpLnJlcGxhY2Uoc2VsZi5fbmFtZXNwYWNlUmVnZXhwLCAnJykpXG5cdFx0fSlcblx0fSxcblxuXHQvLyBjbGVhckFsbCB3aWxsIHJlbW92ZSBhbGwgdGhlIHN0b3JlZCBrZXktdmFsdWUgcGFpcnMgaW4gdGhpcyBzdG9yZS5cblx0Y2xlYXJBbGw6IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuc3RvcmFnZS5jbGVhckFsbCgpXG5cdH0sXG5cblx0Ly8gYWRkaXRpb25hbCBmdW5jdGlvbmFsaXR5IHRoYXQgY2FuJ3QgbGl2ZSBpbiBwbHVnaW5zXG5cdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cdC8vIGhhc05hbWVzcGFjZSByZXR1cm5zIHRydWUgaWYgdGhpcyBzdG9yZSBpbnN0YW5jZSBoYXMgdGhlIGdpdmVuIG5hbWVzcGFjZS5cblx0aGFzTmFtZXNwYWNlOiBmdW5jdGlvbihuYW1lc3BhY2UpIHtcblx0XHRyZXR1cm4gKHRoaXMuX25hbWVzcGFjZVByZWZpeCA9PSAnX19zdG9yZWpzXycrbmFtZXNwYWNlKydfJylcblx0fSxcblxuXHQvLyBjcmVhdGVTdG9yZSBjcmVhdGVzIGEgc3RvcmUuanMgaW5zdGFuY2Ugd2l0aCB0aGUgZmlyc3Rcblx0Ly8gZnVuY3Rpb25pbmcgc3RvcmFnZSBpbiB0aGUgbGlzdCBvZiBzdG9yYWdlIGNhbmRpZGF0ZXMsXG5cdC8vIGFuZCBhcHBsaWVzIHRoZSB0aGUgZ2l2ZW4gbWl4aW5zIHRvIHRoZSBpbnN0YW5jZS5cblx0Y3JlYXRlU3RvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBjcmVhdGVTdG9yZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cdH0sXG5cdFxuXHRhZGRQbHVnaW46IGZ1bmN0aW9uKHBsdWdpbikge1xuXHRcdHRoaXMuX2FkZFBsdWdpbihwbHVnaW4pXG5cdH0sXG5cdFxuXHRuYW1lc3BhY2U6IGZ1bmN0aW9uKG5hbWVzcGFjZSkge1xuXHRcdHJldHVybiBjcmVhdGVTdG9yZSh0aGlzLnN0b3JhZ2UsIHRoaXMucGx1Z2lucywgbmFtZXNwYWNlKVxuXHR9XG59XG5cbmZ1bmN0aW9uIF93YXJuKCkge1xuXHR2YXIgX2NvbnNvbGUgPSAodHlwZW9mIGNvbnNvbGUgPT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogY29uc29sZSlcblx0aWYgKCFfY29uc29sZSkgeyByZXR1cm4gfVxuXHR2YXIgZm4gPSAoX2NvbnNvbGUud2FybiA/IF9jb25zb2xlLndhcm4gOiBfY29uc29sZS5sb2cpXG5cdGZuLmFwcGx5KF9jb25zb2xlLCBhcmd1bWVudHMpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHN0b3JhZ2VzLCBwbHVnaW5zLCBuYW1lc3BhY2UpIHtcblx0aWYgKCFuYW1lc3BhY2UpIHtcblx0XHRuYW1lc3BhY2UgPSAnJ1xuXHR9XG5cdGlmIChzdG9yYWdlcyAmJiAhaXNMaXN0KHN0b3JhZ2VzKSkge1xuXHRcdHN0b3JhZ2VzID0gW3N0b3JhZ2VzXVxuXHR9XG5cdGlmIChwbHVnaW5zICYmICFpc0xpc3QocGx1Z2lucykpIHtcblx0XHRwbHVnaW5zID0gW3BsdWdpbnNdXG5cdH1cblxuXHR2YXIgbmFtZXNwYWNlUHJlZml4ID0gKG5hbWVzcGFjZSA/ICdfX3N0b3JlanNfJytuYW1lc3BhY2UrJ18nIDogJycpXG5cdHZhciBuYW1lc3BhY2VSZWdleHAgPSAobmFtZXNwYWNlID8gbmV3IFJlZ0V4cCgnXicrbmFtZXNwYWNlUHJlZml4KSA6IG51bGwpXG5cdHZhciBsZWdhbE5hbWVzcGFjZXMgPSAvXlthLXpBLVowLTlfXFwtXSokLyAvLyBhbHBoYS1udW1lcmljICsgdW5kZXJzY29yZSBhbmQgZGFzaFxuXHRpZiAoIWxlZ2FsTmFtZXNwYWNlcy50ZXN0KG5hbWVzcGFjZSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ3N0b3JlLmpzIG5hbWVzcGFjZXMgY2FuIG9ubHkgaGF2ZSBhbHBoYW51bWVyaWNzICsgdW5kZXJzY29yZXMgYW5kIGRhc2hlcycpXG5cdH1cblx0XG5cdHZhciBfcHJpdmF0ZVN0b3JlUHJvcHMgPSB7XG5cdFx0X25hbWVzcGFjZVByZWZpeDogbmFtZXNwYWNlUHJlZml4LFxuXHRcdF9uYW1lc3BhY2VSZWdleHA6IG5hbWVzcGFjZVJlZ2V4cCxcblxuXHRcdF90ZXN0U3RvcmFnZTogZnVuY3Rpb24oc3RvcmFnZSkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIHRlc3RTdHIgPSAnX19zdG9yZWpzX190ZXN0X18nXG5cdFx0XHRcdHN0b3JhZ2Uud3JpdGUodGVzdFN0ciwgdGVzdFN0cilcblx0XHRcdFx0dmFyIG9rID0gKHN0b3JhZ2UucmVhZCh0ZXN0U3RyKSA9PT0gdGVzdFN0cilcblx0XHRcdFx0c3RvcmFnZS5yZW1vdmUodGVzdFN0cilcblx0XHRcdFx0cmV0dXJuIG9rXG5cdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9hc3NpZ25QbHVnaW5GblByb3A6IGZ1bmN0aW9uKHBsdWdpbkZuUHJvcCwgcHJvcE5hbWUpIHtcblx0XHRcdHZhciBvbGRGbiA9IHRoaXNbcHJvcE5hbWVdXG5cdFx0XHR0aGlzW3Byb3BOYW1lXSA9IGZ1bmN0aW9uIHBsdWdpbkZuKCkge1xuXHRcdFx0XHR2YXIgYXJncyA9IHNsaWNlKGFyZ3VtZW50cywgMClcblx0XHRcdFx0dmFyIHNlbGYgPSB0aGlzXG5cblx0XHRcdFx0Ly8gc3VwZXJfZm4gY2FsbHMgdGhlIG9sZCBmdW5jdGlvbiB3aGljaCB3YXMgb3ZlcndyaXR0ZW4gYnlcblx0XHRcdFx0Ly8gdGhpcyBtaXhpbi5cblx0XHRcdFx0ZnVuY3Rpb24gc3VwZXJfZm4oKSB7XG5cdFx0XHRcdFx0aWYgKCFvbGRGbikgeyByZXR1cm4gfVxuXHRcdFx0XHRcdGVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihhcmcsIGkpIHtcblx0XHRcdFx0XHRcdGFyZ3NbaV0gPSBhcmdcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdHJldHVybiBvbGRGbi5hcHBseShzZWxmLCBhcmdzKVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2l2ZSBtaXhpbmcgZnVuY3Rpb24gYWNjZXNzIHRvIHN1cGVyX2ZuIGJ5IHByZWZpeGluZyBhbGwgbWl4aW4gZnVuY3Rpb25cblx0XHRcdFx0Ly8gYXJndW1lbnRzIHdpdGggc3VwZXJfZm4uXG5cdFx0XHRcdHZhciBuZXdGbkFyZ3MgPSBbc3VwZXJfZm5dLmNvbmNhdChhcmdzKVxuXG5cdFx0XHRcdHJldHVybiBwbHVnaW5GblByb3AuYXBwbHkoc2VsZiwgbmV3Rm5BcmdzKVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfc2VyaWFsaXplOiBmdW5jdGlvbihvYmopIHtcblx0XHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopXG5cdFx0fSxcblxuXHRcdF9kZXNlcmlhbGl6ZTogZnVuY3Rpb24oc3RyVmFsLCBkZWZhdWx0VmFsKSB7XG5cdFx0XHRpZiAoIXN0clZhbCkgeyByZXR1cm4gZGVmYXVsdFZhbCB9XG5cdFx0XHQvLyBJdCBpcyBwb3NzaWJsZSB0aGF0IGEgcmF3IHN0cmluZyB2YWx1ZSBoYXMgYmVlbiBwcmV2aW91c2x5IHN0b3JlZFxuXHRcdFx0Ly8gaW4gYSBzdG9yYWdlIHdpdGhvdXQgdXNpbmcgc3RvcmUuanMsIG1lYW5pbmcgaXQgd2lsbCBiZSBhIHJhd1xuXHRcdFx0Ly8gc3RyaW5nIHZhbHVlIGluc3RlYWQgb2YgYSBKU09OIHNlcmlhbGl6ZWQgc3RyaW5nLiBCeSBkZWZhdWx0aW5nXG5cdFx0XHQvLyB0byB0aGUgcmF3IHN0cmluZyB2YWx1ZSBpbiBjYXNlIG9mIGEgSlNPTiBwYXJzZSBlcnJvciwgd2UgYWxsb3dcblx0XHRcdC8vIGZvciBwYXN0IHN0b3JlZCB2YWx1ZXMgdG8gYmUgZm9yd2FyZHMtY29tcGF0aWJsZSB3aXRoIHN0b3JlLmpzXG5cdFx0XHR2YXIgdmFsID0gJydcblx0XHRcdHRyeSB7IHZhbCA9IEpTT04ucGFyc2Uoc3RyVmFsKSB9XG5cdFx0XHRjYXRjaChlKSB7IHZhbCA9IHN0clZhbCB9XG5cblx0XHRcdHJldHVybiAodmFsICE9PSB1bmRlZmluZWQgPyB2YWwgOiBkZWZhdWx0VmFsKVxuXHRcdH0sXG5cdFx0XG5cdFx0X2FkZFN0b3JhZ2U6IGZ1bmN0aW9uKHN0b3JhZ2UpIHtcblx0XHRcdGlmICh0aGlzLmVuYWJsZWQpIHsgcmV0dXJuIH1cblx0XHRcdGlmICh0aGlzLl90ZXN0U3RvcmFnZShzdG9yYWdlKSkge1xuXHRcdFx0XHR0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlXG5cdFx0XHRcdHRoaXMuZW5hYmxlZCA9IHRydWVcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2FkZFBsdWdpbjogZnVuY3Rpb24ocGx1Z2luKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXNcblxuXHRcdFx0Ly8gSWYgdGhlIHBsdWdpbiBpcyBhbiBhcnJheSwgdGhlbiBhZGQgYWxsIHBsdWdpbnMgaW4gdGhlIGFycmF5LlxuXHRcdFx0Ly8gVGhpcyBhbGxvd3MgZm9yIGEgcGx1Z2luIHRvIGRlcGVuZCBvbiBvdGhlciBwbHVnaW5zLlxuXHRcdFx0aWYgKGlzTGlzdChwbHVnaW4pKSB7XG5cdFx0XHRcdGVhY2gocGx1Z2luLCBmdW5jdGlvbihwbHVnaW4pIHtcblx0XHRcdFx0XHRzZWxmLl9hZGRQbHVnaW4ocGx1Z2luKVxuXHRcdFx0XHR9KVxuXHRcdFx0XHRyZXR1cm5cblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiBhbGwgcGx1Z2lucyB3ZSd2ZSBzZWVuIHNvIGZhciwgc28gdGhhdCB3ZVxuXHRcdFx0Ly8gZG9uJ3QgYWRkIGFueSBvZiB0aGVtIHR3aWNlLlxuXHRcdFx0dmFyIHNlZW5QbHVnaW4gPSBwbHVjayh0aGlzLnBsdWdpbnMsIGZ1bmN0aW9uKHNlZW5QbHVnaW4pIHtcblx0XHRcdFx0cmV0dXJuIChwbHVnaW4gPT09IHNlZW5QbHVnaW4pXG5cdFx0XHR9KVxuXHRcdFx0aWYgKHNlZW5QbHVnaW4pIHtcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBsdWdpbnMucHVzaChwbHVnaW4pXG5cblx0XHRcdC8vIENoZWNrIHRoYXQgdGhlIHBsdWdpbiBpcyBwcm9wZXJseSBmb3JtZWRcblx0XHRcdGlmICghaXNGdW5jdGlvbihwbHVnaW4pKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignUGx1Z2lucyBtdXN0IGJlIGZ1bmN0aW9uIHZhbHVlcyB0aGF0IHJldHVybiBvYmplY3RzJylcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBsdWdpblByb3BlcnRpZXMgPSBwbHVnaW4uY2FsbCh0aGlzKVxuXHRcdFx0aWYgKCFpc09iamVjdChwbHVnaW5Qcm9wZXJ0aWVzKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1BsdWdpbnMgbXVzdCByZXR1cm4gYW4gb2JqZWN0IG9mIGZ1bmN0aW9uIHByb3BlcnRpZXMnKVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgdGhlIHBsdWdpbiBmdW5jdGlvbiBwcm9wZXJ0aWVzIHRvIHRoaXMgc3RvcmUgaW5zdGFuY2UuXG5cdFx0XHRlYWNoKHBsdWdpblByb3BlcnRpZXMsIGZ1bmN0aW9uKHBsdWdpbkZuUHJvcCwgcHJvcE5hbWUpIHtcblx0XHRcdFx0aWYgKCFpc0Z1bmN0aW9uKHBsdWdpbkZuUHJvcCkpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0JhZCBwbHVnaW4gcHJvcGVydHk6ICcrcHJvcE5hbWUrJyBmcm9tIHBsdWdpbiAnK3BsdWdpbi5uYW1lKycuIFBsdWdpbnMgc2hvdWxkIG9ubHkgcmV0dXJuIGZ1bmN0aW9ucy4nKVxuXHRcdFx0XHR9XG5cdFx0XHRcdHNlbGYuX2Fzc2lnblBsdWdpbkZuUHJvcChwbHVnaW5GblByb3AsIHByb3BOYW1lKVxuXHRcdFx0fSlcblx0XHR9LFxuXHRcdFxuXHRcdC8vIFB1dCBkZXByZWNhdGVkIHByb3BlcnRpZXMgaW4gdGhlIHByaXZhdGUgQVBJLCBzbyBhcyB0byBub3QgZXhwb3NlIGl0IHRvIGFjY2lkZW50aWFsXG5cdFx0Ly8gZGlzY292ZXJ5IHRocm91Z2ggaW5zcGVjdGlvbiBvZiB0aGUgc3RvcmUgb2JqZWN0LlxuXHRcdFxuXHRcdC8vIERlcHJlY2F0ZWQ6IGFkZFN0b3JhZ2Vcblx0XHRhZGRTdG9yYWdlOiBmdW5jdGlvbihzdG9yYWdlKSB7XG5cdFx0XHRfd2Fybignc3RvcmUuYWRkU3RvcmFnZShzdG9yYWdlKSBpcyBkZXByZWNhdGVkLiBVc2UgY3JlYXRlU3RvcmUoW3N0b3JhZ2VzXSknKVxuXHRcdFx0dGhpcy5fYWRkU3RvcmFnZShzdG9yYWdlKVxuXHRcdH1cblx0fVxuXG5cdHZhciBzdG9yZSA9IGNyZWF0ZShfcHJpdmF0ZVN0b3JlUHJvcHMsIHN0b3JlQVBJLCB7XG5cdFx0cGx1Z2luczogW11cblx0fSlcblx0c3RvcmUucmF3ID0ge31cblx0ZWFjaChzdG9yZSwgZnVuY3Rpb24ocHJvcCwgcHJvcE5hbWUpIHtcblx0XHRpZiAoaXNGdW5jdGlvbihwcm9wKSkge1xuXHRcdFx0c3RvcmUucmF3W3Byb3BOYW1lXSA9IGJpbmQoc3RvcmUsIHByb3ApXHRcdFx0XG5cdFx0fVxuXHR9KVxuXHRlYWNoKHN0b3JhZ2VzLCBmdW5jdGlvbihzdG9yYWdlKSB7XG5cdFx0c3RvcmUuX2FkZFN0b3JhZ2Uoc3RvcmFnZSlcblx0fSlcblx0ZWFjaChwbHVnaW5zLCBmdW5jdGlvbihwbHVnaW4pIHtcblx0XHRzdG9yZS5fYWRkUGx1Z2luKHBsdWdpbilcblx0fSlcblx0cmV0dXJuIHN0b3JlXG59XG4iLCJ2YXIgYXNzaWduID0gbWFrZV9hc3NpZ24oKVxudmFyIGNyZWF0ZSA9IG1ha2VfY3JlYXRlKClcbnZhciB0cmltID0gbWFrZV90cmltKClcbnZhciBHbG9iYWwgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRhc3NpZ246IGFzc2lnbixcblx0Y3JlYXRlOiBjcmVhdGUsXG5cdHRyaW06IHRyaW0sXG5cdGJpbmQ6IGJpbmQsXG5cdHNsaWNlOiBzbGljZSxcblx0ZWFjaDogZWFjaCxcblx0bWFwOiBtYXAsXG5cdHBsdWNrOiBwbHVjayxcblx0aXNMaXN0OiBpc0xpc3QsXG5cdGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG5cdGlzT2JqZWN0OiBpc09iamVjdCxcblx0R2xvYmFsOiBHbG9iYWxcbn1cblxuZnVuY3Rpb24gbWFrZV9hc3NpZ24oKSB7XG5cdGlmIChPYmplY3QuYXNzaWduKSB7XG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ25cblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24gc2hpbUFzc2lnbihvYmosIHByb3BzMSwgcHJvcHMyLCBldGMpIHtcblx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGVhY2goT2JqZWN0KGFyZ3VtZW50c1tpXSksIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG5cdFx0XHRcdFx0b2JqW2tleV0gPSB2YWxcblx0XHRcdFx0fSlcblx0XHRcdH1cdFx0XHRcblx0XHRcdHJldHVybiBvYmpcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbWFrZV9jcmVhdGUoKSB7XG5cdGlmIChPYmplY3QuY3JlYXRlKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZShvYmosIGFzc2lnblByb3BzMSwgYXNzaWduUHJvcHMyLCBldGMpIHtcblx0XHRcdHZhciBhc3NpZ25BcmdzTGlzdCA9IHNsaWNlKGFyZ3VtZW50cywgMSlcblx0XHRcdHJldHVybiBhc3NpZ24uYXBwbHkodGhpcywgW09iamVjdC5jcmVhdGUob2JqKV0uY29uY2F0KGFzc2lnbkFyZ3NMaXN0KSlcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0ZnVuY3Rpb24gRigpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW5uZXItZGVjbGFyYXRpb25zXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZShvYmosIGFzc2lnblByb3BzMSwgYXNzaWduUHJvcHMyLCBldGMpIHtcblx0XHRcdHZhciBhc3NpZ25BcmdzTGlzdCA9IHNsaWNlKGFyZ3VtZW50cywgMSlcblx0XHRcdEYucHJvdG90eXBlID0gb2JqXG5cdFx0XHRyZXR1cm4gYXNzaWduLmFwcGx5KHRoaXMsIFtuZXcgRigpXS5jb25jYXQoYXNzaWduQXJnc0xpc3QpKVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBtYWtlX3RyaW0oKSB7XG5cdGlmIChTdHJpbmcucHJvdG90eXBlLnRyaW0pIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24gdHJpbShzdHIpIHtcblx0XHRcdHJldHVybiBTdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbChzdHIpXG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBmdW5jdGlvbiB0cmltKHN0cikge1xuXHRcdFx0cmV0dXJuIHN0ci5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZywgJycpXG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGJpbmQob2JqLCBmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGZuLmFwcGx5KG9iaiwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSlcblx0fVxufVxuXG5mdW5jdGlvbiBzbGljZShhcnIsIGluZGV4KSB7XG5cdHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIsIGluZGV4IHx8IDApXG59XG5cbmZ1bmN0aW9uIGVhY2gob2JqLCBmbikge1xuXHRwbHVjayhvYmosIGZ1bmN0aW9uKHZhbCwga2V5KSB7XG5cdFx0Zm4odmFsLCBrZXkpXG5cdFx0cmV0dXJuIGZhbHNlXG5cdH0pXG59XG5cbmZ1bmN0aW9uIG1hcChvYmosIGZuKSB7XG5cdHZhciByZXMgPSAoaXNMaXN0KG9iaikgPyBbXSA6IHt9KVxuXHRwbHVjayhvYmosIGZ1bmN0aW9uKHYsIGspIHtcblx0XHRyZXNba10gPSBmbih2LCBrKVxuXHRcdHJldHVybiBmYWxzZVxuXHR9KVxuXHRyZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIHBsdWNrKG9iaiwgZm4pIHtcblx0aWYgKGlzTGlzdChvYmopKSB7XG5cdFx0Zm9yICh2YXIgaT0wOyBpPG9iai5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGZuKG9ialtpXSwgaSkpIHtcblx0XHRcdFx0cmV0dXJuIG9ialtpXVxuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdFx0XHRpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdFx0aWYgKGZuKG9ialtrZXldLCBrZXkpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9ialtrZXldXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gaXNMaXN0KHZhbCkge1xuXHRyZXR1cm4gKHZhbCAhPSBudWxsICYmIHR5cGVvZiB2YWwgIT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsLmxlbmd0aCA9PSAnbnVtYmVyJylcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcblx0cmV0dXJuIHZhbCAmJiB7fS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSdcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG5cdHJldHVybiB2YWwgJiYge30udG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJ1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBbXG5cdC8vIExpc3RlZCBpbiBvcmRlciBvZiB1c2FnZSBwcmVmZXJlbmNlXG5cdHJlcXVpcmUoJy4vbG9jYWxTdG9yYWdlJyksXG5cdHJlcXVpcmUoJy4vb2xkRkYtZ2xvYmFsU3RvcmFnZScpLFxuXHRyZXF1aXJlKCcuL29sZElFLXVzZXJEYXRhU3RvcmFnZScpLFxuXHRyZXF1aXJlKCcuL2Nvb2tpZVN0b3JhZ2UnKSxcblx0cmVxdWlyZSgnLi9zZXNzaW9uU3RvcmFnZScpLFxuXHRyZXF1aXJlKCcuL21lbW9yeVN0b3JhZ2UnKVxuXVxuIiwiLy8gY29va2llU3RvcmFnZSBpcyB1c2VmdWwgU2FmYXJpIHByaXZhdGUgYnJvd3NlciBtb2RlLCB3aGVyZSBsb2NhbFN0b3JhZ2Vcbi8vIGRvZXNuJ3Qgd29yayBidXQgY29va2llcyBkby4gVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBhZG9wdGVkIGZyb21cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9TdG9yYWdlL0xvY2FsU3RvcmFnZVxuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3NyYy91dGlsJylcbnZhciBHbG9iYWwgPSB1dGlsLkdsb2JhbFxudmFyIHRyaW0gPSB1dGlsLnRyaW1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdG5hbWU6ICdjb29raWVTdG9yYWdlJyxcblx0cmVhZDogcmVhZCxcblx0d3JpdGU6IHdyaXRlLFxuXHRlYWNoOiBlYWNoLFxuXHRyZW1vdmU6IHJlbW92ZSxcblx0Y2xlYXJBbGw6IGNsZWFyQWxsLFxufVxuXG52YXIgZG9jID0gR2xvYmFsLmRvY3VtZW50XG5cbmZ1bmN0aW9uIHJlYWQoa2V5KSB7XG5cdGlmICgha2V5IHx8ICFfaGFzKGtleSkpIHsgcmV0dXJuIG51bGwgfVxuXHR2YXIgcmVnZXhwU3RyID0gXCIoPzpefC4qO1xcXFxzKilcIiArXG5cdFx0ZXNjYXBlKGtleSkucmVwbGFjZSgvW1xcLVxcLlxcK1xcKl0vZywgXCJcXFxcJCZcIikgK1xuXHRcdFwiXFxcXHMqXFxcXD1cXFxccyooKD86W147XSg/ITspKSpbXjtdPykuKlwiXG5cdHJldHVybiB1bmVzY2FwZShkb2MuY29va2llLnJlcGxhY2UobmV3IFJlZ0V4cChyZWdleHBTdHIpLCBcIiQxXCIpKVxufVxuXG5mdW5jdGlvbiBlYWNoKGNhbGxiYWNrKSB7XG5cdHZhciBjb29raWVzID0gZG9jLmNvb2tpZS5zcGxpdCgvOyA/L2cpXG5cdGZvciAodmFyIGkgPSBjb29raWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0aWYgKCF0cmltKGNvb2tpZXNbaV0pKSB7XG5cdFx0XHRjb250aW51ZVxuXHRcdH1cblx0XHR2YXIga3ZwID0gY29va2llc1tpXS5zcGxpdCgnPScpXG5cdFx0dmFyIGtleSA9IHVuZXNjYXBlKGt2cFswXSlcblx0XHR2YXIgdmFsID0gdW5lc2NhcGUoa3ZwWzFdKVxuXHRcdGNhbGxiYWNrKHZhbCwga2V5KVxuXHR9XG59XG5cbmZ1bmN0aW9uIHdyaXRlKGtleSwgZGF0YSkge1xuXHRpZigha2V5KSB7IHJldHVybiB9XG5cdGRvYy5jb29raWUgPSBlc2NhcGUoa2V5KSArIFwiPVwiICsgZXNjYXBlKGRhdGEpICsgXCI7IGV4cGlyZXM9VHVlLCAxOSBKYW4gMjAzOCAwMzoxNDowNyBHTVQ7IHBhdGg9L1wiXG59XG5cbmZ1bmN0aW9uIHJlbW92ZShrZXkpIHtcblx0aWYgKCFrZXkgfHwgIV9oYXMoa2V5KSkge1xuXHRcdHJldHVyblxuXHR9XG5cdGRvYy5jb29raWUgPSBlc2NhcGUoa2V5KSArIFwiPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVDsgcGF0aD0vXCJcbn1cblxuZnVuY3Rpb24gY2xlYXJBbGwoKSB7XG5cdGVhY2goZnVuY3Rpb24oXywga2V5KSB7XG5cdFx0cmVtb3ZlKGtleSlcblx0fSlcbn1cblxuZnVuY3Rpb24gX2hhcyhrZXkpIHtcblx0cmV0dXJuIChuZXcgUmVnRXhwKFwiKD86Xnw7XFxcXHMqKVwiICsgZXNjYXBlKGtleSkucmVwbGFjZSgvW1xcLVxcLlxcK1xcKl0vZywgXCJcXFxcJCZcIikgKyBcIlxcXFxzKlxcXFw9XCIpKS50ZXN0KGRvYy5jb29raWUpXG59XG4iLCJ2YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3NyYy91dGlsJylcbnZhciBHbG9iYWwgPSB1dGlsLkdsb2JhbFxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0bmFtZTogJ2xvY2FsU3RvcmFnZScsXG5cdHJlYWQ6IHJlYWQsXG5cdHdyaXRlOiB3cml0ZSxcblx0ZWFjaDogZWFjaCxcblx0cmVtb3ZlOiByZW1vdmUsXG5cdGNsZWFyQWxsOiBjbGVhckFsbCxcbn1cblxuZnVuY3Rpb24gbG9jYWxTdG9yYWdlKCkge1xuXHRyZXR1cm4gR2xvYmFsLmxvY2FsU3RvcmFnZVxufVxuXG5mdW5jdGlvbiByZWFkKGtleSkge1xuXHRyZXR1cm4gbG9jYWxTdG9yYWdlKCkuZ2V0SXRlbShrZXkpXG59XG5cbmZ1bmN0aW9uIHdyaXRlKGtleSwgZGF0YSkge1xuXHRyZXR1cm4gbG9jYWxTdG9yYWdlKCkuc2V0SXRlbShrZXksIGRhdGEpXG59XG5cbmZ1bmN0aW9uIGVhY2goZm4pIHtcblx0Zm9yICh2YXIgaSA9IGxvY2FsU3RvcmFnZSgpLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0dmFyIGtleSA9IGxvY2FsU3RvcmFnZSgpLmtleShpKVxuXHRcdGZuKHJlYWQoa2V5KSwga2V5KVxuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZShrZXkpIHtcblx0cmV0dXJuIGxvY2FsU3RvcmFnZSgpLnJlbW92ZUl0ZW0oa2V5KVxufVxuXG5mdW5jdGlvbiBjbGVhckFsbCgpIHtcblx0cmV0dXJuIGxvY2FsU3RvcmFnZSgpLmNsZWFyKClcbn1cbiIsIi8vIG1lbW9yeVN0b3JhZ2UgaXMgYSB1c2VmdWwgbGFzdCBmYWxsYmFjayB0byBlbnN1cmUgdGhhdCB0aGUgc3RvcmVcbi8vIGlzIGZ1bmN0aW9ucyAobWVhbmluZyBzdG9yZS5nZXQoKSwgc3RvcmUuc2V0KCksIGV0YyB3aWxsIGFsbCBmdW5jdGlvbikuXG4vLyBIb3dldmVyLCBzdG9yZWQgdmFsdWVzIHdpbGwgbm90IHBlcnNpc3Qgd2hlbiB0aGUgYnJvd3NlciBuYXZpZ2F0ZXMgdG9cbi8vIGEgbmV3IHBhZ2Ugb3IgcmVsb2FkcyB0aGUgY3VycmVudCBwYWdlLlxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0bmFtZTogJ21lbW9yeVN0b3JhZ2UnLFxuXHRyZWFkOiByZWFkLFxuXHR3cml0ZTogd3JpdGUsXG5cdGVhY2g6IGVhY2gsXG5cdHJlbW92ZTogcmVtb3ZlLFxuXHRjbGVhckFsbDogY2xlYXJBbGwsXG59XG5cbnZhciBtZW1vcnlTdG9yYWdlID0ge31cblxuZnVuY3Rpb24gcmVhZChrZXkpIHtcblx0cmV0dXJuIG1lbW9yeVN0b3JhZ2Vba2V5XVxufVxuXG5mdW5jdGlvbiB3cml0ZShrZXksIGRhdGEpIHtcblx0bWVtb3J5U3RvcmFnZVtrZXldID0gZGF0YVxufVxuXG5mdW5jdGlvbiBlYWNoKGNhbGxiYWNrKSB7XG5cdGZvciAodmFyIGtleSBpbiBtZW1vcnlTdG9yYWdlKSB7XG5cdFx0aWYgKG1lbW9yeVN0b3JhZ2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0Y2FsbGJhY2sobWVtb3J5U3RvcmFnZVtrZXldLCBrZXkpXG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZShrZXkpIHtcblx0ZGVsZXRlIG1lbW9yeVN0b3JhZ2Vba2V5XVxufVxuXG5mdW5jdGlvbiBjbGVhckFsbChrZXkpIHtcblx0bWVtb3J5U3RvcmFnZSA9IHt9XG59XG4iLCIvLyBvbGRGRi1nbG9iYWxTdG9yYWdlIHByb3ZpZGVzIHN0b3JhZ2UgZm9yIEZpcmVmb3hcbi8vIHZlcnNpb25zIDYgYW5kIDcsIHdoZXJlIG5vIGxvY2FsU3RvcmFnZSwgZXRjXG4vLyBpcyBhdmFpbGFibGUuXG5cbnZhciB1dGlsID0gcmVxdWlyZSgnLi4vc3JjL3V0aWwnKVxudmFyIEdsb2JhbCA9IHV0aWwuR2xvYmFsXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRuYW1lOiAnb2xkRkYtZ2xvYmFsU3RvcmFnZScsXG5cdHJlYWQ6IHJlYWQsXG5cdHdyaXRlOiB3cml0ZSxcblx0ZWFjaDogZWFjaCxcblx0cmVtb3ZlOiByZW1vdmUsXG5cdGNsZWFyQWxsOiBjbGVhckFsbCxcbn1cblxudmFyIGdsb2JhbFN0b3JhZ2UgPSBHbG9iYWwuZ2xvYmFsU3RvcmFnZVxuXG5mdW5jdGlvbiByZWFkKGtleSkge1xuXHRyZXR1cm4gZ2xvYmFsU3RvcmFnZVtrZXldXG59XG5cbmZ1bmN0aW9uIHdyaXRlKGtleSwgZGF0YSkge1xuXHRnbG9iYWxTdG9yYWdlW2tleV0gPSBkYXRhXG59XG5cbmZ1bmN0aW9uIGVhY2goZm4pIHtcblx0Zm9yICh2YXIgaSA9IGdsb2JhbFN0b3JhZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHR2YXIga2V5ID0gZ2xvYmFsU3RvcmFnZS5rZXkoaSlcblx0XHRmbihnbG9iYWxTdG9yYWdlW2tleV0sIGtleSlcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmUoa2V5KSB7XG5cdHJldHVybiBnbG9iYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KVxufVxuXG5mdW5jdGlvbiBjbGVhckFsbCgpIHtcblx0ZWFjaChmdW5jdGlvbihrZXksIF8pIHtcblx0XHRkZWxldGUgZ2xvYmFsU3RvcmFnZVtrZXldXG5cdH0pXG59XG4iLCIvLyBvbGRJRS11c2VyRGF0YVN0b3JhZ2UgcHJvdmlkZXMgc3RvcmFnZSBmb3IgSW50ZXJuZXQgRXhwbG9yZXJcbi8vIHZlcnNpb25zIDYgYW5kIDcsIHdoZXJlIG5vIGxvY2FsU3RvcmFnZSwgc2Vzc2lvblN0b3JhZ2UsIGV0Y1xuLy8gaXMgYXZhaWxhYmxlLlxuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3NyYy91dGlsJylcbnZhciBHbG9iYWwgPSB1dGlsLkdsb2JhbFxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0bmFtZTogJ29sZElFLXVzZXJEYXRhU3RvcmFnZScsXG5cdHdyaXRlOiB3cml0ZSxcblx0cmVhZDogcmVhZCxcblx0ZWFjaDogZWFjaCxcblx0cmVtb3ZlOiByZW1vdmUsXG5cdGNsZWFyQWxsOiBjbGVhckFsbCxcbn1cblxudmFyIHN0b3JhZ2VOYW1lID0gJ3N0b3JlanMnXG52YXIgZG9jID0gR2xvYmFsLmRvY3VtZW50XG52YXIgX3dpdGhTdG9yYWdlRWwgPSBfbWFrZUlFU3RvcmFnZUVsRnVuY3Rpb24oKVxudmFyIGRpc2FibGUgPSAoR2xvYmFsLm5hdmlnYXRvciA/IEdsb2JhbC5uYXZpZ2F0b3IudXNlckFnZW50IDogJycpLm1hdGNoKC8gKE1TSUUgOHxNU0lFIDl8TVNJRSAxMClcXC4vKSAvLyBNU0lFIDkueCwgTVNJRSAxMC54XG5cbmZ1bmN0aW9uIHdyaXRlKHVuZml4ZWRLZXksIGRhdGEpIHtcblx0aWYgKGRpc2FibGUpIHsgcmV0dXJuIH1cblx0dmFyIGZpeGVkS2V5ID0gZml4S2V5KHVuZml4ZWRLZXkpXG5cdF93aXRoU3RvcmFnZUVsKGZ1bmN0aW9uKHN0b3JhZ2VFbCkge1xuXHRcdHN0b3JhZ2VFbC5zZXRBdHRyaWJ1dGUoZml4ZWRLZXksIGRhdGEpXG5cdFx0c3RvcmFnZUVsLnNhdmUoc3RvcmFnZU5hbWUpXG5cdH0pXG59XG5cbmZ1bmN0aW9uIHJlYWQodW5maXhlZEtleSkge1xuXHRpZiAoZGlzYWJsZSkgeyByZXR1cm4gfVxuXHR2YXIgZml4ZWRLZXkgPSBmaXhLZXkodW5maXhlZEtleSlcblx0dmFyIHJlcyA9IG51bGxcblx0X3dpdGhTdG9yYWdlRWwoZnVuY3Rpb24oc3RvcmFnZUVsKSB7XG5cdFx0cmVzID0gc3RvcmFnZUVsLmdldEF0dHJpYnV0ZShmaXhlZEtleSlcblx0fSlcblx0cmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBlYWNoKGNhbGxiYWNrKSB7XG5cdF93aXRoU3RvcmFnZUVsKGZ1bmN0aW9uKHN0b3JhZ2VFbCkge1xuXHRcdHZhciBhdHRyaWJ1dGVzID0gc3RvcmFnZUVsLlhNTERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRyaWJ1dGVzXG5cdFx0Zm9yICh2YXIgaT1hdHRyaWJ1dGVzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcblx0XHRcdHZhciBhdHRyID0gYXR0cmlidXRlc1tpXVxuXHRcdFx0Y2FsbGJhY2soc3RvcmFnZUVsLmdldEF0dHJpYnV0ZShhdHRyLm5hbWUpLCBhdHRyLm5hbWUpXG5cdFx0fVxuXHR9KVxufVxuXG5mdW5jdGlvbiByZW1vdmUodW5maXhlZEtleSkge1xuXHR2YXIgZml4ZWRLZXkgPSBmaXhLZXkodW5maXhlZEtleSlcblx0X3dpdGhTdG9yYWdlRWwoZnVuY3Rpb24oc3RvcmFnZUVsKSB7XG5cdFx0c3RvcmFnZUVsLnJlbW92ZUF0dHJpYnV0ZShmaXhlZEtleSlcblx0XHRzdG9yYWdlRWwuc2F2ZShzdG9yYWdlTmFtZSlcblx0fSlcbn1cblxuZnVuY3Rpb24gY2xlYXJBbGwoKSB7XG5cdF93aXRoU3RvcmFnZUVsKGZ1bmN0aW9uKHN0b3JhZ2VFbCkge1xuXHRcdHZhciBhdHRyaWJ1dGVzID0gc3RvcmFnZUVsLlhNTERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRyaWJ1dGVzXG5cdFx0c3RvcmFnZUVsLmxvYWQoc3RvcmFnZU5hbWUpXG5cdFx0Zm9yICh2YXIgaT1hdHRyaWJ1dGVzLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcblx0XHRcdHN0b3JhZ2VFbC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlc1tpXS5uYW1lKVxuXHRcdH1cblx0XHRzdG9yYWdlRWwuc2F2ZShzdG9yYWdlTmFtZSlcblx0fSlcbn1cblxuLy8gSGVscGVyc1xuLy8vLy8vLy8vL1xuXG4vLyBJbiBJRTcsIGtleXMgY2Fubm90IHN0YXJ0IHdpdGggYSBkaWdpdCBvciBjb250YWluIGNlcnRhaW4gY2hhcnMuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcmN1c3dlc3Rpbi9zdG9yZS5qcy9pc3N1ZXMvNDBcbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFyY3Vzd2VzdGluL3N0b3JlLmpzL2lzc3Vlcy84M1xudmFyIGZvcmJpZGRlbkNoYXJzUmVnZXggPSBuZXcgUmVnRXhwKFwiWyFcXFwiIyQlJicoKSorLC9cXFxcXFxcXDo7PD0+P0BbXFxcXF1eYHt8fX5dXCIsIFwiZ1wiKVxuZnVuY3Rpb24gZml4S2V5KGtleSkge1xuXHRyZXR1cm4ga2V5LnJlcGxhY2UoL15cXGQvLCAnX19fJCYnKS5yZXBsYWNlKGZvcmJpZGRlbkNoYXJzUmVnZXgsICdfX18nKVxufVxuXG5mdW5jdGlvbiBfbWFrZUlFU3RvcmFnZUVsRnVuY3Rpb24oKSB7XG5cdGlmICghZG9jIHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50LmFkZEJlaGF2aW9yKSB7XG5cdFx0cmV0dXJuIG51bGxcblx0fVxuXHR2YXIgc2NyaXB0VGFnID0gJ3NjcmlwdCcsXG5cdFx0c3RvcmFnZU93bmVyLFxuXHRcdHN0b3JhZ2VDb250YWluZXIsXG5cdFx0c3RvcmFnZUVsXG5cblx0Ly8gU2luY2UgI3VzZXJEYXRhIHN0b3JhZ2UgYXBwbGllcyBvbmx5IHRvIHNwZWNpZmljIHBhdGhzLCB3ZSBuZWVkIHRvXG5cdC8vIHNvbWVob3cgbGluayBvdXIgZGF0YSB0byBhIHNwZWNpZmljIHBhdGguICBXZSBjaG9vc2UgL2Zhdmljb24uaWNvXG5cdC8vIGFzIGEgcHJldHR5IHNhZmUgb3B0aW9uLCBzaW5jZSBhbGwgYnJvd3NlcnMgYWxyZWFkeSBtYWtlIGEgcmVxdWVzdCB0b1xuXHQvLyB0aGlzIFVSTCBhbnl3YXkgYW5kIGJlaW5nIGEgNDA0IHdpbGwgbm90IGh1cnQgdXMgaGVyZS4gIFdlIHdyYXAgYW5cblx0Ly8gaWZyYW1lIHBvaW50aW5nIHRvIHRoZSBmYXZpY29uIGluIGFuIEFjdGl2ZVhPYmplY3QoaHRtbGZpbGUpIG9iamVjdFxuXHQvLyAoc2VlOiBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvYWE3NTI1NzQodj1WUy44NSkuYXNweClcblx0Ly8gc2luY2UgdGhlIGlmcmFtZSBhY2Nlc3MgcnVsZXMgYXBwZWFyIHRvIGFsbG93IGRpcmVjdCBhY2Nlc3MgYW5kXG5cdC8vIG1hbmlwdWxhdGlvbiBvZiB0aGUgZG9jdW1lbnQgZWxlbWVudCwgZXZlbiBmb3IgYSA0MDQgcGFnZS4gIFRoaXNcblx0Ly8gZG9jdW1lbnQgY2FuIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBkb2N1bWVudCAod2hpY2ggd291bGRcblx0Ly8gaGF2ZSBiZWVuIGxpbWl0ZWQgdG8gdGhlIGN1cnJlbnQgcGF0aCkgdG8gcGVyZm9ybSAjdXNlckRhdGEgc3RvcmFnZS5cblx0dHJ5IHtcblx0XHQvKiBnbG9iYWwgQWN0aXZlWE9iamVjdCAqL1xuXHRcdHN0b3JhZ2VDb250YWluZXIgPSBuZXcgQWN0aXZlWE9iamVjdCgnaHRtbGZpbGUnKVxuXHRcdHN0b3JhZ2VDb250YWluZXIub3BlbigpXG5cdFx0c3RvcmFnZUNvbnRhaW5lci53cml0ZSgnPCcrc2NyaXB0VGFnKyc+ZG9jdW1lbnQudz13aW5kb3c8Lycrc2NyaXB0VGFnKyc+PGlmcmFtZSBzcmM9XCIvZmF2aWNvbi5pY29cIj48L2lmcmFtZT4nKVxuXHRcdHN0b3JhZ2VDb250YWluZXIuY2xvc2UoKVxuXHRcdHN0b3JhZ2VPd25lciA9IHN0b3JhZ2VDb250YWluZXIudy5mcmFtZXNbMF0uZG9jdW1lbnRcblx0XHRzdG9yYWdlRWwgPSBzdG9yYWdlT3duZXIuY3JlYXRlRWxlbWVudCgnZGl2Jylcblx0fSBjYXRjaChlKSB7XG5cdFx0Ly8gc29tZWhvdyBBY3RpdmVYT2JqZWN0IGluc3RhbnRpYXRpb24gZmFpbGVkIChwZXJoYXBzIHNvbWUgc3BlY2lhbFxuXHRcdC8vIHNlY3VyaXR5IHNldHRpbmdzIG9yIG90aGVyd3NlKSwgZmFsbCBiYWNrIHRvIHBlci1wYXRoIHN0b3JhZ2Vcblx0XHRzdG9yYWdlRWwgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jylcblx0XHRzdG9yYWdlT3duZXIgPSBkb2MuYm9keVxuXHR9XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHN0b3JlRnVuY3Rpb24pIHtcblx0XHR2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKVxuXHRcdGFyZ3MudW5zaGlmdChzdG9yYWdlRWwpXG5cdFx0Ly8gU2VlIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzMTA4MSh2PVZTLjg1KS5hc3B4XG5cdFx0Ly8gYW5kIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzMTQyNCh2PVZTLjg1KS5hc3B4XG5cdFx0c3RvcmFnZU93bmVyLmFwcGVuZENoaWxkKHN0b3JhZ2VFbClcblx0XHRzdG9yYWdlRWwuYWRkQmVoYXZpb3IoJyNkZWZhdWx0I3VzZXJEYXRhJylcblx0XHRzdG9yYWdlRWwubG9hZChzdG9yYWdlTmFtZSlcblx0XHRzdG9yZUZ1bmN0aW9uLmFwcGx5KHRoaXMsIGFyZ3MpXG5cdFx0c3RvcmFnZU93bmVyLnJlbW92ZUNoaWxkKHN0b3JhZ2VFbClcblx0XHRyZXR1cm5cblx0fVxufVxuIiwidmFyIHV0aWwgPSByZXF1aXJlKCcuLi9zcmMvdXRpbCcpXG52YXIgR2xvYmFsID0gdXRpbC5HbG9iYWxcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdG5hbWU6ICdzZXNzaW9uU3RvcmFnZScsXG5cdHJlYWQ6IHJlYWQsXG5cdHdyaXRlOiB3cml0ZSxcblx0ZWFjaDogZWFjaCxcblx0cmVtb3ZlOiByZW1vdmUsXG5cdGNsZWFyQWxsOiBjbGVhckFsbFxufVxuXG5mdW5jdGlvbiBzZXNzaW9uU3RvcmFnZSgpIHtcblx0cmV0dXJuIEdsb2JhbC5zZXNzaW9uU3RvcmFnZVxufVxuXG5mdW5jdGlvbiByZWFkKGtleSkge1xuXHRyZXR1cm4gc2Vzc2lvblN0b3JhZ2UoKS5nZXRJdGVtKGtleSlcbn1cblxuZnVuY3Rpb24gd3JpdGUoa2V5LCBkYXRhKSB7XG5cdHJldHVybiBzZXNzaW9uU3RvcmFnZSgpLnNldEl0ZW0oa2V5LCBkYXRhKVxufVxuXG5mdW5jdGlvbiBlYWNoKGZuKSB7XG5cdGZvciAodmFyIGkgPSBzZXNzaW9uU3RvcmFnZSgpLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0dmFyIGtleSA9IHNlc3Npb25TdG9yYWdlKCkua2V5KGkpXG5cdFx0Zm4ocmVhZChrZXkpLCBrZXkpXG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlKGtleSkge1xuXHRyZXR1cm4gc2Vzc2lvblN0b3JhZ2UoKS5yZW1vdmVJdGVtKGtleSlcbn1cblxuZnVuY3Rpb24gY2xlYXJBbGwoKSB7XG5cdHJldHVybiBzZXNzaW9uU3RvcmFnZSgpLmNsZWFyKClcbn1cbiIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJfYXJnc1wiOiBbXG4gICAgW1xuICAgICAgXCJ5YXNndWktdXRpbHNAMS42LjdcIixcbiAgICAgIFwiL2hvbWUvZ2Vyd2luYi95YXNndWkvb2xkL1lBU0dVSS5ZQVNRRVwiXG4gICAgXVxuICBdLFxuICBcIl9mcm9tXCI6IFwieWFzZ3VpLXV0aWxzQDEuNi43XCIsXG4gIFwiX2lkXCI6IFwieWFzZ3VpLXV0aWxzQDEuNi43XCIsXG4gIFwiX2luQnVuZGxlXCI6IGZhbHNlLFxuICBcIl9pbnRlZ3JpdHlcIjogXCJzaGExLUs4L0ZveFZvamVPdVlGZUlQWnJqUXJJRjhtYz1cIixcbiAgXCJfbG9jYXRpb25cIjogXCIveWFzZ3VpLXV0aWxzXCIsXG4gIFwiX3BoYW50b21DaGlsZHJlblwiOiB7fSxcbiAgXCJfcmVxdWVzdGVkXCI6IHtcbiAgICBcInR5cGVcIjogXCJ2ZXJzaW9uXCIsXG4gICAgXCJyZWdpc3RyeVwiOiB0cnVlLFxuICAgIFwicmF3XCI6IFwieWFzZ3VpLXV0aWxzQDEuNi43XCIsXG4gICAgXCJuYW1lXCI6IFwieWFzZ3VpLXV0aWxzXCIsXG4gICAgXCJlc2NhcGVkTmFtZVwiOiBcInlhc2d1aS11dGlsc1wiLFxuICAgIFwicmF3U3BlY1wiOiBcIjEuNi43XCIsXG4gICAgXCJzYXZlU3BlY1wiOiBudWxsLFxuICAgIFwiZmV0Y2hTcGVjXCI6IFwiMS42LjdcIlxuICB9LFxuICBcIl9yZXF1aXJlZEJ5XCI6IFtcbiAgICBcIi9cIlxuICBdLFxuICBcIl9yZXNvbHZlZFwiOiBcImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL3lhc2d1aS11dGlscy8tL3lhc2d1aS11dGlscy0xLjYuNy50Z3pcIixcbiAgXCJfc3BlY1wiOiBcIjEuNi43XCIsXG4gIFwiX3doZXJlXCI6IFwiL2hvbWUvZ2Vyd2luYi95YXNndWkvb2xkL1lBU0dVSS5ZQVNRRVwiLFxuICBcImF1dGhvclwiOiB7XG4gICAgXCJuYW1lXCI6IFwiTGF1cmVucyBSaWV0dmVsZFwiXG4gIH0sXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vWUFTR1VJL1V0aWxzL2lzc3Vlc1wiXG4gIH0sXG4gIFwiZGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcInN0b3JlXCI6IFwiXjIuMC40XCJcbiAgfSxcbiAgXCJkZXNjcmlwdGlvblwiOiBcIlV0aWxzIGZvciBZQVNHVUkgbGlic1wiLFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL1lBU0dVSS9VdGlsc1wiLFxuICBcImxpY2Vuc2VzXCI6IFtcbiAgICB7XG4gICAgICBcInR5cGVcIjogXCJNSVRcIixcbiAgICAgIFwidXJsXCI6IFwiaHR0cDovL3lhc2d1aS5naXRodWIuaW8vbGljZW5zZS50eHRcIlxuICAgIH1cbiAgXSxcbiAgXCJtYWluXCI6IFwic3JjL21haW4uanNcIixcbiAgXCJtYWludGFpbmVyc1wiOiBbXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiTGF1cmVucyBSaWV0dmVsZFwiLFxuICAgICAgXCJlbWFpbFwiOiBcImxhdXJlbnMucmlldHZlbGRAZ21haWwuY29tXCIsXG4gICAgICBcInVybFwiOiBcImh0dHA6Ly9sYXVyZW5zcmlldHZlbGQubmxcIlxuICAgIH1cbiAgXSxcbiAgXCJuYW1lXCI6IFwieWFzZ3VpLXV0aWxzXCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQ6Ly9naXRodWIuY29tL1lBU0dVSS9VdGlscy5naXRcIlxuICB9LFxuICBcInZlcnNpb25cIjogXCIxLjYuN1wiXG59XG4iLCJ3aW5kb3cuY29uc29sZSA9IHdpbmRvdy5jb25zb2xlIHx8IHtcImxvZ1wiOmZ1bmN0aW9uKCl7fX07Ly9tYWtlIHN1cmUgYW55IGNvbnNvbGUgc3RhdGVtZW50cyBkb24ndCBicmVhayBJRVxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdHN0b3JhZ2U6IHJlcXVpcmUoXCIuL3N0b3JhZ2UuanNcIiksXG5cdHN2ZzogcmVxdWlyZShcIi4vc3ZnLmpzXCIpLFxuXHR2ZXJzaW9uOiB7XG5cdFx0XCJ5YXNndWktdXRpbHNcIiA6IHJlcXVpcmUoXCIuLi9wYWNrYWdlLmpzb25cIikudmVyc2lvbixcblx0fSxcblx0bmVzdGVkRXhpc3RzIDogZnVuY3Rpb24ob2JqKSB7XG5cdFx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoIW9iaiB8fCAhb2JqLmhhc093blByb3BlcnR5KGFyZ3NbaV0pKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdG9iaiA9IG9ialthcmdzW2ldXTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn07XG4iLCJ2YXIgc3RvcmUgPSByZXF1aXJlKFwic3RvcmVcIik7XG52YXIgdGltZXMgPSB7XG4gIGRheTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIDEwMDAgKiAzNjAwICogMjQ7IC8vbWlsbGlzIHRvIGRheVxuICB9LFxuICBtb250aDogZnVuY3Rpb24oKSB7XG4gICAgdGltZXMuZGF5KCkgKiAzMDtcbiAgfSxcbiAgeWVhcjogZnVuY3Rpb24oKSB7XG4gICAgdGltZXMubW9udGgoKSAqIDEyO1xuICB9XG59O1xuZnVuY3Rpb24gaXNRdW90YUV4Y2VlZGVkKGUpIHtcbiAgdmFyIHF1b3RhRXhjZWVkZWQgPSBmYWxzZTtcbiAgaWYgKGUpIHtcbiAgICBpZiAoZS5jb2RlKSB7XG4gICAgICBzd2l0Y2ggKGUuY29kZSkge1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHF1b3RhRXhjZWVkZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwMTQ6XG4gICAgICAgICAgLy8gRmlyZWZveFxuICAgICAgICAgIGlmIChlLm5hbWUgPT09IFwiTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRURcIikge1xuICAgICAgICAgICAgcXVvdGFFeGNlZWRlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS5udW1iZXIgPT09IC0yMTQ3MDI0ODgyKSB7XG4gICAgICAvLyBJbnRlcm5ldCBFeHBsb3JlciA4XG4gICAgICBxdW90YUV4Y2VlZGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHF1b3RhRXhjZWVkZWQ7XG59XG52YXIgcm9vdCA9IChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBmdW5jdGlvbihrZXksIHZhbCwgZXhwLCBvblF1b3RhRXhjZWVkZWQpIHtcbiAgICBpZiAoIXN0b3JlLmVuYWJsZWQpIHJldHVybjsgLy90aGlzIGlzIHByb2JhYmx5IGluIHByaXZhdGUgbW9kZS4gRG9uJ3QgcnVuLCBhcyB3ZSBtaWdodCBnZXQgSnMgZXJyb3JzXG4gICAgaWYgKGtleSAmJiB2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiBleHAgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBleHAgPSB0aW1lc1tleHBdKCk7XG4gICAgICB9XG4gICAgICAvL3RyeSB0byBzdG9yZSBzdHJpbmcgZm9yIGRvbSBvYmplY3RzIChlLmcuIFhNTCByZXN1bHQpLiBPdGhlcndpc2UsIHdlIG1pZ2h0IGdldCBhIGNpcmN1bGFyIHJlZmVyZW5jZSBlcnJvciB3aGVuIHN0cmluZ2lmeWluZyB0aGlzXG4gICAgICBpZiAodmFsLmRvY3VtZW50RWxlbWVudCkgdmFsID0gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh2YWwuZG9jdW1lbnRFbGVtZW50KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0b3JlLnNldChrZXksIHtcbiAgICAgICAgICB2YWw6IHZhbCxcbiAgICAgICAgICBleHA6IGV4cCxcbiAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZS5xdW90YUV4Y2VlZGVkID0gaXNRdW90YUV4Y2VlZGVkKGUpO1xuICAgICAgICBpZiAoZS5xdW90YUV4Y2VlZGVkICYmIG9uUXVvdGFFeGNlZWRlZCkge1xuICAgICAgICAgIG9uUXVvdGFFeGNlZWRlZChlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICghc3RvcmUuZW5hYmxlZCkgcmV0dXJuOyAvL3RoaXMgaXMgcHJvYmFibHkgaW4gcHJpdmF0ZSBtb2RlLiBEb24ndCBydW4sIGFzIHdlIG1pZ2h0IGdldCBKcyBlcnJvcnNcbiAgICBpZiAoa2V5KSBzdG9yZS5yZW1vdmUoa2V5KTtcbiAgfSxcbiAgcmVtb3ZlQWxsOiBmdW5jdGlvbihmaWx0ZXIpIHtcbiAgICBpZiAoIXN0b3JlLmVuYWJsZWQpIHJldHVybjsgLy90aGlzIGlzIHByb2JhYmx5IGluIHByaXZhdGUgbW9kZS4gRG9uJ3QgcnVuLCBhcyB3ZSBtaWdodCBnZXQgSnMgZXJyb3JzXG4gICAgaWYgKCFmaWx0ZXIpIHtcbiAgICAgIHN0b3JlLmNsZWFyQWxsKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZmlsdGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHN0b3JlLmVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAoZmlsdGVyKGtleSwgdmFsdWUpKSByb290LnJlbW92ZShrZXkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICghc3RvcmUuZW5hYmxlZCkgcmV0dXJuIG51bGw7IC8vdGhpcyBpcyBwcm9iYWJseSBpbiBwcml2YXRlIG1vZGUuIERvbid0IHJ1biwgYXMgd2UgbWlnaHQgZ2V0IEpzIGVycm9yc1xuICAgIGlmIChrZXkpIHtcbiAgICAgIHZhciBpbmZvID0gc3RvcmUuZ2V0KGtleSk7XG4gICAgICBpZiAoIWluZm8pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoaW5mby5leHAgJiYgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBpbmZvLnRpbWUgPiBpbmZvLmV4cCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmZvLnZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59KTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRkcmF3OiBmdW5jdGlvbihwYXJlbnQsIHN2Z1N0cmluZykge1xuXHRcdGlmICghcGFyZW50KSByZXR1cm47XG5cdFx0dmFyIGVsID0gbW9kdWxlLmV4cG9ydHMuZ2V0RWxlbWVudChzdmdTdHJpbmcpO1xuXHRcdGlmIChlbCkge1xuXHRcdFx0aWYgKHBhcmVudC5hcHBlbmQpIHtcblx0XHRcdFx0cGFyZW50LmFwcGVuZChlbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvL3JlZ3VsYXIgZG9tIGRvY1xuXHRcdFx0XHRwYXJlbnQuYXBwZW5kQ2hpbGQoZWwpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0Z2V0RWxlbWVudDogZnVuY3Rpb24oc3ZnU3RyaW5nKSB7XG5cdFx0aWYgKHN2Z1N0cmluZyAmJiBzdmdTdHJpbmcuaW5kZXhPZihcIjxzdmdcIikgPT0gMCkge1xuXHRcdFx0Ly9ubyBzdHlsZSBwYXNzZWQgdmlhIGNvbmZpZy4gZ3Vlc3Mgb3duIHN0eWxlc1xuXHRcdFx0dmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblx0XHRcdHZhciBkb20gPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN2Z1N0cmluZywgXCJ0ZXh0L3htbFwiKTtcblx0XHRcdHZhciBzdmcgPSBkb20uZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0XG5cdFx0XHR2YXIgc3ZnQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRcdHN2Z0NvbnRhaW5lci5jbGFzc05hbWUgPSAnc3ZnSW1nJztcblx0XHRcdHN2Z0NvbnRhaW5lci5hcHBlbmRDaGlsZChzdmcpO1xuXHRcdFx0cmV0dXJuIHN2Z0NvbnRhaW5lcjtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59OyIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJuYW1lXCI6IFwieWFzZ3VpLXlhc3FlXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJZZXQgQW5vdGhlciBTUEFSUUwgUXVlcnkgRWRpdG9yXCIsXG4gIFwidmVyc2lvblwiOiBcIjIuMTEuMTlcIixcbiAgXCJtYWluXCI6IFwic3JjL21haW4uanNcIixcbiAgXCJsaWNlbnNlXCI6IFwiTUlUXCIsXG4gIFwiYXV0aG9yXCI6IFwiTGF1cmVucyBSaWV0dmVsZFwiLFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cDovL3lhc3FlLnlhc2d1aS5vcmdcIixcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcImRldlwiOiBcImd1bHAgc2VydmVcIixcbiAgICBcImJ1aWxkXCI6IFwiZ3VscFwiLFxuICAgIFwicGF0Y2hcIjogXCJndWxwIHBhdGNoXCIsXG4gICAgXCJtaW5vclwiOiBcImd1bHAgbWlub3JcIixcbiAgICBcIm1ham9yXCI6IFwiZ3VscCBtYWpvclwiLFxuICAgIFwidXBkYXRlLWludGVyYWN0aXZlXCI6IFwibnBtLWNoZWNrIC0tc2tpcC11bnVzZWQgLXVcIlxuICB9LFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJib290c3RyYXAtc2Fzc1wiOiBcIl4zLjMuN1wiLFxuICAgIFwiYnJvd3NlcmlmeVwiOiBcIl4xMy4xLjBcIixcbiAgICBcImJyb3dzZXJpZnktc2hpbVwiOiBcIl4zLjguMTJcIixcbiAgICBcImJyb3dzZXJpZnktdHJhbnNmb3JtLXRvb2xzXCI6IFwiXjEuNi4wXCIsXG4gICAgXCJleG9yY2lzdFwiOiBcIl4wLjQuMFwiLFxuICAgIFwiZ3VscFwiOiBcIl4zLjkuMVwiLFxuICAgIFwiZ3VscC1hdXRvcHJlZml4ZXJcIjogXCJeMy4xLjBcIixcbiAgICBcImd1bHAtYnVtcFwiOiBcIl4yLjIuMFwiLFxuICAgIFwiZ3VscC1jb25jYXRcIjogXCJeMi42LjBcIixcbiAgICBcImd1bHAtY29ubmVjdFwiOiBcIl40LjIuMFwiLFxuICAgIFwiZ3VscC1jc3NpbXBvcnRcIjogXCJeMy4xLjBcIixcbiAgICBcImd1bHAtY3NzbmFub1wiOiBcIl4yLjEuMlwiLFxuICAgIFwiZ3VscC1lbWJlZGxyXCI6IFwiXjAuNS4yXCIsXG4gICAgXCJndWxwLWZpbHRlclwiOiBcIl40LjAuMFwiLFxuICAgIFwiZ3VscC1naXRcIjogXCJeMi40LjFcIixcbiAgICBcImd1bHAtanN2YWxpZGF0ZVwiOiBcIl4yLjEuMFwiLFxuICAgIFwiZ3VscC1saXZlcmVsb2FkXCI6IFwiXjMuOC4xXCIsXG4gICAgXCJndWxwLW5vdGlmeVwiOiBcIl4yLjIuMFwiLFxuICAgIFwiZ3VscC1yZW5hbWVcIjogXCJeMS4yLjJcIixcbiAgICBcImd1bHAtc2Fzc1wiOiBcIl4yLjMuMlwiLFxuICAgIFwiZ3VscC1zb3VyY2VtYXBzXCI6IFwiXjEuNi4wXCIsXG4gICAgXCJndWxwLXN0cmVhbWlmeVwiOiBcIjEuMC4yXCIsXG4gICAgXCJndWxwLXRhZy12ZXJzaW9uXCI6IFwiXjEuMy4wXCIsXG4gICAgXCJndWxwLXVnbGlmeVwiOiBcIl4xLjUuNFwiLFxuICAgIFwibm9kZS1zYXNzXCI6IFwiXjMuOC4wXCIsXG4gICAgXCJyZXF1aXJlLWRpclwiOiBcIl4wLjMuMlwiLFxuICAgIFwicnVuLXNlcXVlbmNlXCI6IFwiXjEuMi4yXCIsXG4gICAgXCJ2aW55bC1idWZmZXJcIjogXCJeMS4wLjBcIixcbiAgICBcInZpbnlsLXNvdXJjZS1zdHJlYW1cIjogXCJ+MS4xLjBcIixcbiAgICBcInZpbnlsLXRyYW5zZm9ybVwiOiBcIjEuMC4wXCIsXG4gICAgXCJ3YXRjaGlmeVwiOiBcIl4zLjcuMFwiXG4gIH0sXG4gIFwiYnVnc1wiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9ZQVNHVUkvWUFTUUUvaXNzdWVzL1wiLFxuICBcImtleXdvcmRzXCI6IFtcbiAgICBcIkphdmFTY3JpcHRcIixcbiAgICBcIlNQQVJRTFwiLFxuICAgIFwiRWRpdG9yXCIsXG4gICAgXCJTZW1hbnRpYyBXZWJcIixcbiAgICBcIkxpbmtlZCBEYXRhXCJcbiAgXSxcbiAgXCJtYWludGFpbmVyc1wiOiBbXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiTGF1cmVucyBSaWV0dmVsZFwiLFxuICAgICAgXCJlbWFpbFwiOiBcImxhdXJlbnMucmlldHZlbGRAZ21haWwuY29tXCIsXG4gICAgICBcIndlYlwiOiBcImh0dHA6Ly9sYXVyZW5zcmlldHZlbGQubmxcIlxuICAgIH1cbiAgXSxcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9ZQVNHVUkvWUFTUUUuZ2l0XCJcbiAgfSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiY29kZW1pcnJvclwiOiBcIjUuMTcuMFwiLFxuICAgIFwianF1ZXJ5XCI6IFwiXjIuMi40XCIsXG4gICAgXCJwcmV0dGllclwiOiBcIl4xLjQuNFwiLFxuICAgIFwieWFzZ3VpLXV0aWxzXCI6IFwiXjEuNi43XCJcbiAgfSxcbiAgXCJvcHRpb25hbFNoaW1cIjoge1xuICAgIFwiY29kZW1pcnJvclwiOiB7XG4gICAgICBcInJlcXVpcmVcIjogXCJjb2RlbWlycm9yXCIsXG4gICAgICBcImdsb2JhbFwiOiBcIkNvZGVNaXJyb3JcIlxuICAgIH0sXG4gICAgXCJqcXVlcnlcIjoge1xuICAgICAgXCJyZXF1aXJlXCI6IFwianF1ZXJ5XCIsXG4gICAgICBcImdsb2JhbFwiOiBcImpRdWVyeVwiXG4gICAgfSxcbiAgICBcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCI6IHtcbiAgICAgIFwicmVxdWlyZVwiOiBcImNvZGVtaXJyb3JcIixcbiAgICAgIFwiZ2xvYmFsXCI6IFwiQ29kZU1pcnJvclwiXG4gICAgfVxuICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKSxcbiAgdXRpbHMgPSByZXF1aXJlKFwiLi4vdXRpbHMuanNcIiksXG4gIHl1dGlscyA9IHJlcXVpcmUoXCJ5YXNndWktdXRpbHNcIiksXG4gIFRyaWUgPSByZXF1aXJlKFwiLi4vLi4vbGliL3RyaWUuanNcIiksXG4gIFlBU1FFID0gcmVxdWlyZShcIi4uL21haW4uanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oWUFTUUUsIHlhc3FlKSB7XG4gIHZhciBjb21wbGV0aW9uTm90aWZpY2F0aW9ucyA9IHt9O1xuICB2YXIgY29tcGxldGVycyA9IHt9O1xuICB2YXIgdHJpZXMgPSB7fTtcblxuICB5YXNxZS5vbihcImN1cnNvckFjdGl2aXR5XCIsIGZ1bmN0aW9uKHlhc3FlLCBldmVudEluZm8pIHtcbiAgICBhdXRvQ29tcGxldGUodHJ1ZSk7XG4gIH0pO1xuICB5YXNxZS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmVlZFBvc3NpYmxlQWRqdXN0bWVudCA9IFtdO1xuICAgIGZvciAodmFyIG5vdGlmaWNhdGlvbk5hbWUgaW4gY29tcGxldGlvbk5vdGlmaWNhdGlvbnMpIHtcbiAgICAgIGlmIChjb21wbGV0aW9uTm90aWZpY2F0aW9uc1tub3RpZmljYXRpb25OYW1lXS5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgIG5lZWRQb3NzaWJsZUFkanVzdG1lbnQucHVzaChjb21wbGV0aW9uTm90aWZpY2F0aW9uc1tub3RpZmljYXRpb25OYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuZWVkUG9zc2libGVBZGp1c3RtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgIC8vcG9zaXRpb24gY29tcGxldGlvbiBub3RpZmljYXRpb25zXG4gICAgICB2YXIgc2Nyb2xsQmFyID0gJCh5YXNxZS5nZXRXcmFwcGVyRWxlbWVudCgpKS5maW5kKFwiLkNvZGVNaXJyb3ItdnNjcm9sbGJhclwiKTtcbiAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgaWYgKHNjcm9sbEJhci5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgIG9mZnNldCA9IHNjcm9sbEJhci5vdXRlcldpZHRoKCk7XG4gICAgICB9XG4gICAgICBuZWVkUG9zc2libGVBZGp1c3RtZW50LmZvckVhY2goZnVuY3Rpb24obm90aWZpY2F0aW9uKSB7XG4gICAgICAgIG5vdGlmaWNhdGlvbi5jc3MoXCJyaWdodFwiLCBvZmZzZXQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcblx0ICogU3RvcmUgYnVsayBjb21wbGV0aW9ucyBpbiBtZW1vcnkgYXMgdHJpZSwgYW5kIHN0b3JlIHRoZXNlIGluIGxvY2Fsc3RvcmFnZSBhcyB3ZWxsIChpZiBlbmFibGVkKVxuXHQgKlxuXHQgKiBAbWV0aG9kIGRvYy5zdG9yZUJ1bGtDb21wbGV0aW9uc1xuXHQgKiBAcGFyYW0gY29tcGxldGlvbnMge2FycmF5fVxuXHQgKi9cbiAgdmFyIHN0b3JlQnVsa0NvbXBsZXRpb25zID0gZnVuY3Rpb24oY29tcGxldGVyLCBjb21wbGV0aW9ucykge1xuICAgIC8vIHN0b3JlIGFycmF5IGFzIHRyaWVcbiAgICB0cmllc1tjb21wbGV0ZXIubmFtZV0gPSBuZXcgVHJpZSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcGxldGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyaWVzW2NvbXBsZXRlci5uYW1lXS5pbnNlcnQoY29tcGxldGlvbnNbaV0pO1xuICAgIH1cbiAgICAvLyBzdG9yZSBpbiBsb2NhbHN0b3JhZ2UgYXMgd2VsbFxuICAgIHZhciBzdG9yYWdlSWQgPSB1dGlscy5nZXRQZXJzaXN0ZW5jeUlkKHlhc3FlLCBjb21wbGV0ZXIucGVyc2lzdGVudCk7XG4gICAgaWYgKHN0b3JhZ2VJZCkgeXV0aWxzLnN0b3JhZ2Uuc2V0KHN0b3JhZ2VJZCwgY29tcGxldGlvbnMsIFwibW9udGhcIiwgeWFzcWUub3B0aW9ucy5vblF1b3RhRXhjZWVkZWQpO1xuICB9O1xuXG4gIHZhciBpbml0Q29tcGxldGVyID0gZnVuY3Rpb24obmFtZSwgY29tcGxldGlvbkluaXQpIHtcbiAgICB2YXIgY29tcGxldGVyID0gKGNvbXBsZXRlcnNbbmFtZV0gPSBuZXcgY29tcGxldGlvbkluaXQoeWFzcWUsIG5hbWUpKTtcbiAgICBjb21wbGV0ZXIubmFtZSA9IG5hbWU7XG4gICAgaWYgKGNvbXBsZXRlci5idWxrKSB7XG4gICAgICB2YXIgc3RvcmVBcnJheUFzQnVsayA9IGZ1bmN0aW9uKHN1Z2dlc3Rpb25zKSB7XG4gICAgICAgIGlmIChzdWdnZXN0aW9ucyAmJiBzdWdnZXN0aW9ucyBpbnN0YW5jZW9mIEFycmF5ICYmIHN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBzdG9yZUJ1bGtDb21wbGV0aW9ucyhjb21wbGV0ZXIsIHN1Z2dlc3Rpb25zKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChjb21wbGV0ZXIuZ2V0IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgLy8gd2UgZG9uJ3QgY2FyZSB3aGV0aGVyIHRoZSBjb21wbGV0aW9ucyBhcmUgYWxyZWFkeSBzdG9yZWQgaW5cbiAgICAgICAgLy8gbG9jYWxzdG9yYWdlLiBqdXN0IHVzZSB0aGlzIG9uZVxuICAgICAgICBzdG9yZUFycmF5QXNCdWxrKGNvbXBsZXRlci5nZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaWYgY29tcGxldGlvbnMgYXJlIGRlZmluZWQgaW4gbG9jYWxzdG9yYWdlLCB1c2UgdGhvc2UhIChjYWxsaW5nIHRoZVxuICAgICAgICAvLyBmdW5jdGlvbiBtYXkgY29tZSB3aXRoIG92ZXJoZWFkIChlLmcuIGFzeW5jIGNhbGxzKSlcbiAgICAgICAgdmFyIGNvbXBsZXRpb25zRnJvbVN0b3JhZ2UgPSBudWxsO1xuICAgICAgICB2YXIgcGVyc2lzdGVuY3lJZGVudGlmaWVyID0gdXRpbHMuZ2V0UGVyc2lzdGVuY3lJZCh5YXNxZSwgY29tcGxldGVyLnBlcnNpc3RlbnQpO1xuICAgICAgICBpZiAocGVyc2lzdGVuY3lJZGVudGlmaWVyKSBjb21wbGV0aW9uc0Zyb21TdG9yYWdlID0geXV0aWxzLnN0b3JhZ2UuZ2V0KHBlcnNpc3RlbmN5SWRlbnRpZmllcik7XG4gICAgICAgIGlmIChjb21wbGV0aW9uc0Zyb21TdG9yYWdlICYmIGNvbXBsZXRpb25zRnJvbVN0b3JhZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHN0b3JlQXJyYXlBc0J1bGsoY29tcGxldGlvbnNGcm9tU3RvcmFnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm90aGluZyBpbiBzdG9yYWdlLiBjaGVjayB3aGV0aGVyIHdlIGhhdmUgYSBmdW5jdGlvbiB2aWEgd2hpY2ggd2VcbiAgICAgICAgICAvLyBjYW4gZ2V0IG91ciBwcmVmaXhlc1xuICAgICAgICAgIGlmIChjb21wbGV0ZXIuZ2V0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZXIuYXN5bmMpIHtcbiAgICAgICAgICAgICAgY29tcGxldGVyLmdldChudWxsLCBzdG9yZUFycmF5QXNCdWxrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0b3JlQXJyYXlBc0J1bGsoY29tcGxldGVyLmdldCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGF1dG9Db21wbGV0ZSA9IGZ1bmN0aW9uKGZyb21BdXRvU2hvdykge1xuICAgIGlmICh5YXNxZS5zb21ldGhpbmdTZWxlY3RlZCgpKSByZXR1cm47XG4gICAgdmFyIHRyeUhpbnRUeXBlID0gZnVuY3Rpb24oY29tcGxldGVyKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGZyb21BdXRvU2hvdyAmJiAvLyBmcm9tIGF1dG9TaG93LCBpLmUuIHRoaXMgZ2V0cyBjYWxsZWQgZWFjaCB0aW1lIHRoZSBlZGl0b3IgY29udGVudCBjaGFuZ2VzXG4gICAgICAgICghY29tcGxldGVyLmF1dG9TaG93IHx8IC8vIGF1dG9zaG93IGZvciAgdGhpcyBwYXJ0aWN1bGFyIHR5cGUgb2YgYXV0b2NvbXBsZXRpb24gaXMgLW5vdC0gZW5hYmxlZFxuICAgICAgICAgICghY29tcGxldGVyLmJ1bGsgJiYgY29tcGxldGVyLmFzeW5jKSkgLy8gYXN5bmMgaXMgZW5hYmxlZCAoZG9uJ3Qgd2FudCB0byByZS1kbyBhamF4LWxpa2UgcmVxdWVzdCBmb3IgZXZlcnkgZWRpdG9yIGNoYW5nZSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBoaW50Q29uZmlnID0ge1xuICAgICAgICBjbG9zZUNoYXJhY3RlcnM6IC8oPz1hKWIvLFxuICAgICAgICBjb21wbGV0ZVNpbmdsZTogZmFsc2VcbiAgICAgIH07XG4gICAgICBpZiAoIWNvbXBsZXRlci5idWxrICYmIGNvbXBsZXRlci5hc3luYykge1xuICAgICAgICBoaW50Q29uZmlnLmFzeW5jID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciB3cmFwcGVkSGludENhbGxiYWNrID0gZnVuY3Rpb24oeWFzcWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBnZXRDb21wbGV0aW9uSGludHNPYmplY3QoY29tcGxldGVyLCBjYWxsYmFjayk7XG4gICAgICB9O1xuICAgICAgdmFyIHJlc3VsdCA9IFlBU1FFLnNob3dIaW50KHlhc3FlLCB3cmFwcGVkSGludENhbGxiYWNrLCBoaW50Q29uZmlnKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgZm9yICh2YXIgY29tcGxldGVyTmFtZSBpbiBjb21wbGV0ZXJzKSB7XG4gICAgICBpZiAoJC5pbkFycmF5KGNvbXBsZXRlck5hbWUsIHlhc3FlLm9wdGlvbnMuYXV0b2NvbXBsZXRlcnMpID09IC0xKSBjb250aW51ZTsgLy90aGlzIGNvbXBsZXRlciBpcyBkaXNhYmxlZFxuICAgICAgdmFyIGNvbXBsZXRlciA9IGNvbXBsZXRlcnNbY29tcGxldGVyTmFtZV07XG4gICAgICBpZiAoIWNvbXBsZXRlci5pc1ZhbGlkQ29tcGxldGlvblBvc2l0aW9uKSBjb250aW51ZTsgLy9ubyB3YXkgdG8gY2hlY2sgd2hldGhlciB3ZSBhcmUgaW4gYSB2YWxpZCBwb3NpdGlvblxuXG4gICAgICBpZiAoIWNvbXBsZXRlci5pc1ZhbGlkQ29tcGxldGlvblBvc2l0aW9uKCkpIHtcbiAgICAgICAgLy9pZiBuZWVkZWQsIGZpcmUgY2FsbGJhY2tzIGZvciB3aGVuIHdlIGFyZSAtbm90LSBpbiB2YWxpZCBjb21wbGV0aW9uIHBvc2l0aW9uXG4gICAgICAgIGlmIChjb21wbGV0ZXIuY2FsbGJhY2tzICYmIGNvbXBsZXRlci5jYWxsYmFja3MuaW52YWxpZFBvc2l0aW9uKSB7XG4gICAgICAgICAgY29tcGxldGVyLmNhbGxiYWNrcy5pbnZhbGlkUG9zaXRpb24oeWFzcWUsIGNvbXBsZXRlcik7XG4gICAgICAgIH1cbiAgICAgICAgLy9ub3QgaW4gYSB2YWxpZCBwb3NpdGlvbiwgc28gY29udGludWUgdG8gbmV4dCBjb21wbGV0aW9uIGNhbmRpZGF0ZSB0eXBlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLy8gcnVuIHZhbGlkIHBvc2l0aW9uIGhhbmRsZXIsIGlmIHRoZXJlIGlzIG9uZSAoaWYgaXQgcmV0dXJucyBmYWxzZSwgc3RvcCB0aGUgYXV0b2NvbXBsZXRpb24hKVxuICAgICAgaWYgKGNvbXBsZXRlci5jYWxsYmFja3MgJiYgY29tcGxldGVyLmNhbGxiYWNrcy52YWxpZFBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChjb21wbGV0ZXIuY2FsbGJhY2tzLnZhbGlkUG9zaXRpb24oeWFzcWUsIGNvbXBsZXRlcikgPT09IGZhbHNlKSBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBzdWNjZXNzID0gdHJ5SGludFR5cGUoY29tcGxldGVyKTtcbiAgICAgIGlmIChzdWNjZXNzKSBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldENvbXBsZXRpb25IaW50c09iamVjdCA9IGZ1bmN0aW9uKGNvbXBsZXRlciwgY2FsbGJhY2spIHtcbiAgICB2YXIgZ2V0U3VnZ2VzdGlvbnNGcm9tVG9rZW4gPSBmdW5jdGlvbihwYXJ0aWFsVG9rZW4pIHtcbiAgICAgIHZhciBzdHJpbmdUb0F1dG9jb21wbGV0ZSA9IHBhcnRpYWxUb2tlbi5hdXRvY29tcGxldGlvblN0cmluZyB8fCBwYXJ0aWFsVG9rZW4uc3RyaW5nO1xuICAgICAgdmFyIHN1Z2dlc3Rpb25zID0gW107XG4gICAgICBpZiAodHJpZXNbY29tcGxldGVyLm5hbWVdKSB7XG4gICAgICAgIHN1Z2dlc3Rpb25zID0gdHJpZXNbY29tcGxldGVyLm5hbWVdLmF1dG9Db21wbGV0ZShzdHJpbmdUb0F1dG9jb21wbGV0ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb21wbGV0ZXIuZ2V0ID09IFwiZnVuY3Rpb25cIiAmJiBjb21wbGV0ZXIuYXN5bmMgPT0gZmFsc2UpIHtcbiAgICAgICAgc3VnZ2VzdGlvbnMgPSBjb21wbGV0ZXIuZ2V0KHN0cmluZ1RvQXV0b2NvbXBsZXRlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNvbXBsZXRlci5nZXQgPT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIgcGFydGlhbFRva2VuTGVuZ3RoID0gc3RyaW5nVG9BdXRvY29tcGxldGUubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBsZXRlci5nZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY29tcGxldGlvbiA9IGNvbXBsZXRlci5nZXRbaV07XG4gICAgICAgICAgaWYgKGNvbXBsZXRpb24uc2xpY2UoMCwgcGFydGlhbFRva2VuTGVuZ3RoKSA9PSBzdHJpbmdUb0F1dG9jb21wbGV0ZSkge1xuICAgICAgICAgICAgc3VnZ2VzdGlvbnMucHVzaChjb21wbGV0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRTdWdnZXN0aW9uc0FzSGludE9iamVjdChzdWdnZXN0aW9ucywgY29tcGxldGVyLCBwYXJ0aWFsVG9rZW4pO1xuICAgIH07XG5cbiAgICB2YXIgdG9rZW4gPSB5YXNxZS5nZXRDb21wbGV0ZVRva2VuKCk7XG4gICAgaWYgKGNvbXBsZXRlci5wcmVQcm9jZXNzVG9rZW4pIHtcbiAgICAgIHRva2VuID0gY29tcGxldGVyLnByZVByb2Nlc3NUb2tlbih0b2tlbik7XG4gICAgfVxuXG4gICAgaWYgKHRva2VuKSB7XG4gICAgICAvLyB1c2UgY3VzdG9tIGNvbXBsZXRpb25oaW50IGZ1bmN0aW9uLCB0byBhdm9pZCByZWFjaGluZyBhIGxvb3Agd2hlbiB0aGVcbiAgICAgIC8vIGNvbXBsZXRpb25oaW50IGlzIHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50IHRva2VuXG4gICAgICAvLyByZWd1bGFyIGJlaGF2aW91ciB3b3VsZCBrZWVwIGNoYW5naW5nIHRoZSBjb2RlbWlycm9yIGRvbSwgaGVuY2VcbiAgICAgIC8vIGNvbnN0YW50bHkgY2FsbGluZyB0aGlzIGNhbGxiYWNrXG4gICAgICBpZiAoIWNvbXBsZXRlci5idWxrICYmIGNvbXBsZXRlci5hc3luYykge1xuICAgICAgICB2YXIgd3JhcHBlZENhbGxiYWNrID0gZnVuY3Rpb24oc3VnZ2VzdGlvbnMpIHtcbiAgICAgICAgICBjYWxsYmFjayhnZXRTdWdnZXN0aW9uc0FzSGludE9iamVjdChzdWdnZXN0aW9ucywgY29tcGxldGVyLCB0b2tlbikpO1xuICAgICAgICB9O1xuICAgICAgICBjb21wbGV0ZXIuZ2V0KHRva2VuLCB3cmFwcGVkQ2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldFN1Z2dlc3Rpb25zRnJvbVRva2VuKHRva2VuKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG5cdCAqICBnZXQgb3VyIGFycmF5IG9mIHN1Z2dlc3Rpb25zIChzdHJpbmdzKSBpbiB0aGUgY29kZW1pcnJvciBoaW50IGZvcm1hdFxuXHQgKi9cbiAgdmFyIGdldFN1Z2dlc3Rpb25zQXNIaW50T2JqZWN0ID0gZnVuY3Rpb24oc3VnZ2VzdGlvbnMsIGNvbXBsZXRlciwgdG9rZW4pIHtcbiAgICB2YXIgaGludExpc3QgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1Z2dlc3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc3VnZ2VzdGVkU3RyaW5nID0gc3VnZ2VzdGlvbnNbaV07XG4gICAgICBpZiAoY29tcGxldGVyLnBvc3RQcm9jZXNzVG9rZW4pIHtcbiAgICAgICAgc3VnZ2VzdGVkU3RyaW5nID0gY29tcGxldGVyLnBvc3RQcm9jZXNzVG9rZW4odG9rZW4sIHN1Z2dlc3RlZFN0cmluZyk7XG4gICAgICB9XG4gICAgICBoaW50TGlzdC5wdXNoKHtcbiAgICAgICAgdGV4dDogc3VnZ2VzdGVkU3RyaW5nLFxuICAgICAgICBkaXNwbGF5VGV4dDogc3VnZ2VzdGVkU3RyaW5nLFxuICAgICAgICBoaW50OiBzZWxlY3RIaW50XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgY3VyID0geWFzcWUuZ2V0Q3Vyc29yKCk7XG4gICAgdmFyIHJldHVybk9iaiA9IHtcbiAgICAgIGNvbXBsZXRpb25Ub2tlbjogdG9rZW4uc3RyaW5nLFxuICAgICAgbGlzdDogaGludExpc3QsXG4gICAgICBmcm9tOiB7XG4gICAgICAgIGxpbmU6IGN1ci5saW5lLFxuICAgICAgICBjaDogdG9rZW4uc3RhcnRcbiAgICAgIH0sXG4gICAgICB0bzoge1xuICAgICAgICBsaW5lOiBjdXIubGluZSxcbiAgICAgICAgY2g6IHRva2VuLmVuZFxuICAgICAgfVxuICAgIH07XG4gICAgLy9pZiB3ZSBoYXZlIHNvbWUgYXV0b2NvbXBsZXRpb24gaGFuZGxlcnMgc3BlY2lmaWVkLCBhZGQgdGhlc2UgdGhlc2UgdG8gdGhlIG9iamVjdC4gQ29kZW1pcnJvciB3aWxsIHRha2UgY2FyZSBvZiBmaXJpbmcgdGhlc2VcbiAgICBpZiAoY29tcGxldGVyLmNhbGxiYWNrcykge1xuICAgICAgZm9yICh2YXIgY2FsbGJhY2tOYW1lIGluIGNvbXBsZXRlci5jYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKGNvbXBsZXRlci5jYWxsYmFja3NbY2FsbGJhY2tOYW1lXSkge1xuICAgICAgICAgIFlBU1FFLm9uKHJldHVybk9iaiwgY2FsbGJhY2tOYW1lLCBjb21wbGV0ZXIuY2FsbGJhY2tzW2NhbGxiYWNrTmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXR1cm5PYmo7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0OiBpbml0Q29tcGxldGVyLFxuICAgIGNvbXBsZXRlcnM6IGNvbXBsZXRlcnMsXG4gICAgbm90aWZpY2F0aW9uczoge1xuICAgICAgZ2V0RWw6IGZ1bmN0aW9uKGNvbXBsZXRlcikge1xuICAgICAgICByZXR1cm4gJChjb21wbGV0aW9uTm90aWZpY2F0aW9uc1tjb21wbGV0ZXIubmFtZV0pO1xuICAgICAgfSxcbiAgICAgIHNob3c6IGZ1bmN0aW9uKHlhc3FlLCBjb21wbGV0ZXIpIHtcbiAgICAgICAgLy9vbmx5IGRyYXcgd2hlbiB0aGUgdXNlciBuZWVkcyB0byB1c2UgYSBrZXlwcmVzcyB0byBzdW1tb24gYXV0b2NvbXBsZXRpb25zXG4gICAgICAgIGlmICghY29tcGxldGVyLmF1dG9zaG93KSB7XG4gICAgICAgICAgaWYgKCFjb21wbGV0aW9uTm90aWZpY2F0aW9uc1tjb21wbGV0ZXIubmFtZV0pXG4gICAgICAgICAgICBjb21wbGV0aW9uTm90aWZpY2F0aW9uc1tjb21wbGV0ZXIubmFtZV0gPSAkKFwiPGRpdiBjbGFzcz0nY29tcGxldGlvbk5vdGlmaWNhdGlvbic+PC9kaXY+XCIpO1xuICAgICAgICAgIGNvbXBsZXRpb25Ob3RpZmljYXRpb25zW2NvbXBsZXRlci5uYW1lXVxuICAgICAgICAgICAgLnNob3coKVxuICAgICAgICAgICAgLnRleHQoXCJQcmVzcyBDVFJMIC0gPHNwYWNlYmFyPiB0byBhdXRvY29tcGxldGVcIilcbiAgICAgICAgICAgIC5hcHBlbmRUbygkKHlhc3FlLmdldFdyYXBwZXJFbGVtZW50KCkpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhpZGU6IGZ1bmN0aW9uKHlhc3FlLCBjb21wbGV0ZXIpIHtcbiAgICAgICAgaWYgKGNvbXBsZXRpb25Ob3RpZmljYXRpb25zW2NvbXBsZXRlci5uYW1lXSkge1xuICAgICAgICAgIGNvbXBsZXRpb25Ob3RpZmljYXRpb25zW2NvbXBsZXRlci5uYW1lXS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGF1dG9Db21wbGV0ZTogYXV0b0NvbXBsZXRlLFxuICAgIGdldFRyaWU6IGZ1bmN0aW9uKGNvbXBsZXRlcikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBjb21wbGV0ZXIgPT0gXCJzdHJpbmdcIiA/IHRyaWVzW2NvbXBsZXRlcl0gOiB0cmllc1tjb21wbGV0ZXIubmFtZV07XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBmdW5jdGlvbiB3aGljaCBmaXJlcyBhZnRlciB0aGUgdXNlciBzZWxlY3RzIGEgY29tcGxldGlvbi4gdGhpcyBmdW5jdGlvbiBjaGVja3Mgd2hldGhlciB3ZSBhY3R1YWxseSBuZWVkIHRvIHN0b3JlIHRoaXMgb25lIChpZiBjb21wbGV0aW9uIGlzIHNhbWUgYXMgY3VycmVudCB0b2tlbiwgZG9uJ3QgZG8gYW55dGhpbmcpXG4gKi9cbnZhciBzZWxlY3RIaW50ID0gZnVuY3Rpb24oeWFzcWUsIGRhdGEsIGNvbXBsZXRpb24pIHtcbiAgaWYgKGNvbXBsZXRpb24udGV4dCAhPSB5YXNxZS5nZXRUb2tlbkF0KHlhc3FlLmdldEN1cnNvcigpKS5zdHJpbmcpIHtcbiAgICB5YXNxZS5yZXBsYWNlUmFuZ2UoY29tcGxldGlvbi50ZXh0LCBkYXRhLmZyb20sIGRhdGEudG8pO1xuICB9XG59O1xuXG4vL1xuLy9tb2R1bGUuZXhwb3J0cyA9IHtcbi8vXHRwcmVwcm9jZXNzUHJlZml4VG9rZW5Gb3JDb21wbGV0aW9uOiBwcmVwcm9jZXNzUHJlZml4VG9rZW5Gb3JDb21wbGV0aW9uLFxuLy9cdHBvc3Rwcm9jZXNzUmVzb3VyY2VUb2tlbkZvckNvbXBsZXRpb246IHBvc3Rwcm9jZXNzUmVzb3VyY2VUb2tlbkZvckNvbXBsZXRpb24sXG4vL1x0cHJlcHJvY2Vzc1Jlc291cmNlVG9rZW5Gb3JDb21wbGV0aW9uOiBwcmVwcm9jZXNzUmVzb3VyY2VUb2tlbkZvckNvbXBsZXRpb24sXG4vL1x0c2hvd0NvbXBsZXRpb25Ob3RpZmljYXRpb246IHNob3dDb21wbGV0aW9uTm90aWZpY2F0aW9uLFxuLy9cdGhpZGVDb21wbGV0aW9uTm90aWZpY2F0aW9uOiBoaWRlQ29tcGxldGlvbk5vdGlmaWNhdGlvbixcbi8vXHRhdXRvQ29tcGxldGU6IGF1dG9Db21wbGV0ZSxcbi8vXHRhdXRvY29tcGxldGVWYXJpYWJsZXM6IGF1dG9jb21wbGV0ZVZhcmlhYmxlcyxcbi8vXHRmZXRjaEZyb21QcmVmaXhDYzogZmV0Y2hGcm9tUHJlZml4Q2MsXG4vL1x0ZmV0Y2hGcm9tTG92OiBmZXRjaEZyb21Mb3YsXG4vLy8vXHRzdG9yZUJ1bGtDb21wbGV0aW9uczogc3RvcmVCdWxrQ29tcGxldGlvbnMsXG4vL1x0bG9hZEJ1bGtDb21wbGV0aW9uczogbG9hZEJ1bGtDb21wbGV0aW9ucyxcbi8vfTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih5YXNxZSwgbmFtZSkge1xuICByZXR1cm4ge1xuICAgIGlzVmFsaWRDb21wbGV0aW9uUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzLmlzVmFsaWRDb21wbGV0aW9uUG9zaXRpb24oeWFzcWUpO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbih0b2tlbiwgY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiByZXF1aXJlKFwiLi91dGlsc1wiKS5mZXRjaEZyb21Mb3YoeWFzcWUsIHRoaXMsIHRva2VuLCBjYWxsYmFjayk7XG4gICAgfSxcbiAgICBwcmVQcm9jZXNzVG9rZW46IGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHMucHJlUHJvY2Vzc1Rva2VuKHlhc3FlLCB0b2tlbik7XG4gICAgfSxcbiAgICBwb3N0UHJvY2Vzc1Rva2VuOiBmdW5jdGlvbih0b2tlbiwgc3VnZ2VzdGVkU3RyaW5nKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHMucG9zdFByb2Nlc3NUb2tlbih5YXNxZSwgdG9rZW4sIHN1Z2dlc3RlZFN0cmluZyk7XG4gICAgfSxcbiAgICBhc3luYzogdHJ1ZSxcbiAgICBidWxrOiBmYWxzZSxcbiAgICBhdXRvU2hvdzogZmFsc2UsXG4gICAgcGVyc2lzdGVudDogbmFtZSxcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgIHZhbGlkUG9zaXRpb246IHlhc3FlLmF1dG9jb21wbGV0ZXJzLm5vdGlmaWNhdGlvbnMuc2hvdyxcbiAgICAgIGludmFsaWRQb3NpdGlvbjogeWFzcWUuYXV0b2NvbXBsZXRlcnMubm90aWZpY2F0aW9ucy5oaWRlXG4gICAgfVxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMuaXNWYWxpZENvbXBsZXRpb25Qb3NpdGlvbiA9IGZ1bmN0aW9uKHlhc3FlKSB7XG4gIHZhciB0b2tlbiA9IHlhc3FlLmdldENvbXBsZXRlVG9rZW4oKTtcbiAgaWYgKHRva2VuLnN0cmluZy5pbmRleE9mKFwiP1wiKSA9PSAwKSByZXR1cm4gZmFsc2U7XG4gIHZhciBjdXIgPSB5YXNxZS5nZXRDdXJzb3IoKTtcbiAgdmFyIHByZXZpb3VzVG9rZW4gPSB5YXNxZS5nZXRQcmV2aW91c05vbldzVG9rZW4oY3VyLmxpbmUsIHRva2VuKTtcbiAgaWYgKHByZXZpb3VzVG9rZW4uc3RyaW5nID09IFwiYVwiKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKHByZXZpb3VzVG9rZW4uc3RyaW5nID09IFwicmRmOnR5cGVcIikgcmV0dXJuIHRydWU7XG4gIGlmIChwcmV2aW91c1Rva2VuLnN0cmluZyA9PSBcInJkZnM6ZG9tYWluXCIpIHJldHVybiB0cnVlO1xuICBpZiAocHJldmlvdXNUb2tlbi5zdHJpbmcgPT0gXCJyZGZzOnJhbmdlXCIpIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59O1xubW9kdWxlLmV4cG9ydHMucHJlUHJvY2Vzc1Rva2VuID0gZnVuY3Rpb24oeWFzcWUsIHRva2VuKSB7XG4gIHJldHVybiByZXF1aXJlKFwiLi91dGlscy5qc1wiKS5wcmVwcm9jZXNzUmVzb3VyY2VUb2tlbkZvckNvbXBsZXRpb24oeWFzcWUsIHRva2VuKTtcbn07XG5tb2R1bGUuZXhwb3J0cy5wb3N0UHJvY2Vzc1Rva2VuID0gZnVuY3Rpb24oeWFzcWUsIHRva2VuLCBzdWdnZXN0ZWRTdHJpbmcpIHtcbiAgcmV0dXJuIHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpLnBvc3Rwcm9jZXNzUmVzb3VyY2VUb2tlbkZvckNvbXBsZXRpb24oeWFzcWUsIHRva2VuLCBzdWdnZXN0ZWRTdHJpbmcpO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xuLy90aGlzIGlzIGEgbWFwcGluZyBmcm9tIHRoZSBjbGFzcyBuYW1lcyAoZ2VuZXJpYyBvbmVzLCBmb3IgY29tcGF0YWJpbGl0eSB3aXRoIGNvZGVtaXJyb3IgdGhlbWVzKSwgdG8gd2hhdCB0aGV5IC1hY3R1YWxseS0gcmVwcmVzZW50XG52YXIgdG9rZW5UeXBlcyA9IHtcbiAgXCJzdHJpbmctMlwiOiBcInByZWZpeGVkXCIsXG4gIGF0b206IFwidmFyXCJcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oeWFzcWUsIGNvbXBsZXRlck5hbWUpIHtcbiAgLy90aGlzIGF1dG9jb21wbGV0ZXIgYWxzbyBmaXJlcyBvbi1jaGFuZ2UhXG4gIHlhc3FlLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgIG1vZHVsZS5leHBvcnRzLmFwcGVuZFByZWZpeElmTmVlZGVkKHlhc3FlLCBjb21wbGV0ZXJOYW1lKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkQ29tcGxldGlvblBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cy5pc1ZhbGlkQ29tcGxldGlvblBvc2l0aW9uKHlhc3FlKTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24odG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICAkLmdldChtb2R1bGUuZXhwb3J0cy5mZXRjaEZyb20sIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgdmFyIHByZWZpeEFycmF5ID0gW107XG4gICAgICAgIGZvciAodmFyIHByZWZpeCBpbiBkYXRhKSB7XG4gICAgICAgICAgaWYgKHByZWZpeCA9PSBcImJpZlwiKSBjb250aW51ZTsgLy8gc2tpcCB0aGlzIG9uZSEgc2VlICMyMzFcbiAgICAgICAgICB2YXIgY29tcGxldGVTdHJpbmcgPSBwcmVmaXggKyBcIjogPFwiICsgZGF0YVtwcmVmaXhdICsgXCI+XCI7XG4gICAgICAgICAgcHJlZml4QXJyYXkucHVzaChjb21wbGV0ZVN0cmluZyk7IC8vIHRoZSBhcnJheSB3ZSB3YW50IHRvIHN0b3JlIGluIGxvY2Fsc3RvcmFnZVxuICAgICAgICB9XG5cbiAgICAgICAgcHJlZml4QXJyYXkuc29ydCgpO1xuICAgICAgICBjYWxsYmFjayhwcmVmaXhBcnJheSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHByZVByb2Nlc3NUb2tlbjogZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cy5wcmVwcm9jZXNzUHJlZml4VG9rZW5Gb3JDb21wbGV0aW9uKHlhc3FlLCB0b2tlbik7XG4gICAgfSxcbiAgICBhc3luYzogdHJ1ZSxcbiAgICBidWxrOiB0cnVlLFxuICAgIGF1dG9TaG93OiB0cnVlLFxuICAgIHBlcnNpc3RlbnQ6IGNvbXBsZXRlck5hbWUsXG4gICAgY2FsbGJhY2tzOiB7XG4gICAgICBwaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgeWFzcWUuY29sbGFwc2VQcmVmaXhlcyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcbm1vZHVsZS5leHBvcnRzLmlzVmFsaWRDb21wbGV0aW9uUG9zaXRpb24gPSBmdW5jdGlvbih5YXNxZSkge1xuICB2YXIgY3VyID0geWFzcWUuZ2V0Q3Vyc29yKCksIHRva2VuID0geWFzcWUuZ2V0VG9rZW5BdChjdXIpO1xuXG4gIC8vIG5vdCBhdCBlbmQgb2YgbGluZVxuICBpZiAoeWFzcWUuZ2V0TGluZShjdXIubGluZSkubGVuZ3RoID4gY3VyLmNoKSByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHRva2VuLnR5cGUgIT0gXCJ3c1wiKSB7XG4gICAgLy8gd2Ugd2FudCB0byBjb21wbGV0ZSB0b2tlbiwgZS5nLiB3aGVuIHRoZSBwcmVmaXggc3RhcnRzIHdpdGggYW4gYVxuICAgIC8vICh0cmVhdGVkIGFzIGEgdG9rZW4gaW4gaXRzZWxmLi4pXG4gICAgLy8gYnV0IHdlIHRvIGF2b2lkIGluY2x1ZGluZyB0aGUgUFJFRklYIHRhZy4gU28gd2hlbiB3ZSBoYXZlIGp1c3RcbiAgICAvLyB0eXBlZCBhIHNwYWNlIGFmdGVyIHRoZSBwcmVmaXggdGFnLCBkb24ndCBnZXQgdGhlIGNvbXBsZXRlIHRva2VuXG4gICAgdG9rZW4gPSB5YXNxZS5nZXRDb21wbGV0ZVRva2VuKCk7XG4gIH1cblxuICAvLyB3ZSBzaG91bGRudCBiZSBhdCB0aGUgdXJpIHBhcnQgdGhlIHByZWZpeCBkZWNsYXJhdGlvblxuICAvLyBhbHNvIGNoZWNrIHdoZXRoZXIgY3VycmVudCB0b2tlbiBpc250ICdhJyAodGhhdCBtYWtlcyBjb2RlbWlycm9yXG4gIC8vIHRoaW5nIGEgbmFtZXNwYWNlIGlzIGEgcG9zc2libGVjdXJyZW50XG4gIGlmICghdG9rZW4uc3RyaW5nLmluZGV4T2YoXCJhXCIpID09IDAgJiYgJC5pbkFycmF5KFwiUE5BTUVfTlNcIiwgdG9rZW4uc3RhdGUucG9zc2libGVDdXJyZW50KSA9PSAtMSkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIEZpcnN0IHRva2VuIG9mIGxpbmUgbmVlZHMgdG8gYmUgUFJFRklYLFxuICAvLyB0aGVyZSBzaG91bGQgYmUgbm8gdHJhaWxpbmcgdGV4dCAob3RoZXJ3aXNlLCB0ZXh0IGlzIHdyb25nbHkgaW5zZXJ0ZWRcbiAgLy8gaW4gYmV0d2VlbilcbiAgdmFyIHByZXZpb3VzVG9rZW4gPSB5YXNxZS5nZXRQcmV2aW91c05vbldzVG9rZW4oY3VyLmxpbmUsIHRva2VuKTtcbiAgaWYgKCFwcmV2aW91c1Rva2VuIHx8IHByZXZpb3VzVG9rZW4uc3RyaW5nLnRvVXBwZXJDYXNlKCkgIT0gXCJQUkVGSVhcIikgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5tb2R1bGUuZXhwb3J0cy5wcmVwcm9jZXNzUHJlZml4VG9rZW5Gb3JDb21wbGV0aW9uID0gZnVuY3Rpb24oeWFzcWUsIHRva2VuKSB7XG4gIHZhciBwcmV2aW91c1Rva2VuID0geWFzcWUuZ2V0UHJldmlvdXNOb25Xc1Rva2VuKHlhc3FlLmdldEN1cnNvcigpLmxpbmUsIHRva2VuKTtcbiAgaWYgKHByZXZpb3VzVG9rZW4gJiYgcHJldmlvdXNUb2tlbi5zdHJpbmcgJiYgcHJldmlvdXNUb2tlbi5zdHJpbmcuc2xpY2UoLTEpID09IFwiOlwiKSB7XG4gICAgLy9jb21iaW5lIGJvdGggdG9rZW5zISBJbiB0aGlzIGNhc2Ugd2UgaGF2ZSB0aGUgY3Vyc29yIGF0IHRoZSBlbmQgb2YgbGluZSBcIlBSRUZJWCBibGE6IDxcIi5cbiAgICAvL3dlIHdhbnQgdGhlIHRva2VuIHRvIGJlIFwiYmxhOiA8XCIsIGVuIG5vdCBcIjxcIlxuICAgIHRva2VuID0ge1xuICAgICAgc3RhcnQ6IHByZXZpb3VzVG9rZW4uc3RhcnQsXG4gICAgICBlbmQ6IHRva2VuLmVuZCxcbiAgICAgIHN0cmluZzogcHJldmlvdXNUb2tlbi5zdHJpbmcgKyBcIiBcIiArIHRva2VuLnN0cmluZyxcbiAgICAgIHN0YXRlOiB0b2tlbi5zdGF0ZVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHRva2VuO1xufTtcbi8qKlxuICogQ2hlY2sgd2hldGhlciB0eXBlZCBwcmVmaXggaXMgZGVjbGFyZWQuIElmIG5vdCwgYXV0b21hdGljYWxseSBhZGQgZGVjbGFyYXRpb25cbiAqIHVzaW5nIGxpc3QgZnJvbSBwcmVmaXguY2NcbiAqXG4gKiBAcGFyYW0geWFzcWVcbiAqL1xubW9kdWxlLmV4cG9ydHMuYXBwZW5kUHJlZml4SWZOZWVkZWQgPSBmdW5jdGlvbih5YXNxZSwgY29tcGxldGVyTmFtZSkge1xuICBpZiAoIXlhc3FlLmF1dG9jb21wbGV0ZXJzLmdldFRyaWUoY29tcGxldGVyTmFtZSkpIHJldHVybjsgLy8gbm8gcHJlZml4ZWQgZGVmaW5lZC4ganVzdCBzdG9wXG4gIGlmICgheWFzcWUub3B0aW9ucy5hdXRvY29tcGxldGVycyB8fCB5YXNxZS5vcHRpb25zLmF1dG9jb21wbGV0ZXJzLmluZGV4T2YoY29tcGxldGVyTmFtZSkgPT0gLTEpIHJldHVybjsgLy90aGlzIGF1dG9jb21wbGV0ZXIgaXMgZGlzYWJsZWRcbiAgdmFyIGN1ciA9IHlhc3FlLmdldEN1cnNvcigpO1xuXG4gIHZhciB0b2tlbiA9IHlhc3FlLmdldFRva2VuQXQoY3VyKTtcbiAgaWYgKHRva2VuVHlwZXNbdG9rZW4udHlwZV0gPT0gXCJwcmVmaXhlZFwiKSB7XG4gICAgdmFyIGNvbG9uSW5kZXggPSB0b2tlbi5zdHJpbmcuaW5kZXhPZihcIjpcIik7XG4gICAgaWYgKGNvbG9uSW5kZXggIT09IC0xKSB7XG4gICAgICAvLyBjaGVjayBwcmV2aW91cyB0b2tlbiBpc250IFBSRUZJWCwgb3IgYSAnPCcod2hpY2ggd291bGQgbWVhbiB3ZSBhcmUgaW4gYSB1cmkpXG4gICAgICAvL1x0XHRcdHZhciBmaXJzdFRva2VuU3RyaW5nID0geWFzcWUuZ2V0TmV4dE5vbldzVG9rZW4oY3VyLmxpbmUpLnN0cmluZy50b1VwcGVyQ2FzZSgpO1xuICAgICAgdmFyIGxhc3ROb25Xc1Rva2VuU3RyaW5nID0geWFzcWUuZ2V0UHJldmlvdXNOb25Xc1Rva2VuKGN1ci5saW5lLCB0b2tlbikuc3RyaW5nLnRvVXBwZXJDYXNlKCk7XG4gICAgICB2YXIgcHJldmlvdXNUb2tlbiA9IHlhc3FlLmdldFRva2VuQXQoe1xuICAgICAgICBsaW5lOiBjdXIubGluZSxcbiAgICAgICAgY2g6IHRva2VuLnN0YXJ0XG4gICAgICB9KTsgLy8gbmVlZHMgdG8gYmUgbnVsbCAoYmVnaW5uaW5nIG9mIGxpbmUpLCBvciB3aGl0ZXNwYWNlXG4gICAgICBpZiAobGFzdE5vbldzVG9rZW5TdHJpbmcgIT0gXCJQUkVGSVhcIiAmJiAocHJldmlvdXNUb2tlbi50eXBlID09IFwid3NcIiB8fCBwcmV2aW91c1Rva2VuLnR5cGUgPT0gbnVsbCkpIHtcbiAgICAgICAgLy8gY2hlY2sgd2hldGhlciBpdCBpc250IGRlZmluZWQgYWxyZWFkeSAoc2F2ZXMgdXMgZnJvbSBsb29waW5nXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIGFycmF5KVxuICAgICAgICB2YXIgY3VycmVudFByZWZpeCA9IHRva2VuLnN0cmluZy5zdWJzdHJpbmcoMCwgY29sb25JbmRleCArIDEpO1xuICAgICAgICB2YXIgcXVlcnlQcmVmaXhlcyA9IHlhc3FlLmdldFByZWZpeGVzRnJvbVF1ZXJ5KCk7XG4gICAgICAgIGlmIChxdWVyeVByZWZpeGVzW2N1cnJlbnRQcmVmaXguc2xpY2UoMCwgLTEpXSA9PSBudWxsKSB7XG4gICAgICAgICAgLy8gb2ssIHNvIGl0IGlzbnQgYWRkZWQgeWV0IVxuICAgICAgICAgIHZhciBjb21wbGV0aW9ucyA9IHlhc3FlLmF1dG9jb21wbGV0ZXJzLmdldFRyaWUoY29tcGxldGVyTmFtZSkuYXV0b0NvbXBsZXRlKGN1cnJlbnRQcmVmaXgpO1xuICAgICAgICAgIGlmIChjb21wbGV0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB5YXNxZS5hZGRQcmVmaXhlcyhjb21wbGV0aW9uc1swXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5mZXRjaEZyb20gPSAod2luZG93LmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoXCJodHRwXCIpID09PSAwID8gXCIvL1wiIDogXCJodHRwOi8vXCIpICtcbiAgXCJwcmVmaXguY2MvcG9wdWxhci9hbGwuZmlsZS5qc29uXCI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oeWFzcWUsIG5hbWUpIHtcbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkQ29tcGxldGlvblBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cy5pc1ZhbGlkQ29tcGxldGlvblBvc2l0aW9uKHlhc3FlKTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24odG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gcmVxdWlyZShcIi4vdXRpbHNcIikuZmV0Y2hGcm9tTG92KHlhc3FlLCB0aGlzLCB0b2tlbiwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgcHJlUHJvY2Vzc1Rva2VuOiBmdW5jdGlvbih0b2tlbikge1xuICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzLnByZVByb2Nlc3NUb2tlbih5YXNxZSwgdG9rZW4pO1xuICAgIH0sXG4gICAgcG9zdFByb2Nlc3NUb2tlbjogZnVuY3Rpb24odG9rZW4sIHN1Z2dlc3RlZFN0cmluZykge1xuICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzLnBvc3RQcm9jZXNzVG9rZW4oeWFzcWUsIHRva2VuLCBzdWdnZXN0ZWRTdHJpbmcpO1xuICAgIH0sXG4gICAgYXN5bmM6IHRydWUsXG4gICAgYnVsazogZmFsc2UsXG4gICAgYXV0b1Nob3c6IGZhbHNlLFxuICAgIHBlcnNpc3RlbnQ6IG5hbWUsXG4gICAgY2FsbGJhY2tzOiB7XG4gICAgICB2YWxpZFBvc2l0aW9uOiB5YXNxZS5hdXRvY29tcGxldGVycy5ub3RpZmljYXRpb25zLnNob3csXG4gICAgICBpbnZhbGlkUG9zaXRpb246IHlhc3FlLmF1dG9jb21wbGV0ZXJzLm5vdGlmaWNhdGlvbnMuaGlkZVxuICAgIH1cbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmlzVmFsaWRDb21wbGV0aW9uUG9zaXRpb24gPSBmdW5jdGlvbih5YXNxZSkge1xuICB2YXIgdG9rZW4gPSB5YXNxZS5nZXRDb21wbGV0ZVRva2VuKCk7XG4gIGlmICh0b2tlbi5zdHJpbmcubGVuZ3RoID09IDApIHJldHVybiBmYWxzZTsgLy93ZSB3YW50IC1zb21ldGhpbmctIHRvIGF1dG9jb21wbGV0ZVxuICBpZiAodG9rZW4uc3RyaW5nLmluZGV4T2YoXCI/XCIpID09IDApIHJldHVybiBmYWxzZTsgLy8gd2UgYXJlIHR5cGluZyBhIHZhclxuICBpZiAoJC5pbkFycmF5KFwiYVwiLCB0b2tlbi5zdGF0ZS5wb3NzaWJsZUN1cnJlbnQpID49IDApIHJldHVybiB0cnVlOyAvLyBwcmVkaWNhdGUgcG9zXG4gIHZhciBjdXIgPSB5YXNxZS5nZXRDdXJzb3IoKTtcbiAgdmFyIHByZXZpb3VzVG9rZW4gPSB5YXNxZS5nZXRQcmV2aW91c05vbldzVG9rZW4oY3VyLmxpbmUsIHRva2VuKTtcbiAgaWYgKHByZXZpb3VzVG9rZW4uc3RyaW5nID09IFwicmRmczpzdWJQcm9wZXJ0eU9mXCIpIHJldHVybiB0cnVlO1xuXG4gIC8vIGhtbSwgd2Ugd291bGQgbGlrZSAtYmV0dGVyLSBjaGVja3MgaGVyZSwgZS5nLiBjaGVja2luZyB3aGV0aGVyIHdlIGFyZVxuICAvLyBpbiBhIHN1YmplY3QsIGFuZCB3aGV0aGVyIG5leHQgaXRlbSBpcyBhIHJkZnM6c3VicHJvcGVydHlvZi5cbiAgLy8gZGlmZmljdWx0IHRob3VnaC4uLiB0aGUgZ3JhbW1hciB3ZSB1c2UgaXMgdW5yZWxpYWJsZSB3aGVuIHRoZSBxdWVyeVxuICAvLyBpcyBpbnZhbGlkIChpLmUuIGR1cmluZyB0eXBpbmcpLCBhbmQgb2Z0ZW4gdGhlIHByZWRpY2F0ZSBpcyBub3QgdHlwZWRcbiAgLy8geWV0LCB3aGVuIHdlIGFyZSBidXN5IHdyaXRpbmcgdGhlIHN1YmplY3QuLi5cbiAgcmV0dXJuIGZhbHNlO1xufTtcbm1vZHVsZS5leHBvcnRzLnByZVByb2Nlc3NUb2tlbiA9IGZ1bmN0aW9uKHlhc3FlLCB0b2tlbikge1xuICByZXR1cm4gcmVxdWlyZShcIi4vdXRpbHMuanNcIikucHJlcHJvY2Vzc1Jlc291cmNlVG9rZW5Gb3JDb21wbGV0aW9uKHlhc3FlLCB0b2tlbik7XG59O1xubW9kdWxlLmV4cG9ydHMucG9zdFByb2Nlc3NUb2tlbiA9IGZ1bmN0aW9uKHlhc3FlLCB0b2tlbiwgc3VnZ2VzdGVkU3RyaW5nKSB7XG4gIHJldHVybiByZXF1aXJlKFwiLi91dGlscy5qc1wiKS5wb3N0cHJvY2Vzc1Jlc291cmNlVG9rZW5Gb3JDb21wbGV0aW9uKHlhc3FlLCB0b2tlbiwgc3VnZ2VzdGVkU3RyaW5nKTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKSwgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKSwgeXV0aWxzID0gcmVxdWlyZShcInlhc2d1aS11dGlsc1wiKTtcbi8qKlxuICogV2hlcmUgdGhlIGJhc2UgY2xhc3Mgb25seSBjb250YWlucyBmdW5jdGlvbmFsaXR5IHJlbGF0ZWQgdG8gLWFsbC0gY29tcGxldGlvbnMsIHRoaXMgY2xhc3MgY29udGFpbnMgc29tZSB1dGlscyB1c2VkIGhlcmUgYW5kIHRoZXJlIGluIG91ciBhdXRvY29tcGxldGlvbnNcbiAqL1xuXG4vKipcbiAqIENvbnZlcnRzIHJkZjp0eXBlIHRvIGh0dHA6Ly8uLi4vdHlwZSBhbmQgY29udmVydHMgPGh0dHA6Ly8uLi4+IHRvIGh0dHA6Ly8uLi5cbiAqIFN0b3JlcyBhZGRpdGlvbmFsIGluZm8gc3VjaCBhcyB0aGUgdXNlZCBuYW1lc3BhY2UgYW5kIHByZWZpeCBpbiB0aGUgdG9rZW4gb2JqZWN0XG4gKi9cbnZhciBwcmVwcm9jZXNzUmVzb3VyY2VUb2tlbkZvckNvbXBsZXRpb24gPSBmdW5jdGlvbih5YXNxZSwgdG9rZW4pIHtcbiAgdmFyIHF1ZXJ5UHJlZml4ZXMgPSB5YXNxZS5nZXRQcmVmaXhlc0Zyb21RdWVyeSgpO1xuICBpZiAoIXRva2VuLnN0cmluZy5pbmRleE9mKFwiPFwiKSA9PSAwKSB7XG4gICAgdG9rZW4udG9rZW5QcmVmaXggPSB0b2tlbi5zdHJpbmcuc3Vic3RyaW5nKDAsIHRva2VuLnN0cmluZy5pbmRleE9mKFwiOlwiKSArIDEpO1xuXG4gICAgaWYgKHF1ZXJ5UHJlZml4ZXNbdG9rZW4udG9rZW5QcmVmaXguc2xpY2UoMCwgLTEpXSAhPSBudWxsKSB7XG4gICAgICB0b2tlbi50b2tlblByZWZpeFVyaSA9IHF1ZXJ5UHJlZml4ZXNbdG9rZW4udG9rZW5QcmVmaXguc2xpY2UoMCwgLTEpXTtcbiAgICB9XG4gIH1cblxuICB0b2tlbi5hdXRvY29tcGxldGlvblN0cmluZyA9IHRva2VuLnN0cmluZy50cmltKCk7XG4gIGlmICghdG9rZW4uc3RyaW5nLmluZGV4T2YoXCI8XCIpID09IDAgJiYgdG9rZW4uc3RyaW5nLmluZGV4T2YoXCI6XCIpID4gLTEpIHtcbiAgICAvLyBobW0sIHRoZSB0b2tlbiBpcyBwcmVmaXhlZC4gV2Ugc3RpbGwgbmVlZCB0aGUgY29tcGxldGUgdXJpIGZvciBhdXRvY29tcGxldGlvbnMuIGdlbmVyYXRlIHRoaXMhXG4gICAgZm9yICh2YXIgcHJlZml4IGluIHF1ZXJ5UHJlZml4ZXMpIHtcbiAgICAgIGlmICh0b2tlbi50b2tlblByZWZpeCA9PT0gcHJlZml4ICsgXCI6XCIpIHtcbiAgICAgICAgdG9rZW4uYXV0b2NvbXBsZXRpb25TdHJpbmcgPSBxdWVyeVByZWZpeGVzW3ByZWZpeF07XG4gICAgICAgIHRva2VuLmF1dG9jb21wbGV0aW9uU3RyaW5nICs9IHRva2VuLnN0cmluZy5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aCArIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAodG9rZW4uYXV0b2NvbXBsZXRpb25TdHJpbmcuaW5kZXhPZihcIjxcIikgPT0gMClcbiAgICB0b2tlbi5hdXRvY29tcGxldGlvblN0cmluZyA9IHRva2VuLmF1dG9jb21wbGV0aW9uU3RyaW5nLnN1YnN0cmluZygxKTtcbiAgaWYgKHRva2VuLmF1dG9jb21wbGV0aW9uU3RyaW5nLmluZGV4T2YoXCI+XCIsIHRva2VuLmxlbmd0aCAtIDEpICE9PSAtMSlcbiAgICB0b2tlbi5hdXRvY29tcGxldGlvblN0cmluZyA9IHRva2VuLmF1dG9jb21wbGV0aW9uU3RyaW5nLnN1YnN0cmluZygwLCB0b2tlbi5hdXRvY29tcGxldGlvblN0cmluZy5sZW5ndGggLSAxKTtcbiAgcmV0dXJuIHRva2VuO1xufTtcblxudmFyIHBvc3Rwcm9jZXNzUmVzb3VyY2VUb2tlbkZvckNvbXBsZXRpb24gPSBmdW5jdGlvbih5YXNxZSwgdG9rZW4sIHN1Z2dlc3RlZFN0cmluZykge1xuICBpZiAodG9rZW4udG9rZW5QcmVmaXggJiYgdG9rZW4uYXV0b2NvbXBsZXRpb25TdHJpbmcgJiYgdG9rZW4udG9rZW5QcmVmaXhVcmkpIHtcbiAgICAvLyB3ZSBuZWVkIHRvIGdldCB0aGUgc3VnZ2VzdGVkIHN0cmluZyBiYWNrIHRvIHByZWZpeGVkIGZvcm1cbiAgICBzdWdnZXN0ZWRTdHJpbmcgPSB0b2tlbi50b2tlblByZWZpeCArIHN1Z2dlc3RlZFN0cmluZy5zdWJzdHJpbmcodG9rZW4udG9rZW5QcmVmaXhVcmkubGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpdCBpcyBhIHJlZ3VsYXIgdXJpLiBhZGQgJzwnIGFuZCAnPicgdG8gc3RyaW5nXG4gICAgc3VnZ2VzdGVkU3RyaW5nID0gXCI8XCIgKyBzdWdnZXN0ZWRTdHJpbmcgKyBcIj5cIjtcbiAgfVxuICByZXR1cm4gc3VnZ2VzdGVkU3RyaW5nO1xufTtcblxuLy9Vc2UgcHJvdG9jb2wgcmVsYXRpdmUgcmVxdWVzdCB3aGVuIHNlcnZlZCB2aWEgaHR0cFtzXSouIE90aGVyd2lzZSAoZS5nLiBmaWxlOi8vLCBmZXRjaCB2aWEgaHR0cClcbnZhciByZXFQcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKFwiaHR0cFwiKSA9PT0gMCA/IFwiLy9cIiA6IFwiaHR0cDovL1wiO1xudmFyIGZldGNoRnJvbUxvdiA9IGZ1bmN0aW9uKHlhc3FlLCBjb21wbGV0ZXIsIHRva2VuLCBjYWxsYmFjaykge1xuICBpZiAoIXRva2VuIHx8ICF0b2tlbi5zdHJpbmcgfHwgdG9rZW4uc3RyaW5nLnRyaW0oKS5sZW5ndGggPT0gMCkge1xuICAgIHlhc3FlLmF1dG9jb21wbGV0ZXJzLm5vdGlmaWNhdGlvbnMuZ2V0RWwoY29tcGxldGVyKS5lbXB0eSgpLmFwcGVuZChcIk5vdGhpbmcgdG8gYXV0b2NvbXBsZXRlIHlldCFcIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBtYXhSZXN1bHRzID0gNTA7XG5cbiAgdmFyIGFyZ3MgPSB7XG4gICAgcTogdG9rZW4uYXV0b2NvbXBsZXRpb25TdHJpbmcsXG4gICAgcGFnZTogMVxuICB9O1xuICBpZiAoY29tcGxldGVyLm5hbWUgPT0gXCJjbGFzc2VzXCIpIHtcbiAgICBhcmdzLnR5cGUgPSBcImNsYXNzXCI7XG4gIH0gZWxzZSB7XG4gICAgYXJncy50eXBlID0gXCJwcm9wZXJ0eVwiO1xuICB9XG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciB1cmwgPSBcIlwiO1xuICB2YXIgdXBkYXRlVXJsID0gZnVuY3Rpb24oKSB7XG4gICAgdXJsID0gcmVxUHJvdG9jb2wgKyBcImxvdi5saW5rZWRkYXRhLmVzL2RhdGFzZXQvbG92L2FwaS92Mi9hdXRvY29tcGxldGUvdGVybXM/XCIgKyAkLnBhcmFtKGFyZ3MpO1xuICB9O1xuICB1cGRhdGVVcmwoKTtcbiAgdmFyIGluY3JlYXNlUGFnZSA9IGZ1bmN0aW9uKCkge1xuICAgIGFyZ3MucGFnZSsrO1xuICAgIHVwZGF0ZVVybCgpO1xuICB9O1xuICB2YXIgZG9SZXF1ZXN0cyA9IGZ1bmN0aW9uKCkge1xuICAgICQuZ2V0KHVybCwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCQuaXNBcnJheShkYXRhLnJlc3VsdHNbaV0udXJpKSAmJiBkYXRhLnJlc3VsdHNbaV0udXJpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goZGF0YS5yZXN1bHRzW2ldLnVyaVswXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGRhdGEucmVzdWx0c1tpXS51cmkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBkYXRhLnRvdGFsX3Jlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGggPCBtYXhSZXN1bHRzKSB7XG4gICAgICAgIGluY3JlYXNlUGFnZSgpO1xuICAgICAgICBkb1JlcXVlc3RzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL2lmIG5vdGlmaWNhdGlvbiBiYXIgaXMgdGhlcmUsIHNob3cgZmVlZGJhY2ssIG9yIGNsb3NlXG4gICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB5YXNxZS5hdXRvY29tcGxldGVycy5ub3RpZmljYXRpb25zLmhpZGUoeWFzcWUsIGNvbXBsZXRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeWFzcWUuYXV0b2NvbXBsZXRlcnMubm90aWZpY2F0aW9ucy5nZXRFbChjb21wbGV0ZXIpLnRleHQoXCIwIG1hdGNoZXMgZm91bmQuLi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2socmVzdWx0cyk7XG4gICAgICAgIC8vIHJlcXVlc3RzIGRvbmUhIERvbid0IGNhbGwgdGhpcyBmdW5jdGlvbiBhZ2FpblxuICAgICAgfVxuICAgIH0pLmZhaWwoZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG4gICAgICB5YXNxZS5hdXRvY29tcGxldGVycy5ub3RpZmljYXRpb25zLmdldEVsKGNvbXBsZXRlcikuZW1wdHkoKS5hcHBlbmQoXCJGYWlsZWQgZmV0Y2hpbmcgc3VnZ2VzdGlvbnMuLlwiKTtcbiAgICB9KTtcbiAgfTtcbiAgLy9pZiBub3RpZmljYXRpb24gYmFyIGlzIHRoZXJlLCBzaG93IGEgbG9hZGVyXG4gIHlhc3FlLmF1dG9jb21wbGV0ZXJzLm5vdGlmaWNhdGlvbnNcbiAgICAuZ2V0RWwoY29tcGxldGVyKVxuICAgIC5lbXB0eSgpXG4gICAgLmFwcGVuZCgkKFwiPHNwYW4+RmV0Y2h0aW5nIGF1dG9jb21wbGV0aW9ucyAmbmJzcDs8L3NwYW4+XCIpKVxuICAgIC5hcHBlbmQoJCh5dXRpbHMuc3ZnLmdldEVsZW1lbnQocmVxdWlyZShcIi4uL2ltZ3MuanNcIikubG9hZGVyKSkuYWRkQ2xhc3MoXCJub3RpZmljYXRpb25Mb2FkZXJcIikpO1xuICBkb1JlcXVlc3RzKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZmV0Y2hGcm9tTG92OiBmZXRjaEZyb21Mb3YsXG4gIHByZXByb2Nlc3NSZXNvdXJjZVRva2VuRm9yQ29tcGxldGlvbjogcHJlcHJvY2Vzc1Jlc291cmNlVG9rZW5Gb3JDb21wbGV0aW9uLFxuICBwb3N0cHJvY2Vzc1Jlc291cmNlVG9rZW5Gb3JDb21wbGV0aW9uOiBwb3N0cHJvY2Vzc1Jlc291cmNlVG9rZW5Gb3JDb21wbGV0aW9uXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHlhc3FlKSB7XG4gIHJldHVybiB7XG4gICAgaXNWYWxpZENvbXBsZXRpb25Qb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdG9rZW4gPSB5YXNxZS5nZXRUb2tlbkF0KHlhc3FlLmdldEN1cnNvcigpKTtcbiAgICAgIGlmICh0b2tlbi50eXBlICE9IFwid3NcIikge1xuICAgICAgICB0b2tlbiA9IHlhc3FlLmdldENvbXBsZXRlVG9rZW4odG9rZW4pO1xuICAgICAgICBpZiAodG9rZW4gJiYgKHRva2VuLnN0cmluZ1swXSA9PT0gJz8nIHx8IHRva2VuLnN0cmluZ1swXSA9PT0gJyQnKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICBpZiAodG9rZW4udHJpbSgpLmxlbmd0aCA9PSAwKSByZXR1cm4gW107IC8vbm90aGluZyB0byBhdXRvY29tcGxldGVcbiAgICAgIHZhciBkaXN0aW5jdFZhcnMgPSB7fTtcbiAgICAgIC8vZG8gdGhpcyBvdXRzaWRlIG9mIGNvZGVtaXJyb3IuIEkgZXhwZWN0IGpxdWVyeSB0byBiZSBmYXN0ZXIgaGVyZSAoanVzdCBmaW5kaW5nIGRvbSBlbGVtZW50cyB3aXRoIGNsYXNzbmFtZXMpXG4gICAgICAvL2FuZDogdGhpcydsbCBzdGlsbCB3b3JrIHdoZW4gdGhlIHF1ZXJ5IGlzIGluY29ycmVjdCAoaS5lLiwgd2hlbiBzaW1wbHkgdHlwaW5nICc/JylcbiAgICAgICQoeWFzcWUuZ2V0V3JhcHBlckVsZW1lbnQoKSkuZmluZChcIi5jbS1hdG9tXCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YXJpYWJsZSA9IHRoaXMuaW5uZXJIVE1MO1xuICAgICAgICBpZiAodmFyaWFibGVbMF0gPT09ICc/JyB8fCB2YXJpYWJsZVswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgLy9vaywgbGV0cyBjaGVjayBpZiB0aGUgbmV4dCBlbGVtZW50IGluIHRoZSBkaXYgaXMgYW4gYXRvbSBhcyB3ZWxsLiBJbiB0aGF0IGNhc2UsIHRoZXkgYmVsb25nIHRvZ2V0aGVyIChtYXkgaGFwcGVuIHNvbWV0aW1lcyB3aGVuIHF1ZXJ5IGlzIG5vdCBzeW50YWN0aWNhbGx5IHZhbGlkKVxuICAgICAgICAgIHZhciBuZXh0RWwgPSAkKHRoaXMpLm5leHQoKTtcbiAgICAgICAgICB2YXIgbmV4dEVsQ2xhc3MgPSBuZXh0RWwuYXR0cihcImNsYXNzXCIpO1xuICAgICAgICAgIGlmIChuZXh0RWxDbGFzcyAmJiBuZXh0RWwuYXR0cihcImNsYXNzXCIpLmluZGV4T2YoXCJjbS1hdG9tXCIpID49IDApIHtcbiAgICAgICAgICAgIHZhcmlhYmxlICs9IG5leHRFbC50ZXh0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9za2lwIHNpbmdsZSBxdWVzdGlvbm1hcmtzXG4gICAgICAgICAgaWYgKHZhcmlhYmxlLmxlbmd0aCA8PSAxKSByZXR1cm47XG5cbiAgICAgICAgICAvL2l0IHNob3VsZCBtYXRjaCBvdXIgdG9rZW4gb2Zjb3Vyc2VcbiAgICAgICAgICBpZiAodmFyaWFibGUuaW5kZXhPZih0b2tlbikgIT09IDApIHJldHVybjtcblxuICAgICAgICAgIC8vc2tpcCBleGFjdCBtYXRjaGVzXG4gICAgICAgICAgaWYgKHZhcmlhYmxlID09IHRva2VuKSByZXR1cm47XG5cbiAgICAgICAgICAvL3N0b3JlIGluIG1hcCBzbyB3ZSBoYXZlIGEgdW5pcXVlIGxpc3RcbiAgICAgICAgICBkaXN0aW5jdFZhcnNbdmFyaWFibGVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgdmFyaWFibGVzID0gW107XG4gICAgICBmb3IgKHZhciB2YXJpYWJsZSBpbiBkaXN0aW5jdFZhcnMpIHtcbiAgICAgICAgdmFyaWFibGVzLnB1c2godmFyaWFibGUpO1xuICAgICAgfVxuICAgICAgdmFyaWFibGVzLnNvcnQoKTtcbiAgICAgIHJldHVybiB2YXJpYWJsZXM7XG4gICAgfSxcbiAgICBhc3luYzogZmFsc2UsXG4gICAgYnVsazogZmFsc2UsXG4gICAgYXV0b1Nob3c6IHRydWVcbiAgfTtcbn07XG4iLCJ2YXIgc3BhcnFsID0gcmVxdWlyZShcIi4vc3BhcnFsLmpzXCIpLCAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBxdW90ZSA9IGZ1bmN0aW9uKHN0cmluZykge1xuICByZXR1cm4gXCInXCIgKyBzdHJpbmcgKyBcIidcIjtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlQ3VybFN0cmluZzogZnVuY3Rpb24oeWFzcWUsIGNvbmZpZykge1xuICAgIHZhciBhamF4Q29uZmlnID0gc3BhcnFsLmdldEFqYXhDb25maWcoeWFzcWUsIGNvbmZpZyk7XG4gICAgdmFyIHVybCA9IGFqYXhDb25maWcudXJsO1xuICAgIGlmIChhamF4Q29uZmlnLnVybC5pbmRleE9mKFwiaHR0cFwiKSAhPT0gMCkge1xuICAgICAgLy90aGlzIGlzIGVpdGhlciBhIHJlbGF0aXZlIG9yIGFic29sdXRlIHVybCwgd2hpY2ggaXMgbm90IHN1cHBvcnRlZCBieSBDVVJMLlxuICAgICAgLy9BZGQgZG9tYWluLCBzY2hlbWEsIGV0YyBldGNcbiAgICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyB3aW5kb3cubG9jYXRpb24uaG9zdDtcbiAgICAgIGlmIChhamF4Q29uZmlnLnVybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuICAgICAgICAvL2l0cyBhbiBhYnNvbHV0ZSBwYXRoXG4gICAgICAgIHVybCArPSBhamF4Q29uZmlnLnVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vcmVsYXRpdmUsIHNvIGFwcGVuZCBjdXJyZW50IGxvY2F0aW9uIHRvIHVybCBmaXJzdFxuICAgICAgICB1cmwgKz0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgYWpheENvbmZpZy51cmw7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBjbWRzID0gW1wiY3VybFwiLCB1cmwsIFwiLVhcIiwgeWFzcWUub3B0aW9ucy5zcGFycWwucmVxdWVzdE1ldGhvZF07XG4gICAgaWYgKHlhc3FlLm9wdGlvbnMuc3BhcnFsLnJlcXVlc3RNZXRob2QgPT0gXCJQT1NUXCIpIHtcbiAgICAgIGNtZHMucHVzaChcIi0tZGF0YSBcIiArIHF1b3RlKCQucGFyYW0oYWpheENvbmZpZy5kYXRhKSkpO1xuICAgIH1cbiAgICBmb3IgKHZhciBoZWFkZXIgaW4gYWpheENvbmZpZy5oZWFkZXJzKSB7XG4gICAgICBjbWRzLnB1c2goXCItSCBcIiArIHF1b3RlKGhlYWRlciArIFwiOiBcIiArIGFqYXhDb25maWcuaGVhZGVyc1toZWFkZXJdKSk7XG4gICAgfVxuICAgIHJldHVybiBjbWRzLmpvaW4oXCIgXCIpO1xuICB9XG59O1xuIiwiLyoqXG4gKiBUaGUgZGVmYXVsdCBvcHRpb25zIG9mIFlBU1FFIChjaGVjayB0aGUgQ29kZU1pcnJvciBkb2N1bWVudGF0aW9uIGZvciBldmVuXG4gKiBtb3JlIG9wdGlvbnMsIHN1Y2ggYXMgZGlzYWJsaW5nIGxpbmUgbnVtYmVycywgb3IgY2hhbmdpbmcga2V5Ym9hcmQgc2hvcnRjdXRcbiAqIGtleXMpLiBFaXRoZXIgY2hhbmdlIHRoZSBkZWZhdWx0IG9wdGlvbnMgYnkgc2V0dGluZyBZQVNRRS5kZWZhdWx0cywgb3IgYnlcbiAqIHBhc3NpbmcgeW91ciBvd24gb3B0aW9ucyBhcyBzZWNvbmQgYXJndW1lbnQgdG8gdGhlIFlBU1FFIGNvbnN0cnVjdG9yXG4gKi9cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKSwgWUFTUUUgPSByZXF1aXJlKFwiLi9tYWluLmpzXCIpO1xuWUFTUUUuZGVmYXVsdHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgWUFTUUUuZGVmYXVsdHMsIHtcbiAgbW9kZTogXCJzcGFycWwxMVwiLFxuICAvKipcblx0ICogUXVlcnkgc3RyaW5nXG5cdCAqL1xuICB2YWx1ZTogXCJQUkVGSVggcmRmOiA8aHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIz5cXG5QUkVGSVggcmRmczogPGh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDEvcmRmLXNjaGVtYSM+XFxuU0VMRUNUICogV0hFUkUge1xcbiAgP3N1YiA/cHJlZCA/b2JqIC5cXG59IFxcbkxJTUlUIDEwXCIsXG4gIGhpZ2hsaWdodFNlbGVjdGlvbk1hdGNoZXM6IHtcbiAgICBzaG93VG9rZW46IC9cXHcvXG4gIH0sXG4gIHRhYk1vZGU6IFwiaW5kZW50XCIsXG4gIGxpbmVOdW1iZXJzOiB0cnVlLFxuICBsaW5lV3JhcHBpbmc6IHRydWUsXG4gIGJhY2tkcm9wOiBmYWxzZSxcbiAgZm9sZEd1dHRlcjoge1xuICAgIHJhbmdlRmluZGVyOiBuZXcgWUFTUUUuZm9sZC5jb21iaW5lKFlBU1FFLmZvbGQuYnJhY2UsIFlBU1FFLmZvbGQucHJlZml4KVxuICB9LFxuICBjb2xsYXBzZVByZWZpeGVzT25Mb2FkOiBmYWxzZSxcbiAgZ3V0dGVyczogW1wiZ3V0dGVyRXJyb3JCYXJcIiwgXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCIsIFwiQ29kZU1pcnJvci1mb2xkZ3V0dGVyXCJdLFxuICBtYXRjaEJyYWNrZXRzOiB0cnVlLFxuICBmaXhlZEd1dHRlcjogdHJ1ZSxcbiAgc3ludGF4RXJyb3JDaGVjazogdHJ1ZSxcbiAgb25RdW90YUV4Y2VlZGVkOiBmdW5jdGlvbihlKSB7XG4gICAgLy9mYWlsIHNpbGVudGx5XG4gICAgY29uc29sZS53YXJuKFwiQ291bGQgbm90IHN0b3JlIGluIGxvY2Fsc3RvcmFnZS4gU2tpcHBpbmcuLlwiLCBlKTtcbiAgfSxcbiAgLyoqXG5cdCAqIEV4dHJhIHNob3J0Y3V0IGtleXMuIENoZWNrIHRoZSBDb2RlTWlycm9yIG1hbnVhbCBvbiBob3cgdG8gYWRkIHlvdXIgb3duXG5cdCAqXG5cdCAqIEBwcm9wZXJ0eSBleHRyYUtleXNcblx0ICogQHR5cGUgb2JqZWN0XG5cdCAqL1xuICBleHRyYUtleXM6IHtcbiAgICAvL1x0XHRcdFx0XHRcIkN0cmwtU3BhY2VcIiA6IGZ1bmN0aW9uKHlhc3FlKSB7XG4gICAgLy9cdFx0XHRcdFx0XHRZQVNRRS5hdXRvQ29tcGxldGUoeWFzcWUpO1xuICAgIC8vXHRcdFx0XHRcdH0sXG4gICAgXCJDdHJsLVNwYWNlXCI6IFlBU1FFLmF1dG9Db21wbGV0ZSxcblxuICAgIFwiQ21kLVNwYWNlXCI6IFlBU1FFLmF1dG9Db21wbGV0ZSxcbiAgICBcIkN0cmwtRFwiOiBZQVNRRS5kZWxldGVMaW5lLFxuICAgIFwiQ3RybC1LXCI6IFlBU1FFLmRlbGV0ZUxpbmUsXG4gICAgXCJTaGlmdC1DdHJsLUtcIjogWUFTUUUuZGVsZXRlTGluZSxcbiAgICBcIkNtZC1EXCI6IFlBU1FFLmRlbGV0ZUxpbmUsXG4gICAgXCJDbWQtS1wiOiBZQVNRRS5kZWxldGVMaW5lLFxuICAgIFwiQ3RybC0vXCI6IFlBU1FFLmNvbW1lbnRMaW5lcyxcbiAgICBcIkNtZC0vXCI6IFlBU1FFLmNvbW1lbnRMaW5lcyxcbiAgICBcIkN0cmwtQWx0LURvd25cIjogWUFTUUUuY29weUxpbmVEb3duLFxuICAgIFwiQ3RybC1BbHQtVXBcIjogWUFTUUUuY29weUxpbmVVcCxcbiAgICBcIkNtZC1BbHQtRG93blwiOiBZQVNRRS5jb3B5TGluZURvd24sXG4gICAgXCJDbWQtQWx0LVVwXCI6IFlBU1FFLmNvcHlMaW5lVXAsXG4gICAgXCJTaGlmdC1DdHJsLUZcIjogWUFTUUUuZG9BdXRvRm9ybWF0LFxuICAgIFwiU2hpZnQtQ21kLUZcIjogWUFTUUUuZG9BdXRvRm9ybWF0LFxuICAgIFwiQ3RybC1dXCI6IFlBU1FFLmluZGVudE1vcmUsXG4gICAgXCJDbWQtXVwiOiBZQVNRRS5pbmRlbnRNb3JlLFxuICAgIFwiQ3RybC1bXCI6IFlBU1FFLmluZGVudExlc3MsXG4gICAgXCJDbWQtW1wiOiBZQVNRRS5pbmRlbnRMZXNzLFxuICAgIFwiQ3RybC1TXCI6IFlBU1FFLnN0b3JlUXVlcnksXG4gICAgXCJDbWQtU1wiOiBZQVNRRS5zdG9yZVF1ZXJ5LFxuICAgIFwiQ3RybC1FbnRlclwiOiBZQVNRRS5leGVjdXRlUXVlcnksXG4gICAgXCJDbWQtRW50ZXJcIjogWUFTUUUuZXhlY3V0ZVF1ZXJ5LFxuICAgIEYxMTogZnVuY3Rpb24oeWFzcWUpIHtcbiAgICAgIHlhc3FlLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgIXlhc3FlLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpO1xuICAgIH0sXG4gICAgRXNjOiBmdW5jdGlvbih5YXNxZSkge1xuICAgICAgaWYgKHlhc3FlLmdldE9wdGlvbihcImZ1bGxTY3JlZW5cIikpIHlhc3FlLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgZmFsc2UpO1xuICAgIH1cbiAgfSxcbiAgY3Vyc29ySGVpZ2h0OiAwLjksXG5cbiAgLyoqXG5cdCAqIFNob3cgYSBidXR0b24gd2l0aCB3aGljaCB1c2VycyBjYW4gY3JlYXRlIGEgbGluayB0byB0aGlzIHF1ZXJ5LiBTZXQgdGhpcyB2YWx1ZSB0byBudWxsIHRvIGRpc2FibGUgdGhpcyBmdW5jdGlvbmFsaXR5LlxuXHQgKiBCeSBkZWZhdWx0LCB0aGlzIGZlYXR1cmUgaXMgZW5hYmxlZCwgYW5kIHRoZSBvbmx5IHRoZSBxdWVyeSB2YWx1ZSBpcyBhcHBlbmRlZCB0byB0aGUgbGluay5cblx0ICogcHMuIFRoaXMgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhbiBvYmplY3Qgd2hpY2ggaXMgcGFyc2VhYmxlIGJ5IGpRdWVyeS5wYXJhbSAoaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5wYXJhbS8pXG5cdCAqL1xuICBjcmVhdGVTaGFyZUxpbms6IFlBU1FFLmNyZWF0ZVNoYXJlTGluayxcblxuICBjcmVhdGVTaG9ydExpbms6IG51bGwsXG5cbiAgLyoqXG5cdCAqIENvbnN1bWUgbGlua3Mgc2hhcmVkIGJ5IG90aGVycywgYnkgY2hlY2tpbmcgdGhlIHVybCBmb3IgYXJndW1lbnRzIGNvbWluZyBmcm9tIGEgcXVlcnkgbGluay4gRGVmYXVsdHMgYnkgb25seSBjaGVja2luZyB0aGUgJ3F1ZXJ5PScgYXJndW1lbnQgaW4gdGhlIHVybFxuXHQgKi9cbiAgY29uc3VtZVNoYXJlTGluazogWUFTUUUuY29uc3VtZVNoYXJlTGluayxcblxuICAvKipcblx0ICogQ2hhbmdlIHBlcnNpc3RlbmN5IHNldHRpbmdzIGZvciB0aGUgWUFTUUUgcXVlcnkgdmFsdWUuIFNldHRpbmcgdGhlIHZhbHVlc1xuXHQgKiB0byBudWxsLCB3aWxsIGRpc2FibGUgcGVyc2lzdGFuY3k6IG5vdGhpbmcgaXMgc3RvcmVkIGJldHdlZW4gYnJvd3NlclxuXHQgKiBzZXNzaW9ucyBTZXR0aW5nIHRoZSB2YWx1ZXMgdG8gYSBzdHJpbmcgKG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhXG5cdCAqIHN0cmluZyksIHdpbGwgc3RvcmUgdGhlIHF1ZXJ5IGluIGxvY2Fsc3RvcmFnZSB1c2luZyB0aGUgc3BlY2lmaWVkIHN0cmluZy5cblx0ICogQnkgZGVmYXVsdCwgdGhlIElEIGlzIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCB1c2luZyB0aGUgY2xvc2VzdCBkb20gSUQsIHRvIGF2b2lkIGNvbGxpc3Npb25zIHdoZW4gdXNpbmcgbXVsdGlwbGUgWUFTUUUgaXRlbXMgb24gb25lXG5cdCAqIHBhZ2Vcblx0ICpcblx0ICogQHR5cGUgZnVuY3Rpb258c3RyaW5nXG5cdCAqL1xuICBwZXJzaXN0ZW50OiBmdW5jdGlvbih5YXNxZSkge1xuICAgIHJldHVybiBcInlhc3FlX1wiICsgJCh5YXNxZS5nZXRXcmFwcGVyRWxlbWVudCgpKS5jbG9zZXN0KFwiW2lkXVwiKS5hdHRyKFwiaWRcIikgKyBcIl9xdWVyeVZhbFwiO1xuICB9LFxuXG4gIC8qKlxuXHQgKiBTZXR0aW5ncyBmb3IgcXVlcnlpbmcgc3BhcnFsIGVuZHBvaW50c1xuXHQgKi9cbiAgc3BhcnFsOiB7XG4gICAgcXVlcnlOYW1lOiBmdW5jdGlvbih5YXNxZSkge1xuICAgICAgcmV0dXJuIHlhc3FlLmdldFF1ZXJ5TW9kZSgpO1xuICAgIH0sXG4gICAgc2hvd1F1ZXJ5QnV0dG9uOiBmYWxzZSxcblxuICAgIC8qKmZcblx0XHQgKiBFbmRwb2ludCB0byBxdWVyeVxuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IHNwYXJxbC5lbmRwb2ludFxuXHRcdCAqIEB0eXBlIFN0cmluZ3xmdW5jdGlvblxuXHRcdCAqL1xuICAgIGVuZHBvaW50OiBcImh0dHA6Ly9kYnBlZGlhLm9yZy9zcGFycWxcIixcbiAgICAvKipcblx0XHQgKiBSZXF1ZXN0IG1ldGhvZCB2aWEgd2hpY2ggdG8gYWNjZXNzIFNQQVJRTCBlbmRwb2ludFxuXHRcdCAqXG5cdFx0ICogQHByb3BlcnR5IHNwYXJxbC5yZXF1ZXN0TWV0aG9kXG5cdFx0ICogQHR5cGUgU3RyaW5nfGZ1bmN0aW9uXG5cdFx0ICovXG4gICAgcmVxdWVzdE1ldGhvZDogXCJQT1NUXCIsXG5cbiAgICAvKipcblx0XHQgKiBAdHlwZSBTdHJpbmd8ZnVuY3Rpb25cblx0XHQgKi9cbiAgICBhY2NlcHRIZWFkZXJHcmFwaDogXCJ0ZXh0L3R1cnRsZSwqLyo7cT0wLjlcIixcbiAgICAvKipcblx0XHQgKiBAdHlwZSBTdHJpbmd8ZnVuY3Rpb25cblx0XHQgKi9cbiAgICBhY2NlcHRIZWFkZXJTZWxlY3Q6IFwiYXBwbGljYXRpb24vc3BhcnFsLXJlc3VsdHMranNvbiwqLyo7cT0wLjlcIixcbiAgICAvKipcblx0XHQgKiBAdHlwZSBTdHJpbmd8ZnVuY3Rpb25cblx0XHQgKi9cbiAgICBhY2NlcHRIZWFkZXJVcGRhdGU6IFwidGV4dC9wbGFpbiwqLyo7cT0wLjlcIixcblxuICAgIC8qKlxuXHRcdCAqIE5hbWVkIGdyYXBocyB0byBxdWVyeS5cblx0XHQgKi9cbiAgICBuYW1lZEdyYXBoczogW10sXG4gICAgLyoqXG5cdFx0ICogRGVmYXVsdCBncmFwaHMgdG8gcXVlcnkuXG5cdFx0ICovXG4gICAgZGVmYXVsdEdyYXBoczogW10sXG5cbiAgICAvKipcblx0XHQgKiBBZGRpdGlvbmFsIHJlcXVlc3QgYXJndW1lbnRzLiBBZGQgdGhlbSBpbiB0aGUgZm9ybToge25hbWU6IFwibmFtZVwiLCB2YWx1ZTogXCJ2YWx1ZVwifVxuXHRcdCAqL1xuICAgIGFyZ3M6IFtdLFxuXG4gICAgLyoqXG5cdFx0ICogQWRkaXRpb25hbCByZXF1ZXN0IGhlYWRlcnNcblx0XHQgKi9cbiAgICBoZWFkZXJzOiB7fSxcblxuICAgIGdldFF1ZXJ5Rm9yQWpheDogbnVsbCxcbiAgICAvKipcblx0XHQgKiBTZXQgb2YgYWpheCBjYWxsYmFja3Ncblx0XHQgKi9cbiAgICBjYWxsYmFja3M6IHtcbiAgICAgIGJlZm9yZVNlbmQ6IG51bGwsXG4gICAgICBjb21wbGV0ZTogbnVsbCxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgc3VjY2VzczogbnVsbFxuICAgIH0sXG4gICAgaGFuZGxlcnM6IHt9IC8va2VlcCBoZXJlIGZvciBiYWNrd2FyZHMgY29tcGF0YWJpbGl0eVxuICB9XG59KTtcbiIsIi8vdGhpcyBpcyB0aGUgZW50cnktcG9pbnQgZm9yIGJyb3dzZXJpZnkuXG4vL3RoZSBjdXJyZW50IGJyb3dzZXJpZnkgdmVyc2lvbiBkb2VzIG5vdCBzdXBwb3J0IHJlcXVpcmUtaW5nIGpzIGZpbGVzIHdoaWNoIGFyZSB1c2VkIGFzIGVudHJ5LXBvaW50XG4vL3RoaXMgd2F5LCB3ZSBjYW4gc3RpbGwgcmVxdWlyZSBvdXIgbWFpbi5qcyBmaWxlXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL21haW4uanNcIik7XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBxdWVyeTogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgODAgODBcIj48cGF0aCBkPVwiTTY0LjYyMiAyLjQxSDE0Ljk5NWMtNi42MjcgMC0xMiA1LjM3NC0xMiAxMlY2NC4zMWMwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQ5LjYyN2M2LjYyNyAwIDEyLTUuMzczIDEyLTEyVjE0LjQxYzAtNi42MjctNS4zNzMtMTItMTItMTJ6TTI0LjEyNSA2My45MDdWMTUuMDkzTDYxIDM5LjE2OCAyNC4xMjUgNjMuOTA2elwiLz48L3N2Zz4nLFxuICBxdWVyeUludmFsaWQ6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDczLjYyNyA3My44OTdcIj48cGF0aCBkPVwiTTYxLjYyNyAwSDEyQzUuMzczIDAgMCA1LjM3MyAwIDEydjQ5Ljg5N2MwIDYuNjI3IDUuMzczIDEyIDEyIDEyaDQ5LjYyN2M2LjYyNyAwIDEyLTUuMzczIDEyLTEyVjEyYzAtNi42MjgtNS4zNzMtMTItMTItMTJ6TTIxLjEzIDYxLjQ5NVYxMi42ODJsMzYuODc1IDI0LjA3NUwyMS4xMyA2MS40OTV6XCIvPjxwYXRoIGQ9XCJNNjYuMTMgNjUuOTA0SDQ5Ljc3Yy0xLjY0NyAwLTIuODktLjU4LTMuNS0xLjYzNi0uNjA4LTEuMDU2LS40OS0yLjQyMi4zMzQtMy44NDhsOC4xOC0xNC4xNjdjLjgyMi0xLjQyNyAxLjk0Ny0yLjIxMiAzLjE2NS0yLjIxMnMyLjM0Mi43ODYgMy4xNjUgMi4yMTNsOC4xOCAxNC4xNjdjLjgyNCAxLjQyNi45NDIgMi43OTIuMzMzIDMuODQ4LS42MSAxLjA1NS0xLjg1MiAxLjYzNi0zLjUgMS42MzZ6bS02LjUxLTQuOTg2YzAtLjg1LS42OS0xLjU0LTEuNTQtMS41NC0uODUgMC0xLjU0LjY5LTEuNTQgMS41NCAwIC44NS42OSAxLjU0IDEuNTQgMS41NC44NSAwIDEuNTQtLjY5IDEuNTQtMS41NHptLjA0LTkuMjY2YzAtLjg3My0uNzA4LTEuNTgtMS41OC0xLjU4LS44NzQgMC0xLjU4Mi43MDctMS41ODIgMS41OGwuMzc0IDUuNjFoLjAwNWMuMDU0LjYyLjU2OCAxLjEwOCAxLjIwMiAxLjEwOC41ODYgMCAxLjA3NS0uNDE1IDEuMTg4LS45NjguMDEtLjA0NS4wMS0uMDkzLjAxNC0uMTRoLjAxbC4zNjgtNS42MXpcIiBmaWxsPVwiI2E4MFwiLz48L3N2Zz4nLFxuICBkb3dubG9hZDogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGJhc2VQcm9maWxlPVwidGlueVwiIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTg4IDg0di0yYzAtMi45Ni0uODYtNC00LTRIMTZjLTIuOTYgMC00IC45OC00IDR2MmMwIDMuMTAyIDEuMDQgNCA0IDRoNjhjMy4wMiAwIDQtLjk2IDQtNHpNNTggMTJINDJjLTUgMC02IC45NC02IDZ2MjJIMTZsMzQgMzQgMzQtMzRINjRWMThjMC01LjA2LTEuMDYtNi02LTZ6XCIvPjwvc3ZnPicsXG4gIHNoYXJlOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAxMDAgMTAwXCI+PHBhdGggZD1cIk0zNi43NjQgNTBjMCAuMzA4LS4wNy41OTgtLjA4OC45MDVsMzIuMjQ3IDE2LjEyYzIuNzYtMi4zNCA2LjI5My0zLjc5OCAxMC4xOTUtMy43OThDODcuODkgNjMuMjI3IDk1IDcwLjMzNyA5NSA3OS4xMSA5NSA4Ny44OSA4Ny44OSA5NSA3OS4xMTggOTVjLTguNzggMC0xNS44ODItNy4xMS0xNS44ODItMTUuODkgMC0uMzE3LjA3LS42LjA4OC0uOTA2bC0zMi4yNDctMTYuMTJjLTIuNzcgMi4zMy02LjI5MyAzLjc5LTEwLjE5NSAzLjc5QzEyLjExIDY1Ljg3MyA1IDU4Ljc3IDUgNTBjMC04Ljc4IDcuMTEtMTUuODkgMTUuODgyLTE1Ljg5IDMuOTAyIDAgNy40MjcgMS40NjcgMTAuMTk1IDMuNzk2bDMyLjI0Ny0xNi4xMmMtLjAxOC0uMzA3LS4wODgtLjU5Ny0uMDg4LS45MTNDNjMuMjM2IDEyLjExIDcwLjMzOCA1IDc5LjExOCA1IDg3Ljg5IDUgOTUgMTIuMTEgOTUgMjAuODczYzAgOC43OC03LjExIDE1Ljg5LTE1Ljg4MiAxNS44OS0zLjkxIDAtNy40MzYtMS40NjctMTAuMTk1LTMuODA1TDM2LjY3NiA0OS4wODZjLjAxNy4zMDguMDg4LjU5OC4wODguOTE0elwiLz48L3N2Zz4nLFxuICB3YXJuaW5nOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA2Ni4zOTk5OTggNjYuMzk5OTk4XCI+PGcgZmlsbD1cInJlZFwiPjxwYXRoIGQ9XCJNMzMuMiAwQzE0LjkgMCAwIDE0LjkgMCAzMy4yYzAgMTguMyAxNC45IDMzLjIgMzMuMiAzMy4yIDE4LjMgMCAzMy4yLTE0LjkgMzMuMi0zMy4yQzY2LjQgMTQuOSA1MS41IDAgMzMuMiAwem0wIDU5LjRDMTguNyA1OS40IDcgNDcuNiA3IDMzLjIgNyAxOC43IDE4LjggNyAzMy4yIDdjMTQuNCAwIDI2LjIgMTEuOCAyNi4yIDI2LjIgMCAxNC40LTExLjggMjYuMi0yNi4yIDI2LjJ6XCIvPjxwYXRoIGQ9XCJNMzMuMSA0NS42Yy0xLjQgMC0yLjUuNS0zLjUgMS41LS45IDEtMS40IDIuMi0xLjQgMy42IDAgMS42LjUgMi44IDEuNSAzLjggMSAuOSAyLjEgMS4zIDMuNCAxLjMgMS4zIDAgMi40LS41IDMuNC0xLjQgMS0uOSAxLjUtMi4yIDEuNS0zLjcgMC0xLjQtLjUtMi42LTEuNC0zLjYtLjktMS0yLjEtMS41LTMuNS0xLjV6TTMzLjMgMTIuNGMtMS41IDAtMi44LjUtMy43IDEuNi0uOSAxLTEuNCAyLjQtMS40IDQuMiAwIDEuMS4xIDIuOS4yIDUuNmwuOCAxMy4xYy4yIDEuOC40IDMuMi45IDQuMS41IDEuMiAxLjUgMS44IDIuOSAxLjggMS4zIDAgMi4zLS43IDIuOS0xLjkuNS0xIC43LTIuMy45LTRsMS4xLTEzLjRjLjEtMS4zLjItMi41LjItMy44IDAtMi4yLS4zLTMuOS0uOC01LjEtLjUtMS0xLjYtMi4yLTQtMi4yelwiLz48L2c+PC9zdmc+JyxcbiAgZnVsbHNjcmVlbjogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCI1IC0xMCAxMDAgMTAwXCI+PHBhdGggZD1cIk01LTEwdjM4Ljg5TDIxLjY2NyAxMi4yMiAzOC4zMzQgMjguODlsNS41NTUtNS41NTZMMjcuMjIgNi42NjcgNDMuODktMTBINXpNMTA1LTEwdjM4Ljg5TDg4LjMzMyAxMi4yMiA3MS42NjcgMjguODlsLTUuNTU2LTUuNTU2TDgyLjc3OCA2LjY2NyA2Ni4xMS0xMEgxMDV6TTUgOTBWNTEuMTFsMTYuNjY3IDE2LjY2N0wzOC4zMzQgNTEuMTFsNS41NTUgNS41NTdMMjcuMjIgNzMuMzMzIDQzLjg5IDkwSDV6TTEwNSA5MFY1MS4xMUw4OC4zMzMgNjcuNzc4IDcxLjY2NyA1MS4xMWwtNS41NTYgNS41NTcgMTYuNjY3IDE2LjY2Nkw2Ni4xMSA5MEgxMDV6XCIgZmlsbD1cIiMwMTAxMDFcIi8+PC9zdmc+JyxcbiAgc21hbGxzY3JlZW46ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiNSAtMTAgMTAwIDEwMFwiPjxwYXRoIGQ9XCJNNDMuODkgMjguODlWLTEwTDI3LjIyIDYuNjY3IDEwLjU1NS0xMCA1LTQuNDQ1bDE2LjY2NyAxNi42NjdMNSAyOC44OWgzOC44OXpNNjYuMTEgMjguODlWLTEwTDgyLjc4IDYuNjY3IDk5LjQ0NC0xMCAxMDUtNC40NDUgODguMzM0IDEyLjIyMiAxMDUgMjguODlINjYuMTF6TTQzLjg5IDUxLjExVjkwTDI3LjIyIDczLjMzNCAxMC41NTUgOTAgNSA4NC40NDRsMTYuNjY3LTE2LjY2Nkw1IDUxLjExaDM4Ljg5ek02Ni4xMSA1MS4xMVY5MEw4Mi43OCA3My4zMzQgOTkuNDQ0IDkwIDEwNSA4NC40NDQgODguMzM0IDY3Ljc3OCAxMDUgNTEuMTFINjYuMTF6XCIgZmlsbD1cIiMwMTAxMDFcIi8+PC9zdmc+J1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLy9tYWtlIHN1cmUgYW55IGNvbnNvbGUgc3RhdGVtZW50c1xud2luZG93LmNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSB8fCB7XG4gIGxvZzogZnVuY3Rpb24oKSB7fVxufTtcblxuLyoqXG4gKiBMb2FkIGxpYnJhcmllc1xuICovXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIiksXG4gIENvZGVNaXJyb3IgPSByZXF1aXJlKFwiY29kZW1pcnJvclwiKSxcbiAgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKSxcbiAgeXV0aWxzID0gcmVxdWlyZShcInlhc2d1aS11dGlsc1wiKSxcbiAgaW1ncyA9IHJlcXVpcmUoXCIuL2ltZ3MuanNcIik7XG5cbnJlcXVpcmUoXCIuLi9saWIvZGVwYXJhbS5qc1wiKTtcbnJlcXVpcmUoXCJjb2RlbWlycm9yL2FkZG9uL2ZvbGQvZm9sZGNvZGUuanNcIik7XG5yZXF1aXJlKFwiY29kZW1pcnJvci9hZGRvbi9mb2xkL2ZvbGRndXR0ZXIuanNcIik7XG5yZXF1aXJlKFwiY29kZW1pcnJvci9hZGRvbi9mb2xkL3htbC1mb2xkLmpzXCIpO1xucmVxdWlyZShcImNvZGVtaXJyb3IvYWRkb24vZm9sZC9icmFjZS1mb2xkLmpzXCIpO1xucmVxdWlyZShcIi4vcHJlZml4Rm9sZC5qc1wiKTtcbnJlcXVpcmUoXCJjb2RlbWlycm9yL2FkZG9uL2hpbnQvc2hvdy1oaW50LmpzXCIpO1xucmVxdWlyZShcImNvZGVtaXJyb3IvYWRkb24vc2VhcmNoL3NlYXJjaGN1cnNvci5qc1wiKTtcbnJlcXVpcmUoXCJjb2RlbWlycm9yL2FkZG9uL2VkaXQvbWF0Y2hicmFja2V0cy5qc1wiKTtcbnJlcXVpcmUoXCJjb2RlbWlycm9yL2FkZG9uL3J1bm1vZGUvcnVubW9kZS5qc1wiKTtcbnJlcXVpcmUoXCJjb2RlbWlycm9yL2FkZG9uL2Rpc3BsYXkvZnVsbHNjcmVlbi5qc1wiKTtcbnJlcXVpcmUoXCIuLi9saWIvZ3JhbW1hci90b2tlbml6ZXIuanNcIik7XG5cbi8qKlxuICogTWFpbiBZQVNRRSBjb25zdHJ1Y3Rvci4gUGFzcyBhIERPTSBlbGVtZW50IGFzIGFyZ3VtZW50IHRvIGFwcGVuZCB0aGUgZWRpdG9yIHRvLCBhbmQgKG9wdGlvbmFsbHkpIHBhc3MgYWxvbmcgY29uZmlnIHNldHRpbmdzIChzZWUgdGhlIFlBU1FFLmRlZmF1bHRzIG9iamVjdCBiZWxvdywgYXMgd2VsbCBhcyB0aGUgcmVndWxhciBDb2RlTWlycm9yIGRvY3VtZW50YXRpb24sIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGNvbmZpZ3VyYWJpbGl0eSlcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RE9NLUVsZW1lbnR9IHBhcmVudCBlbGVtZW50IHRvIGFwcGVuZCBlZGl0b3IgdG8uXG4gKiBAcGFyYW0ge29iamVjdH0gc2V0dGluZ3NcbiAqIEBjbGFzcyBZQVNRRVxuICogQHJldHVybiB7ZG9jfSBZQVNRRSBkb2N1bWVudFxuICovXG52YXIgcm9vdCA9IChtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHBhcmVudCwgY29uZmlnKSB7XG4gIHZhciByb290RWwgPSAkKFwiPGRpdj5cIiwge1xuICAgIGNsYXNzOiBcInlhc3FlXCJcbiAgfSkuYXBwZW5kVG8oJChwYXJlbnQpKTtcbiAgY29uZmlnID0gZXh0ZW5kQ29uZmlnKGNvbmZpZyk7XG4gIHZhciB5YXNxZSA9IGV4dGVuZENtSW5zdGFuY2UoQ29kZU1pcnJvcihyb290RWxbMF0sIGNvbmZpZykpO1xuICBwb3N0UHJvY2Vzc0NtRWxlbWVudCh5YXNxZSk7XG4gIHJldHVybiB5YXNxZTtcbn0pO1xuXG4vKipcbiAqIEV4dGVuZCBjb25maWcgb2JqZWN0LCB3aGljaCB3ZSB3aWxsIHBhc3Mgb24gdG8gdGhlIENNIGNvbnN0cnVjdG9yIGxhdGVyIG9uLlxuICogTmVlZCB0aGlzLCB0byBtYWtlIHN1cmUgb3VyIG93biAnb25CbHVyJyBldGMgZXZlbnRzIGRvIG5vdCBnZXQgb3ZlcndyaXR0ZW4gYnlcbiAqIHBlb3BsZSB3aG8gYWRkIHRoZWlyIG93biBvbmJsdXIgZXZlbnRzIHRvIHRoZSBjb25maWcgQWRkaXRpb25hbGx5LCBuZWVkIHRoaXNcbiAqIHRvIGluY2x1ZGUgdGhlIENNIGRlZmF1bHRzIG91cnNlbHZlcy4gQ29kZU1pcnJvciBoYXMgYSBtZXRob2QgZm9yIGluY2x1ZGluZ1xuICogZGVmYXVsdHMsIGJ1dCB3ZSBjYW4ndCByZWx5IG9uIHRoYXQgb25lOiBpdCBhc3N1bWVzIGZsYXQgY29uZmlnIG9iamVjdCwgd2hlcmVcbiAqIHdlIGhhdmUgbmVzdGVkIG9iamVjdHMgKGUuZy4gdGhlIHBlcnNpc3RlbmN5IG9wdGlvbilcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgZXh0ZW5kQ29uZmlnID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gIHZhciBleHRlbmRlZENvbmZpZyA9ICQuZXh0ZW5kKHRydWUsIHt9LCByb290LmRlZmF1bHRzLCBjb25maWcpO1xuXG4gIC8vIEkga25vdywgY29kZW1pcnJvciBkZWFscyB3aXRoICBkZWZhdWx0IG9wdGlvbnMgYXMgd2VsbC5cbiAgLy9Ib3dldmVyLCBpdCBkb2VzIG5vdCBkbyB0aGlzIHJlY3Vyc2l2ZWx5IChpLmUuIHRoZSBwZXJzaXN0ZW5jeSBvcHRpb24pXG5cbiAgcmV0dXJuIGV4dGVuZGVkQ29uZmlnO1xufTtcbi8qKlxuICogQWRkIGV4dHJhIGZ1bmN0aW9ucyB0byB0aGUgQ00gZG9jdW1lbnQgKGkuZS4gdGhlIGNvZGVtaXJyb3IgaW5zdGFudGlhdGVkXG4gKiBvYmplY3QpXG4gKlxuICogQHByaXZhdGVcbiAqL1xudmFyIGV4dGVuZENtSW5zdGFuY2UgPSBmdW5jdGlvbih5YXNxZSkge1xuICAvL2luc3RhbnRpYXRlIGF1dG9jb21wbGV0ZXJzXG4gIHlhc3FlLmF1dG9jb21wbGV0ZXJzID0gcmVxdWlyZShcIi4vYXV0b2NvbXBsZXRlcnMvYXV0b2NvbXBsZXRlckJhc2UuanNcIikocm9vdCwgeWFzcWUpO1xuICBpZiAoeWFzcWUub3B0aW9ucy5hdXRvY29tcGxldGVycykge1xuICAgIHlhc3FlLm9wdGlvbnMuYXV0b2NvbXBsZXRlcnMuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICBpZiAocm9vdC5BdXRvY29tcGxldGVyc1tuYW1lXSkgeWFzcWUuYXV0b2NvbXBsZXRlcnMuaW5pdChuYW1lLCByb290LkF1dG9jb21wbGV0ZXJzW25hbWVdKTtcbiAgICB9KTtcbiAgfVxuICB5YXNxZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICByb290LnNpZ25hbCh5YXNxZSwgZXZlbnQsIGRhdGEpXG4gIH1cbiAgeWFzcWUubGFzdFF1ZXJ5RHVyYXRpb24gPSBudWxsO1xuICB5YXNxZS5nZXRDb21wbGV0ZVRva2VuID0gZnVuY3Rpb24odG9rZW4sIGN1cikge1xuICAgIHJldHVybiByZXF1aXJlKFwiLi90b2tlblV0aWxzLmpzXCIpLmdldENvbXBsZXRlVG9rZW4oeWFzcWUsIHRva2VuLCBjdXIpO1xuICB9O1xuICB5YXNxZS5nZXRQcmV2aW91c05vbldzVG9rZW4gPSBmdW5jdGlvbihsaW5lLCB0b2tlbikge1xuICAgIHJldHVybiByZXF1aXJlKFwiLi90b2tlblV0aWxzLmpzXCIpLmdldFByZXZpb3VzTm9uV3NUb2tlbih5YXNxZSwgbGluZSwgdG9rZW4pO1xuICB9O1xuICB5YXNxZS5nZXROZXh0Tm9uV3NUb2tlbiA9IGZ1bmN0aW9uKGxpbmVOdW1iZXIsIGNoYXJOdW1iZXIpIHtcbiAgICByZXR1cm4gcmVxdWlyZShcIi4vdG9rZW5VdGlscy5qc1wiKS5nZXROZXh0Tm9uV3NUb2tlbih5YXNxZSwgbGluZU51bWJlciwgY2hhck51bWJlcik7XG4gIH07XG4gIHlhc3FlLmNvbGxhcHNlUHJlZml4ZXMgPSBmdW5jdGlvbihjb2xsYXBzZSkge1xuICAgIGlmIChjb2xsYXBzZSA9PT0gdW5kZWZpbmVkKSBjb2xsYXBzZSA9IHRydWU7XG4gICAgeWFzcWUuZm9sZENvZGUoXG4gICAgICByZXF1aXJlKFwiLi9wcmVmaXhGb2xkLmpzXCIpLmZpbmRGaXJzdFByZWZpeExpbmUoeWFzcWUpLFxuICAgICAgcm9vdC5mb2xkLnByZWZpeCxcbiAgICAgIGNvbGxhcHNlID8gXCJmb2xkXCIgOiBcInVuZm9sZFwiXG4gICAgKTtcbiAgfTtcbiAgdmFyIGJhY2tkcm9wID0gbnVsbDtcbiAgdmFyIGFuaW1hdGVTcGVlZCA9IG51bGw7XG4gIHlhc3FlLnNldEJhY2tkcm9wID0gZnVuY3Rpb24oc2hvdykge1xuICAgIGlmICh5YXNxZS5vcHRpb25zLmJhY2tkcm9wIHx8IHlhc3FlLm9wdGlvbnMuYmFja2Ryb3AgPT09IDAgfHwgeWFzcWUub3B0aW9ucy5iYWNrZHJvcCA9PT0gXCIwXCIpIHtcbiAgICAgIGlmIChhbmltYXRlU3BlZWQgPT09IG51bGwpIHtcbiAgICAgICAgYW5pbWF0ZVNwZWVkID0gK3lhc3FlLm9wdGlvbnMuYmFja2Ryb3A7XG4gICAgICAgIGlmIChhbmltYXRlU3BlZWQgPT09IDEpIHtcbiAgICAgICAgICAvL2FoLCB5YXNxZS5vcHRpb25zLmJhY2tkcm9wIHdhcyAndHJ1ZScuIFNldCB0aGlzIHRvIGRlZmF1bHQgYW5pbWF0ZSBzcGVlZCA0MDBcbiAgICAgICAgICBhbmltYXRlU3BlZWQgPSA0MDA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFiYWNrZHJvcCkge1xuICAgICAgICBiYWNrZHJvcCA9ICQoXCI8ZGl2PlwiLCB7XG4gICAgICAgICAgY2xhc3M6IFwiYmFja2Ryb3BcIlxuICAgICAgICB9KVxuICAgICAgICAgIC5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuaGlkZSgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmluc2VydEFmdGVyKCQoeWFzcWUuZ2V0V3JhcHBlckVsZW1lbnQoKSkpO1xuICAgICAgfVxuICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgYmFja2Ryb3Auc2hvdyhhbmltYXRlU3BlZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFja2Ryb3AuaGlkZShhbmltYXRlU3BlZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgLyoqXG5cdCAqIEV4ZWN1dGUgcXVlcnkuIFBhc3MgYSBjYWxsYmFjayBmdW5jdGlvbiwgb3IgYSBjb25maWd1cmF0aW9uIG9iamVjdCAoc2VlXG5cdCAqIGRlZmF1bHQgc2V0dGluZ3MgYmVsb3cgZm9yIHBvc3NpYmxlIHZhbHVlcykgSS5lLiwgeW91IGNhbiBjaGFuZ2UgdGhlXG5cdCAqIHF1ZXJ5IGNvbmZpZ3VyYXRpb24gYnkgZWl0aGVyIGNoYW5naW5nIHRoZSBkZWZhdWx0IHNldHRpbmdzLCBjaGFuZ2luZyB0aGVcblx0ICogc2V0dGluZ3Mgb2YgdGhpcyBkb2N1bWVudCwgb3IgYnkgcGFzc2luZyBxdWVyeSBzZXR0aW5ncyB0byB0aGlzIGZ1bmN0aW9uXG5cdCAqXG5cdCAqIEBtZXRob2QgZG9jLnF1ZXJ5XG5cdCAqIEBwYXJhbSBmdW5jdGlvbnxvYmplY3Rcblx0ICovXG4gIHlhc3FlLnF1ZXJ5ID0gZnVuY3Rpb24oY2FsbGJhY2tPckNvbmZpZykge1xuICAgIHJvb3QuZXhlY3V0ZVF1ZXJ5KHlhc3FlLCBjYWxsYmFja09yQ29uZmlnKTtcbiAgfTtcblxuICB5YXNxZS5nZXRVcmxBcmd1bWVudHMgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICByZXR1cm4gcm9vdC5nZXRVcmxBcmd1bWVudHMoeWFzcWUsIGNvbmZpZyk7XG4gIH07XG5cbiAgLyoqXG5cdCAqIEZldGNoIGRlZmluZWQgcHJlZml4ZXMgZnJvbSBxdWVyeSBzdHJpbmdcblx0ICpcblx0ICogQG1ldGhvZCBkb2MuZ2V0UHJlZml4ZXNGcm9tUXVlcnlcblx0ICogQHJldHVybiBvYmplY3Rcblx0ICovXG4gIHlhc3FlLmdldFByZWZpeGVzRnJvbVF1ZXJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHJlcXVpcmUoXCIuL3ByZWZpeFV0aWxzLmpzXCIpLmdldFByZWZpeGVzRnJvbVF1ZXJ5KHlhc3FlKTtcbiAgfTtcblxuICB5YXNxZS5hZGRQcmVmaXhlcyA9IGZ1bmN0aW9uKHByZWZpeGVzKSB7XG4gICAgcmV0dXJuIHJlcXVpcmUoXCIuL3ByZWZpeFV0aWxzLmpzXCIpLmFkZFByZWZpeGVzKHlhc3FlLCBwcmVmaXhlcyk7XG4gIH07XG4gIHlhc3FlLnJlbW92ZVByZWZpeGVzID0gZnVuY3Rpb24ocHJlZml4ZXMpIHtcbiAgICByZXR1cm4gcmVxdWlyZShcIi4vcHJlZml4VXRpbHMuanNcIikucmVtb3ZlUHJlZml4ZXMoeWFzcWUsIHByZWZpeGVzKTtcbiAgfTtcbiAgeWFzcWUuZ2V0VmFyaWFibGVzRnJvbVF1ZXJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgLy9Vc2UgcHJlY2lzZSBoZXJlLiBXZSB3YW50IHRvIGJlIHN1cmUgd2UgdXNlIHRoZSBtb3N0IHVwIHRvIGRhdGUgc3RhdGUuIElmIHdlJ3JlXG4gICAgLy9ub3QsIHdlIG1pZ2h0IGdldCBvdXRkYXRlZCBpbmZvIGZyb20gdGhlIGN1cnJlbnQgcXVlcnkgKGNyZWF0aW5nIGxvb3BzIHN1Y2hcbiAgICAvL2FzIGh0dHBzOi8vZ2l0aHViLmNvbS9PcGVuVHJpcGx5L1lBU0dVSS9pc3N1ZXMvODQpXG4gICAgLy9vbiBjYXZlYXQ6IHRoaXMgZnVuY3Rpb24gd29uJ3Qgd29yayB3aGVuIHF1ZXJ5IGlzIGludmFsaWQgKGkuZS4gd2hlbiB0eXBpbmcpXG4gICAgcmV0dXJuICQubWFwKHlhc3FlLmdldFRva2VuQXQoeyBsaW5lOiB5YXNxZS5sYXN0TGluZSgpLCBjaDogeWFzcWUuZ2V0TGluZSh5YXNxZS5sYXN0TGluZSgpKS5sZW5ndGggfSwgdHJ1ZSkuc3RhdGUudmFyaWFibGVzLCBmdW5jdGlvbih2YWwsa2V5KSB7cmV0dXJuIGtleX0pO1xuICB9XG4gIC8vdmFsdWVzIGluIHRoZSBmb3JtIG9mIHs/dmFyOiAndmFsdWUnfSwgb3IgW3s/dmFyOiAndmFsdWUnfV1cbiAgeWFzcWUuZ2V0UXVlcnlXaXRoVmFsdWVzID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgaWYgKCF2YWx1ZXMpIHJldHVybiB5YXNxZS5nZXRWYWx1ZSgpO1xuICAgIHZhciBpbmplY3RTdHJpbmc7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpbmplY3RTdHJpbmcgPSB2YWx1ZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vc3RhcnQgYnVpbGRpbmcgaW5qZWN0IHN0cmluZ1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcykpIHZhbHVlcyA9IFt2YWx1ZXNdO1xuICAgICAgdmFyIHZhcmlhYmxlcyA9IHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24odmFycywgdmFsdWVPYmopIHtcbiAgICAgICAgZm9yICh2YXIgdiBpbiB2YWx1ZU9iaikge1xuICAgICAgICAgIHZhcnNbdl0gPSB2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXJzO1xuICAgICAgfSwge30pXG4gICAgICB2YXIgdmFyQXJyYXkgPSBbXTtcbiAgICAgIGZvciAodmFyIHYgaW4gdmFyaWFibGVzKSB7XG4gICAgICAgIHZhckFycmF5LnB1c2godik7XG4gICAgICB9XG5cbiAgICAgIGlmICghdmFyQXJyYXkubGVuZ3RoKSByZXR1cm4geWFzcWUuZ2V0VmFsdWUoKSA7XG4gICAgICAvL29rLCB3ZSd2ZSBnb3QgZW5vdWdoIGluZm8gdG8gc3RhcnQgYnVpbGRpbmcgdGhlIHN0cmluZyBub3dcbiAgICAgIGluamVjdFN0cmluZyA9IFwiVkFMVUVTIChcIiArIHZhckFycmF5LmpvaW4oJyAnKSArIFwiKSB7XFxuXCI7XG4gICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZU9iaikge1xuICAgICAgICBpbmplY3RTdHJpbmcgKz0gXCIoIFwiO1xuICAgICAgICB2YXJBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhcmlhYmxlKSB7XG4gICAgICAgICAgaW5qZWN0U3RyaW5nICs9IHZhbHVlT2JqW3ZhcmlhYmxlXSB8fCBcIlVOREVGXCJcbiAgICAgICAgfSlcbiAgICAgICAgaW5qZWN0U3RyaW5nICs9IFwiIClcXG5cIlxuICAgICAgfSlcbiAgICAgIGluamVjdFN0cmluZyArPSBcIn1cXG5cIlxuICAgIH1cbiAgICBpZiAoIWluamVjdFN0cmluZykgcmV0dXJuIHlhc3FlLmdldFZhbHVlKCk7XG5cbiAgICB2YXIgbmV3UXVlcnkgPSBcIlwiXG4gICAgdmFyIGluamVjdGVkID0gZmFsc2U7XG4gICAgdmFyIGdvdFNlbGVjdCA9IGZhbHNlO1xuICAgIHJvb3QucnVuTW9kZSh5YXNxZS5nZXRWYWx1ZSgpLCBcInNwYXJxbDExXCIsIGZ1bmN0aW9uKHN0cmluZ1ZhbCwgY2xhc3NOYW1lLCByb3csIGNvbCwgc3RhdGUpIHtcbiAgICAgIGlmIChjbGFzc05hbWUgPT09IFwia2V5d29yZFwiICYmIHN0cmluZ1ZhbC50b0xvd2VyQ2FzZSgpID09PSAnc2VsZWN0JykgZ290U2VsZWN0ID0gdHJ1ZTtcbiAgICAgIG5ld1F1ZXJ5ICs9IHN0cmluZ1ZhbDtcbiAgICAgIGlmIChnb3RTZWxlY3QgJiYgIWluamVjdGVkICYmIGNsYXNzTmFtZSA9PT0gXCJwdW5jXCIgJiYgc3RyaW5nVmFsID09PSBcIntcIikge1xuICAgICAgICBpbmplY3RlZCA9IHRydWU7XG4gICAgICAgIC8vc3RhcnQgaW5qZWN0aW5nXG4gICAgICAgIG5ld1F1ZXJ5ICs9IFwiXFxuXCIgKyBpbmplY3RTdHJpbmc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld1F1ZXJ5XG4gIH1cblxuICB5YXNxZS5nZXRWYWx1ZVdpdGhvdXRDb21tZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjbGVhbmVkUXVlcnkgPSBcIlwiO1xuICAgIHJvb3QucnVuTW9kZSh5YXNxZS5nZXRWYWx1ZSgpLCBcInNwYXJxbDExXCIsIGZ1bmN0aW9uKHN0cmluZ1ZhbCwgY2xhc3NOYW1lKSB7XG4gICAgICBpZiAoY2xhc3NOYW1lICE9IFwiY29tbWVudFwiKSB7XG4gICAgICAgIGNsZWFuZWRRdWVyeSArPSBzdHJpbmdWYWw7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsZWFuZWRRdWVyeTtcbiAgfTtcbiAgLyoqXG5cdCAqIEZldGNoIHRoZSBxdWVyeSB0eXBlIChlLmcuLCBTRUxFQ1R8fERFU0NSSUJFfHxJTlNFUlR8fERFTEVURXx8QVNLfHxDT05TVFJVQ1QpXG5cdCAqXG5cdCAqIEBtZXRob2QgZG9jLmdldFF1ZXJ5VHlwZVxuXHQgKiBAcmV0dXJuIHN0cmluZ1xuXHQgKlxuXHQgKi9cbiAgeWFzcWUuZ2V0UXVlcnlUeXBlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHlhc3FlLnF1ZXJ5VHlwZTtcbiAgfTtcbiAgLyoqXG5cdCAqIEZldGNoIHRoZSBxdWVyeSBtb2RlOiAncXVlcnknIG9yICd1cGRhdGUnXG5cdCAqXG5cdCAqIEBtZXRob2QgZG9jLmdldFF1ZXJ5TW9kZVxuXHQgKiBAcmV0dXJuIHN0cmluZ1xuXHQgKlxuXHQgKi9cbiAgeWFzcWUuZ2V0UXVlcnlNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHR5cGUgPSB5YXNxZS5nZXRRdWVyeVR5cGUoKTtcbiAgICBpZiAoXG4gICAgICB0eXBlID09IFwiSU5TRVJUXCIgfHxcbiAgICAgIHR5cGUgPT0gXCJERUxFVEVcIiB8fFxuICAgICAgdHlwZSA9PSBcIkxPQURcIiB8fFxuICAgICAgdHlwZSA9PSBcIkNMRUFSXCIgfHxcbiAgICAgIHR5cGUgPT0gXCJDUkVBVEVcIiB8fFxuICAgICAgdHlwZSA9PSBcIkRST1BcIiB8fFxuICAgICAgdHlwZSA9PSBcIkNPUFlcIiB8fFxuICAgICAgdHlwZSA9PSBcIk1PVkVcIiB8fFxuICAgICAgdHlwZSA9PSBcIkFERFwiXG4gICAgKSB7XG4gICAgICByZXR1cm4gXCJ1cGRhdGVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwicXVlcnlcIjtcbiAgICB9XG4gIH07XG5cbiAgeWFzcWUuc2V0Q2hlY2tTeW50YXhFcnJvcnMgPSBmdW5jdGlvbihpc0VuYWJsZWQpIHtcbiAgICB5YXNxZS5vcHRpb25zLnN5bnRheEVycm9yQ2hlY2sgPSBpc0VuYWJsZWQ7XG4gICAgY2hlY2tTeW50YXgoeWFzcWUpO1xuICB9O1xuXG4gIHlhc3FlLmVuYWJsZUNvbXBsZXRlciA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBhZGRDb21wbGV0ZXJUb1NldHRpbmdzKHlhc3FlLm9wdGlvbnMsIG5hbWUpO1xuICAgIGlmIChyb290LkF1dG9jb21wbGV0ZXJzW25hbWVdKSB5YXNxZS5hdXRvY29tcGxldGVycy5pbml0KG5hbWUsIHJvb3QuQXV0b2NvbXBsZXRlcnNbbmFtZV0pO1xuICB9O1xuICB5YXNxZS5kaXNhYmxlQ29tcGxldGVyID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJlbW92ZUNvbXBsZXRlckZyb21TZXR0aW5ncyh5YXNxZS5vcHRpb25zLCBuYW1lKTtcbiAgfTtcbiAgcmV0dXJuIHlhc3FlO1xufTtcblxudmFyIGFkZENvbXBsZXRlclRvU2V0dGluZ3MgPSBmdW5jdGlvbihzZXR0aW5ncywgbmFtZSkge1xuICBpZiAoIXNldHRpbmdzLmF1dG9jb21wbGV0ZXJzKSBzZXR0aW5ncy5hdXRvY29tcGxldGVycyA9IFtdO1xuICBzZXR0aW5ncy5hdXRvY29tcGxldGVycy5wdXNoKG5hbWUpO1xufTtcbnZhciByZW1vdmVDb21wbGV0ZXJGcm9tU2V0dGluZ3MgPSBmdW5jdGlvbihzZXR0aW5ncywgbmFtZSkge1xuICBpZiAodHlwZW9mIHNldHRpbmdzLmF1dG9jb21wbGV0ZXJzID09IFwib2JqZWN0XCIpIHtcbiAgICB2YXIgaW5kZXggPSAkLmluQXJyYXkobmFtZSwgc2V0dGluZ3MuYXV0b2NvbXBsZXRlcnMpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICBzZXR0aW5ncy5hdXRvY29tcGxldGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgcmVtb3ZlQ29tcGxldGVyRnJvbVNldHRpbmdzKHNldHRpbmdzLCBuYW1lKTsgLy9qdXN0IGluIGNhc2UuIHN1cHBvc2UgMSBjb21wbGV0ZXIgaXMgbGlzdGVkIHR3aWNlXG4gICAgfVxuICB9XG59O1xudmFyIHBvc3RQcm9jZXNzQ21FbGVtZW50ID0gZnVuY3Rpb24oeWFzcWUpIHtcbiAgLyoqXG5cdCAqIFNldCBkb2MgdmFsdWVcblx0ICovXG4gIHZhciBzdG9yYWdlSWQgPSB1dGlscy5nZXRQZXJzaXN0ZW5jeUlkKHlhc3FlLCB5YXNxZS5vcHRpb25zLnBlcnNpc3RlbnQpO1xuICBpZiAoc3RvcmFnZUlkKSB7XG4gICAgdmFyIHZhbHVlRnJvbVN0b3JhZ2UgPSB5dXRpbHMuc3RvcmFnZS5nZXQoc3RvcmFnZUlkKTtcbiAgICBpZiAodmFsdWVGcm9tU3RvcmFnZSkgeWFzcWUuc2V0VmFsdWUodmFsdWVGcm9tU3RvcmFnZSk7XG4gIH1cblxuICByb290LmRyYXdCdXR0b25zKHlhc3FlKTtcblxuICAvKipcblx0ICogQWRkIGV2ZW50IGhhbmRsZXJzXG5cdCAqL1xuICB5YXNxZS5vbihcImJsdXJcIiwgZnVuY3Rpb24oeWFzcWUsIGV2ZW50SW5mbykge1xuICAgIHJvb3Quc3RvcmVRdWVyeSh5YXNxZSk7XG4gIH0pO1xuICB5YXNxZS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbih5YXNxZSwgZXZlbnRJbmZvKSB7XG4gICAgY2hlY2tTeW50YXgoeWFzcWUpO1xuICAgIHJvb3QudXBkYXRlUXVlcnlCdXR0b24oeWFzcWUpO1xuICAgIHJvb3QucG9zaXRpb25CdXR0b25zKHlhc3FlKTtcbiAgfSk7XG4gIHlhc3FlLm9uKFwiY2hhbmdlc1wiLCBmdW5jdGlvbigpIHtcbiAgICAvL2UuZy4gb24gcGFzdGVcbiAgICBjaGVja1N5bnRheCh5YXNxZSk7XG4gICAgcm9vdC51cGRhdGVRdWVyeUJ1dHRvbih5YXNxZSk7XG4gICAgcm9vdC5wb3NpdGlvbkJ1dHRvbnMoeWFzcWUpO1xuICB9KTtcblxuICB5YXNxZS5vbihcImN1cnNvckFjdGl2aXR5XCIsIGZ1bmN0aW9uKHlhc3FlLCBldmVudEluZm8pIHtcbiAgICB1cGRhdGVCdXR0b25zVHJhbnNwYXJlbmN5KHlhc3FlKTtcbiAgfSk7XG4gIHlhc3FlLnByZXZRdWVyeVZhbGlkID0gZmFsc2U7XG4gIGNoZWNrU3ludGF4KHlhc3FlKTsgLy8gb24gZmlyc3QgbG9hZCwgY2hlY2sgYXMgd2VsbCAob3VyIHN0b3JlZCBvciBkZWZhdWx0IHF1ZXJ5IG1pZ2h0IGJlIGluY29ycmVjdClcbiAgcm9vdC5wb3NpdGlvbkJ1dHRvbnMoeWFzcWUpO1xuXG4gICQoeWFzcWUuZ2V0V3JhcHBlckVsZW1lbnQoKSlcbiAgICAub24oXCJtb3VzZWVudGVyXCIsIFwiLmNtLWF0b21cIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWF0Y2hUZXh0ID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAkKHlhc3FlLmdldFdyYXBwZXJFbGVtZW50KCkpXG4gICAgICAgIC5maW5kKFwiLmNtLWF0b21cIilcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJCh0aGlzKS50ZXh0KCkgPT09IG1hdGNoVGV4dDtcbiAgICAgICAgfSlcbiAgICAgICAgLmFkZENsYXNzKFwibWF0Y2hpbmdWYXJcIik7XG4gICAgfSlcbiAgICAub24oXCJtb3VzZWxlYXZlXCIsIFwiLmNtLWF0b21cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAkKHlhc3FlLmdldFdyYXBwZXJFbGVtZW50KCkpLmZpbmQoXCIubWF0Y2hpbmdWYXJcIikucmVtb3ZlQ2xhc3MoXCJtYXRjaGluZ1ZhclwiKTtcbiAgICB9KTtcbiAgLyoqXG5cdCAqIGNoZWNrIHVybCBhcmdzIGFuZCBtb2RpZnkgeWFzcWUgc2V0dGluZ3MgaWYgbmVlZGVkXG5cdCAqL1xuICBpZiAoeWFzcWUub3B0aW9ucy5jb25zdW1lU2hhcmVMaW5rKSB7XG4gICAgeWFzcWUub3B0aW9ucy5jb25zdW1lU2hhcmVMaW5rKHlhc3FlLCBnZXRVcmxQYXJhbXMoKSk7XG4gICAgLy9hbmQ6IGFkZCBhIGhhc2ggbGlzdGVuZXIhXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgeWFzcWUub3B0aW9ucy5jb25zdW1lU2hhcmVMaW5rKHlhc3FlLCBnZXRVcmxQYXJhbXMoKSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHlhc3FlLm9wdGlvbnMuY29sbGFwc2VQcmVmaXhlc09uTG9hZCkgeWFzcWUuY29sbGFwc2VQcmVmaXhlcyh0cnVlKTtcbn07XG5cbi8qKlxuICogZ2V0IHVybCBwYXJhbXMuIGZpcnN0IHRyeSBmZXRjaGluZyB1c2luZyBoYXNoLiBJZiBpdCBmYWlscywgdHJ5IHRoZSByZWd1bGFyIHF1ZXJ5IHBhcmFtZXRlcnMgKGZvciBiYWNrd2FyZHMgY29tcGF0YWJpbGl0eSlcbiAqL1xudmFyIGdldFVybFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuICAvL2ZpcnN0IHRyeSBoYXNoXG4gIHZhciB1cmxQYXJhbXMgPSBudWxsO1xuICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gubGVuZ3RoID4gMSkge1xuICAgIC8vZmlyZWZveCBkb2VzIHNvbWUgZGVjb2RpbmcgaWYgd2UncmUgdXNpbmcgd2luZG93LmxvY2F0aW9uLmhhc2ggKGUuZy4gdGhlICsgc2lnbiBpbiBjb250ZW50VHlwZSBzZXR0aW5ncylcbiAgICAvL0Rvbid0IHdhbnQgdGhpcy4gU28gc2ltcGx5IGdldCB0aGUgaGFzaCBzdHJpbmcgb3Vyc2VsdmVzXG4gICAgdXJsUGFyYW1zID0gJC5kZXBhcmFtKGxvY2F0aW9uLmhyZWYuc3BsaXQoXCIjXCIpWzFdKTtcbiAgfVxuICBpZiAoKCF1cmxQYXJhbXMgfHwgIShcInF1ZXJ5XCIgaW4gdXJsUGFyYW1zKSkgJiYgd2luZG93LmxvY2F0aW9uLnNlYXJjaC5sZW5ndGggPiAxKSB7XG4gICAgLy9vaywgdGhlbiBqdXN0IHRyeSByZWd1bGFyIHVybCBwYXJhbXNcbiAgICB1cmxQYXJhbXMgPSAkLmRlcGFyYW0od2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSkpO1xuICB9XG4gIHJldHVybiB1cmxQYXJhbXM7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSB0cmFuc3BhcmVuY3kgb2YgYnV0dG9ucy4gSW5jcmVhc2UgdHJhbnNwYXJlbmN5IHdoZW4gY3Vyc29yIGlzIGJlbG93IGJ1dHRvbnNcbiAqL1xuXG52YXIgdXBkYXRlQnV0dG9uc1RyYW5zcGFyZW5jeSA9IGZ1bmN0aW9uKHlhc3FlKSB7XG4gIHlhc3FlLmN1cnNvciA9ICQoXCIuQ29kZU1pcnJvci1jdXJzb3JcIik7XG4gIGlmICh5YXNxZS5idXR0b25zICYmIHlhc3FlLmJ1dHRvbnMuaXMoXCI6dmlzaWJsZVwiKSAmJiB5YXNxZS5jdXJzb3IubGVuZ3RoID4gMCkge1xuICAgIGlmICh1dGlscy5lbGVtZW50c092ZXJsYXAoeWFzcWUuY3Vyc29yLCB5YXNxZS5idXR0b25zKSkge1xuICAgICAgeWFzcWUuYnV0dG9ucy5maW5kKFwic3ZnXCIpLmF0dHIoXCJvcGFjaXR5XCIsIFwiMC4yXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB5YXNxZS5idXR0b25zLmZpbmQoXCJzdmdcIikuYXR0cihcIm9wYWNpdHlcIiwgXCIxLjBcIik7XG4gICAgfVxuICB9XG59O1xuXG52YXIgY2xlYXJFcnJvciA9IG51bGw7XG52YXIgY2hlY2tTeW50YXggPSBmdW5jdGlvbih5YXNxZSwgZGVlcGNoZWNrKSB7XG4gIHlhc3FlLnF1ZXJ5VmFsaWQgPSB0cnVlO1xuXG4gIHlhc3FlLmNsZWFyR3V0dGVyKFwiZ3V0dGVyRXJyb3JCYXJcIik7XG5cbiAgdmFyIHN0YXRlID0gbnVsbDtcbiAgZm9yICh2YXIgbCA9IDA7IGwgPCB5YXNxZS5saW5lQ291bnQoKTsgKytsKSB7XG4gICAgdmFyIHByZWNpc2UgPSBmYWxzZTtcbiAgICBpZiAoIXlhc3FlLnByZXZRdWVyeVZhbGlkKSB7XG4gICAgICAvLyB3ZSBkb24ndCB3YW50IGNhY2hlZCBpbmZvcm1hdGlvbiBpbiB0aGlzIGNhc2UsIG90aGVyd2lzZSB0aGVcbiAgICAgIC8vIHByZXZpb3VzIGVycm9yIHNpZ24gbWlnaHQgc3RpbGwgc2hvdyB1cCxcbiAgICAgIC8vIGV2ZW4gdGhvdWdoIHRoZSBzeW50YXggZXJyb3IgbWlnaHQgYmUgZ29uZSBhbHJlYWR5XG4gICAgICBwcmVjaXNlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW4gPSB5YXNxZS5nZXRUb2tlbkF0KFxuICAgICAge1xuICAgICAgICBsaW5lOiBsLFxuICAgICAgICBjaDogeWFzcWUuZ2V0TGluZShsKS5sZW5ndGhcbiAgICAgIH0sXG4gICAgICBwcmVjaXNlXG4gICAgKTtcbiAgICB2YXIgc3RhdGUgPSB0b2tlbi5zdGF0ZTtcbiAgICB5YXNxZS5xdWVyeVR5cGUgPSBzdGF0ZS5xdWVyeVR5cGU7XG4gICAgaWYgKHN0YXRlLk9LID09IGZhbHNlKSB7XG4gICAgICBpZiAoIXlhc3FlLm9wdGlvbnMuc3ludGF4RXJyb3JDaGVjaykge1xuICAgICAgICAvL3RoZSBsaWJyYXJ5IHdlIHVzZSBhbHJlYWR5IG1hcmtzIGV2ZXJ5dGhpbmcgYXMgYmVpbmcgYW4gZXJyb3IuIE92ZXJ3cml0ZSB0aGlzIGNsYXNzIGF0dHJpYnV0ZS5cbiAgICAgICAgJCh5YXNxZS5nZXRXcmFwcGVyRWxlbWVudCgpKS5maW5kKFwiLnNwLWVycm9yXCIpLmNzcyhcImNvbG9yXCIsIFwiYmxhY2tcIik7XG4gICAgICAgIC8vd2UgZG9uJ3Qgd2FudCB0byBndXR0ZXIgZXJyb3IsIHNvIHJldHVyblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB3YXJuaW5nRWwgPSB5dXRpbHMuc3ZnLmdldEVsZW1lbnQoaW1ncy53YXJuaW5nKTtcbiAgICAgIGlmIChzdGF0ZS5lcnJvck1zZykge1xuICAgICAgICByZXF1aXJlKFwiLi90b29sdGlwXCIpKHlhc3FlLCB3YXJuaW5nRWwsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiPGRpdi8+XCIpLnRleHQodG9rZW4uc3RhdGUuZXJyb3JNc2cpLmh0bWwoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLnBvc3NpYmxlQ3VycmVudCAmJiBzdGF0ZS5wb3NzaWJsZUN1cnJlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAvL1x0XHRcdFx0d2FybmluZ0VsLnN0eWxlLnpJbmRleCA9IFwiOTk5OTk5OTlcIjtcbiAgICAgICAgcmVxdWlyZShcIi4vdG9vbHRpcFwiKSh5YXNxZSwgd2FybmluZ0VsLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgZXhwZWN0ZWRFbmNvZGVkID0gW107XG4gICAgICAgICAgc3RhdGUucG9zc2libGVDdXJyZW50LmZvckVhY2goZnVuY3Rpb24oZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIGV4cGVjdGVkRW5jb2RlZC5wdXNoKFxuICAgICAgICAgICAgICBcIjxzdHJvbmcgc3R5bGU9J3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUnPlwiICsgJChcIjxkaXYvPlwiKS50ZXh0KGV4cGVjdGVkKS5odG1sKCkgKyBcIjwvc3Ryb25nPlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBcIlRoaXMgbGluZSBpcyBpbnZhbGlkLiBFeHBlY3RlZDogXCIgKyBleHBlY3RlZEVuY29kZWQuam9pbihcIiwgXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHdhcm5pbmdFbC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjJweFwiO1xuICAgICAgd2FybmluZ0VsLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjJweFwiO1xuICAgICAgd2FybmluZ0VsLmNsYXNzTmFtZSA9IFwicGFyc2VFcnJvckljb25cIjtcbiAgICAgIHlhc3FlLnNldEd1dHRlck1hcmtlcihsLCBcImd1dHRlckVycm9yQmFyXCIsIHdhcm5pbmdFbCk7XG5cbiAgICAgIHlhc3FlLnF1ZXJ5VmFsaWQgPSBmYWxzZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICB5YXNxZS5wcmV2UXVlcnlWYWxpZCA9IHlhc3FlLnF1ZXJ5VmFsaWQ7XG4gIGlmIChkZWVwY2hlY2spIHtcbiAgICBpZiAoc3RhdGUgIT0gbnVsbCAmJiBzdGF0ZS5zdGFjayAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBzdGFjayA9IHN0YXRlLnN0YWNrLCBsZW4gPSBzdGF0ZS5zdGFjay5sZW5ndGg7XG4gICAgICAvLyBCZWNhdXNlIGluY3JlbWVudGFsIHBhcnNlciBkb2Vzbid0IHJlY2VpdmUgZW5kLW9mLWlucHV0XG4gICAgICAvLyBpdCBjYW4ndCBjbGVhciBzdGFjaywgc28gd2UgaGF2ZSB0byBjaGVjayB0aGF0IHdoYXRldmVyXG4gICAgICAvLyBpcyBsZWZ0IG9uIHRoZSBzdGFjayBpcyBuaWxsYWJsZVxuICAgICAgaWYgKGxlbiA+IDEpIHlhc3FlLnF1ZXJ5VmFsaWQgPSBmYWxzZTtcbiAgICAgIGVsc2UgaWYgKGxlbiA9PSAxKSB7XG4gICAgICAgIGlmIChzdGFja1swXSAhPSBcInNvbHV0aW9uTW9kaWZpZXJcIiAmJiBzdGFja1swXSAhPSBcIj9saW1pdE9mZnNldENsYXVzZXNcIiAmJiBzdGFja1swXSAhPSBcIj9vZmZzZXRDbGF1c2VcIilcbiAgICAgICAgICB5YXNxZS5xdWVyeVZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuLyoqXG4gKiBTdGF0aWMgVXRpbHNcbiAqL1xuLy8gZmlyc3QgdGFrZSBhbGwgQ29kZU1pcnJvciByZWZlcmVuY2VzIGFuZCBzdG9yZSB0aGVtIGluIHRoZSBZQVNRRSBvYmplY3RcbiQuZXh0ZW5kKHJvb3QsIENvZGVNaXJyb3IpO1xuXG4vL2FkZCByZWdpc3RyYXIgZm9yIGF1dG9jb21wbGV0ZXJzXG5yb290LkF1dG9jb21wbGV0ZXJzID0ge307XG5yb290LnJlZ2lzdGVyQXV0b2NvbXBsZXRlciA9IGZ1bmN0aW9uKG5hbWUsIGNvbnN0cnVjdG9yKSB7XG4gIHJvb3QuQXV0b2NvbXBsZXRlcnNbbmFtZV0gPSBjb25zdHJ1Y3RvcjtcbiAgYWRkQ29tcGxldGVyVG9TZXR0aW5ncyhyb290LmRlZmF1bHRzLCBuYW1lKTtcbn07XG5cbnJvb3QuYXV0b0NvbXBsZXRlID0gZnVuY3Rpb24oeWFzcWUpIHtcbiAgLy90aGlzIGZ1bmN0aW9uIGdldHMgY2FsbGVkIHdoZW4gcHJlc3NpbmcgdGhlIGtleWJvYXJkIHNob3J0Y3V0LiBJLmUuLCBhdXRvU2hvdyA9IGZhbHNlXG4gIHlhc3FlLmF1dG9jb21wbGV0ZXJzLmF1dG9Db21wbGV0ZShmYWxzZSk7XG59O1xuLy9pbmNsdWRlIHRoZSBhdXRvY29tcGxldGVycyB3ZSBwcm92aWRlIG91dC1vZi10aGUtYm94XG5yb290LnJlZ2lzdGVyQXV0b2NvbXBsZXRlcihcInByZWZpeGVzXCIsIHJlcXVpcmUoXCIuL2F1dG9jb21wbGV0ZXJzL3ByZWZpeGVzLmpzXCIpKTtcbnJvb3QucmVnaXN0ZXJBdXRvY29tcGxldGVyKFwicHJvcGVydGllc1wiLCByZXF1aXJlKFwiLi9hdXRvY29tcGxldGVycy9wcm9wZXJ0aWVzLmpzXCIpKTtcbnJvb3QucmVnaXN0ZXJBdXRvY29tcGxldGVyKFwiY2xhc3Nlc1wiLCByZXF1aXJlKFwiLi9hdXRvY29tcGxldGVycy9jbGFzc2VzLmpzXCIpKTtcbnJvb3QucmVnaXN0ZXJBdXRvY29tcGxldGVyKFwidmFyaWFibGVzXCIsIHJlcXVpcmUoXCIuL2F1dG9jb21wbGV0ZXJzL3ZhcmlhYmxlcy5qc1wiKSk7XG5cbnJvb3QucG9zaXRpb25CdXR0b25zID0gZnVuY3Rpb24oeWFzcWUpIHtcbiAgdmFyIHNjcm9sbEJhciA9ICQoeWFzcWUuZ2V0V3JhcHBlckVsZW1lbnQoKSkuZmluZChcIi5Db2RlTWlycm9yLXZzY3JvbGxiYXJcIik7XG4gIHZhciBvZmZzZXQgPSAwO1xuICBpZiAoc2Nyb2xsQmFyLmlzKFwiOnZpc2libGVcIikpIHtcbiAgICBvZmZzZXQgPSBzY3JvbGxCYXIub3V0ZXJXaWR0aCgpO1xuICB9XG4gIGlmICh5YXNxZS5idXR0b25zLmlzKFwiOnZpc2libGVcIikpIHlhc3FlLmJ1dHRvbnMuY3NzKFwicmlnaHRcIiwgb2Zmc2V0ICsgNCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIHNoYXJlIGxpbmtcbiAqXG4gKiBAbWV0aG9kIFlBU1FFLmNyZWF0ZVNoYXJlTGlua1xuICogQHBhcmFtIHtkb2N9IFlBU1FFIGRvY3VtZW50XG4gKiBAZGVmYXVsdCB7cXVlcnk6IGRvYy5nZXRWYWx1ZSgpfVxuICogQHJldHVybiBvYmplY3RcbiAqL1xucm9vdC5jcmVhdGVTaGFyZUxpbmsgPSBmdW5jdGlvbih5YXNxZSkge1xuICAvL2V4dGVuZCBleGlzdGluZyBsaW5rLCBzbyBmaXJzdCBmZXRjaCBjdXJyZW50IGFyZ3VtZW50c1xuICB2YXIgdXJsUGFyYW1zID0ge307XG4gIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaC5sZW5ndGggPiAxKSB1cmxQYXJhbXMgPSAkLmRlcGFyYW0od2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKTtcbiAgdXJsUGFyYW1zW1wicXVlcnlcIl0gPSB5YXNxZS5nZXRWYWx1ZSgpO1xuICByZXR1cm4gdXJsUGFyYW1zO1xufTtcbnJvb3QuZ2V0QXNDdXJsID0gZnVuY3Rpb24oeWFzcWUsIGFqYXhDb25maWcpIHtcbiAgdmFyIGN1cmwgPSByZXF1aXJlKFwiLi9jdXJsLmpzXCIpO1xuICByZXR1cm4gY3VybC5jcmVhdGVDdXJsU3RyaW5nKHlhc3FlLCBhamF4Q29uZmlnKTtcbn07XG4vKipcbiAqIENvbnN1bWUgdGhlIHNoYXJlIGxpbmssIGJ5IHBhcnNpbmcgdGhlIGRvY3VtZW50IFVSTCBmb3IgcG9zc2libGUgeWFzcWUgYXJndW1lbnRzLCBhbmQgc2V0dGluZyB0aGUgYXBwcm9wcmlhdGUgdmFsdWVzIGluIHRoZSBZQVNRRSBkb2NcbiAqXG4gKiBAbWV0aG9kIFlBU1FFLmNvbnN1bWVTaGFyZUxpbmtcbiAqIEBwYXJhbSB7ZG9jfSBZQVNRRSBkb2N1bWVudFxuICovXG5yb290LmNvbnN1bWVTaGFyZUxpbmsgPSBmdW5jdGlvbih5YXNxZSwgdXJsUGFyYW1zKSB7XG4gIGlmICh1cmxQYXJhbXMgJiYgdXJsUGFyYW1zLnF1ZXJ5KSB7XG4gICAgeWFzcWUuc2V0VmFsdWUodXJsUGFyYW1zLnF1ZXJ5KTtcbiAgfVxufTtcbnJvb3QuZHJhd0J1dHRvbnMgPSBmdW5jdGlvbih5YXNxZSkge1xuICB5YXNxZS5idXR0b25zID0gJChcIjxkaXYgY2xhc3M9J3lhc3FlX2J1dHRvbnMnPjwvZGl2PlwiKS5hcHBlbmRUbygkKHlhc3FlLmdldFdyYXBwZXJFbGVtZW50KCkpKTtcblxuICAvKipcblx0ICogZHJhdyBzaGFyZSBsaW5rIGJ1dHRvblxuXHQgKi9cbiAgaWYgKHlhc3FlLm9wdGlvbnMuY3JlYXRlU2hhcmVMaW5rKSB7XG4gICAgdmFyIHN2Z1NoYXJlID0gJCh5dXRpbHMuc3ZnLmdldEVsZW1lbnQoaW1ncy5zaGFyZSkpO1xuICAgIHN2Z1NoYXJlXG4gICAgICAuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHZhciBwb3B1cCA9ICQoXCI8ZGl2IGNsYXNzPSd5YXNxZV9zaGFyZVBvcHVwJz48L2Rpdj5cIikuYXBwZW5kVG8oeWFzcWUuYnV0dG9ucyk7XG4gICAgICAgICQoXCJodG1sXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChwb3B1cCkgcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBvcHVwLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgJGlucHV0ID0gJChcIjxpbnB1dD5cIikudmFsKFxuICAgICAgICAgIGxvY2F0aW9uLnByb3RvY29sICtcbiAgICAgICAgICAgIFwiLy9cIiArXG4gICAgICAgICAgICBsb2NhdGlvbi5ob3N0ICtcbiAgICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lICtcbiAgICAgICAgICAgIGxvY2F0aW9uLnNlYXJjaCArXG4gICAgICAgICAgICBcIiNcIiArXG4gICAgICAgICAgICAkLnBhcmFtKHlhc3FlLm9wdGlvbnMuY3JlYXRlU2hhcmVMaW5rKHlhc3FlKSlcbiAgICAgICAgKTtcblxuICAgICAgICAkaW5wdXQuZm9jdXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAkdGhpcy5zZWxlY3QoKTtcblxuICAgICAgICAgIC8vIFdvcmsgYXJvdW5kIENocm9tZSdzIGxpdHRsZSBwcm9ibGVtXG4gICAgICAgICAgJHRoaXMubW91c2V1cChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgZnVydGhlciBtb3VzZXVwIGludGVydmVudGlvblxuICAgICAgICAgICAgJHRoaXMudW5iaW5kKFwibW91c2V1cFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcG9wdXAuZW1wdHkoKS5hcHBlbmQoJChcIjxkaXY+XCIsIHsgY2xhc3M6IFwiaW5wdXRXcmFwcGVyXCIgfSkuYXBwZW5kKCRpbnB1dCkpO1xuICAgICAgICBpZiAoeWFzcWUub3B0aW9ucy5jcmVhdGVTaG9ydExpbmspIHtcbiAgICAgICAgICBwb3B1cC5hZGRDbGFzcyhcImVuYWJsZVNob3J0XCIpO1xuICAgICAgICAgICQoXCI8YnV0dG9uPlNob3J0ZW48L2J1dHRvbj5cIilcbiAgICAgICAgICAgIC5hZGRDbGFzcyhcInlhc3FlX2J0biB5YXNxZV9idG4tc20geWFzcWVfYnRuLXByaW1hcnlcIilcbiAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKFwiYnV0dG9uXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgICB5YXNxZS5vcHRpb25zLmNyZWF0ZVNob3J0TGluaygkaW5wdXQudmFsKCksIGZ1bmN0aW9uKGVyclN0cmluZywgc2hvcnRMaW5rKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVyclN0cmluZykge1xuICAgICAgICAgICAgICAgICAgJGlucHV0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgcG9wdXAuZmluZChcIi5pbnB1dFdyYXBwZXJcIikuYXBwZW5kKCQoXCI8c3Bhbj5cIiwgeyBjbGFzczogXCJzaG9ydGxpbmtFcnJcIiB9KS50ZXh0KGVyclN0cmluZykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKHNob3J0TGluaykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hcHBlbmRUbyhwb3B1cCk7XG4gICAgICAgIH1cbiAgICAgICAgJChcIjxidXR0b24+Q1VSTDwvYnV0dG9uPlwiKVxuICAgICAgICAgIC5hZGRDbGFzcyhcInlhc3FlX2J0biB5YXNxZV9idG4tc20geWFzcWVfYnRuLXByaW1hcnlcIilcbiAgICAgICAgICAuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCJidXR0b25cIikuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAkaW5wdXQudmFsKHJvb3QuZ2V0QXNDdXJsKHlhc3FlKSkuZm9jdXMoKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hcHBlbmRUbyhwb3B1cCk7XG4gICAgICAgIHZhciBwb3NpdGlvbnMgPSBzdmdTaGFyZS5wb3NpdGlvbigpO1xuICAgICAgICBwb3B1cFxuICAgICAgICAgIC5jc3MoXCJ0b3BcIiwgcG9zaXRpb25zLnRvcCArIHN2Z1NoYXJlLm91dGVySGVpZ2h0KCkgKyBwYXJzZUludChwb3B1cC5jc3MoXCJwYWRkaW5nLXRvcFwiKSkgKyBcInB4XCIpXG4gICAgICAgICAgLmNzcyhcImxlZnRcIiwgcG9zaXRpb25zLmxlZnQgKyBzdmdTaGFyZS5vdXRlcldpZHRoKCkgLSBwb3B1cC5vdXRlcldpZHRoKCkgKyBcInB4XCIpO1xuICAgICAgICAkaW5wdXQuZm9jdXMoKTtcbiAgICAgIH0pXG4gICAgICAuYWRkQ2xhc3MoXCJ5YXNxZV9zaGFyZVwiKVxuICAgICAgLmF0dHIoXCJ0aXRsZVwiLCBcIlNoYXJlIHlvdXIgcXVlcnlcIilcbiAgICAgIC5hcHBlbmRUbyh5YXNxZS5idXR0b25zKTtcbiAgfVxuXG4gIC8qKlxuXHQgKiBkcmF3IGZ1bGxzY3JlZW4gYnV0dG9uXG5cdCAqL1xuXG4gIHZhciB0b2dnbGVGdWxsc2NyZWVuID0gJChcIjxkaXY+XCIsIHtcbiAgICBjbGFzczogXCJmdWxsc2NyZWVuVG9nZ2xlQnRuc1wiXG4gIH0pXG4gICAgLmFwcGVuZChcbiAgICAgICQoeXV0aWxzLnN2Zy5nZXRFbGVtZW50KGltZ3MuZnVsbHNjcmVlbikpXG4gICAgICAgIC5hZGRDbGFzcyhcInlhc3FlX2Z1bGxzY3JlZW5CdG5cIilcbiAgICAgICAgLmF0dHIoXCJ0aXRsZVwiLCBcIlNldCBlZGl0b3IgZnVsbCBzY3JlZW5cIilcbiAgICAgICAgLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHlhc3FlLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgdHJ1ZSk7XG4gICAgICAgICAgeWFzcWUuZW1pdCgnZnVsbHNjcmVlbi1lbnRlcicpXG4gICAgICAgIH0pXG4gICAgKVxuICAgIC5hcHBlbmQoXG4gICAgICAkKHl1dGlscy5zdmcuZ2V0RWxlbWVudChpbWdzLnNtYWxsc2NyZWVuKSlcbiAgICAgICAgLmFkZENsYXNzKFwieWFzcWVfc21hbGxzY3JlZW5CdG5cIilcbiAgICAgICAgLmF0dHIoXCJ0aXRsZVwiLCBcIlNldCBlZGl0b3IgdG8gbm9ybWFsIHNpemVcIilcbiAgICAgICAgLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHlhc3FlLnNldE9wdGlvbihcImZ1bGxTY3JlZW5cIiwgZmFsc2UpO1xuICAgICAgICAgIHlhc3FlLmVtaXQoJ2Z1bGxzY3JlZW4tbGVhdmUnKVxuICAgICAgICB9KVxuICAgICk7XG4gIHlhc3FlLmJ1dHRvbnMuYXBwZW5kKHRvZ2dsZUZ1bGxzY3JlZW4pO1xuXG4gIGlmICh5YXNxZS5vcHRpb25zLnNwYXJxbC5zaG93UXVlcnlCdXR0b24pIHtcbiAgICAkKFwiPGRpdj5cIiwge1xuICAgICAgY2xhc3M6IFwieWFzcWVfcXVlcnlCdXR0b25cIlxuICAgIH0pXG4gICAgICAuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwicXVlcnlfYnVzeVwiKSkge1xuICAgICAgICAgIGlmICh5YXNxZS54aHIpIHlhc3FlLnhoci5hYm9ydCgpO1xuICAgICAgICAgIHJvb3QudXBkYXRlUXVlcnlCdXR0b24oeWFzcWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHlhc3FlLnF1ZXJ5KCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuYXBwZW5kVG8oeWFzcWUuYnV0dG9ucyk7XG4gICAgcm9vdC51cGRhdGVRdWVyeUJ1dHRvbih5YXNxZSk7XG4gIH1cbn07XG5cbnZhciBxdWVyeUJ1dHRvbklkcyA9IHtcbiAgYnVzeTogXCJsb2FkZXJcIixcbiAgdmFsaWQ6IFwicXVlcnlcIixcbiAgZXJyb3I6IFwicXVlcnlJbnZhbGlkXCJcbn07XG5cbi8qKlxuICogVXBkYXRlIHRoZSBxdWVyeSBidXR0b24gZGVwZW5kaW5nIG9uIGN1cnJlbnQgcXVlcnkgc3RhdHVzLiBJZiBubyBxdWVyeSBzdGF0dXMgaXMgcGFzc2VkIHZpYSB0aGUgcGFyYW1ldGVyLCBpdCBhdXRvLWRldGVjdHMgdGhlIGN1cnJlbnQgcXVlcnkgc3RhdHVzXG4gKlxuICogQHBhcmFtIHtkb2N9IFlBU1FFIGRvY3VtZW50XG4gKiBAcGFyYW0gc3RhdHVzIHtzdHJpbmd8bnVsbCwgXCJidXN5XCJ8XCJ2YWxpZFwifFwiZXJyb3JcIn1cbiAqL1xucm9vdC51cGRhdGVRdWVyeUJ1dHRvbiA9IGZ1bmN0aW9uKHlhc3FlLCBzdGF0dXMpIHtcbiAgdmFyIHF1ZXJ5QnV0dG9uID0gJCh5YXNxZS5nZXRXcmFwcGVyRWxlbWVudCgpKS5maW5kKFwiLnlhc3FlX3F1ZXJ5QnV0dG9uXCIpO1xuICBpZiAocXVlcnlCdXR0b24ubGVuZ3RoID09IDApIHJldHVybjsgLy9ubyBxdWVyeSBidXR0b24gZHJhd25cblxuICAvL2RldGVjdCBzdGF0dXNcbiAgaWYgKCFzdGF0dXMpIHtcbiAgICBzdGF0dXMgPSBcInZhbGlkXCI7XG4gICAgaWYgKHlhc3FlLnF1ZXJ5VmFsaWQgPT09IGZhbHNlKSBzdGF0dXMgPSBcImVycm9yXCI7XG4gIH1cblxuICBpZiAoc3RhdHVzICE9IHlhc3FlLnF1ZXJ5U3RhdHVzKSB7XG4gICAgcXVlcnlCdXR0b24uZW1wdHkoKS5yZW1vdmVDbGFzcyhmdW5jdGlvbihpbmRleCwgY2xhc3NOYW1lcykge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZXNcbiAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAvL3JlbW92ZSBjbGFzc25hbWUgZnJvbSBwcmV2aW91cyBzdGF0dXNcbiAgICAgICAgICByZXR1cm4gYy5pbmRleE9mKFwicXVlcnlfXCIpID09IDA7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKFwiIFwiKTtcbiAgICB9KTtcblxuICAgIGlmIChzdGF0dXMgPT0gXCJidXN5XCIpIHtcbiAgICAgIHF1ZXJ5QnV0dG9uLmFwcGVuZChcbiAgICAgICAgJChcIjxkaXY+XCIsIHtcbiAgICAgICAgICBjbGFzczogXCJsb2FkZXJcIlxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHlhc3FlLnF1ZXJ5U3RhdHVzID0gc3RhdHVzO1xuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09IFwidmFsaWRcIiB8fCBzdGF0dXMgPT0gXCJlcnJvclwiKSB7XG4gICAgICBxdWVyeUJ1dHRvbi5hZGRDbGFzcyhcInF1ZXJ5X1wiICsgc3RhdHVzKTtcbiAgICAgIHl1dGlscy5zdmcuZHJhdyhxdWVyeUJ1dHRvbiwgaW1nc1txdWVyeUJ1dHRvbklkc1tzdGF0dXNdXSk7XG4gICAgICB5YXNxZS5xdWVyeVN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG4gIH1cbn07XG4vKipcbiAqIEluaXRpYWxpemUgWUFTUUUgZnJvbSBhbiBleGlzdGluZyB0ZXh0IGFyZWEgKHNlZSBodHRwOi8vY29kZW1pcnJvci5uZXQvZG9jL21hbnVhbC5odG1sI2Zyb21UZXh0QXJlYSBmb3IgbW9yZSBpbmZvKVxuICpcbiAqIEBtZXRob2QgWUFTUUUuZnJvbVRleHRBcmVhXG4gKiBAcGFyYW0gdGV4dEFyZWEge0RPTSBlbGVtZW50fVxuICogQHBhcmFtIGNvbmZpZyB7b2JqZWN0fVxuICogQHJldHVybnMge2RvY30gWUFTUUUgZG9jdW1lbnRcbiAqL1xucm9vdC5mcm9tVGV4dEFyZWEgPSBmdW5jdGlvbih0ZXh0QXJlYUVsLCBjb25maWcpIHtcbiAgY29uZmlnID0gZXh0ZW5kQ29uZmlnKGNvbmZpZyk7XG4gIC8vYWRkIHlhc3FlIGRpdiBhcyBwYXJlbnQgKG5lZWRlZCBmb3Igc3R5bGVzIHRvIGJlIG1hbmFnZWFibGUgYW5kIHNjb3BlZCkuXG4gIC8vSW4gdGhpcyBjYXNlLCBJIC1hbHNvLSBwdXQgaXQgYXMgcGFyZW50IGVsIG9mIHRoZSB0ZXh0IGFyZWEuIFRoaXMgaXMgd3JhcHBlZCBpbiBhIGRpdiBub3dcbiAgdmFyIHJvb3RFbCA9ICQoXCI8ZGl2PlwiLCB7XG4gICAgY2xhc3M6IFwieWFzcWVcIlxuICB9KVxuICAgIC5pbnNlcnRCZWZvcmUoJCh0ZXh0QXJlYUVsKSlcbiAgICAuYXBwZW5kKCQodGV4dEFyZWFFbCkpO1xuICB2YXIgeWFzcWUgPSBleHRlbmRDbUluc3RhbmNlKENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKHRleHRBcmVhRWwsIGNvbmZpZykpO1xuICBwb3N0UHJvY2Vzc0NtRWxlbWVudCh5YXNxZSk7XG4gIHJldHVybiB5YXNxZTtcbn07XG5cbnJvb3Quc3RvcmVRdWVyeSA9IGZ1bmN0aW9uKHlhc3FlKSB7XG4gIHZhciBzdG9yYWdlSWQgPSB1dGlscy5nZXRQZXJzaXN0ZW5jeUlkKHlhc3FlLCB5YXNxZS5vcHRpb25zLnBlcnNpc3RlbnQpO1xuICBpZiAoc3RvcmFnZUlkKSB7XG4gICAgeXV0aWxzLnN0b3JhZ2Uuc2V0KHN0b3JhZ2VJZCwgeWFzcWUuZ2V0VmFsdWUoKSwgXCJtb250aFwiLCB5YXNxZS5vcHRpb25zLm9uUXVvdGFFeGNlZWRlZCk7XG4gIH1cbn07XG5yb290LmNvbW1lbnRMaW5lcyA9IGZ1bmN0aW9uKHlhc3FlKSB7XG4gIHZhciBzdGFydExpbmUgPSB5YXNxZS5nZXRDdXJzb3IodHJ1ZSkubGluZTtcbiAgdmFyIGVuZExpbmUgPSB5YXNxZS5nZXRDdXJzb3IoZmFsc2UpLmxpbmU7XG4gIHZhciBtaW4gPSBNYXRoLm1pbihzdGFydExpbmUsIGVuZExpbmUpO1xuICB2YXIgbWF4ID0gTWF0aC5tYXgoc3RhcnRMaW5lLCBlbmRMaW5lKTtcblxuICAvLyBpZiBhbGwgbGluZXMgc3RhcnQgd2l0aCAjLCByZW1vdmUgdGhpcyBjaGFyLiBPdGhlcndpc2UgYWRkIHRoaXMgY2hhclxuICB2YXIgbGluZXNBcmVDb21tZW50ZWQgPSB0cnVlO1xuICBmb3IgKHZhciBpID0gbWluOyBpIDw9IG1heDsgaSsrKSB7XG4gICAgdmFyIGxpbmUgPSB5YXNxZS5nZXRMaW5lKGkpO1xuICAgIGlmIChsaW5lLmxlbmd0aCA9PSAwIHx8IGxpbmUuc3Vic3RyaW5nKDAsIDEpICE9IFwiI1wiKSB7XG4gICAgICBsaW5lc0FyZUNvbW1lbnRlZCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGkgPSBtaW47IGkgPD0gbWF4OyBpKyspIHtcbiAgICBpZiAobGluZXNBcmVDb21tZW50ZWQpIHtcbiAgICAgIC8vIGxpbmVzIGFyZSBjb21tZW50ZWQsIHNvIHJlbW92ZSBjb21tZW50c1xuICAgICAgeWFzcWUucmVwbGFjZVJhbmdlKFxuICAgICAgICBcIlwiLFxuICAgICAgICB7XG4gICAgICAgICAgbGluZTogaSxcbiAgICAgICAgICBjaDogMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbGluZTogaSxcbiAgICAgICAgICBjaDogMVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOb3QgYWxsIGxpbmVzIGFyZSBjb21tZW50ZWQsIHNvIGFkZCBjb21tZW50c1xuICAgICAgeWFzcWUucmVwbGFjZVJhbmdlKFwiI1wiLCB7XG4gICAgICAgIGxpbmU6IGksXG4gICAgICAgIGNoOiAwXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG5cbnJvb3QuY29weUxpbmVVcCA9IGZ1bmN0aW9uKHlhc3FlKSB7XG4gIHZhciBjdXJzb3IgPSB5YXNxZS5nZXRDdXJzb3IoKTtcbiAgdmFyIGxpbmVDb3VudCA9IHlhc3FlLmxpbmVDb3VudCgpO1xuICAvLyBGaXJzdCBjcmVhdGUgbmV3IGVtcHR5IGxpbmUgYXQgZW5kIG9mIHRleHRcbiAgeWFzcWUucmVwbGFjZVJhbmdlKFwiXFxuXCIsIHtcbiAgICBsaW5lOiBsaW5lQ291bnQgLSAxLFxuICAgIGNoOiB5YXNxZS5nZXRMaW5lKGxpbmVDb3VudCAtIDEpLmxlbmd0aFxuICB9KTtcbiAgLy8gQ29weSBhbGwgbGluZXMgdG8gdGhlaXIgbmV4dCBsaW5lXG4gIGZvciAodmFyIGkgPSBsaW5lQ291bnQ7IGkgPiBjdXJzb3IubGluZTsgaS0tKSB7XG4gICAgdmFyIGxpbmUgPSB5YXNxZS5nZXRMaW5lKGkgLSAxKTtcbiAgICB5YXNxZS5yZXBsYWNlUmFuZ2UoXG4gICAgICBsaW5lLFxuICAgICAge1xuICAgICAgICBsaW5lOiBpLFxuICAgICAgICBjaDogMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbGluZTogaSxcbiAgICAgICAgY2g6IHlhc3FlLmdldExpbmUoaSkubGVuZ3RoXG4gICAgICB9XG4gICAgKTtcbiAgfVxufTtcbnJvb3QuY29weUxpbmVEb3duID0gZnVuY3Rpb24oeWFzcWUpIHtcbiAgcm9vdC5jb3B5TGluZVVwKHlhc3FlKTtcbiAgLy8gTWFrZSBzdXJlIGN1cnNvciBnb2VzIG9uZSBkb3duICh3ZSBhcmUgY29weWluZyBkb3dud2FyZHMpXG4gIHZhciBjdXJzb3IgPSB5YXNxZS5nZXRDdXJzb3IoKTtcbiAgY3Vyc29yLmxpbmUrKztcbiAgeWFzcWUuc2V0Q3Vyc29yKGN1cnNvcik7XG59O1xucm9vdC5kb0F1dG9Gb3JtYXQgPSBmdW5jdGlvbih5YXNxZSkge1xuICBpZiAoIXlhc3FlLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHlhc3FlLmV4ZWNDb21tYW5kKFwic2VsZWN0QWxsXCIpO1xuICB2YXIgdG8gPSB7XG4gICAgbGluZTogeWFzcWUuZ2V0Q3Vyc29yKGZhbHNlKS5saW5lLFxuICAgIGNoOiB5YXNxZS5nZXRTZWxlY3Rpb24oKS5sZW5ndGhcbiAgfTtcbiAgYXV0b0Zvcm1hdFJhbmdlKHlhc3FlLCB5YXNxZS5nZXRDdXJzb3IodHJ1ZSksIHRvKTtcbn07XG5cbnZhciBhdXRvRm9ybWF0UmFuZ2UgPSBmdW5jdGlvbih5YXNxZSwgZnJvbSwgdG8pIHtcbiAgdmFyIGFic1N0YXJ0ID0geWFzcWUuaW5kZXhGcm9tUG9zKGZyb20pO1xuICB2YXIgYWJzRW5kID0geWFzcWUuaW5kZXhGcm9tUG9zKHRvKTtcbiAgLy8gSW5zZXJ0IGFkZGl0aW9uYWwgbGluZSBicmVha3Mgd2hlcmUgbmVjZXNzYXJ5IGFjY29yZGluZyB0byB0aGVcbiAgLy8gbW9kZSdzIHN5bnRheFxuICB2YXIgcmVzID0gYXV0b0Zvcm1hdExpbmVCcmVha3MoeWFzcWUuZ2V0VmFsdWUoKSwgYWJzU3RhcnQsIGFic0VuZCk7XG5cbiAgLy8gUmVwbGFjZSBhbmQgYXV0by1pbmRlbnQgdGhlIHJhbmdlXG4gIHlhc3FlLm9wZXJhdGlvbihmdW5jdGlvbigpIHtcbiAgICB5YXNxZS5yZXBsYWNlUmFuZ2UocmVzLCBmcm9tLCB0byk7XG4gICAgdmFyIHN0YXJ0TGluZSA9IHlhc3FlLnBvc0Zyb21JbmRleChhYnNTdGFydCkubGluZTtcbiAgICB2YXIgZW5kTGluZSA9IHlhc3FlLnBvc0Zyb21JbmRleChhYnNTdGFydCArIHJlcy5sZW5ndGgpLmxpbmU7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0TGluZTsgaSA8PSBlbmRMaW5lOyBpKyspIHtcbiAgICAgIHlhc3FlLmluZGVudExpbmUoaSwgXCJzbWFydFwiKTtcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIGF1dG9Gb3JtYXRMaW5lQnJlYWtzID0gZnVuY3Rpb24odGV4dCwgc3RhcnQsIGVuZCkge1xuICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gIHZhciBicmVha0FmdGVyQXJyYXkgPSBbXG4gICAgW1wia2V5d29yZFwiLCBcIndzXCIsIFwicHJlZml4ZWRcIiwgXCJ3c1wiLCBcInVyaVwiXSwgLy8gaS5lLiBwcmVmaXggZGVjbGFyYXRpb25cbiAgICBbXCJrZXl3b3JkXCIsIFwid3NcIiwgXCJ1cmlcIl0gLy8gaS5lLiBiYXNlXG4gIF07XG4gIHZhciBicmVha0FmdGVyQ2hhcmFjdGVycyA9IFtcIntcIiwgXCIuXCIsIFwiO1wiXTtcbiAgdmFyIGJyZWFrQmVmb3JlQ2hhcmFjdGVycyA9IFtcIn1cIl07XG4gIHZhciBnZXRCcmVha1R5cGUgPSBmdW5jdGlvbihzdHJpbmdWYWwsIHR5cGUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyZWFrQWZ0ZXJBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHN0YWNrVHJhY2UudmFsdWVPZigpLnRvU3RyaW5nKCkgPT0gYnJlYWtBZnRlckFycmF5W2ldLnZhbHVlT2YoKS50b1N0cmluZygpKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyZWFrQWZ0ZXJDaGFyYWN0ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoc3RyaW5nVmFsID09IGJyZWFrQWZ0ZXJDaGFyYWN0ZXJzW2ldKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyZWFrQmVmb3JlQ2hhcmFjdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gZG9uJ3Qgd2FudCB0byBpc3N1ZSAnYnJlYWtiZWZvcmUnIEFORCAnYnJlYWthZnRlcicsIHNvIGNoZWNrXG4gICAgICAvLyBjdXJyZW50IGxpbmVcbiAgICAgIGlmICgkLnRyaW0oY3VycmVudExpbmUpICE9IFwiXCIgJiYgc3RyaW5nVmFsID09IGJyZWFrQmVmb3JlQ2hhcmFjdGVyc1tpXSkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9O1xuICB2YXIgZm9ybWF0dGVkUXVlcnkgPSBcIlwiO1xuICB2YXIgY3VycmVudExpbmUgPSBcIlwiO1xuICB2YXIgc3RhY2tUcmFjZSA9IFtdO1xuICBDb2RlTWlycm9yLnJ1bk1vZGUodGV4dCwgXCJzcGFycWwxMVwiLCBmdW5jdGlvbihzdHJpbmdWYWwsIHR5cGUpIHtcbiAgICBzdGFja1RyYWNlLnB1c2godHlwZSk7XG4gICAgdmFyIGJyZWFrVHlwZSA9IGdldEJyZWFrVHlwZShzdHJpbmdWYWwsIHR5cGUpO1xuICAgIGlmIChicmVha1R5cGUgIT0gMCkge1xuICAgICAgaWYgKGJyZWFrVHlwZSA9PSAxKSB7XG4gICAgICAgIGZvcm1hdHRlZFF1ZXJ5ICs9IHN0cmluZ1ZhbCArIFwiXFxuXCI7XG4gICAgICAgIGN1cnJlbnRMaW5lID0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICgtMSlcbiAgICAgICAgZm9ybWF0dGVkUXVlcnkgKz0gXCJcXG5cIiArIHN0cmluZ1ZhbDtcbiAgICAgICAgY3VycmVudExpbmUgPSBzdHJpbmdWYWw7XG4gICAgICB9XG4gICAgICBzdGFja1RyYWNlID0gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRMaW5lICs9IHN0cmluZ1ZhbDtcbiAgICAgIGZvcm1hdHRlZFF1ZXJ5ICs9IHN0cmluZ1ZhbDtcbiAgICB9XG4gICAgaWYgKHN0YWNrVHJhY2UubGVuZ3RoID09IDEgJiYgc3RhY2tUcmFjZVswXSA9PSBcInNwLXdzXCIpIHN0YWNrVHJhY2UgPSBbXTtcbiAgfSk7XG4gIHJldHVybiAkLnRyaW0oZm9ybWF0dGVkUXVlcnkucmVwbGFjZSgvXFxuXFxzKlxcbi9nLCBcIlxcblwiKSk7XG59O1xuXG5yZXF1aXJlKFwiLi9zcGFycWwuanNcIiksIHJlcXVpcmUoXCIuL2RlZmF1bHRzLmpzXCIpO1xucm9vdC4kID0gJDtcbnJvb3QudmVyc2lvbiA9IHtcbiAgQ29kZU1pcnJvcjogQ29kZU1pcnJvci52ZXJzaW9uLFxuICBZQVNRRTogcmVxdWlyZShcIi4uL3BhY2thZ2UuanNvblwiKS52ZXJzaW9uLFxuICBqcXVlcnk6ICQuZm4uanF1ZXJ5LFxuICBcInlhc2d1aS11dGlsc1wiOiB5dXRpbHMudmVyc2lvblxufTtcbiIsInZhciBDb2RlTWlycm9yID0gcmVxdWlyZShcImNvZGVtaXJyb3JcIiksIHRva2VuVXRpbHMgPSByZXF1aXJlKFwiLi90b2tlblV0aWxzLmpzXCIpO1xuXG4oXCJ1c2Ugc3RyaWN0XCIpO1xudmFyIGxvb2tGb3IgPSBcIlBSRUZJWCBcIjtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBmaW5kRmlyc3RQcmVmaXhMaW5lOiBmdW5jdGlvbihjbSkge1xuICAgIHZhciBsYXN0TGluZSA9IGNtLmxhc3RMaW5lKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gbGFzdExpbmU7ICsraSkge1xuICAgICAgaWYgKGZpbmRGaXJzdFByZWZpeChjbSwgaSkgPj0gMCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGZpbmRGaXJzdFByZWZpeChjbSwgbGluZSwgY2gsIGxpbmVUZXh0KSB7XG4gIGlmICghY2gpIGNoID0gMDtcbiAgaWYgKCFsaW5lVGV4dCkgbGluZVRleHQgPSBjbS5nZXRMaW5lKGxpbmUpO1xuICBsaW5lVGV4dCA9IGxpbmVUZXh0LnRvVXBwZXJDYXNlKCk7XG4gIGZvciAodmFyIGF0ID0gY2gsIHBhc3MgPSAwOyA7ICkge1xuICAgIHZhciBmb3VuZCA9IGxpbmVUZXh0LmluZGV4T2YobG9va0ZvciwgYXQpO1xuICAgIGlmIChmb3VuZCA9PSAtMSkge1xuICAgICAgLy9ubyBwcmVmaXggb24gdGhpcyBsaW5lXG4gICAgICBpZiAocGFzcyA9PSAxKSBicmVhaztcbiAgICAgIHBhc3MgPSAxO1xuICAgICAgYXQgPSBsaW5lVGV4dC5sZW5ndGg7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHBhc3MgPT0gMSAmJiBmb3VuZCA8IGNoKSBicmVhaztcbiAgICB2YXIgdG9rZW5UeXBlID0gY20uZ2V0VG9rZW5UeXBlQXQoQ29kZU1pcnJvci5Qb3MobGluZSwgZm91bmQgKyAxKSk7XG4gICAgaWYgKCEvXihjb21tZW50fHN0cmluZykvLnRlc3QodG9rZW5UeXBlKSkgcmV0dXJuIGZvdW5kICsgMTtcbiAgICBhdCA9IGZvdW5kIC0gMTtcbiAgICAvL0NvdWxkIG5vdCBmaW5kIGEgcHJlZml4LCBubyB1c2UgbG9vcGluZyBhbnkgZnVydGhlci4gUHJvYmFibHkgaW52YWxpZCBxdWVyeVxuICAgIGlmIChhdCA9PT0gcGFzcykgYnJlYWs7XG4gIH1cbn1cblxuQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlcihcImZvbGRcIiwgXCJwcmVmaXhcIiwgZnVuY3Rpb24oY20sIHN0YXJ0KSB7XG4gIHZhciBsaW5lID0gc3RhcnQubGluZSwgbGluZVRleHQgPSBjbS5nZXRMaW5lKGxpbmUpO1xuXG4gIHZhciBzdGFydENoLCB0b2tlblR5cGU7XG5cbiAgZnVuY3Rpb24gaGFzUHJldmlvdXNQcmVmaXgoKSB7XG4gICAgdmFyIGhhc1ByZXZpb3VzUHJlZml4ID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IGxpbmUgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKGNtLmdldExpbmUoaSkudG9VcHBlckNhc2UoKS5pbmRleE9mKGxvb2tGb3IpID49IDApIHtcbiAgICAgICAgaGFzUHJldmlvdXNQcmVmaXggPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhc1ByZXZpb3VzUHJlZml4O1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZE9wZW5pbmcob3BlbkNoKSB7XG4gICAgZm9yICh2YXIgYXQgPSBzdGFydC5jaCwgcGFzcyA9IDA7IDsgKSB7XG4gICAgICB2YXIgZm91bmQgPSBhdCA8PSAwID8gLTEgOiBsaW5lVGV4dC5sYXN0SW5kZXhPZihvcGVuQ2gsIGF0IC0gMSk7XG4gICAgICBpZiAoZm91bmQgPT0gLTEpIHtcbiAgICAgICAgaWYgKHBhc3MgPT0gMSkgYnJlYWs7XG4gICAgICAgIHBhc3MgPSAxO1xuICAgICAgICBhdCA9IGxpbmVUZXh0Lmxlbmd0aDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocGFzcyA9PSAxICYmIGZvdW5kIDwgc3RhcnQuY2gpIGJyZWFrO1xuICAgICAgdG9rZW5UeXBlID0gY20uZ2V0VG9rZW5UeXBlQXQoQ29kZU1pcnJvci5Qb3MobGluZSwgZm91bmQgKyAxKSk7XG4gICAgICBpZiAoIS9eKGNvbW1lbnR8c3RyaW5nKS8udGVzdCh0b2tlblR5cGUpKSByZXR1cm4gZm91bmQgKyAxO1xuICAgICAgYXQgPSBmb3VuZCAtIDE7XG4gICAgfVxuICB9XG4gIHZhciBnZXRMYXN0UHJlZml4UG9zID0gZnVuY3Rpb24obGluZSwgY2gpIHtcbiAgICB2YXIgcHJlZml4S2V5d29yZFRva2VuID0gY20uZ2V0VG9rZW5BdChDb2RlTWlycm9yLlBvcyhsaW5lLCBjaCArIDEpKTtcbiAgICBpZiAoIXByZWZpeEtleXdvcmRUb2tlbiB8fCBwcmVmaXhLZXl3b3JkVG9rZW4udHlwZSAhPSBcImtleXdvcmRcIikgcmV0dXJuIC0xO1xuICAgIHZhciBwcmVmaXhTaG9ydG5hbWUgPSB0b2tlblV0aWxzLmdldE5leHROb25Xc1Rva2VuKGNtLCBsaW5lLCBwcmVmaXhLZXl3b3JkVG9rZW4uZW5kICsgMSk7XG4gICAgaWYgKCFwcmVmaXhTaG9ydG5hbWUgfHwgcHJlZml4U2hvcnRuYW1lLnR5cGUgIT0gXCJzdHJpbmctMlwiKSByZXR1cm4gLTE7IC8vbWlzc2luZyBwcmVmaXgga2V5d29yZCBzaG9ydG5hbWVcbiAgICB2YXIgcHJlZml4VXJpID0gdG9rZW5VdGlscy5nZXROZXh0Tm9uV3NUb2tlbihjbSwgbGluZSwgcHJlZml4U2hvcnRuYW1lLmVuZCArIDEpO1xuICAgIGlmICghcHJlZml4VXJpIHx8IHByZWZpeFVyaS50eXBlICE9IFwidmFyaWFibGUtM1wiKSByZXR1cm4gLTE7IC8vbWlzc2luZyBwcmVmaXggdXJpXG4gICAgcmV0dXJuIHByZWZpeFVyaS5lbmQ7XG4gIH07XG5cbiAgLy9vbmx5IHVzZSBvcGVuaW5nIHByZWZpeCBkZWNsYXJhdGlvblxuICBpZiAoaGFzUHJldmlvdXNQcmVmaXgoKSkgcmV0dXJuO1xuICB2YXIgcHJlZml4U3RhcnQgPSBmaW5kRmlyc3RQcmVmaXgoY20sIGxpbmUsIHN0YXJ0LmNoLCBsaW5lVGV4dCk7XG5cbiAgaWYgKHByZWZpeFN0YXJ0ID09IG51bGwpIHJldHVybjtcbiAgdmFyIHN0b3BBdCA9IFwie1wiOyAvL2lmIHRoaXMgY2hhciBpcyB0aGVyZSwgd2Ugd29uJ3QgaGF2ZSBhIGNoYW5jZSBvZiBmaW5kaW5nIG1vcmUgcHJlZml4ZXNcbiAgdmFyIHN0b3BBdE5leHRMaW5lID0gZmFsc2U7XG4gIHZhciBjb3VudCA9IDEsIGxhc3RMaW5lID0gY20ubGFzdExpbmUoKSwgZW5kLCBlbmRDaDtcbiAgdmFyIHByZWZpeEVuZENoYXIgPSBnZXRMYXN0UHJlZml4UG9zKGxpbmUsIHByZWZpeFN0YXJ0KTtcbiAgdmFyIHByZWZpeEVuZExpbmUgPSBsaW5lO1xuXG4gIG91dGVyOlxuICBmb3IgKHZhciBpID0gbGluZTsgaSA8PSBsYXN0TGluZTsgKytpKSB7XG4gICAgaWYgKHN0b3BBdE5leHRMaW5lKSBicmVhaztcbiAgICB2YXIgdGV4dCA9IGNtLmdldExpbmUoaSksIHBvcyA9IGkgPT0gbGluZSA/IHByZWZpeFN0YXJ0ICsgMSA6IDA7XG5cbiAgICBmb3IgKDs7KSB7XG4gICAgICBpZiAoIXN0b3BBdE5leHRMaW5lICYmIHRleHQuaW5kZXhPZihzdG9wQXQpID49IDApIHN0b3BBdE5leHRMaW5lID0gdHJ1ZTtcblxuICAgICAgdmFyIG5leHRQcmVmaXhEZWNsYXJhdGlvbiA9IHRleHQudG9VcHBlckNhc2UoKS5pbmRleE9mKGxvb2tGb3IsIHBvcyk7XG5cbiAgICAgIGlmIChuZXh0UHJlZml4RGVjbGFyYXRpb24gPj0gMCkge1xuICAgICAgICBpZiAoKGVuZENoID0gZ2V0TGFzdFByZWZpeFBvcyhpLCBuZXh0UHJlZml4RGVjbGFyYXRpb24pKSA+IDApIHtcbiAgICAgICAgICBwcmVmaXhFbmRDaGFyID0gZW5kQ2g7XG4gICAgICAgICAgcHJlZml4RW5kTGluZSA9IGk7XG4gICAgICAgICAgcG9zID0gcHJlZml4RW5kQ2hhcjtcbiAgICAgICAgfVxuICAgICAgICBwb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGZyb206IENvZGVNaXJyb3IuUG9zKGxpbmUsIHByZWZpeFN0YXJ0ICsgbG9va0Zvci5sZW5ndGgpLFxuICAgIHRvOiBDb2RlTWlycm9yLlBvcyhwcmVmaXhFbmRMaW5lLCBwcmVmaXhFbmRDaGFyKVxuICB9O1xufSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQXBwZW5kIHByZWZpeCBkZWNsYXJhdGlvbiB0byBsaXN0IG9mIHByZWZpeGVzIGluIHF1ZXJ5IHdpbmRvdy5cbiAqXG4gKiBAcGFyYW0geWFzcWVcbiAqIEBwYXJhbSBwcmVmaXhcbiAqL1xudmFyIGFkZFByZWZpeGVzID0gZnVuY3Rpb24oeWFzcWUsIHByZWZpeGVzKSB7XG4gIHZhciBleGlzdGluZ1ByZWZpeGVzID0geWFzcWUuZ2V0UHJlZml4ZXNGcm9tUXVlcnkoKTtcbiAgLy9mb3IgYmFja3dhcmRzIGNvbXBhdGFiaWxpdHksIHdlIHN0aWwgc3VwcG9ydCBwcmVmaXhlcyB2YWx1ZSBhcyBzdHJpbmcgKGUuZy4gJ3JkZjogPGh0dHA6Ly9mYmZnZmdmPidcbiAgaWYgKHR5cGVvZiBwcmVmaXhlcyA9PSBcInN0cmluZ1wiKSB7XG4gICAgYWRkUHJlZml4QXNTdHJpbmcoeWFzcWUsIHByZWZpeGVzKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBwcmVmIGluIHByZWZpeGVzKSB7XG4gICAgICBpZiAoIShwcmVmIGluIGV4aXN0aW5nUHJlZml4ZXMpKVxuICAgICAgICBhZGRQcmVmaXhBc1N0cmluZyh5YXNxZSwgcHJlZiArIFwiOiA8XCIgKyBwcmVmaXhlc1twcmVmXSArIFwiPlwiKTtcbiAgICB9XG4gIH1cbiAgeWFzcWUuY29sbGFwc2VQcmVmaXhlcyhmYWxzZSk7XG59O1xuXG52YXIgYWRkUHJlZml4QXNTdHJpbmcgPSBmdW5jdGlvbih5YXNxZSwgcHJlZml4U3RyaW5nKSB7XG4gIHlhc3FlLnJlcGxhY2VSYW5nZShcIlBSRUZJWCBcIiArIHByZWZpeFN0cmluZyArIFwiXFxuXCIsIHtcbiAgICBsaW5lOiAwLFxuICAgIGNoOiAwXG4gIH0pO1xuXG4gIHlhc3FlLmNvbGxhcHNlUHJlZml4ZXMoZmFsc2UpO1xufTtcbnZhciByZW1vdmVQcmVmaXhlcyA9IGZ1bmN0aW9uKHlhc3FlLCBwcmVmaXhlcykge1xuICB2YXIgZXNjYXBlUmVnZXggPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAvL3Rha2VuIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTYxNDkzL2lzLXRoZXJlLWEtcmVnZXhwLWVzY2FwZS1mdW5jdGlvbi1pbi1qYXZhc2NyaXB0LzM1NjE3MTEjMzU2MTcxMVxuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCBcIlxcXFwkJlwiKTtcbiAgfTtcbiAgZm9yICh2YXIgcHJlZiBpbiBwcmVmaXhlcykge1xuICAgIHlhc3FlLnNldFZhbHVlKFxuICAgICAgeWFzcWVcbiAgICAgICAgLmdldFZhbHVlKClcbiAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgbmV3IFJlZ0V4cChcbiAgICAgICAgICAgIFwiUFJFRklYXFxcXHMqXCIgK1xuICAgICAgICAgICAgICBwcmVmICtcbiAgICAgICAgICAgICAgXCI6XFxcXHMqXCIgK1xuICAgICAgICAgICAgICBlc2NhcGVSZWdleChcIjxcIiArIHByZWZpeGVzW3ByZWZdICsgXCI+XCIpICtcbiAgICAgICAgICAgICAgXCJcXFxccypcIixcbiAgICAgICAgICAgIFwiaWdcIlxuICAgICAgICAgICksXG4gICAgICAgICAgXCJcIlxuICAgICAgICApXG4gICAgKTtcbiAgfVxuICB5YXNxZS5jb2xsYXBzZVByZWZpeGVzKGZhbHNlKTtcbn07XG5cbi8qKlxuICogR2V0IGRlZmluZWQgcHJlZml4ZXMgZnJvbSBxdWVyeSBhcyBhcnJheSwgaW4gZm9ybWF0IHtcInByZWZpeDpcIiBcInVyaVwifVxuICpcbiAqIEBwYXJhbSBjbVxuICogQHJldHVybnMge0FycmF5fVxuICovXG52YXIgZ2V0UHJlZml4ZXNGcm9tUXVlcnkgPSBmdW5jdGlvbih5YXNxZSkge1xuICAvL1VzZSBwcmVjaXNlIGhlcmUuIFdlIHdhbnQgdG8gYmUgc3VyZSB3ZSB1c2UgdGhlIG1vc3QgdXAgdG8gZGF0ZSBzdGF0ZS4gSWYgd2UncmVcbiAgLy9ub3QsIHdlIG1pZ2h0IGdldCBvdXRkYXRlZCBwcmVmaXhlcyBmcm9tIHRoZSBjdXJyZW50IHF1ZXJ5IChjcmVhdGluZyBsb29wcyBzdWNoXG4gIC8vYXMgaHR0cHM6Ly9naXRodWIuY29tL09wZW5UcmlwbHkvWUFTR1VJL2lzc3Vlcy84NClcbiAgcmV0dXJuIHlhc3FlLmdldFRva2VuQXQoXG4gICAgeyBsaW5lOiB5YXNxZS5sYXN0TGluZSgpLCBjaDogeWFzcWUuZ2V0TGluZSh5YXNxZS5sYXN0TGluZSgpKS5sZW5ndGggfSxcbiAgICB0cnVlXG4gICkuc3RhdGUucHJlZml4ZXM7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgdXNlZCBpbmRlbnRhdGlvbiBmb3IgYSBjZXJ0YWluIGxpbmVcbiAqXG4gKiBAcGFyYW0geWFzcWVcbiAqIEBwYXJhbSBsaW5lXG4gKiBAcGFyYW0gY2hhck51bWJlclxuICogQHJldHVybnNcbiAqL1xudmFyIGdldEluZGVudEZyb21MaW5lID0gZnVuY3Rpb24oeWFzcWUsIGxpbmUsIGNoYXJOdW1iZXIpIHtcbiAgaWYgKGNoYXJOdW1iZXIgPT0gdW5kZWZpbmVkKSBjaGFyTnVtYmVyID0gMTtcbiAgdmFyIHRva2VuID0geWFzcWUuZ2V0VG9rZW5BdCh7XG4gICAgbGluZTogbGluZSxcbiAgICBjaDogY2hhck51bWJlclxuICB9KTtcbiAgaWYgKHRva2VuID09IG51bGwgfHwgdG9rZW4gPT0gdW5kZWZpbmVkIHx8IHRva2VuLnR5cGUgIT0gXCJ3c1wiKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRva2VuLnN0cmluZyArIGdldEluZGVudEZyb21MaW5lKHlhc3FlLCBsaW5lLCB0b2tlbi5lbmQgKyAxKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFkZFByZWZpeGVzOiBhZGRQcmVmaXhlcyxcbiAgZ2V0UHJlZml4ZXNGcm9tUXVlcnk6IGdldFByZWZpeGVzRnJvbVF1ZXJ5LFxuICByZW1vdmVQcmVmaXhlczogcmVtb3ZlUHJlZml4ZXNcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKSxcbiAgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKSxcbiAgWUFTUUUgPSByZXF1aXJlKFwiLi9tYWluLmpzXCIpO1xuXG5ZQVNRRS5nZXRBamF4Q29uZmlnID0gZnVuY3Rpb24oeWFzcWUsIGNhbGxiYWNrT3JDb25maWcpIHtcbiAgdmFyIGNhbGxiYWNrID0gdHlwZW9mIGNhbGxiYWNrT3JDb25maWcgPT0gXCJmdW5jdGlvblwiID8gY2FsbGJhY2tPckNvbmZpZyA6IG51bGw7XG4gIHZhciBjb25maWcgPSB0eXBlb2YgY2FsbGJhY2tPckNvbmZpZyA9PSBcIm9iamVjdFwiID8gY2FsbGJhY2tPckNvbmZpZyA6IHt9O1xuXG4gIGlmICh5YXNxZS5vcHRpb25zLnNwYXJxbCkgY29uZmlnID0gJC5leHRlbmQoe30sIHlhc3FlLm9wdGlvbnMuc3BhcnFsLCBjb25maWcpO1xuXG4gIC8vZm9yIGJhY2t3YXJkcyBjb21wYXRhYmlsaXR5LCBtYWtlIHN1cmUgd2UgY29weSBzcGFycWwgaGFuZGxlcnMgdG8gc3BhcnFsIGNhbGxiYWNrc1xuICBpZiAoY29uZmlnLmhhbmRsZXJzKSAkLmV4dGVuZCh0cnVlLCBjb25maWcuY2FsbGJhY2tzLCBjb25maWcuaGFuZGxlcnMpO1xuXG4gIGlmICghY29uZmlnLmVuZHBvaW50IHx8IGNvbmZpZy5lbmRwb2ludC5sZW5ndGggPT0gMCkgcmV0dXJuOyAvLyBub3RoaW5nIHRvIHF1ZXJ5IVxuICB2YXIgcXVlcnlNb2RlID0geWFzcWUuZ2V0UXVlcnlNb2RlKCk7XG4gIC8qKlxuXHQgKiBpbml0aWFsaXplIGFqYXggY29uZmlnXG5cdCAqL1xuICB2YXIgYWpheENvbmZpZyA9IHtcbiAgICB1cmw6IHR5cGVvZiBjb25maWcuZW5kcG9pbnQgPT0gXCJmdW5jdGlvblwiID8gY29uZmlnLmVuZHBvaW50KHlhc3FlKSA6IGNvbmZpZy5lbmRwb2ludCxcbiAgICB0eXBlOiBxdWVyeU1vZGUgPT0gXCJ1cGRhdGVcIlxuICAgICAgPyBcIlBPU1RcIlxuICAgICAgOiB0eXBlb2YgY29uZmlnLnJlcXVlc3RNZXRob2QgPT0gXCJmdW5jdGlvblwiID8gY29uZmlnLnJlcXVlc3RNZXRob2QoeWFzcWUpIDogY29uZmlnLnJlcXVlc3RNZXRob2QsXG4gICAgaGVhZGVyczoge1xuICAgICAgQWNjZXB0OiBnZXRBY2NlcHRIZWFkZXIoeWFzcWUsIGNvbmZpZylcbiAgICB9XG4gIH07XG4gIGlmIChjb25maWcueGhyRmllbGRzKSBhamF4Q29uZmlnLnhockZpZWxkcyA9IGNvbmZpZy54aHJGaWVsZHM7XG4gIC8qKlxuXHQgKiBhZGQgY29tcGxldGUsIGJlZm9yZXNlbmQsIGV0YyBjYWxsYmFja3MgKGlmIHNwZWNpZmllZClcblx0ICovXG4gIHZhciBoYW5kbGVyRGVmaW5lZCA9IGZhbHNlO1xuICBpZiAoY29uZmlnLmNhbGxiYWNrcykge1xuICAgIGZvciAodmFyIGhhbmRsZXIgaW4gY29uZmlnLmNhbGxiYWNrcykge1xuICAgICAgaWYgKGNvbmZpZy5jYWxsYmFja3NbaGFuZGxlcl0pIHtcbiAgICAgICAgaGFuZGxlckRlZmluZWQgPSB0cnVlO1xuICAgICAgICBhamF4Q29uZmlnW2hhbmRsZXJdID0gY29uZmlnLmNhbGxiYWNrc1toYW5kbGVyXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGFqYXhDb25maWcudHlwZSA9PT0gXCJHRVRcIikge1xuICAgIC8vd2UgbmVlZCB0byBkbyBlbmNvZGluZyBvdXJzZWx2ZSwgYXMganF1ZXJ5IGRvZXMgbm90IHByb3Blcmx5IGVuY29kZSB0aGUgdXJsIHN0cmluZ1xuICAgIC8vaHR0cHM6Ly9naXRodWIuY29tL09wZW5UcmlwbHkvWUFTR1VJL2lzc3Vlcy83NVxuICAgIHZhciBmaXJzdCA9IHRydWU7XG4gICAgJC5lYWNoKHlhc3FlLmdldFVybEFyZ3VtZW50cyhjb25maWcpLCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgYWpheENvbmZpZy51cmwgKz0gKGZpcnN0ID8gXCI/XCIgOiBcIiZcIikgKyB2YWwubmFtZSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbC52YWx1ZSk7XG4gICAgICBmaXJzdCA9IGZhbHNlO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGFqYXhDb25maWcuZGF0YSA9IHlhc3FlLmdldFVybEFyZ3VtZW50cyhjb25maWcpO1xuICB9XG4gIGlmICghaGFuZGxlckRlZmluZWQgJiYgIWNhbGxiYWNrKSByZXR1cm47IC8vIG9rLCB3ZSBjYW4gcXVlcnksIGJ1dCBoYXZlIG5vIGNhbGxiYWNrcy4ganVzdCBzdG9wIG5vd1xuXG4gIC8vIGlmIG9ubHkgY2FsbGJhY2sgaXMgcGFzc2VkIGFzIGFyZywgYWRkIHRoYXQgb24gYXMgJ29uQ29tcGxldGUnIGNhbGxiYWNrXG4gIGlmIChjYWxsYmFjaykgYWpheENvbmZpZy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuXG4gIC8qKlxuXHQgKiBtZXJnZSBhZGRpdGlvbmFsIHJlcXVlc3QgaGVhZGVyc1xuXHQgKi9cbiAgaWYgKGNvbmZpZy5oZWFkZXJzICYmICEkLmlzRW1wdHlPYmplY3QoY29uZmlnLmhlYWRlcnMpKSAkLmV4dGVuZChhamF4Q29uZmlnLmhlYWRlcnMsIGNvbmZpZy5oZWFkZXJzKTtcblxuICB2YXIgcXVlcnlTdGFydCA9IG5ldyBEYXRlKCk7XG4gIHZhciB1cGRhdGVZYXNxZSA9IGZ1bmN0aW9uKCkge1xuICAgIHlhc3FlLmxhc3RRdWVyeUR1cmF0aW9uID0gbmV3IERhdGUoKSAtIHF1ZXJ5U3RhcnQ7XG4gICAgWUFTUUUudXBkYXRlUXVlcnlCdXR0b24oeWFzcWUpO1xuICAgIHlhc3FlLnNldEJhY2tkcm9wKGZhbHNlKTtcbiAgfTtcbiAgLy9NYWtlIHN1cmUgdGhlIHF1ZXJ5IGJ1dHRvbiBpcyB1cGRhdGVkIGFnYWluIG9uIGNvbXBsZXRlXG4gIHZhciBjb21wbGV0ZUNhbGxiYWNrcyA9IFtcbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIHJlcXVpcmUoXCIuL21haW4uanNcIikuc2lnbmFsKHlhc3FlLCBcInF1ZXJ5RmluaXNoXCIsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICB1cGRhdGVZYXNxZVxuICBdO1xuXG4gIGlmIChhamF4Q29uZmlnLmNvbXBsZXRlKSB7XG4gICAgY29tcGxldGVDYWxsYmFja3MucHVzaChhamF4Q29uZmlnLmNvbXBsZXRlKTtcbiAgfVxuICBhamF4Q29uZmlnLmNvbXBsZXRlID0gY29tcGxldGVDYWxsYmFja3M7XG4gIHJldHVybiBhamF4Q29uZmlnO1xufTtcblxuWUFTUUUuZXhlY3V0ZVF1ZXJ5ID0gZnVuY3Rpb24oeWFzcWUsIGNhbGxiYWNrT3JDb25maWcpIHtcbiAgWUFTUUUuc2lnbmFsKHlhc3FlLCBcInF1ZXJ5XCIsIHlhc3FlLCBjYWxsYmFja09yQ29uZmlnKTtcbiAgWUFTUUUudXBkYXRlUXVlcnlCdXR0b24oeWFzcWUsIFwiYnVzeVwiKTtcbiAgeWFzcWUuc2V0QmFja2Ryb3AodHJ1ZSk7XG4gIHlhc3FlLnhociA9ICQuYWpheChZQVNRRS5nZXRBamF4Q29uZmlnKHlhc3FlLCBjYWxsYmFja09yQ29uZmlnKSk7XG59O1xuXG5ZQVNRRS5nZXRVcmxBcmd1bWVudHMgPSBmdW5jdGlvbih5YXNxZSwgY29uZmlnKSB7XG4gIHZhciBxdWVyeU1vZGUgPSB5YXNxZS5nZXRRdWVyeU1vZGUoKTtcbiAgdmFyIGRhdGEgPSBbXG4gICAge1xuICAgICAgbmFtZTogdXRpbHMuZ2V0U3RyaW5nKHlhc3FlLCB5YXNxZS5vcHRpb25zLnNwYXJxbC5xdWVyeU5hbWUpLFxuICAgICAgdmFsdWU6IGNvbmZpZy5nZXRRdWVyeUZvckFqYXggPyBjb25maWcuZ2V0UXVlcnlGb3JBamF4KHlhc3FlKSA6IHlhc3FlLmdldFZhbHVlKClcbiAgICB9XG4gIF07XG5cbiAgLyoqXG5cdCAqIGFkZCBuYW1lZCBncmFwaHMgdG8gYWpheCBjb25maWdcblx0ICovXG4gIGlmIChjb25maWcubmFtZWRHcmFwaHMgJiYgY29uZmlnLm5hbWVkR3JhcGhzLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgYXJnTmFtZSA9IHF1ZXJ5TW9kZSA9PSBcInF1ZXJ5XCIgPyBcIm5hbWVkLWdyYXBoLXVyaVwiIDogXCJ1c2luZy1uYW1lZC1ncmFwaC11cmkgXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25maWcubmFtZWRHcmFwaHMubGVuZ3RoOyBpKyspXG4gICAgICBkYXRhLnB1c2goe1xuICAgICAgICBuYW1lOiBhcmdOYW1lLFxuICAgICAgICB2YWx1ZTogY29uZmlnLm5hbWVkR3JhcGhzW2ldXG4gICAgICB9KTtcbiAgfVxuICAvKipcblx0ICogYWRkIGRlZmF1bHQgZ3JhcGhzIHRvIGFqYXggY29uZmlnXG5cdCAqL1xuICBpZiAoY29uZmlnLmRlZmF1bHRHcmFwaHMgJiYgY29uZmlnLmRlZmF1bHRHcmFwaHMubGVuZ3RoID4gMCkge1xuICAgIHZhciBhcmdOYW1lID0gcXVlcnlNb2RlID09IFwicXVlcnlcIiA/IFwiZGVmYXVsdC1ncmFwaC11cmlcIiA6IFwidXNpbmctZ3JhcGgtdXJpIFwiO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uZmlnLmRlZmF1bHRHcmFwaHMubGVuZ3RoOyBpKyspXG4gICAgICBkYXRhLnB1c2goe1xuICAgICAgICBuYW1lOiBhcmdOYW1lLFxuICAgICAgICB2YWx1ZTogY29uZmlnLmRlZmF1bHRHcmFwaHNbaV1cbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG5cdCAqIGFkZCBhZGRpdGlvbmFsIHJlcXVlc3QgYXJnc1xuXHQgKi9cbiAgaWYgKGNvbmZpZy5hcmdzICYmIGNvbmZpZy5hcmdzLmxlbmd0aCA+IDApICQubWVyZ2UoZGF0YSwgY29uZmlnLmFyZ3MpO1xuXG4gIHJldHVybiBkYXRhO1xufTtcbnZhciBnZXRBY2NlcHRIZWFkZXIgPSBmdW5jdGlvbih5YXNxZSwgY29uZmlnKSB7XG4gIHZhciBhY2NlcHRIZWFkZXIgPSBudWxsO1xuICBpZiAoY29uZmlnLmFjY2VwdEhlYWRlciAmJiAhY29uZmlnLmFjY2VwdEhlYWRlckdyYXBoICYmICFjb25maWcuYWNjZXB0SGVhZGVyU2VsZWN0ICYmICFjb25maWcuYWNjZXB0SGVhZGVyVXBkYXRlKSB7XG4gICAgLy90aGlzIGlzIHRoZSBvbGQgY29uZmlnLiBGb3IgYmFja3dhcmRzIGNvbXBhdGFiaWxpdHksIGtlZXAgc3VwcG9ydGluZyBpdFxuICAgIGlmICh0eXBlb2YgY29uZmlnLmFjY2VwdEhlYWRlciA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGFjY2VwdEhlYWRlciA9IGNvbmZpZy5hY2NlcHRIZWFkZXIoeWFzcWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY2NlcHRIZWFkZXIgPSBjb25maWcuYWNjZXB0SGVhZGVyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoeWFzcWUuZ2V0UXVlcnlNb2RlKCkgPT0gXCJ1cGRhdGVcIikge1xuICAgICAgYWNjZXB0SGVhZGVyID0gdHlwZW9mIGNvbmZpZy5hY2NlcHRIZWFkZXIgPT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gY29uZmlnLmFjY2VwdEhlYWRlclVwZGF0ZSh5YXNxZSlcbiAgICAgICAgOiBjb25maWcuYWNjZXB0SGVhZGVyVXBkYXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcVR5cGUgPSB5YXNxZS5nZXRRdWVyeVR5cGUoKTtcbiAgICAgIGlmIChxVHlwZSA9PSBcIkRFU0NSSUJFXCIgfHwgcVR5cGUgPT0gXCJDT05TVFJVQ1RcIikge1xuICAgICAgICBhY2NlcHRIZWFkZXIgPSB0eXBlb2YgY29uZmlnLmFjY2VwdEhlYWRlckdyYXBoID09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gY29uZmlnLmFjY2VwdEhlYWRlckdyYXBoKHlhc3FlKVxuICAgICAgICAgIDogY29uZmlnLmFjY2VwdEhlYWRlckdyYXBoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWNjZXB0SGVhZGVyID0gdHlwZW9mIGNvbmZpZy5hY2NlcHRIZWFkZXJTZWxlY3QgPT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBjb25maWcuYWNjZXB0SGVhZGVyU2VsZWN0KHlhc3FlKVxuICAgICAgICAgIDogY29uZmlnLmFjY2VwdEhlYWRlclNlbGVjdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFjY2VwdEhlYWRlcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBamF4Q29uZmlnOiBZQVNRRS5nZXRBamF4Q29uZmlnXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIFdoZW4gdHlwaW5nIGEgcXVlcnksIHRoaXMgcXVlcnkgaXMgc29tZXRpbWVzIHN5bnRhY3RpY2FsbHkgaW52YWxpZCwgY2F1c2luZ1xuICogdGhlIGN1cnJlbnQgdG9rZW5zIHRvIGJlIGluY29ycmVjdCBUaGlzIGNhdXNlcyBwcm9ibGVtIGZvciBhdXRvY29tcGxldGlvbi5cbiAqIGh0dHA6Ly9ibGEgbWlnaHQgcmVzdWx0IGluIHR3byB0b2tlbnM6IGh0dHA6Ly8gYW5kIGJsYS4gV2UnbGwgd2FudCB0byBjb21iaW5lXG4gKiB0aGVzZVxuICogXG4gKiBAcGFyYW0geWFzcWUge2RvY31cbiAqIEBwYXJhbSB0b2tlbiB7b2JqZWN0fVxuICogQHBhcmFtIGN1cnNvciB7b2JqZWN0fVxuICogQHJldHVybiB0b2tlbiB7b2JqZWN0fVxuICogQG1ldGhvZCBZQVNRRS5nZXRDb21wbGV0ZVRva2VuXG4gKi9cbnZhciBnZXRDb21wbGV0ZVRva2VuID0gZnVuY3Rpb24oeWFzcWUsIHRva2VuLCBjdXIpIHtcbiAgaWYgKCFjdXIpIHtcbiAgICBjdXIgPSB5YXNxZS5nZXRDdXJzb3IoKTtcbiAgfVxuICBpZiAoIXRva2VuKSB7XG4gICAgdG9rZW4gPSB5YXNxZS5nZXRUb2tlbkF0KGN1cik7XG4gIH1cbiAgdmFyIHByZXZUb2tlbiA9IHlhc3FlLmdldFRva2VuQXQoe1xuICAgIGxpbmU6IGN1ci5saW5lLFxuICAgIGNoOiB0b2tlbi5zdGFydFxuICB9KTtcbiAgLy8gbm90IHN0YXJ0IG9mIGxpbmUsIGFuZCBub3Qgd2hpdGVzcGFjZVxuICBpZiAocHJldlRva2VuLnR5cGUgIT0gbnVsbCAmJiBwcmV2VG9rZW4udHlwZSAhPSBcIndzXCIgJiYgdG9rZW4udHlwZSAhPSBudWxsICYmIHRva2VuLnR5cGUgIT0gXCJ3c1wiKSB7XG4gICAgdG9rZW4uc3RhcnQgPSBwcmV2VG9rZW4uc3RhcnQ7XG4gICAgdG9rZW4uc3RyaW5nID0gcHJldlRva2VuLnN0cmluZyArIHRva2VuLnN0cmluZztcbiAgICByZXR1cm4gZ2V0Q29tcGxldGVUb2tlbih5YXNxZSwgdG9rZW4sIHtcbiAgICAgIGxpbmU6IGN1ci5saW5lLFxuICAgICAgY2g6IHByZXZUb2tlbi5zdGFydFxuICAgIH0pOyAvLyByZWN1cnNpdmVseSwgbWlnaHQgaGF2ZSBtdWx0aXBsZSB0b2tlbnMgd2hpY2ggaXQgc2hvdWxkIGluY2x1ZGVcbiAgfSBlbHNlIGlmICh0b2tlbi50eXBlICE9IG51bGwgJiYgdG9rZW4udHlwZSA9PSBcIndzXCIpIHtcbiAgICAvL2Fsd2F5cyBrZWVwIDEgY2hhciBvZiB3aGl0ZXNwYWNlIGJldHdlZW4gdG9rZW5zLiBPdGhlcndpc2UsIGF1dG9jb21wbGV0aW9ucyBtaWdodCBlbmQgdXAgbmV4dCB0byB0aGUgcHJldmlvdXMgbm9kZSwgd2l0aG91dCB3aGl0ZXNwYWNlIGJldHdlZW4gdGhlbVxuICAgIHRva2VuLnN0YXJ0ID0gdG9rZW4uc3RhcnQgKyAxO1xuICAgIHRva2VuLnN0cmluZyA9IHRva2VuLnN0cmluZy5zdWJzdHJpbmcoMSk7XG4gICAgcmV0dXJuIHRva2VuO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0b2tlbjtcbiAgfVxufTtcbnZhciBnZXRQcmV2aW91c05vbldzVG9rZW4gPSBmdW5jdGlvbih5YXNxZSwgbGluZSwgdG9rZW4pIHtcbiAgdmFyIHByZXZpb3VzVG9rZW4gPSB5YXNxZS5nZXRUb2tlbkF0KHtcbiAgICBsaW5lOiBsaW5lLFxuICAgIGNoOiB0b2tlbi5zdGFydFxuICB9KTtcbiAgaWYgKHByZXZpb3VzVG9rZW4gIT0gbnVsbCAmJiBwcmV2aW91c1Rva2VuLnR5cGUgPT0gXCJ3c1wiKSB7XG4gICAgcHJldmlvdXNUb2tlbiA9IGdldFByZXZpb3VzTm9uV3NUb2tlbih5YXNxZSwgbGluZSwgcHJldmlvdXNUb2tlbik7XG4gIH1cbiAgcmV0dXJuIHByZXZpb3VzVG9rZW47XG59O1xudmFyIGdldE5leHROb25Xc1Rva2VuID0gZnVuY3Rpb24oeWFzcWUsIGxpbmVOdW1iZXIsIGNoYXJOdW1iZXIpIHtcbiAgaWYgKGNoYXJOdW1iZXIgPT0gdW5kZWZpbmVkKSBjaGFyTnVtYmVyID0gMTtcbiAgdmFyIHRva2VuID0geWFzcWUuZ2V0VG9rZW5BdCh7XG4gICAgbGluZTogbGluZU51bWJlcixcbiAgICBjaDogY2hhck51bWJlclxuICB9KTtcbiAgaWYgKHRva2VuID09IG51bGwgfHwgdG9rZW4gPT0gdW5kZWZpbmVkIHx8IHRva2VuLmVuZCA8IGNoYXJOdW1iZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodG9rZW4udHlwZSA9PSBcIndzXCIpIHtcbiAgICByZXR1cm4gZ2V0TmV4dE5vbldzVG9rZW4oeWFzcWUsIGxpbmVOdW1iZXIsIHRva2VuLmVuZCArIDEpO1xuICB9XG4gIHJldHVybiB0b2tlbjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRQcmV2aW91c05vbldzVG9rZW46IGdldFByZXZpb3VzTm9uV3NUb2tlbixcbiAgZ2V0Q29tcGxldGVUb2tlbjogZ2V0Q29tcGxldGVUb2tlbixcbiAgZ2V0TmV4dE5vbldzVG9rZW46IGdldE5leHROb25Xc1Rva2VuXG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIiksIHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5cbi8qKlxuICogV3JpdGUgb3VyIG93biB0b29sdGlwLCB0byBhdm9pZCBsb2FkaW5nIGFub3RoZXIgbGlicmFyeSBmb3IganVzdCB0aGlzIGZ1bmN0aW9uYWxpdHkuIEZvciBub3csIHdlIG9ubHkgdXNlIHRvb2x0aXAgZm9yIHNob3dpbmcgcGFyc2UgZXJyb3JzLCBzbyB0aGlzIGlzIHF1aXRlIGEgdGFpbG9yZWQgc29sdXRpb25cbiAqIFJlcXVpcmVtZW50czogXG4gKiBcdFx0cG9zaXRpb24gdG9vbHRpcCB3aXRoaW4gY29kZW1pcnJvciBmcmFtZSBhcyBtdWNoIGFzIHBvc3NpYmxlLCB0byBhdm9pZCB6LWluZGV4IGlzc3VlcyB3aXRoIGV4dGVybmFsIHRoaW5ncyBvbiBwYWdlXG4gKiBcdFx0dXNlIGh0bWwgYXMgY29udGVudFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHlhc3FlLCBwYXJlbnQsIGh0bWwpIHtcbiAgdmFyIHBhcmVudCA9ICQocGFyZW50KTtcbiAgdmFyIHRvb2x0aXA7XG4gIHBhcmVudC5ob3ZlcihcbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0eXBlb2YgaHRtbCA9PSBcImZ1bmN0aW9uXCIpIGh0bWwgPSBodG1sKCk7XG4gICAgICB0b29sdGlwID0gJChcIjxkaXY+XCIpLmFkZENsYXNzKFwieWFzcWVfdG9vbHRpcFwiKS5odG1sKGh0bWwpLmFwcGVuZFRvKHBhcmVudCk7XG4gICAgICByZXBvc2l0aW9uVG9vbHRpcCgpO1xuICAgIH0sXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICAkKFwiLnlhc3FlX3Rvb2x0aXBcIikucmVtb3ZlKCk7XG4gICAgfVxuICApO1xuXG4gIC8qKlxuXHQgKiBvbmx5IG5lZWQgdG8gdGFrZSBpbnRvIGFjY291bnQgdG9wIGFuZCBib3R0b20gb2Zmc2V0IGZvciB0aGlzIHVzZWNhc2Vcblx0ICovXG4gIHZhciByZXBvc2l0aW9uVG9vbHRpcCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgkKHlhc3FlLmdldFdyYXBwZXJFbGVtZW50KCkpLm9mZnNldCgpLnRvcCA+PSB0b29sdGlwLm9mZnNldCgpLnRvcCkge1xuICAgICAgLy9zaGl0LCBtb3ZlIHRoZSB0b29sdGlwIGRvd24uIFRoZSB0b29sdGlwIG5vdyBob3ZlcnMgb3ZlciB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHlhc3FlIGluc3RhbmNlXG4gICAgICB0b29sdGlwLmNzcyhcImJvdHRvbVwiLCBcImF1dG9cIik7XG4gICAgICB0b29sdGlwLmNzcyhcInRvcFwiLCBcIjI2cHhcIik7XG4gICAgfVxuICB9O1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xuXG52YXIga2V5RXhpc3RzID0gZnVuY3Rpb24ob2JqZWN0VG9UZXN0LCBrZXkpIHtcbiAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuICB0cnkge1xuICAgIGlmIChvYmplY3RUb1Rlc3Rba2V5XSAhPT0gdW5kZWZpbmVkKSBleGlzdHMgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuICByZXR1cm4gZXhpc3RzO1xufTtcblxudmFyIGdldFBlcnNpc3RlbmN5SWQgPSBmdW5jdGlvbih5YXNxZSwgcGVyc2lzdGVudElkQ3JlYXRvcikge1xuICB2YXIgcGVyc2lzdGVuY3lJZCA9IG51bGw7XG5cbiAgaWYgKHBlcnNpc3RlbnRJZENyZWF0b3IpIHtcbiAgICBpZiAodHlwZW9mIHBlcnNpc3RlbnRJZENyZWF0b3IgPT0gXCJzdHJpbmdcIikge1xuICAgICAgcGVyc2lzdGVuY3lJZCA9IHBlcnNpc3RlbnRJZENyZWF0b3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcnNpc3RlbmN5SWQgPSBwZXJzaXN0ZW50SWRDcmVhdG9yKHlhc3FlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBlcnNpc3RlbmN5SWQ7XG59O1xuXG52YXIgZWxlbWVudHNPdmVybGFwID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBnZXRQb3NpdGlvbnMoZWxlbSkge1xuICAgIHZhciBwb3MsIHdpZHRoLCBoZWlnaHQ7XG4gICAgcG9zID0gJChlbGVtKS5vZmZzZXQoKTtcbiAgICB3aWR0aCA9ICQoZWxlbSkud2lkdGgoKTtcbiAgICBoZWlnaHQgPSAkKGVsZW0pLmhlaWdodCgpO1xuICAgIHJldHVybiBbW3Bvcy5sZWZ0LCBwb3MubGVmdCArIHdpZHRoXSwgW3Bvcy50b3AsIHBvcy50b3AgKyBoZWlnaHRdXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBhcmVQb3NpdGlvbnMocDEsIHAyKSB7XG4gICAgdmFyIHIxLCByMjtcbiAgICByMSA9IHAxWzBdIDwgcDJbMF0gPyBwMSA6IHAyO1xuICAgIHIyID0gcDFbMF0gPCBwMlswXSA/IHAyIDogcDE7XG4gICAgcmV0dXJuIHIxWzFdID4gcjJbMF0gfHwgcjFbMF0gPT09IHIyWzBdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcG9zMSA9IGdldFBvc2l0aW9ucyhhKSwgcG9zMiA9IGdldFBvc2l0aW9ucyhiKTtcbiAgICByZXR1cm4gY29tcGFyZVBvc2l0aW9ucyhwb3MxWzBdLCBwb3MyWzBdKSAmJiBjb21wYXJlUG9zaXRpb25zKHBvczFbMV0sIHBvczJbMV0pO1xuICB9O1xufSkoKTtcblxudmFyIGdldFN0cmluZyA9IGZ1bmN0aW9uKHlhc3FlLCBpdGVtKSB7XG4gIGlmICh0eXBlb2YgaXRlbSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gaXRlbSh5YXNxZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAga2V5RXhpc3RzOiBrZXlFeGlzdHMsXG4gIGdldFBlcnNpc3RlbmN5SWQ6IGdldFBlcnNpc3RlbmN5SWQsXG4gIGVsZW1lbnRzT3ZlcmxhcDogZWxlbWVudHNPdmVybGFwLFxuICBnZXRTdHJpbmc6IGdldFN0cmluZ1xufTtcbiJdfQ==\n"],"sourceRoot":""}