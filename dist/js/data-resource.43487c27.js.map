{"version":3,"sources":["webpack:///./src/mixins/detail-page.mixin.js","webpack:///./src/views/Data-resource.vue?0954","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/components/organisms/datadl.vue?a5dc","webpack:///src/components/organisms/datadl.vue","webpack:///./src/components/organisms/datadl.vue?92de","webpack:///./src/components/organisms/datadl.vue","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/views/Data-resource.vue?44ff","webpack:///./src/actions/fetch-data-resource.js","webpack:///src/views/Data-resource.vue","webpack:///./src/views/Data-resource.vue?e857","webpack:///./src/views/Data-resource.vue"],"names":["detailPageMixin","created","this","fetchData","watch","$route","methods","getTitle","predicates","i","length","dataset","o","value","setTitle","_setTitle","Object","_var_www_html_vue_site_lod_visualisation_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","title","sent","document","concat","stop","apply","arguments","tripleReducer","acc","triple","p","lastIndex","lastIndexOf","shortName","substr","push","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Data_resource_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Data_resource_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","fails","module","exports","method","arg","call","render","_vm","_h","$createElement","_c","_self","staticClass","_l","sortKeys","keys","resource","key","index","isSubject","_v","attrs","getPredicate","_s","aria-hidden","isUri","href","s","staticRenderFns","datadlvue_type_script_lang_js_","props","type","id","String","sort","a","b","object","organisms_datadlvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","$export","aFunction","toObject","$sort","test","P","F","undefined","comparefn","name","_e","fetchResource","_x","_fetchResource","instance","query","formData","response","axios","create","transformRequest","data","headers","common","Accept","FormData","set","url","results","bindings","Error","abrupt","Data_resourcevue_type_script_lang_js_","components","datadl","mixins","detail_page_mixin","_fetchData","asyncToGenerator","path","t0","$router","reduce","views_Data_resourcevue_type_script_lang_js_"],"mappings":"kMAAaA,EAAkB,CAC7BC,QAD6B,WAE3BC,KAAKC,aAEPC,MAAO,CACLC,OAAU,aAEZC,QAAS,CACPC,SADO,WAGL,IADA,IAAMC,EAAa,CAAC,YAAa,QAAS,QAAS,OAAQ,aAClDC,EAAI,EAAGA,EAAID,EAAWE,OAAQD,IACrC,GAAIP,KAAKS,QAAQH,EAAWC,IAC1B,OAAOP,KAAKS,QAAQH,EAAWC,IAAI,GAAGG,EAAEC,MAG5C,MAAO,eAEHC,SAVC,eAAAC,EAAAC,OAAAC,EAAA,KAAAD,CAAAE,mBAAAC,KAAA,SAAAC,IAAA,OAAAF,mBAAAG,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAWctB,KAAKK,WAXnB,OAWLL,KAAKuB,MAXAH,EAAAI,KAYLC,SAASF,MAAT,GAAAG,OAAoB1B,KAAKuB,MAAzB,UAZK,wBAAAH,EAAAO,SAAAT,EAAAlB,SAAA,yBAAAa,EAAAe,MAAA5B,KAAA6B,YAAA,GAcPC,cAdO,SAcOC,EAAKC,GACjB,IAAMC,EAAID,EAAOC,EAAEtB,MACfuB,EAAYD,EAAEE,YAAY,MAAQ,EAAIF,EAAEE,YAAY,KAAOF,EAAEE,YAAY,KACzEC,EAAYH,EAAEI,OAAOH,EAAY,GAMrC,OAJKH,EAAIK,KACPL,EAAIK,GAAa,IAEnBL,EAAIK,GAAWE,KAAKN,GACbD,0CC9Bb,IAAAQ,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAidE,EAAG,uCCCpd,IAAAE,EAAYH,EAAQ,QAEpBI,EAAAC,QAAA,SAAAC,EAAAC,GACA,QAAAD,GAAAH,EAAA,WAEAI,EAAAD,EAAAE,KAAA,kBAAuD,GAAAF,EAAAE,KAAA,8CCNvD,IAAAC,EAAA,WAA0B,IAAAC,EAAAlD,KAAamD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAgBE,YAAA,WAAsB,CAAAL,EAAAM,GAAAN,EAAAO,SAAA3C,OAAA4C,KAAAR,EAAAS,WAAA,SAAAC,EAAAC,GAAuE,OAAAR,EAAA,MAAiBO,IAAA,MAAAC,GAAoB,CAAAX,EAAAY,UAAAZ,EAAAS,SAAAC,GAAA,GAAAlD,GAAA2C,EAAA,QAAAH,EAAAa,GAAA,iBAAAV,EAAA,QAAwFW,MAAA,CAAOzC,MAAA2B,EAAAe,aAAAL,KAA+B,CAAAV,EAAAa,GAAAb,EAAAgB,GAAAN,MAAAV,EAAAa,GAAA,SAAAV,EAAA,QAAAH,EAAAa,GAAA,kBAAAV,EAAA,QAAuFW,MAAA,CAAOzC,MAAA2B,EAAAe,aAAAL,KAA+B,CAAAV,EAAAa,GAAAb,EAAAgB,GAAAN,QAAAP,EAAA,OAAoCE,YAAA,YAAAS,MAAA,CAA+BG,cAAA,SAAsB,CAAAjB,EAAAa,GAAAb,EAAAgB,GAAAhB,EAAAe,aAAAL,SAAAP,EAAA,MAAqDO,IAAA,MAAAC,GAAoB,CAAAX,EAAAS,SAAAC,GAAApD,OAAA,EAAA6C,EAAA,KAAAH,EAAAM,GAAAN,EAAAS,SAAAC,GAAA,SAAA5B,EAAA6B,GAA2F,OAAAR,EAAA,MAAgBO,MAAA,IAAAC,GAAwB,CAAAX,EAAAkB,MAAApC,EAAAtB,GAAA2C,EAAA,KAAgCE,YAAA,MAAAS,MAAA,CAAyBK,KAAAnB,EAAAY,UAAA9B,EAAAtB,GAAAsB,EAAAsC,EAAA3D,MAAAqB,EAAAtB,EAAAC,QAAkE,CAAAuC,EAAAa,GAAA,6BAAAb,EAAAgB,GAAAhB,EAAAY,UAAA9B,EAAAtB,GAAAsB,EAAAsC,EAAA3D,MAAAqB,EAAAtB,EAAAC,OAAA,4BAAA0C,EAAA,QAAAH,EAAAa,GAAAb,EAAAgB,GAAAhB,EAAAY,UAAA9B,EAAAtB,GAAAsB,EAAAsC,EAAA3D,MAAAqB,EAAAtB,EAAAC,eAA6NuC,EAAAM,GAAAN,EAAAS,SAAAC,GAAA,SAAA5B,EAAA6B,GAAqD,OAAAR,EAAA,OAAiBO,MAAA,IAAAC,GAAwB,CAAAX,EAAAkB,MAAApC,EAAAtB,GAAA2C,EAAA,KAAgCE,YAAA,MAAAS,MAAA,CAAyBK,KAAAnB,EAAAY,UAAA9B,EAAAtB,GAAAsB,EAAAsC,EAAA3D,MAAAqB,EAAAtB,EAAAC,QAAkE,CAAAuC,EAAAa,GAAA,yBAAAb,EAAAgB,GAAAhB,EAAAY,UAAA9B,EAAAtB,GAAAsB,EAAAsC,EAAA3D,MAAAqB,EAAAtB,EAAAC,OAAA,wBAAA0C,EAAA,QAAAH,EAAAa,GAAAb,EAAAgB,GAAAhB,EAAAY,UAAA9B,EAAAtB,GAAAsB,EAAAsC,EAAA3D,MAAAqB,EAAAtB,EAAAC,eAAqN,OAAO,IACxhD4D,EAAA,GC8BAC,2CAAA,CACAC,MAAA,CACAd,SAAA,CACAe,KAAA5D,QAEA6D,GAAA,CACAD,KAAAE,SAGAxE,QAAA,CACAqD,SADA,SACAC,GACA,OAAAA,EAAAmB,KAAA,SAAAC,EAAAC,GACA,OAAAD,EAAAC,EACA,EAEAA,EAAAD,GACA,EAEA,KAGAhB,UAZA,SAYAkB,GACA,OAAAA,EAAArE,QAAA,0BAAAe,OAAA1B,KAAA2E,KAAAK,EAAArE,QAAA,yBAAAe,OAAA1B,KAAA2E,KAEAP,MAfA,SAeAY,GACA,cAAAA,EAAAN,MAEAT,aAlBA,SAkBAL,GACA,OAAA5D,KAAA2D,SAAAC,GAAA,GAAA3B,EAAAtB,UC3D+VsE,EAAA,cCO/VC,EAAgBpE,OAAAqE,EAAA,KAAArE,CACdmE,EACAhC,EACAsB,GACF,EACA,KACA,KACA,MAIAW,EAAAE,QAAAC,OAAA,aACeC,EAAA,KAAAJ,+CClBf,IAAAK,EAAc/C,EAAQ,QACtBgD,EAAgBhD,EAAQ,QACxBiD,EAAejD,EAAQ,QACvBG,EAAYH,EAAQ,QACpBkD,EAAA,GAAAb,KACAc,EAAA,QAEAJ,IAAAK,EAAAL,EAAAM,GAAAlD,EAAA,WAEAgD,EAAAd,UAAAiB,OACCnD,EAAA,WAEDgD,EAAAd,KAAA,UAEOrC,EAAQ,OAARA,CAA0BkD,IAAA,SAEjCb,KAAA,SAAAkB,GACA,YAAAD,IAAAC,EACAL,EAAA1C,KAAAyC,EAAAzF,OACA0F,EAAA1C,KAAAyC,EAAAzF,MAAAwF,EAAAO,iDCpBA,IAAA9C,EAAA,WAA0B,IAAAC,EAAAlD,KAAamD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,cAAwBW,MAAA,CAAOgC,KAAA,SAAe,CAAAhG,KAAA,QAAAqD,EAAA,WAA+BE,YAAA,iBAA4B,CAAAF,EAAA,MAAAH,EAAAa,GAAAb,EAAAgB,GAAAhB,EAAA3B,UAAA8B,EAAA,UAAoDW,MAAA,CAAOL,SAAAT,EAAAzC,QAAAkE,GAAAzB,EAAAyB,OAAoC,GAAAzB,EAAA+C,QACjS1B,EAAA,gFCCO,SAAe2B,EAAtBC,GAAA,OAAAC,EAAAxE,MAAA5B,KAAA6B,wEAAO,SAAAX,EAA8ByD,GAA9B,IAAA0B,EAAAC,EAAAC,EAAAC,EAAA,OAAAxF,mBAAAG,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAEC+E,EAAWI,IAAMC,OAAO,CAC5BC,iBAAkB,CAChB,SAACC,EAAMC,GAEL,OADAA,EAAQC,OAAOC,OAAS,kCACjBH,MAKPN,EAXD,yCAAA5E,OAa+BiD,EAb/B,8BAAAjD,OAa8DiD,EAb9D,WAgBD4B,EAAW,IAAIS,SACnBT,EAASU,IAAI,QAASX,GAjBjBlF,EAAAE,KAAA,EAmBgB+E,EAAS,CAC5BvD,OAAQ,OACRoE,IAAK,8BACLN,KAAML,IAtBH,UAmBDC,EAnBCpF,EAAAI,KAyBLgF,EAAWA,EAASI,KAAKO,QAAQC,SACjCZ,EAAS7B,GAAKA,EAET6B,EAAShG,OA5BT,CAAAY,EAAAE,KAAA,eA6BG,IAAI+F,MAAM,OA7Bb,eAAAjG,EAAAkG,OAAA,SAgCEd,GAhCF,yBAAApF,EAAAO,SAAAT,EAAAlB,6DCaPuH,EAAA,CACAC,WAAA,CAAAC,SAAA,MACAC,OAAA,CAAAC,EAAA,MACAf,KAHA,WAIA,OACAnG,QAAA,KACAc,MAAA,KACAoD,GAAA,OAGAzE,MAAA,CACAC,OAAA,aAEAC,QAAA,CACAH,UADA,eAAA2H,EAAA9G,OAAA+G,EAAA,KAAA/G,CAAAE,mBAAAC,KAAA,SAAAC,IAAA,OAAAF,mBAAAG,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGA4E,EAAAlG,KAAAG,OAAA2H,MAHA,OAGA9H,KAAAS,QAHAW,EAAAI,KAAAJ,EAAAE,KAAA,sBAAAF,EAAAC,KAAA,EAAAD,EAAA2G,GAAA3G,EAAA,YAAAA,EAAAkG,OAAA,SAMAtH,KAAAgI,QAAA1F,KAAA,CAAA0D,KAAA,SANA,OASAhG,KAAA2E,GAAA3E,KAAAS,QAAAkE,GACA3E,KAAAS,QAAAT,KAAAS,QAAAwH,OAAAjI,KAAA8B,cAAA,IACA9B,KAAAY,WAXA,yBAAAQ,EAAAO,SAAAT,EAAAlB,KAAA,qCAAA4H,EAAAhG,MAAA5B,KAAA6B,YAAA,KC5BuVqG,EAAA,0BCQvVhD,EAAgBpE,OAAAqE,EAAA,KAAArE,CACdoH,EACAjF,EACAsB,GACF,EACA,KACA,KACA,MAIAW,EAAAE,QAAAC,OAAA,oBACeC,EAAA,WAAAJ","file":"js/data-resource.43487c27.js","sourcesContent":["export const detailPageMixin = {\n  created() {\n    this.fetchData()\n  },\n  watch: {\n    '$route': 'fetchData'\n  },\n  methods: {\n    getTitle () {\n      const predicates = ['prefLabel', 'label', 'title', 'name', 'firstName']\n      for (let i = 0; i < predicates.length; i++) {\n        if (this.dataset[predicates[i]]) {\n          return this.dataset[predicates[i]][0].o.value;\n        }\n      }\n      return 'detail view'\n    },\n    async setTitle () {\n      this.title = await this.getTitle()\n      document.title = `${this.title} | LOD`\n    },\n    tripleReducer(acc, triple) {\n      const p = triple.p.value\n      let lastIndex = p.lastIndexOf('#') > -1 ? p.lastIndexOf('#') : p.lastIndexOf('/')\n      let shortName = p.substr(lastIndex + 1)\n\n      if (!acc[shortName]) {\n        acc[shortName] = []\n      }\n      acc[shortName].push(triple)\n      return acc\n    }\n  }\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Data-resource.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Data-resource.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('dl',{staticClass:\"dataset\"},[_vm._l((_vm.sortKeys(Object.keys(_vm.resource))),function(key,index){return [_c('dt',{key:(\"dt-\" + index)},[(_vm.isSubject(_vm.resource[key][0].o))?_c('span',[_vm._v(\"Is predicate \"),_c('abbr',{attrs:{\"title\":_vm.getPredicate(key)}},[_vm._v(_vm._s(key))]),_vm._v(\" of\")]):_c('span',[_vm._v(\"Has predicate \"),_c('abbr',{attrs:{\"title\":_vm.getPredicate(key)}},[_vm._v(_vm._s(key))])]),_c('div',{staticClass:\"predicate\",attrs:{\"aria-hidden\":\"true\"}},[_vm._v(_vm._s(_vm.getPredicate(key)))])]),_c('dd',{key:(\"dd-\" + index)},[(_vm.resource[key].length > 1)?_c('ul',_vm._l((_vm.resource[key]),function(triple,index){return _c('li',{key:(key + \"-\" + index)},[(_vm.isUri(triple.o))?_c('a',{staticClass:\"uri\",attrs:{\"href\":_vm.isSubject(triple.o) ? triple.s.value : triple.o.value}},[_vm._v(\"\\n                        \"+_vm._s(_vm.isSubject(triple.o) ? triple.s.value : triple.o.value)+\"\\n                    \")]):_c('span',[_vm._v(_vm._s(_vm.isSubject(triple.o) ? triple.s.value : triple.o.value))])])})):_vm._l((_vm.resource[key]),function(triple,index){return _c('div',{key:(key + \"-\" + index)},[(_vm.isUri(triple.o))?_c('a',{staticClass:\"uri\",attrs:{\"href\":_vm.isSubject(triple.o) ? triple.s.value : triple.o.value}},[_vm._v(\"\\n                    \"+_vm._s(_vm.isSubject(triple.o) ? triple.s.value : triple.o.value)+\"\\n                \")]):_c('span',[_vm._v(_vm._s(_vm.isSubject(triple.o) ? triple.s.value : triple.o.value))])])})],2)]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <dl class=\"dataset\">\n        <template v-for=\"(key,index) in sortKeys(Object.keys(resource))\">\n            <dt :key=\"`dt-${index}`\">\n                <span v-if=\"isSubject(resource[key][0].o)\">Is predicate <abbr :title=\"getPredicate(key)\">{{key}}</abbr> of</span>\n                <span v-else>Has predicate <abbr :title=\"getPredicate(key)\">{{key}}</abbr></span>\n                <div aria-hidden=\"true\" class=\"predicate\">{{getPredicate(key)}}</div>\n            </dt>\n            <dd :key=\"`dd-${index}`\">\n                <ul v-if=\"resource[key].length > 1\">\n                    <li v-for=\"(triple, index) in resource[key]\" :key=\"`${key}-${index}`\">\n                        <a class=\"uri\" v-if=\"isUri(triple.o)\"\n                           :href=\"isSubject(triple.o) ? triple.s.value : triple.o.value\">\n                            {{isSubject(triple.o) ? triple.s.value : triple.o.value}}\n                        </a>\n                        <span v-else>{{isSubject(triple.o) ? triple.s.value : triple.o.value}}</span>\n                    </li>\n                </ul>\n                <div v-else v-for=\"(triple, index) in resource[key]\" :key=\"`${key}-${index}`\">\n                    <a class=\"uri\" v-if=\"isUri(triple.o)\"\n                       :href=\"isSubject(triple.o) ? triple.s.value : triple.o.value\">\n                        {{isSubject(triple.o) ? triple.s.value : triple.o.value}}\n                    </a>\n                    <span v-else>{{isSubject(triple.o) ? triple.s.value : triple.o.value}}</span>\n                </div>\n            </dd>\n        </template>\n    </dl>\n</template>\n\n<script>\n  export default {\n    props: {\n      resource: {\n        type: Object\n      },\n      id: {\n        type: String\n      }\n    },\n    methods: {\n      sortKeys (keys) {\n        return keys.sort((a, b) => {\n          if (a > b) {\n            return 1\n          }\n          if (b > a) {\n            return -1\n          }\n          return 0\n        })\n      },\n      isSubject(object) {\n        return object.value === `https://qa.stad.gent/id${this.id}` || object.value === `http://qa.stad.gent/id${this.id}`\n      },\n      isUri(object) {\n       return object.type === 'uri'\n      },\n      getPredicate(key) {\n        return this.resource[key][0].p.value\n      }\n    }\n  }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./datadl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./datadl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./datadl.vue?vue&type=template&id=0e27d808&\"\nimport script from \"./datadl.vue?vue&type=script&lang=js&\"\nexport * from \"./datadl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"datadl.vue\"\nexport default component.exports","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"fade\"}},[(this.dataset)?_c('section',{staticClass:\"detail-layout\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_c('datadl',{attrs:{\"resource\":_vm.dataset,\"id\":_vm.id}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\n\nexport async function fetchResource (id) {\n\n  const instance = axios.create({\n    transformRequest: [\n      (data, headers) => {\n        headers.common.Accept = 'application/sparql-results+json'\n        return data\n      },\n    ]\n  })\n\n  const query =\n    `\n    DESCRIBE <http://qa.stad.gent/id${id}> <https://qa.stad.gent/id${id}>\n    `\n\n  let formData = new FormData()\n  formData.set('query', query)\n\n  let response = await instance({\n    method: 'post',\n    url: 'https://qa.stad.gent/sparql',\n    data: formData,\n  })\n\n  response = response.data.results.bindings\n  response.id = id\n\n  if (!response.length) {\n    throw new Error('404')\n  }\n\n  return response\n}","<template>\n    <transition name=\"fade\">\n        <section class=\"detail-layout\" v-if=\"this.dataset\">\n            <h1>{{title}}</h1>\n            <datadl :resource=\"dataset\" :id=\"id\"></datadl>\n        </section>\n    </transition>\n</template>\n\n<script>\n\n  import { fetchResource } from '../actions/fetch-data-resource'\n  import datadl from '../components/organisms/datadl'\n  import { detailPageMixin } from '../mixins/detail-page.mixin'\n\n  export default {\n    components: {datadl},\n    mixins: [detailPageMixin],\n    data () {\n      return {\n        dataset: null,\n        title: null,\n        id: null\n      }\n    },\n    watch: {\n      '$route': 'fetchData'\n    },\n    methods: {\n      async fetchData () {\n        try {\n          this.dataset = await fetchResource(this.$route.path)\n        }\n        catch (err) {\n          return this.$router.push({name: '404'})\n        }\n\n        this.id = this.dataset.id\n        this.dataset = this.dataset.reduce(this.tripleReducer, {})\n        this.setTitle()\n      }\n    }\n  }\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Data-resource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Data-resource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Data-resource.vue?vue&type=template&id=2444f20e&\"\nimport script from \"./Data-resource.vue?vue&type=script&lang=js&\"\nexport * from \"./Data-resource.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Data-resource.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Data-resource.vue\"\nexport default component.exports"],"sourceRoot":""}