(self["webpackChunklod_vis"]=self["webpackChunklod_vis"]||[]).push([[796],{1924:function(e,t,n){"use strict";var r=n(210),o=n(5559),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&i(e,".prototype.")>-1?o(n):n}},5559:function(e,t,n){"use strict";var r=n(8612),o=n(210),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),l=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),c=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(f){u=null}e.exports=function(e){var t=s(r,a,arguments);if(l&&u){var n=l(t,"length");n.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var d=function(){return s(r,i,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},4029:function(e,t,n){"use strict";var r=n(5320),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=function(e,t,n){for(var r=0,o=e.length;r<o;r++)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},s=function(e,t,n){for(var r=0,o=e.length;r<o;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},l=function(e,t,n){for(var r in e)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},u=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),"[object Array]"===o.call(e)?a(e,t,i):"string"===typeof e?s(e,t,i):l(e,t,i)};e.exports=u},7648:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!==typeof i||r.call(i)!==o)throw new TypeError(t+i);for(var a,s=n.call(arguments,1),l=function(){if(this instanceof a){var t=i.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return i.apply(e,s.concat(n.call(arguments)))},u=Math.max(0,i.length-s.length),c=[],d=0;d<u;d++)c.push("$"+d);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},8612:function(e,t,n){"use strict";var r=n(7648);e.exports=Function.prototype.bind||r},210:function(e,t,n){"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(T){l=null}var u=function(){throw new a},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(t){return u}}}():u,d=n(1405)(),f=n(8185)(),h=Object.getPrototypeOf||(f?function(e){return e.__proto__}:null),p={},v="undefined"!==typeof Uint8Array&&h?h(Uint8Array):r,g={"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d&&h?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&h?h(h([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&d&&h?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&d&&h?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&h?h(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":v,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};if(h)try{null.error}catch(T){var y=h(h(T));g["%Error.prototype%"]=y}var m=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&h&&(n=h(o.prototype))}return g[t]=n,n},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=n(8612),x=n(7642),S=w.call(Function.call,Array.prototype.concat),k=w.call(Function.apply,Array.prototype.splice),E=w.call(Function.call,String.prototype.replace),_=w.call(Function.call,String.prototype.slice),P=w.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,j=function(e){var t=_(e,0,1),n=_(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return E(e,O,(function(e,t,n,o){r[r.length]=n?E(o,M,"$1"):t||e})),r},A=function(e,t){var n,r=e;if(x(b,r)&&(n=b[r],r="%"+n[0]+"%"),x(g,r)){var i=g[r];if(i===p&&(i=m(r)),"undefined"===typeof i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===P(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=j(e),r=n.length>0?n[0]:"",i=A("%"+r+"%",t),s=i.name,u=i.value,c=!1,d=i.alias;d&&(r=d[0],k(n,S([0,1],d)));for(var f=1,h=!0;f<n.length;f+=1){var p=n[f],v=_(p,0,1),y=_(p,-1);if(('"'===v||"'"===v||"`"===v||'"'===y||"'"===y||"`"===y)&&v!==y)throw new o("property names with quotes must have matching quotes");if("constructor"!==p&&h||(c=!0),r+="."+p,s="%"+r+"%",x(g,s))u=g[s];else if(null!=u){if(!(p in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&f+1>=n.length){var m=l(u,p);h=!!m,u=h&&"get"in m&&!("originalValue"in m.get)?m.get:u[p]}else h=x(u,p),u=u[p];h&&!c&&(g[s]=u)}}return u}},7296:function(e,t,n){"use strict";var r=n(210),o=r("%Object.getOwnPropertyDescriptor%",!0);if(o)try{o([],"length")}catch(i){o=null}e.exports=o},8185:function(e){"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},1405:function(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,o=n(5419);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&o())))}},5419:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var r=42;for(t in e[t]=r,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(i.value!==r||!0!==i.enumerable)return!1}return!0}},6410:function(e,t,n){"use strict";var r=n(5419);e.exports=function(){return r()&&!!Symbol.toStringTag}},7642:function(e,t,n){"use strict";var r=n(8612);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},5717:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2584:function(e,t,n){"use strict";var r=n(6410)(),o=n(1924),i=o("Object.prototype.toString"),a=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!a(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},l=function(){return a(arguments)}();a.isLegacyArguments=s,e.exports=l?a:s},5320:function(e){"use strict";var t,n,r=Function.prototype.toString,o="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof o&&"function"===typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o((function(){throw 42}),null,t)}catch(b){b!==n&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(e){try{var t=r.call(e);return i.test(t)}catch(n){return!1}},s=function(e){try{return!a(e)&&(r.call(e),!0)}catch(t){return!1}},l=Object.prototype.toString,u="[object Object]",c="[object Function]",d="[object GeneratorFunction]",f="[object HTMLAllCollection]",h="[object HTML document.all class]",p="[object HTMLCollection]",v="function"===typeof Symbol&&!!Symbol.toStringTag,g=!(0 in[,]),y=function(){return!1};if("object"===typeof document){var m=document.all;l.call(m)===l.call(document.all)&&(y=function(e){if((g||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=l.call(e);return(t===f||t===h||t===p||t===u)&&null==e("")}catch(n){}return!1})}e.exports=o?function(e){if(y(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{o(e,null,t)}catch(r){if(r!==n)return!1}return!a(e)&&s(e)}:function(e){if(y(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(v)return s(e);if(a(e))return!1;var t=l.call(e);return!(t!==c&&t!==d&&!/^\[object HTML/.test(t))&&s(e)}},8662:function(e,t,n){"use strict";var r,o=Object.prototype.toString,i=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=n(6410)(),l=Object.getPrototypeOf,u=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}};e.exports=function(e){if("function"!==typeof e)return!1;if(a.test(i.call(e)))return!0;if(!s){var t=o.call(e);return"[object GeneratorFunction]"===t}if(!l)return!1;if("undefined"===typeof r){var n=u();r=!!n&&l(n)}return l(e)===r}},5692:function(e,t,n){"use strict";var r=n(4029),o=n(3083),i=n(1924),a=i("Object.prototype.toString"),s=n(6410)(),l=n(7296),u="undefined"===typeof globalThis?n.g:globalThis,c=o(),d=i("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},f=i("String.prototype.slice"),h={},p=Object.getPrototypeOf;s&&l&&p&&r(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var n=p(t),r=l(n,Symbol.toStringTag);if(!r){var o=p(n);r=l(o,Symbol.toStringTag)}h[e]=r.get}}));var v=function(e){var t=!1;return r(h,(function(n,r){if(!t)try{t=n.call(e)===r}catch(o){}})),t};e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return d(c,t)>-1}return!!l&&v(e)}},3841:function(e,t,n){t.markdown=n(4779),t.Q=t.markdown.toHTML},4779:function(e,t,n){(function(e){var t=e.Markdown=function(e){switch(typeof e){case"undefined":this.dialect=t.dialects.Gruber;break;case"object":this.dialect=e;break;default:if(!(e in t.dialects))throw new Error("Unknown Markdown dialect '"+String(e)+"'");this.dialect=t.dialects[e];break}this.em_state=[],this.strong_state=[],this.debug_indent=""};function r(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function o(){var e=n(9539);return"Markdown.mk_block( "+e.inspect(this.toString())+", "+e.inspect(this.trailing)+", "+e.inspect(this.lineNumber)+" )"}e.parse=function(e,n){var r=new t(n);return r.toTree(e)},e.toHTML=function(t,n,r){var o=e.toHTMLTree(t,n,r);return e.renderJsonML(o)},e.toHTMLTree=function(e,t,n){"string"===typeof e&&(e=this.parse(e,t));var r=h(e),o={};r&&r.references&&(o=r.references);var i=y(e,o,n);return m(i),i};var i=t.mk_block=function(e,t,n){1==arguments.length&&(t="\n\n");var i=new String(e);return i.trailing=t,i.inspect=o,i.toSource=r,void 0!=n&&(i.lineNumber=n),i};function s(e){var t=0,n=-1;while(-1!==(n=e.indexOf("\n",n+1)))t++;return t}function l(e,t){var n=e+"_state",r="strong"==e?"em_state":"strong_state";function o(e){this.len_after=e,this.name="close_"+t}return function(i,a){if(this[n][0]==t)return this[n].shift(),[i.length,new o(i.length-t.length)];var s=this[r].slice(),l=this[n].slice();this[n].unshift(t);var u=this.processInline(i.substr(t.length)),c=u[u.length-1];this[n].shift();if(c instanceof o){u.pop();var d=i.length-c.len_after;return[d,[e].concat(u)]}return this[r]=s,this[n]=l,[t.length,t]}}function u(e){var t=e.split(""),n=[""],r=!1;while(t.length){var o=t.shift();switch(o){case" ":r?n[n.length-1]+=o:n.push("");break;case"'":case'"':r=!r;break;case"\\":o=t.shift();default:n[n.length-1]+=o;break}}return n}t.prototype.split_blocks=function(e,t){e=e.replace(/(\r\n|\n|\r)/g,"\n");var n,r=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,o=[],a=1;null!=(n=/^(\s*\n)/.exec(e))&&(a+=s(n[0]),r.lastIndex=n[0].length);while(null!==(n=r.exec(e)))"\n#"==n[2]&&(n[2]="\n",r.lastIndex--),o.push(i(n[1],n[2],a)),a+=s(n[0]);return o},t.prototype.processBlock=function(e,t){var n=this.dialect.block,r=n.__order__;if("__call__"in n)return n.__call__.call(this,e,t);for(var o=0;o<r.length;o++){var i=n[r[o]].call(this,e,t);if(i)return(!d(i)||i.length>0&&!d(i[0]))&&this.debug(r[o],"didn't return a proper array"),i}return[]},t.prototype.processInline=function(e){return this.dialect.inline.__call__.call(this,String(e))},t.prototype.toTree=function(e,t){var n=e instanceof Array?e:this.split_blocks(e),r=this.tree;try{this.tree=t||this.tree||["markdown"];while(n.length){var o=this.processBlock(n.shift(),n);o.length&&this.tree.push.apply(this.tree,o)}return this.tree}finally{t&&(this.tree=r)}},t.prototype.debug=function(){var e=Array.prototype.slice.call(arguments);e.unshift(this.debug_indent),"undefined"!==typeof print&&print.apply(print,e),"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log.apply(null,e)},t.prototype.loop_re_over_block=function(e,t,n){var r,o=t.valueOf();while(o.length&&null!=(r=e.exec(o)))o=o.substr(r[0].length),n.call(this,r);return o},t.dialects={},t.dialects.Gruber={block:{atxHeader:function(e,t){var n=e.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(n){var r=["header",{level:n[1].length}];return Array.prototype.push.apply(r,this.processInline(n[2])),n[0].length<e.length&&t.unshift(i(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[r]}},setextHeader:function(e,t){var n=e.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(n){var r="="===n[2]?1:2,o=["header",{level:r},n[1]];return n[0].length<e.length&&t.unshift(i(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[o]}},code:function(e,t){var n=[],r=/^(?: {0,3}\t| {4})(.*)\n?/;if(e.match(r)){e:do{var o=this.loop_re_over_block(r,e.valueOf(),(function(e){n.push(e[1])}));if(o.length){t.unshift(i(o,e.trailing));break e}if(!t.length)break e;if(!t[0].match(r))break e;n.push(e.trailing.replace(/[^\n]/g,"").substring(2)),e=t.shift()}while(1);return[["code_block",n.join("\n")]]}},horizRule:function(e,t){var n=e.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(n){var r=[["hr"]];return n[1]&&r.unshift.apply(r,this.processBlock(n[1],[])),n[3]&&t.unshift(i(n[3])),r}},lists:function(){var e="[*+-]|\\d+\\.",t=/[*+-]/,n=new RegExp("^( {0,3})("+e+")[ \t]+"),r="(?: {0,3}\\t| {4})";function o(t){return new RegExp("(?:^("+r+"{0,"+t+"} {0,3})("+e+")\\s+)|(^"+r+"{0,"+(t-1)+"}[ ]{0,4})")}function a(e){return e.replace(/ {0,3}\t/g,"    ")}function s(e,t,n,r){if(t)e.push(["para"].concat(n));else{var o=e[e.length-1]instanceof Array&&"para"==e[e.length-1][0]?e[e.length-1]:e;r&&e.length>1&&n.unshift(r);for(var i=0;i<n.length;i++){var a=n[i],s="string"==typeof a;s&&o.length>1&&"string"==typeof o[o.length-1]?o[o.length-1]+=a:o.push(a)}}}function l(e,t){var n=new RegExp("^("+r+"{"+e+"}.*?\\n?)*$"),o=new RegExp("^"+r+"{"+e+"}","gm"),a=[];while(t.length>0){if(!n.exec(t[0]))break;var s=t.shift(),l=s.replace(o,"");a.push(i(l,s.trailing,s.lineNumber))}return a}function u(e,t,n){var r=e.list,o=r[r.length-1];if(!(o[1]instanceof Array&&"para"==o[1][0]))if(t+1==n.length)o.push(["para"].concat(o.splice(1,o.length-1)));else{var i=o.pop();o.push(["para"].concat(o.splice(1,o.length-1)),i)}}return function(e,r){var i=e.match(n);if(i){var d,f,h=[],p=M(i),v=!1,g=[h[0].list];while(1){for(var y=e.split(/(?=\n)/),m="",b=0;b<y.length;b++){var w="",x=y[b].replace(/^\n/,(function(e){return w=e,""})),S=o(h.length);if(i=x.match(S),void 0!==i[1]){m.length&&(s(d,v,this.processInline(m),w),v=!1,m=""),i[1]=a(i[1]);var k=Math.floor(i[1].length/4)+1;if(k>h.length)p=M(i),d.push(p),d=p[1]=["listitem"];else{var E=!1;for(f=0;f<h.length;f++)if(h[f].indent==i[1]){p=h[f].list,h.splice(f+1,h.length-(f+1)),E=!0;break}E||(k++,k<=h.length?(h.splice(k,h.length-k),p=h[k-1].list):(p=M(i),d.push(p))),d=["listitem"],p.push(d)}w=""}x.length>i[0].length&&(m+=w+x.substr(i[0].length))}m.length&&(s(d,v,this.processInline(m),w),v=!1,m="");var _=l(h.length,r);_.length>0&&(c(h,u,this),d.push.apply(d,this.toTree(_,[])));var P=r[0]&&r[0].valueOf()||"";if(!P.match(n)&&!P.match(/^ /))break;e=r.shift();var O=this.dialect.block.horizRule(e,r);if(O){g.push.apply(g,O);break}c(h,u,this),v=!0}return g}function M(e){var n=t.exec(e[2])?["bulletlist"]:["numberlist"];return h.push({list:n,indent:e[1]}),n}}}(),blockquote:function(e,t){if(e.match(/^>/m)){var n=[];if(">"!=e[0]){var r=e.split(/\n/),o=[],a=e.lineNumber;while(r.length&&">"!=r[0][0])o.push(r.shift()),a++;var s=i(o.join("\n"),"\n",e.lineNumber);n.push.apply(n,this.processBlock(s,[])),e=i(r.join("\n"),e.trailing,a)}while(t.length&&">"==t[0][0]){var l=t.shift();e=i(e+e.trailing+l,l.trailing,e.lineNumber)}var u=e.replace(/^> ?/gm,""),c=(this.tree,this.toTree(u,["blockquote"])),d=h(c);return d&&d.references&&(delete d.references,f(d)&&c.splice(1,1)),n.push(c),n}},referenceDefn:function(e,t){var n=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(e.match(n)){h(this.tree)||this.tree.splice(1,0,{});var r=h(this.tree);void 0===r.references&&(r.references={});var o=this.loop_re_over_block(n,e,(function(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1));var t=r.references[e[1].toLowerCase()]={href:e[2]};void 0!==e[4]?t.title=e[4]:void 0!==e[5]&&(t.title=e[5])}));return o.length&&t.unshift(i(o,e.trailing)),[]}},para:function(e,t){return[["para"].concat(this.processInline(e))]}}},t.dialects.Gruber.inline={__oneElement__:function(e,t,n){var r;t=t||this.dialect.inline.__patterns__;var o,i=new RegExp("([\\s\\S]*?)("+(t.source||t)+")");return r=i.exec(e),r?r[1]?[r[1].length,r[1]]:(r[2]in this.dialect.inline&&(o=this.dialect.inline[r[2]].call(this,e.substr(r.index),r,n||[])),o=o||[r[2].length,r[2]],o):[e.length,e]},__call__:function(e,t){var n,r=[];function o(e){"string"==typeof e&&"string"==typeof r[r.length-1]?r[r.length-1]+=e:r.push(e)}while(e.length>0)n=this.dialect.inline.__oneElement__.call(this,e,t,r),e=e.substr(n.shift()),c(n,o);return r},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(e){return this.dialect.inline.__escape__.exec(e)?[2,e.charAt(1)]:[1,"\\"]},"![":function(e){var t=e.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1)),t[2]=this.dialect.inline.__call__.call(this,t[2],/\\/)[0];var n={alt:t[1],href:t[2]||""};return void 0!==t[4]&&(n.title=t[4]),[t[0].length,["img",n]]}return t=e.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),t?[t[0].length,["img_ref",{alt:t[1],ref:t[2].toLowerCase(),original:t[0]}]]:[2,"!["]},"[":function(e){var n=String(e),r=t.DialectHelpers.inline_until_char.call(this,e.substr(1),"]");if(!r)return[1,"["];var o,i,a=1+r[0],s=r[1];e=e.substr(a);var l=e.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(l){var u=l[1];if(a+=l[0].length,u&&"<"==u[0]&&">"==u[u.length-1]&&(u=u.substring(1,u.length-1)),!l[3])for(var c=1,d=0;d<u.length;d++)switch(u[d]){case"(":c++;break;case")":0==--c&&(a-=u.length-d,u=u.substring(0,d));break}return u=this.dialect.inline.__call__.call(this,u,/\\/)[0],i={href:u||""},void 0!==l[3]&&(i.title=l[3]),o=["link",i].concat(s),[a,o]}return l=e.match(/^\s*\[(.*?)\]/),l?(a+=l[0].length,i={ref:(l[1]||String(s)).toLowerCase(),original:n.substr(0,a)},o=["link_ref",i].concat(s),[a,o]):1==s.length&&"string"==typeof s[0]?(i={ref:s[0].toLowerCase(),original:n.substr(0,a)},o=["link_ref",i,s[0]],[a,o]):[1,"["]},"<":function(e){var t;return null!=(t=e.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?t[3]?[t[0].length,["link",{href:"mailto:"+t[3]},t[3]]]:"mailto"==t[2]?[t[0].length,["link",{href:t[1]},t[1].substr(7)]]:[t[0].length,["link",{href:t[1]},t[1]]]:[1,"<"]},"`":function(e){var t=e.match(/(`+)(([\s\S]*?)\1)/);return t&&t[2]?[t[1].length+t[2].length,["inlinecode",t[3]]]:[1,"`"]},"  \n":function(e){return[3,["linebreak"]]}},t.dialects.Gruber.inline["**"]=l("strong","**"),t.dialects.Gruber.inline["__"]=l("strong","__"),t.dialects.Gruber.inline["*"]=l("em","*"),t.dialects.Gruber.inline["_"]=l("em","_"),t.buildBlockOrder=function(e){var t=[];for(var n in e)"__order__"!=n&&"__call__"!=n&&t.push(n);e.__order__=t},t.buildInlinePatterns=function(e){var t=[];for(var n in e)if(!n.match(/^__.*__$/)){var r=n.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");t.push(1==n.length?r:"(?:"+r+")")}t=t.join("|"),e.__patterns__=t;var o=e.__call__;e.__call__=function(e,n){return void 0!=n?o.call(this,e,n):o.call(this,e,t)}},t.DialectHelpers={},t.DialectHelpers.inline_until_char=function(e,t){var n=0,r=[];while(1){if(e.charAt(n)==t)return n++,[n,r];if(n>=e.length)return null;var o=this.dialect.inline.__oneElement__.call(this,e.substr(n));n+=o[0],r.push.apply(r,o.slice(1))}},t.subclassDialect=function(e){function t(){}function n(){}return t.prototype=e.block,n.prototype=e.inline,{block:new t,inline:new n}},t.buildBlockOrder(t.dialects.Gruber.block),t.buildInlinePatterns(t.dialects.Gruber.inline),t.dialects.Maruku=t.subclassDialect(t.dialects.Gruber),t.dialects.Maruku.processMetaHash=function(e){for(var t=u(e),n={},r=0;r<t.length;++r)if(/^#/.test(t[r]))n.id=t[r].substring(1);else if(/^\./.test(t[r]))n["class"]?n["class"]=n["class"]+t[r].replace(/./," "):n["class"]=t[r].substring(1);else if(/\=/.test(t[r])){var o=t[r].split(/\=/);n[o[0]]=o[1]}return n},t.dialects.Maruku.block.document_meta=function(e,t){if(!(e.lineNumber>1)&&e.match(/^(?:\w+:.*\n)*\w+:.*$/)){h(this.tree)||this.tree.splice(1,0,{});var n=e.split(/\n/);for(p in n){var r=n[p].match(/(\w+):\s*(.*)$/),o=r[1].toLowerCase(),i=r[2];this.tree[1][o]=i}return[]}},t.dialects.Maruku.block.block_meta=function(e,t){var n=e.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(n){var r,o=this.dialect.processMetaHash(n[2]);if(""===n[1]){var i=this.tree[this.tree.length-1];if(r=h(i),"string"===typeof i)return;for(a in r||(r={},i.splice(1,0,r)),o)r[a]=o[a];return[]}var s=e.replace(/\n.*$/,""),l=this.processBlock(s,[]);for(a in r=h(l[0]),r||(r={},l[0].splice(1,0,r)),o)r[a]=o[a];return l}},t.dialects.Maruku.block.definition_list=function(e,t){var n,r=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,o=["dl"];if(s=e.match(r)){var i=[e];while(t.length&&r.exec(t[0]))i.push(t.shift());for(var a=0;a<i.length;++a){var s=i[a].match(r),l=s[1].replace(/\n$/,"").split(/\n/),u=s[2].split(/\n:\s+/);for(n=0;n<l.length;++n)o.push(["dt",l[n]]);for(n=0;n<u.length;++n)o.push(["dd"].concat(this.processInline(u[n].replace(/(\n)\s+/,"$1"))))}return[o]}},t.dialects.Maruku.block.table=function(e,t){var n,r,o=function(e,t){t=t||"\\s",t.match(/^[\\|\[\]{}?*.+^$]$/)&&(t="\\"+t);var n,r=[],o=new RegExp("^((?:\\\\.|[^\\\\"+t+"])*)"+t+"(.*)");while(n=e.match(o))r.push(n[1]),e=n[2];return r.push(e),r},i=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,a=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(r=e.match(i))r[3]=r[3].replace(/^\s*\|/gm,"");else if(!(r=e.match(a)))return;var s=["table",["thead",["tr"]],["tbody"]];r[2]=r[2].replace(/\|\s*$/,"").split("|");var l=[];for(c(r[2],(function(e){e.match(/^\s*-+:\s*$/)?l.push({align:"right"}):e.match(/^\s*:-+\s*$/)?l.push({align:"left"}):e.match(/^\s*:-+:\s*$/)?l.push({align:"center"}):l.push({})})),r[1]=o(r[1].replace(/\|\s*$/,""),"|"),n=0;n<r[1].length;n++)s[1][1].push(["th",l[n]||{}].concat(this.processInline(r[1][n].trim())));return c(r[3].replace(/\|\s*$/gm,"").split("\n"),(function(e){var t=["tr"];for(e=o(e,"|"),n=0;n<e.length;n++)t.push(["td",l[n]||{}].concat(this.processInline(e[n].trim())));s[2].push(t)}),this),[s]},t.dialects.Maruku.inline["{:"]=function(e,t,n){if(!n.length)return[2,"{:"];var r=n[n.length-1];if("string"===typeof r)return[2,"{:"];var o=e.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!o)return[2,"{:"];var i=this.dialect.processMetaHash(o[1]),a=h(r);for(var s in a||(a={},r.splice(1,0,a)),i)a[s]=i[s];return[o[0].length,""]},t.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,t.buildBlockOrder(t.dialects.Maruku.block),t.buildInlinePatterns(t.dialects.Maruku.inline);var c,d=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};c=Array.prototype.forEach?function(e,t,n){return e.forEach(t,n)}:function(e,t,n){for(var r=0;r<e.length;r++)t.call(n||e,e[r],r,e)};var f=function(e){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0};function h(e){return d(e)&&e.length>1&&"object"===typeof e[1]&&!d(e[1])?e[1]:void 0}function v(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function g(e){if("string"===typeof e)return v(e);var t=e.shift(),n={},r=[];!e.length||"object"!==typeof e[0]||e[0]instanceof Array||(n=e.shift());while(e.length)r.push(g(e.shift()));var o="";for(var i in n)o+=" "+i+'="'+v(n[i])+'"';return"img"==t||"br"==t||"hr"==t?"<"+t+o+"/>":"<"+t+o+">"+r.join("")+"</"+t+">"}function y(e,t,n){var r;n=n||{};var o=e.slice(0);"function"===typeof n.preprocessTreeNode&&(o=n.preprocessTreeNode(o,t));var i=h(o);if(i){for(r in o[1]={},i)o[1][r]=i[r];i=o[1]}if("string"===typeof o)return o;switch(o[0]){case"header":o[0]="h"+o[1].level,delete o[1].level;break;case"bulletlist":o[0]="ul";break;case"numberlist":o[0]="ol";break;case"listitem":o[0]="li";break;case"para":o[0]="p";break;case"markdown":o[0]="html",i&&delete i.references;break;case"code_block":o[0]="pre",r=i?2:1;var a=["code"];a.push.apply(a,o.splice(r,o.length-r)),o[r]=a;break;case"inlinecode":o[0]="code";break;case"img":o[1].src=o[1].href,delete o[1].href;break;case"linebreak":o[0]="br";break;case"link":o[0]="a";break;case"link_ref":o[0]="a";var s=t[i.ref];if(!s)return i.original;delete i.ref,i.href=s.href,s.title&&(i.title=s.title),delete i.original;break;case"img_ref":o[0]="img";s=t[i.ref];if(!s)return i.original;delete i.ref,i.src=s.href,s.title&&(i.title=s.title),delete i.original;break}if(r=1,i){for(var l in o[1]){r=2;break}1===r&&o.splice(r,1)}for(;r<o.length;++r)o[r]=y(o[r],t,n);return o}function m(e){var t=h(e)?2:1;while(t<e.length)"string"===typeof e[t]?t+1<e.length&&"string"===typeof e[t+1]?e[t]+=e.splice(t+1,1)[0]:++t:(m(e[t]),++t)}e.renderJsonML=function(e,t){t=t||{},t.root=t.root||!1;var n=[];if(t.root)n.push(g(e));else{e.shift(),!e.length||"object"!==typeof e[0]||e[0]instanceof Array||e.shift();while(e.length)n.push(g(e.shift()))}return n.join("\n\n")}})(function(){return t}())},9434:function(e,t,n){"use strict";n.d(t,{p:function(){return Ap}});var r={};n.r(r),n.d(r,{forceCenter:function(){return Jf},forceCollide:function(){return _h},forceLink:function(){return Mh},forceManyBody:function(){return dp},forceRadial:function(){return fp},forceSimulation:function(){return cp},forceX:function(){return hp},forceY:function(){return pp}});n(7658);var o=n(2591),i=n(6252);const a={class:"highlight highlight--top highlight--inverted","aria-hidden":"true"},s={class:"graph-controls form-actions"},l=["disabled"],u=["disabled"],c=["disabled"];function d(e,t,n,r,o,d){const f=(0,i.up)("v-edge-label"),h=(0,i.up)("v-network-graph");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(h,{ref:"networkRef",class:"highlight__inner",style:{height:"600px"},nodes:r.nodes,edges:r.edges,"selected-nodes":r.selectedNodes,"onUpdate:selectedNodes":t[0]||(t[0]=e=>r.selectedNodes=e),configs:r.configs,"event-handlers":r.eventHandlers},{"edge-label":(0,i.w5)((({edge:e,...t})=>[(0,i.Wm)(f,(0,i.dG)({text:e.label,align:"center","vertical-align":"above"},t,{style:{"max-width":"120px"}}),null,16,["text"])])),_:1},8,["nodes","edges","selected-nodes","configs","event-handlers"]),(0,i._)("div",s,[(0,i._)("button",{class:"button button-secondary button-small",onClick:t[1]||(t[1]=(...e)=>r.selectPrevious&&r.selectPrevious(...e)),disabled:r.disablePrevious}," Vorige ",8,l),(0,i._)("button",{class:"button button-secondary button-small push-right",onClick:t[2]||(t[2]=(...e)=>r.selectNext&&r.selectNext(...e)),disabled:r.disableNext}," Volgende ",8,u),(0,i._)("button",{class:"button button-secondary button-small",onClick:t[3]||(t[3]=(...e)=>r.clearNodes&&r.clearNodes(...e)),disabled:r.disableDelete}," Wis alle nodes ",8,c)])])}var f=n(2262),h=n(3577),p=n(9963),v="object"==typeof global&&global&&global.Object===Object&&global,g=v,y="object"==typeof self&&self&&self.Object===Object&&self,m=g||y||Function("return this")(),b=m,w=/\s/;function x(e){var t=e.length;while(t--&&w.test(e.charAt(t)));return t}var S=x,k=/^\s+/;function E(e){return e?e.slice(0,S(e)+1).replace(k,""):e}var _=E;function P(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var O=P,M=b.Symbol,j=M,A=Object.prototype,T=A.hasOwnProperty,z=A.toString,I=j?j.toStringTag:void 0;function U(e){var t=T.call(e,I),n=e[I];try{e[I]=void 0;var r=!0}catch(i){}var o=z.call(e);return r&&(t?e[I]=n:delete e[I]),o}var C=U,D=Object.prototype,N=D.toString;function F(e){return N.call(e)}var L=F,Z="[object Null]",$="[object Undefined]",B=j?j.toStringTag:void 0;function H(e){return null==e?void 0===e?$:Z:B&&B in Object(e)?C(e):L(e)}var W=H;function R(e){return null!=e&&"object"==typeof e}var V=R,Y="[object Symbol]";function q(e){return"symbol"==typeof e||V(e)&&W(e)==Y}var G=q,K=NaN,X=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,Q=/^0o[0-7]+$/i,ee=parseInt;function te(e){if("number"==typeof e)return e;if(G(e))return K;if(O(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=O(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=_(e);var n=J.test(e);return n||Q.test(e)?ee(e.slice(2),n?2:8):X.test(e)?K:+e}var ne=te,re=1/0,oe=17976931348623157e292;function ie(e){if(!e)return 0===e?e:0;if(e=ne(e),e===re||e===-re){var t=e<0?-1:1;return t*oe}return e===e?e:0}var ae=ie;function se(e){var t=ae(e),n=t%1;return t===t?n?t-n:t:0}var le=se;function ue(e,t){var n=-1,r=null==e?0:e.length,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}var ce=ue,de=Array.isArray,fe=de,he=1/0,pe=j?j.prototype:void 0,ve=pe?pe.toString:void 0;function ge(e){if("string"==typeof e)return e;if(fe(e))return ce(e,ge)+"";if(G(e))return ve?ve.call(e):"";var t=e+"";return"0"==t&&1/e==-he?"-0":t}var ye=ge;function me(e){return null==e?"":ye(e)}var be=me,we=b.isFinite,xe=Math.min;function Se(e){var t=Math[e];return function(e,n){if(e=ne(e),n=null==n?0:xe(le(n),292),n&&we(e)){var r=(be(e)+"e").split("e"),o=t(r[0]+"e"+(+r[1]+n));return r=(be(o)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var ke=Se,Ee=ke("round"),_e=Ee;function Pe(e,t){return function(n){return e(t(n))}}var Oe=Pe,Me=Oe(Object.getPrototypeOf,Object),je=Me,Ae="[object Object]",Te=Function.prototype,ze=Object.prototype,Ie=Te.toString,Ue=ze.hasOwnProperty,Ce=Ie.call(Object);function De(e){if(!V(e)||W(e)!=Ae)return!1;var t=je(e);if(null===t)return!0;var n=Ue.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==Ce}var Ne=De;function Fe(){this.__data__=[],this.size=0}var Le=Fe;function Ze(e,t){return e===t||e!==e&&t!==t}var $e=Ze;function Be(e,t){var n=e.length;while(n--)if($e(e[n][0],t))return n;return-1}var He=Be,We=Array.prototype,Re=We.splice;function Ve(e){var t=this.__data__,n=He(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Re.call(t,n,1),--this.size,!0}var Ye=Ve;function qe(e){var t=this.__data__,n=He(t,e);return n<0?void 0:t[n][1]}var Ge=qe;function Ke(e){return He(this.__data__,e)>-1}var Xe=Ke;function Je(e,t){var n=this.__data__,r=He(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Qe=Je;function et(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}et.prototype.clear=Le,et.prototype["delete"]=Ye,et.prototype.get=Ge,et.prototype.has=Xe,et.prototype.set=Qe;var tt=et;function nt(){this.__data__=new tt,this.size=0}var rt=nt;function ot(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}var it=ot;function at(e){return this.__data__.get(e)}var st=at;function lt(e){return this.__data__.has(e)}var ut=lt,ct="[object AsyncFunction]",dt="[object Function]",ft="[object GeneratorFunction]",ht="[object Proxy]";function pt(e){if(!O(e))return!1;var t=W(e);return t==dt||t==ft||t==ct||t==ht}var vt=pt,gt=b["__core-js_shared__"],yt=gt,mt=function(){var e=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function bt(e){return!!mt&&mt in e}var wt=bt,xt=Function.prototype,St=xt.toString;function kt(e){if(null!=e){try{return St.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Et=kt,_t=/[\\^$.*+?()[\]{}|]/g,Pt=/^\[object .+?Constructor\]$/,Ot=Function.prototype,Mt=Object.prototype,jt=Ot.toString,At=Mt.hasOwnProperty,Tt=RegExp("^"+jt.call(At).replace(_t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zt(e){if(!O(e)||wt(e))return!1;var t=vt(e)?Tt:Pt;return t.test(Et(e))}var It=zt;function Ut(e,t){return null==e?void 0:e[t]}var Ct=Ut;function Dt(e,t){var n=Ct(e,t);return It(n)?n:void 0}var Nt=Dt,Ft=Nt(b,"Map"),Lt=Ft,Zt=Nt(Object,"create"),$t=Zt;function Bt(){this.__data__=$t?$t(null):{},this.size=0}var Ht=Bt;function Wt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Rt=Wt,Vt="__lodash_hash_undefined__",Yt=Object.prototype,qt=Yt.hasOwnProperty;function Gt(e){var t=this.__data__;if($t){var n=t[e];return n===Vt?void 0:n}return qt.call(t,e)?t[e]:void 0}var Kt=Gt,Xt=Object.prototype,Jt=Xt.hasOwnProperty;function Qt(e){var t=this.__data__;return $t?void 0!==t[e]:Jt.call(t,e)}var en=Qt,tn="__lodash_hash_undefined__";function nn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$t&&void 0===t?tn:t,this}var rn=nn;function on(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}on.prototype.clear=Ht,on.prototype["delete"]=Rt,on.prototype.get=Kt,on.prototype.has=en,on.prototype.set=rn;var an=on;function sn(){this.size=0,this.__data__={hash:new an,map:new(Lt||tt),string:new an}}var ln=sn;function un(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var cn=un;function dn(e,t){var n=e.__data__;return cn(t)?n["string"==typeof t?"string":"hash"]:n.map}var fn=dn;function hn(e){var t=fn(this,e)["delete"](e);return this.size-=t?1:0,t}var pn=hn;function vn(e){return fn(this,e).get(e)}var gn=vn;function yn(e){return fn(this,e).has(e)}var mn=yn;function bn(e,t){var n=fn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var wn=bn;function xn(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}xn.prototype.clear=ln,xn.prototype["delete"]=pn,xn.prototype.get=gn,xn.prototype.has=mn,xn.prototype.set=wn;var Sn=xn,kn=200;function En(e,t){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!Lt||r.length<kn-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Sn(r)}return n.set(e,t),this.size=n.size,this}var _n=En;function Pn(e){var t=this.__data__=new tt(e);this.size=t.size}Pn.prototype.clear=rt,Pn.prototype["delete"]=it,Pn.prototype.get=st,Pn.prototype.has=ut,Pn.prototype.set=_n;var On=Pn,Mn=function(){try{var e=Nt(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),jn=Mn;function An(e,t,n){"__proto__"==t&&jn?jn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Tn=An;function zn(e,t,n){(void 0!==n&&!$e(e[t],n)||void 0===n&&!(t in e))&&Tn(e,t,n)}var In=zn;function Un(e){return function(t,n,r){var o=-1,i=Object(t),a=r(t),s=a.length;while(s--){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}var Cn=Un,Dn=Cn(),Nn=Dn,Fn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ln=Fn&&"object"==typeof module&&module&&!module.nodeType&&module,Zn=Ln&&Ln.exports===Fn,$n=Zn?b.Buffer:void 0,Bn=$n?$n.allocUnsafe:void 0;function Hn(e,t){if(t)return e.slice();var n=e.length,r=Bn?Bn(n):new e.constructor(n);return e.copy(r),r}var Wn=Hn,Rn=b.Uint8Array,Vn=Rn;function Yn(e){var t=new e.constructor(e.byteLength);return new Vn(t).set(new Vn(e)),t}var qn=Yn;function Gn(e,t){var n=t?qn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Kn=Gn;function Xn(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}var Jn=Xn,Qn=Object.create,er=function(){function e(){}return function(t){if(!O(t))return{};if(Qn)return Qn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),tr=er,nr=Object.prototype;function rr(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||nr;return e===n}var or=rr;function ir(e){return"function"!=typeof e.constructor||or(e)?{}:tr(je(e))}var ar=ir,sr="[object Arguments]";function lr(e){return V(e)&&W(e)==sr}var ur=lr,cr=Object.prototype,dr=cr.hasOwnProperty,fr=cr.propertyIsEnumerable,hr=ur(function(){return arguments}())?ur:function(e){return V(e)&&dr.call(e,"callee")&&!fr.call(e,"callee")},pr=hr,vr=9007199254740991;function gr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=vr}var yr=gr;function mr(e){return null!=e&&yr(e.length)&&!vt(e)}var br=mr;function wr(e){return V(e)&&br(e)}var xr=wr;function Sr(){return!1}var kr=Sr,Er="object"==typeof exports&&exports&&!exports.nodeType&&exports,_r=Er&&"object"==typeof module&&module&&!module.nodeType&&module,Pr=_r&&_r.exports===Er,Or=Pr?b.Buffer:void 0,Mr=Or?Or.isBuffer:void 0,jr=Mr||kr,Ar=jr,Tr="[object Arguments]",zr="[object Array]",Ir="[object Boolean]",Ur="[object Date]",Cr="[object Error]",Dr="[object Function]",Nr="[object Map]",Fr="[object Number]",Lr="[object Object]",Zr="[object RegExp]",$r="[object Set]",Br="[object String]",Hr="[object WeakMap]",Wr="[object ArrayBuffer]",Rr="[object DataView]",Vr="[object Float32Array]",Yr="[object Float64Array]",qr="[object Int8Array]",Gr="[object Int16Array]",Kr="[object Int32Array]",Xr="[object Uint8Array]",Jr="[object Uint8ClampedArray]",Qr="[object Uint16Array]",eo="[object Uint32Array]",to={};function no(e){return V(e)&&yr(e.length)&&!!to[W(e)]}to[Vr]=to[Yr]=to[qr]=to[Gr]=to[Kr]=to[Xr]=to[Jr]=to[Qr]=to[eo]=!0,to[Tr]=to[zr]=to[Wr]=to[Ir]=to[Rr]=to[Ur]=to[Cr]=to[Dr]=to[Nr]=to[Fr]=to[Lr]=to[Zr]=to[$r]=to[Br]=to[Hr]=!1;var ro=no;function oo(e){return function(t){return e(t)}}var io=oo,ao="object"==typeof exports&&exports&&!exports.nodeType&&exports,so=ao&&"object"==typeof module&&module&&!module.nodeType&&module,lo=so&&so.exports===ao,uo=lo&&g.process,co=function(){try{var e=so&&so.require&&so.require("util").types;return e||uo&&uo.binding&&uo.binding("util")}catch(t){}}(),fo=co,ho=fo&&fo.isTypedArray,po=ho?io(ho):ro,vo=po;function go(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var yo=go,mo=Object.prototype,bo=mo.hasOwnProperty;function wo(e,t,n){var r=e[t];bo.call(e,t)&&$e(r,n)&&(void 0!==n||t in e)||Tn(e,t,n)}var xo=wo;function So(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;while(++i<a){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?Tn(n,s,l):xo(n,s,l)}return n}var ko=So;function Eo(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}var _o=Eo,Po=9007199254740991,Oo=/^(?:0|[1-9]\d*)$/;function Mo(e,t){var n=typeof e;return t=null==t?Po:t,!!t&&("number"==n||"symbol"!=n&&Oo.test(e))&&e>-1&&e%1==0&&e<t}var jo=Mo,Ao=Object.prototype,To=Ao.hasOwnProperty;function zo(e,t){var n=fe(e),r=!n&&pr(e),o=!n&&!r&&Ar(e),i=!n&&!r&&!o&&vo(e),a=n||r||o||i,s=a?_o(e.length,String):[],l=s.length;for(var u in e)!t&&!To.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||jo(u,l))||s.push(u);return s}var Io=zo;function Uo(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}var Co=Uo,Do=Object.prototype,No=Do.hasOwnProperty;function Fo(e){if(!O(e))return Co(e);var t=or(e),n=[];for(var r in e)("constructor"!=r||!t&&No.call(e,r))&&n.push(r);return n}var Lo=Fo;function Zo(e){return br(e)?Io(e,!0):Lo(e)}var $o=Zo;function Bo(e){return ko(e,$o(e))}var Ho=Bo;function Wo(e,t,n,r,o,i,a){var s=yo(e,n),l=yo(t,n),u=a.get(l);if(u)In(e,n,u);else{var c=i?i(s,l,n+"",e,t,a):void 0,d=void 0===c;if(d){var f=fe(l),h=!f&&Ar(l),p=!f&&!h&&vo(l);c=l,f||h||p?fe(s)?c=s:xr(s)?c=Jn(s):h?(d=!1,c=Wn(l,!0)):p?(d=!1,c=Kn(l,!0)):c=[]:Ne(l)||pr(l)?(c=s,pr(s)?c=Ho(s):O(s)&&!vt(s)||(c=ar(l))):d=!1}d&&(a.set(l,c),o(c,l,r,i,a),a["delete"](l)),In(e,n,c)}}var Ro=Wo;function Vo(e,t,n,r,o){e!==t&&Nn(t,(function(i,a){if(o||(o=new On),O(i))Ro(e,t,a,n,Vo,r,o);else{var s=r?r(yo(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),In(e,a,s)}}),$o)}var Yo=Vo;function qo(e){return e}var Go=qo;function Ko(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Xo=Ko,Jo=Math.max;function Qo(e,t,n){return t=Jo(void 0===t?e.length-1:t,0),function(){var r=arguments,o=-1,i=Jo(r.length-t,0),a=Array(i);while(++o<i)a[o]=r[t+o];o=-1;var s=Array(t+1);while(++o<t)s[o]=r[o];return s[t]=n(a),Xo(e,this,s)}}var ei=Qo;function ti(e){return function(){return e}}var ni=ti,ri=jn?function(e,t){return jn(e,"toString",{configurable:!0,enumerable:!1,value:ni(t),writable:!0})}:Go,oi=ri,ii=800,ai=16,si=Date.now;function li(e){var t=0,n=0;return function(){var r=si(),o=ai-(r-n);if(n=r,o>0){if(++t>=ii)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ui=li,ci=ui(oi),di=ci;function fi(e,t){return di(ei(e,t,Go),e+"")}var hi=fi;function pi(e,t,n){if(!O(n))return!1;var r=typeof t;return!!("number"==r?br(n)&&jo(t,n.length):"string"==r&&t in n)&&$e(n[t],e)}var vi=pi;function gi(e){return hi((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&vi(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);while(++r<o){var s=n[r];s&&e(t,s,r,i)}return t}))}var yi=gi,mi=yi((function(e,t,n){Yo(e,t,n)})),bi=mi,wi=yi((function(e,t,n,r){Yo(e,t,n,r)})),xi=wi,Si="__lodash_hash_undefined__";function ki(e){return this.__data__.set(e,Si),this}var Ei=ki;function _i(e){return this.__data__.has(e)}var Pi=_i;function Oi(e){var t=-1,n=null==e?0:e.length;this.__data__=new Sn;while(++t<n)this.add(e[t])}Oi.prototype.add=Oi.prototype.push=Ei,Oi.prototype.has=Pi;var Mi=Oi;function ji(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}var Ai=ji;function Ti(e,t){return e.has(t)}var zi=Ti,Ii=1,Ui=2;function Ci(e,t,n,r,o,i){var a=n&Ii,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=n&Ui?new Mi:void 0;i.set(e,t),i.set(t,e);while(++d<s){var p=e[d],v=t[d];if(r)var g=a?r(v,p,d,t,e,i):r(p,v,d,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!Ai(t,(function(e,t){if(!zi(h,t)&&(p===e||o(p,e,n,r,i)))return h.push(t)}))){f=!1;break}}else if(p!==v&&!o(p,v,n,r,i)){f=!1;break}}return i["delete"](e),i["delete"](t),f}var Di=Ci;function Ni(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}var Fi=Ni;function Li(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Zi=Li,$i=1,Bi=2,Hi="[object Boolean]",Wi="[object Date]",Ri="[object Error]",Vi="[object Map]",Yi="[object Number]",qi="[object RegExp]",Gi="[object Set]",Ki="[object String]",Xi="[object Symbol]",Ji="[object ArrayBuffer]",Qi="[object DataView]",ea=j?j.prototype:void 0,ta=ea?ea.valueOf:void 0;function na(e,t,n,r,o,i,a){switch(n){case Qi:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ji:return!(e.byteLength!=t.byteLength||!i(new Vn(e),new Vn(t)));case Hi:case Wi:case Yi:return $e(+e,+t);case Ri:return e.name==t.name&&e.message==t.message;case qi:case Ki:return e==t+"";case Vi:var s=Fi;case Gi:var l=r&$i;if(s||(s=Zi),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=Bi,a.set(e,t);var c=Di(s(e),s(t),r,o,i,a);return a["delete"](e),c;case Xi:if(ta)return ta.call(e)==ta.call(t)}return!1}var ra=na;function oa(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}var ia=oa;function aa(e,t,n){var r=t(e);return fe(e)?r:ia(r,n(e))}var sa=aa;function la(e,t){var n=-1,r=null==e?0:e.length,o=0,i=[];while(++n<r){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}var ua=la;function ca(){return[]}var da=ca,fa=Object.prototype,ha=fa.propertyIsEnumerable,pa=Object.getOwnPropertySymbols,va=pa?function(e){return null==e?[]:(e=Object(e),ua(pa(e),(function(t){return ha.call(e,t)})))}:da,ga=va,ya=Oe(Object.keys,Object),ma=ya,ba=Object.prototype,wa=ba.hasOwnProperty;function xa(e){if(!or(e))return ma(e);var t=[];for(var n in Object(e))wa.call(e,n)&&"constructor"!=n&&t.push(n);return t}var Sa=xa;function ka(e){return br(e)?Io(e):Sa(e)}var Ea=ka;function _a(e){return sa(e,Ea,ga)}var Pa=_a,Oa=1,Ma=Object.prototype,ja=Ma.hasOwnProperty;function Aa(e,t,n,r,o,i){var a=n&Oa,s=Pa(e),l=s.length,u=Pa(t),c=u.length;if(l!=c&&!a)return!1;var d=l;while(d--){var f=s[d];if(!(a?f in t:ja.call(t,f)))return!1}var h=i.get(e),p=i.get(t);if(h&&p)return h==t&&p==e;var v=!0;i.set(e,t),i.set(t,e);var g=a;while(++d<l){f=s[d];var y=e[f],m=t[f];if(r)var b=a?r(m,y,f,t,e,i):r(y,m,f,e,t,i);if(!(void 0===b?y===m||o(y,m,n,r,i):b)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(v=!1)}return i["delete"](e),i["delete"](t),v}var Ta=Aa,za=Nt(b,"DataView"),Ia=za,Ua=Nt(b,"Promise"),Ca=Ua,Da=Nt(b,"Set"),Na=Da,Fa=Nt(b,"WeakMap"),La=Fa,Za="[object Map]",$a="[object Object]",Ba="[object Promise]",Ha="[object Set]",Wa="[object WeakMap]",Ra="[object DataView]",Va=Et(Ia),Ya=Et(Lt),qa=Et(Ca),Ga=Et(Na),Ka=Et(La),Xa=W;(Ia&&Xa(new Ia(new ArrayBuffer(1)))!=Ra||Lt&&Xa(new Lt)!=Za||Ca&&Xa(Ca.resolve())!=Ba||Na&&Xa(new Na)!=Ha||La&&Xa(new La)!=Wa)&&(Xa=function(e){var t=W(e),n=t==$a?e.constructor:void 0,r=n?Et(n):"";if(r)switch(r){case Va:return Ra;case Ya:return Za;case qa:return Ba;case Ga:return Ha;case Ka:return Wa}return t});var Ja=Xa,Qa=1,es="[object Arguments]",ts="[object Array]",ns="[object Object]",rs=Object.prototype,os=rs.hasOwnProperty;function is(e,t,n,r,o,i){var a=fe(e),s=fe(t),l=a?ts:Ja(e),u=s?ts:Ja(t);l=l==es?ns:l,u=u==es?ns:u;var c=l==ns,d=u==ns,f=l==u;if(f&&Ar(e)){if(!Ar(t))return!1;a=!0,c=!1}if(f&&!c)return i||(i=new On),a||vo(e)?Di(e,t,n,r,o,i):ra(e,t,l,n,r,o,i);if(!(n&Qa)){var h=c&&os.call(e,"__wrapped__"),p=d&&os.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return i||(i=new On),o(v,g,n,r,i)}}return!!f&&(i||(i=new On),Ta(e,t,n,r,o,i))}var as=is;function ss(e,t,n,r,o){return e===t||(null==e||null==t||!V(e)&&!V(t)?e!==e&&t!==t:as(e,t,n,r,ss,o))}var ls=ss;function us(e,t){return ls(e,t)}var cs=us,ds=function(){return b.Date.now()},fs=ds,hs="Expected a function",ps=Math.max,vs=Math.min;function gs(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(hs);function h(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n),a}function p(e){return u=e,s=setTimeout(y,t),c?h(e):a}function v(e){var n=e-l,r=e-u,o=t-n;return d?vs(o,i-r):o}function g(e){var n=e-l,r=e-u;return void 0===l||n>=t||n<0||d&&r>=i}function y(){var e=fs();if(g(e))return m(e);s=setTimeout(y,v(e))}function m(e){return s=void 0,f&&r?h(e):(r=o=void 0,a)}function b(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0}function w(){return void 0===s?a:m(fs())}function x(){var e=fs(),n=g(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return p(l);if(d)return clearTimeout(s),s=setTimeout(y,t),h(l)}return void 0===s&&(s=setTimeout(y,t)),a}return t=ne(t)||0,O(n)&&(c=!!n.leading,d="maxWait"in n,i=d?ps(ne(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),x.cancel=b,x.flush=w,x}var ys=gs;function ms(e,t,n,r){var o=e.length,i=n+(r?1:-1);while(r?i--:++i<o)if(t(e[i],i,e))return i;return-1}var bs=ms;function ws(e){return e!==e}var xs=ws;function Ss(e,t,n){var r=n-1,o=e.length;while(++r<o)if(e[r]===t)return r;return-1}var ks=Ss;function Es(e,t,n){return t===t?ks(e,t,n):bs(e,xs,n)}var _s=Es;function Ps(e,t){var n=null==e?0:e.length;return!!n&&_s(e,t,0)>-1}var Os=Ps;function Ms(e,t,n){var r=-1,o=null==e?0:e.length;while(++r<o)if(n(t,e[r]))return!0;return!1}var js=Ms;function As(){}var Ts=As,zs=1/0,Is=Na&&1/Zi(new Na([,-0]))[1]==zs?function(e){return new Na(e)}:Ts,Us=Is,Cs=200;function Ds(e,t,n){var r=-1,o=Os,i=e.length,a=!0,s=[],l=s;if(n)a=!1,o=js;else if(i>=Cs){var u=t?null:Us(e);if(u)return Zi(u);a=!1,o=zi,l=new Mi}else l=t?[]:s;e:while(++r<i){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d===d){var f=l.length;while(f--)if(l[f]===d)continue e;t&&l.push(d),s.push(c)}else o(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}var Ns=Ds;function Fs(e){return e&&e.length?Ns(e):[]}var Ls=Fs;function Zs(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;var i=Array(o);while(++r<o)i[r]=e[r+t];return i}var $s=Zs,Bs=Math.ceil,Hs=Math.max;function Ws(e,t,n){t=(n?vi(e,t,n):void 0===t)?1:Hs(le(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];var o=0,i=0,a=Array(Bs(r/t));while(o<r)a[i++]=$s(e,o,o+=t);return a}var Rs=Ws,Vs=Object.defineProperty,Ys=Object.defineProperties,qs=Object.getOwnPropertyDescriptors,Gs=Object.getOwnPropertySymbols,Ks=Object.prototype.hasOwnProperty,Xs=Object.prototype.propertyIsEnumerable,Js=Math.pow,Qs=(e,t,n)=>t in e?Vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,el=(e,t)=>{for(var n in t||(t={}))Ks.call(t,n)&&Qs(e,n,t[n]);if(Gs)for(var n of Gs(t))Xs.call(t,n)&&Qs(e,n,t[n]);return e},tl=(e,t)=>Ys(e,qs(t)),nl=(e,t,n)=>new Promise(((r,o)=>{var i=e=>{try{s(n.next(e))}catch(t){o(t)}},a=e=>{try{s(n.throw(e))}catch(t){o(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,a);s((n=n.apply(e,t)).next())}));const rl=["paths","node-labels","nodes","focusring","edge-labels","edges","base","grid","background","root"];function ol(e){return(0,f.PG)(e)?e:(0,f.qj)(e)}function il(e,t="Parameter"){if(null==e)throw new Error(`${t} is null`);return e}const al=Symbol("containers");function sl(e){(0,i.JJ)(al,e)}function ll(){const e=il((0,i.f3)(al),"containers");return{container:e.container,svg:e.svg,viewport:e.viewport,svgPanZoom:e.svgPanZoom}}class ul{static value(e,t){return e instanceof Function?e(t):e}static values(e,t){return 0===Object.values(e).filter((e=>e instanceof Function)).length?e:Object.fromEntries(Object.entries(e).map((([e,n])=>[e,n instanceof Function?n(t):n])))}}var cl=(e=>(e.CENTER="center",e.NORTH="north",e.NORTH_EAST="north-east",e.EAST="east",e.SOUTH_EAST="south-east",e.SOUTH="south",e.SOUTH_WEST="south-west",e.WEST="west",e.NORTH_WEST="north-west",e))(cl||{});function dl(e){const t={};return Object.assign(t,e(t))}function fl(e,t,n){const r=ul.values(t.normal,e);return"circle"==r.type?{width:2*r.radius*n,height:2*r.radius*n}:{width:r.width*n,height:r.height*n}}function hl(e,t,n,r){const o=Math.abs(e.x-n.x)<t.width/2+r.width/2,i=Math.abs(e.y-n.y)<t.height/2+r.height/2;return o&&i}function pl(e,t){let n=0;return n=1===t||void 0===e||"none"===e?null!=e?e:0:"string"==typeof e?e.split(/\s+/).map((e=>parseInt(e)*t)).filter((e=>!isNaN(e))).join(" "):e*t,n&&"0"!==n?n:void 0}function vl(e){let t=0;if(void 0===e||"none"===e)t=0;else if("string"==typeof e){const n=e.split(/\s+/).map((e=>parseInt(e))).filter((e=>!isNaN(e)));t=n.length%2===0?n.reduce(((e,t)=>e+t),0):2*n.reduce(((e,t)=>e+t),0)}else t=2*e;return t}const gl=20;class yl{activate(e){const{nodePositions:t,nodes:n,configs:r,emitter:o,scale:a,svgPanZoom:s}=e,l=e=>{for(const[n,r]of Object.entries(e)){const e=this.getOrCreateNodePosition(t,n);this.setNodePosition(e,r)}},u=e=>{const o=e.filter((e=>!(e in t.value))),i=s.getViewArea(),l=a.value;for(const a of o){const e=n.value[a],o=fl(e,r.node,l),s=el({},i.center);for(;;){let e=!1;for(const[i,u]of Object.entries(t.value)){if(a===i)continue;const t=n.value[i];if(!t)continue;const c=fl(t,r.node,l);if(e=hl(s,o,u,c),e)break}if(!e)break;s.x+=o.width+gl*l,s.x+o.width/2>i.box.right&&(s.x=i.center.x,s.y+=o.height+gl*l)}const u=this.getOrCreateNodePosition(t,a);this.setNodePosition(u,s)}};u(Object.keys(n.value));const c=(0,i.YP)((()=>Object.keys(n.value)),u);o.on("node:dragstart",l),o.on("node:pointermove",l),o.on("node:dragend",l),this.onDeactivate=()=>{c(),o.off("node:dragstart",l),o.off("node:pointermove",l),o.off("node:dragend",l)}}deactivate(){this.onDeactivate&&this.onDeactivate()}setNodePosition(e,t){e.value.x=_e(t.x,3),e.value.y=_e(t.y,3)}getOrCreateNodePosition(e,t){const n=(0,f.Vh)(e.value,t);return n.value||(n.value={x:0,y:0}),n}}function ml(){return{view:{scalingObjects:!1,panEnabled:!0,zoomEnabled:!0,minZoomLevel:.1,maxZoomLevel:64,doubleClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,boxSelectionEnabled:!1,autoPanAndZoomOnLoad:"center-content",autoPanOnResize:!0,layoutHandler:new yl,onSvgPanZoomInitialized:void 0,grid:{visible:!1,interval:10,thickIncrements:5,line:{color:"#e0e0e0",width:1,dasharray:1},thick:{color:"#cccccc",width:1,dasharray:0}},selection:{box:{color:"#0000ff20",strokeWidth:1,strokeColor:"#aaaaff",strokeDasharray:0},detector:e=>{const t=/Mac OS/.test(navigator.userAgent)?e.metaKey:e.ctrlKey;return"keydown"===e.type?t:!t}},builtInLayerOrder:[]},node:dl((e=>({normal:{type:"circle",radius:16,width:32,height:32,borderRadius:4,color:"#4466cc",strokeWidth:0,strokeColor:"#000000",strokeDasharray:0},hover:{type:t=>ul.value(e.normal.type,t),radius:t=>{var n;return(null!=(n=ul.value(e.normal.radius,t))?n:0)+2},width:t=>{var n;return(null!=(n=ul.value(e.normal.width,t))?n:0)+2},height:t=>{var n;return(null!=(n=ul.value(e.normal.height,t))?n:0)+2},borderRadius:t=>{var n;return null!=(n=ul.value(e.normal.borderRadius,t))?n:0},strokeWidth:t=>ul.value(e.normal.strokeWidth,t),strokeColor:t=>ul.value(e.normal.strokeColor,t),strokeDasharray:t=>ul.value(e.normal.strokeDasharray,t),color:"#3355bb"},selected:void 0,draggable:!0,selectable:!1,label:{visible:!0,fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",background:void 0,margin:4,direction:cl.SOUTH,directionAutoAdjustment:!1,text:"name",handleNodeEvents:!0},focusring:{visible:!0,width:4,padding:3,color:"#eebb00"},zOrder:{enabled:!1,zIndex:0,bringToFrontOnHover:!0,bringToFrontOnSelected:!0},transition:void 0}))),edge:dl((e=>({normal:{width:2,color:"#4466cc",dasharray:0,linecap:"butt",animate:!1,animationSpeed:50},hover:{width:t=>ul.value(e.normal.width,t)+1,color:"#3355bb",dasharray:t=>ul.value(e.normal.dasharray,t),linecap:t=>ul.value(e.normal.linecap,t),animate:t=>ul.value(e.normal.animate,t),animationSpeed:t=>ul.value(e.normal.animationSpeed,t)},selected:{width:t=>ul.value(e.normal.width,t)+1,color:"#dd8800",dasharray:t=>{const n=ul.value(e.normal.width,t);return`${1.5*n} ${2*n}`},linecap:t=>ul.value(e.normal.linecap,t),animate:t=>ul.value(e.normal.animate,t),animationSpeed:t=>ul.value(e.normal.animationSpeed,t)},selectable:!1,gap:3,type:"straight",marker:{source:{type:"none",width:5,height:5,margin:-1,units:"strokeWidth",color:null},target:{type:"none",width:5,height:5,margin:-1,units:"strokeWidth",color:null}},margin:null,summarize:(e,t)=>"curve"!=t.edge.type&&null,summarized:{label:{fontSize:10,lineHeight:1,color:"#4466cc"},shape:{type:"rect",radius:6,width:12,height:12,borderRadius:3,color:"#ffffff",strokeWidth:1,strokeColor:"#4466cc",strokeDasharray:void 0},stroke:{width:5,color:"#4466cc",dasharray:void 0,linecap:void 0,animate:!1,animationSpeed:50}},selfLoop:{radius:12,isClockwise:!0,offset:10,angle:270},keepOrder:"clock",label:{fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",background:void 0,margin:4,padding:4},zOrder:{enabled:!1,zIndex:0,bringToFrontOnHover:!0,bringToFrontOnSelected:!0}}))),path:dl((e=>({visible:!1,clickable:!1,hoverable:!1,curveInNode:!1,end:"centerOfNode",margin:0,path:(0,f.qj)({width:6,color:e=>{const t=["#d5000088","#c5116288","#aa00ff88","#6200ea88","#304ffe88","#2962ff88","#0091ea88","#00b8d488","#00bfa588","#00c85388","#64dd1788","#aeea0088","#ffd60088","#ffab0088","#ff6d0088","#dd2c0088"],n=e.edges.map((e=>e.split("").reduce(((e,t)=>(e=(e<<5)-e+t.charCodeAt(0),e&e)),0))).reduce(((e,t)=>e+t),0);return t[Math.abs(n)%t.length]},dasharray:void 0,linecap:"round",linejoin:"round",animate:!1,animationSpeed:50}),normal:{width:t=>ul.value(e.path.width,t),color:t=>ul.value(e.path.color,t),dasharray:t=>ul.value(e.path.dasharray,t),linecap:t=>ul.value(e.path.linecap,t),linejoin:t=>ul.value(e.path.linejoin,t),animate:t=>ul.value(e.path.animate,t),animationSpeed:t=>ul.value(e.path.animationSpeed,t)},hover:{width:t=>ul.value(e.normal.width,t)+2,color:t=>ul.value(e.normal.color,t),dasharray:t=>ul.value(e.normal.dasharray,t),linecap:t=>ul.value(e.normal.linecap,t),linejoin:t=>ul.value(e.normal.linejoin,t),animate:t=>ul.value(e.normal.animate,t),animationSpeed:t=>ul.value(e.normal.animationSpeed,t)},selected:{width:t=>ul.value(e.normal.width,t)+2,color:t=>ul.value(e.normal.color,t),dasharray:"6 12",linecap:t=>ul.value(e.normal.linecap,t),linejoin:t=>ul.value(e.normal.linejoin,t),animate:t=>ul.value(e.normal.animate,t),animationSpeed:t=>ul.value(e.normal.animationSpeed,t)},selectable:!1,zOrder:{enabled:!1,zIndex:0,bringToFrontOnHover:!0,bringToFrontOnSelected:!0},transition:void 0})))}}const bl=Symbol("style");function wl(e,t){return Ne(e)?bi(e,t):t}function xl(e){const t=(0,f.qj)(ml()),n=Object.keys(t);for(const r of n)(0,i.YP)((()=>e.value[r]),(()=>{xi(t[r],e.value[r]||{},wl)}),{immediate:!0,deep:!0});return(0,i.JJ)(bl,t),t}function Sl(e){return il((0,i.f3)(bl),`Configs(${e})`)[e]}function kl(){return Sl("view")}function El(){return Sl("node")}function _l(){return Sl("edge")}function Pl(){return Sl("path")}let Ol=1;function Ml(){return Ol++}function jl(e){return Object.entries(e)}function Al(e,t){const n=new Set(Object.keys(e));jl(t).forEach((([t,r])=>{cs(e[t],r)||(e[t]=r),n.delete(t)})),n.forEach((t=>delete e[t]))}function Tl(e,t,n){const r=ol({edgeLayoutPoints:{},edgeGroups:{},summarizedEdges:{}});return(0,i.m0)((()=>{const{edgeLayoutPoints:o,edgeGroups:i}=Il(n,e.value,t.value);Al(r.edgeLayoutPoints,o),Al(r.edgeGroups,i)})),(0,i.m0)((()=>{const t={};for(const[o,{edges:i,groupWidth:a}]of Object.entries(r.edgeGroups)){let s=!1;if(0==a)s=!1;else if(n.edge.summarize instanceof Function){const t=n.edge.summarize(i,n);s=null===t?Ul(e.value,i,n,a):t}else s=!!n.edge.summarize&&Ul(e.value,i,n,a);r.edgeGroups[o].summarize=s,s&&Object.keys(i).forEach((e=>t[e]=!0))}Al(r.summarizedEdges,t)})),r}function zl(e,t,n,r,o,i){return e?t?Cl(e.edge,n,r,o,0,0,i):Cl(e.edge,n,r,o,e.groupWidth,e.pointInGroup,i):{p1:{x:0,y:0},p2:{x:0,y:0}}}function Il(e,t,n){const r={},o={},i={};for(const[s,l]of Object.entries(n)){if(!(l.source in t)||!(l.target in t))continue;const e=[l.source,l.target].sort().join("<=>"),n=i[e]||{};n[s]=l,i[e]=n}const a=e.edge.gap instanceof Function?e.edge.gap:(t,n)=>e.edge.gap;for(const[s,l]of Object.entries(i)){const t=Object.keys(l).length;if(0==t)continue;const n=a(l,e),[i,u]=Object.entries(l)[0];if(1===t)r[i]={edge:u,pointInGroup:0,groupWidth:0},o[s]={edges:l,groupWidth:0,summarize:!1};else{let t=0;const i=Object.entries(l).map((([t,n])=>{let r=ul.value(e.edge.normal.width,n);return isNaN(+r)&&(console.warn("[v-network-graph] Edge width is invalid value. id=[%s] value=[%s]",t,r),r=1),r/2})),a=Object.entries(l).map((([e,r],o)=>(o>0&&(t+=i[o-1]+n+i[o]),[e,r,t]))),u=t;a.forEach((([e,t,n])=>{r[e]={edge:t,pointInGroup:n,groupWidth:u}})),o[s]={edges:l,groupWidth:u,summarize:!1}}}return{edgeLayoutPoints:r,edgeGroups:o}}function Ul(e,t,n,r){if(1===Object.entries(t).length)return!1;const o=Math.min(...Object.values(t).flatMap((t=>[e[t.source],e[t.target]])).filter((e=>e)).map((e=>{const t=ul.values(n.node.normal,e);return"circle"===t.type?2*t.radius:Math.min(t.width,t.height)})));return r>o}function Cl(e,t,n,r,o,i,a){var s,l,u,c,d,f,h,p;let v,g,y,m;return e.source<e.target?[v,g,y,m]=Dl(null!=(s=null==t?void 0:t.x)?s:0,null!=(l=null==t?void 0:t.y)?l:0,null!=(u=null==n?void 0:n.x)?u:0,null!=(c=null==n?void 0:n.y)?c:0,r,o,i,a):[y,m,v,g]=Dl(null!=(d=null==n?void 0:n.x)?d:0,null!=(f=null==n?void 0:n.y)?f:0,null!=(h=null==t?void 0:t.x)?h:0,null!=(p=null==t?void 0:t.y)?p:0,r,o,i,a),{p1:{x:v,y:g},p2:{x:y,y:m}}}function Dl(e,t,n,r,o,i,a,s){const l=n-e,u=r-t;let c=(i/2-a)*o;if(0!==c&&"clock"!==s){const o=Math.atan2(r-t,n-e);if("vertical"===s){const e=Math.PI/2;(o<-e||o>=e)&&(c*=-1)}else"horizontal"===s&&o<0&&(c*=-1)}if(0===l){const o=u<0?-1:1;return[e+c*o,t,n+c*o,r]}if(0===u){const o=l<0?1:-1;return[e,t+c*o,n,r+c*o]}{const o=-1/(u/l);u<0&&(c=-c);const i=c/Math.sqrt(1+Math.pow(o,2));return[e+i,t+i*o,n+i,r+i*o]}}function Nl(e,t,n){return n||(n={x:0,y:0}),n.x=e.x+t.x,n.y=e.y+t.y,n}function Fl(e,t,n){return n||(n={x:0,y:0}),n.x=e.x-t.x,n.y=e.y-t.y,n}function Ll(e,t,n){return n||(n={x:0,y:0}),n.x=e.x*t.x,n.y=e.y*t.y,n}function Zl(e,t,n){return n||(n={x:0,y:0}),n.x=e.x*t,n.y=e.y*t,n}function $l(e,t,n){return n||(n={x:0,y:0}),n.x=e.x/t.x,n.y=e.y/t.y,n}function Bl(e,t){return e.x*t.x+e.y*t.y}function Hl(e,t){return e.x*t.y-e.y*t.x}function Wl(e){return e.x*e.x+e.y*e.y}function Rl(e){return Math.sqrt(Wl(e))}function Vl(e,t){const n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Yl(e,t){return Math.sqrt(Vl(e,t))}function ql(e,t){t||(t={x:0,y:0});const n=Rl(e);return 0===n?(t.x=1,t.y=0):$l(e,{x:n,y:n},t),t}function Gl(e,t,n){n||(n={x:0,y:0});const r=e.x*Math.cos(t)-e.y*Math.sin(t),o=e.x*Math.sin(t)+e.y*Math.cos(t);return n.x=r,n.y=o,n}const Kl=180/Math.PI;function Xl(e){return e*Kl}function Jl(e){return Math.atan2(e.y,e.x)}function Ql(e){return Xl(Jl(e))}const eu=Object.freeze(Object.defineProperty({__proto__:null,add:Nl,angle:Jl,angleDegree:Ql,cross:Hl,distance:Yl,distanceSquared:Vl,divide:$l,dot:Bl,length:Rl,lengthSquared:Wl,multiply:Ll,multiplyScalar:Zl,normalize:ql,rotate:Gl,subtract:Fl},Symbol.toStringTag,{value:"Module"}));class tu{static fromArray(e){return new tu(e[0]||0,e[1]||0)}static fromObject(e){return new tu(e.x,e.y)}constructor(e,t){this.x=e,this.y=t}add(e){return Nl(this,e,this)}subtract(e){return Fl(this,e,this)}multiply(e){return Ll(this,e,this)}multiplyScalar(e){return Zl(this,e,this)}divide(e){return $l(this,e,this)}dot(e){return Bl(this,e)}cross(e){return Hl(this,e)}lengthSquared(){return Wl(this)}length(){return Rl(this)}distanceSquared(e){return Vl(this,e)}distance(e){return Yl(this,e)}normalize(){return ql(this,this)}angle(){return Jl(this)}angleDegree(){return Ql(this)}rotate(e){return Gl(this,e,this)}isEqualTo(e){return this.x===e.x&&this.y===e.y}clone(){return new tu(this.x,this.y)}toObject(){return{x:this.x,y:this.y}}toArray(){return[this.x,this.y]}}const nu=el({Vector2D:tu},eu);class ru{constructor(e,t,n){this.source=e,this.target=t,this.v=n}static fromLinePosition(e){const t=tu.fromObject(e.p1),n=tu.fromObject(e.p2);return new ru(t,n,ou(t,n))}static fromPositions(e,t){const n=tu.fromObject(e),r=tu.fromObject(t);return new ru(n,r,ou(n,r))}static fromVectors(e,t){return new ru(e,t,ou(e,t))}}function ou(e,t){return t.clone().subtract(e)}function iu(e){return[tu.fromObject(e.p1),tu.fromObject(e.p2)]}function au(e){return new tu((e.p1.x+e.p2.x)/2,(e.p1.y+e.p2.y)/2)}function su(e,t){return{p1:e,p2:t}}function lu(e,t,n){const r=ru.fromLinePosition(e);return uu(r,t,n)}function uu(e,t,n){const r=e.v.clone().normalize(),o=e.source.clone().add(r.clone().multiplyScalar(t)),i=e.target.clone().subtract(r.clone().multiplyScalar(n));let a=o.toObject(),s=i.toObject();const l=ou(o,i);if(e.v.angle()*l.angle()<0){const e=new tu((a.x+s.x)/2,(a.y+s.y)/2),t=e.clone().add(r.multiplyScalar(.5));a=e.toObject(),s=t.toObject()}return{p1:a,p2:s}}function cu(e){return{p1:e.p2,p2:e.p1}}function du(e){const t=e.v.clone().normalize().rotate(Math.PI/2);return ru.fromVectors(e.target,e.target.clone().add(t))}function fu(e,t){const n=t.v.clone().normalize(),r=t.source,o=nu.subtract(e,r),i=n.dot(o);return r.clone().add(n.multiplyScalar(i))}function hu(e,t,n,r){if(!(nu.lengthSquared(nu.subtract(t,n))-r*r<=Math.pow(1,-10)))return null;const o=ru.fromVectors(e,t),i=fu(n,o),a=nu.length(nu.subtract(i,n));if(r<a)return null;if(r===a)return i;const s=Math.sqrt(Js(r,2)-Js(a,2)),l=o.v.normalize().multiplyScalar(s);return i.subtract(l)}function pu(e,t,n,r,o){if(!(nu.lengthSquared(nu.subtract(t,n))-r*r<=Math.pow(1,-10)))return null;const i=ru.fromVectors(e,t),a=fu(n,i),s=nu.length(nu.subtract(a,n));if(r<s)return null;if(r===s)return a;const l=Math.sqrt(Js(r,2)-Js(s,2)),u=i.v.normalize().multiplyScalar(l),c=a.clone().add(u),d=a.clone().subtract(u),f=o.distance(c),h=o.distance(d);return Math.abs(f-h)<2?d:f<h?c:d}function vu(e,t){const n=nu.subtract(t.source,e.source),r=e.v,o=t.v,i=nu.cross(n,r)/nu.cross(r,o);return t.source.clone().add(o.clone().multiplyScalar(i))}function gu(e,t,n,r,o){const i=e,a=n.clone().subtract(i),s=a.length(),l=t+r;if(l<s)return null;const u=Math.abs(t-r);if(s<u)return null;if(s===l){const n=a.clone().normalize(),r=e.clone().add(n.multiplyScalar(t));return o?r:[r,r]}if(s===u){const n=a.clone().normalize(),i=t>r,s=e.clone().add(n.multiplyScalar(i?t:-t));return o?s:[s,s]}const c=t,d=r,f=(Js(s,2)+Js(c,2)-Js(d,2))/(2*s*c),h=c*f,p=Math.sqrt(Js(c,2)-Js(h,2)),v=a.clone().normalize(),g=new tu(-v.y,v.x),y=v.clone().multiplyScalar(h),m=g.clone().multiplyScalar(p),b=e.clone().add(y).add(m),w=e.clone().add(y).subtract(m);if(o){const e=b.distance(o),t=w.distance(o);return e<t?b:w}return[b,w]}function yu(e,t,n,r){const o=ru.fromPositions(e,t),i=(n.width+n.strokeWidth)/2*r,a=(n.height+n.strokeWidth)/2*r,s=n.borderRadius>0?(n.borderRadius+n.strokeWidth/2)*r:0,l=(o.v.angle()-Math.PI/2)%Math.PI,u=Math.PI/2-l%Math.PI,c=a*Math.abs(Math.tan(l)),d=i*Math.abs(Math.tan(u)),f=c<=i-s,h=d<=a-s;if(f||h||0===s)return Math.sqrt(f?Js(a,2)+Js(c,2):Js(i,2)+Js(d,2));{const e=t.x-i+s,n=t.y-a+s,r=t.x+i-s,l=t.y+a-s,u=[new tu(e,n),new tu(r,n),new tu(r,l),new tu(e,l)],c=Math.floor((o.v.angleDegree()+360)%360/90),d=u[c],f=hu(o.source,fu(d,o),d,s);return f?ou(f,o.target).length():ou(d,o.target).length()+s}}function mu(e,t,n,r,o){const i=ru.fromLinePosition(e),a=i.v.clone().normalize(),s=0===r?i.source:i.source.clone().add(a.clone().multiplyScalar(r*o)),l=0===r?i.target:i.target.clone().subtract(a.clone().multiplyScalar(r*o)),u=(t.width/2+n)*o,c=new tu(-a.y,a.x).multiplyScalar(u);let d=nu.subtract(s,c),f=nu.add(s,c),h=nu.subtract(l,c),p=nu.add(l,c);const v=i.v.angleDegree();return(v<-90||v>=90)&&([d,f]=[f,d],[h,p]=[p,h]),{source:{above:d,below:f},target:{above:h,below:p}}}function bu(e,t,n,r){let o,i;return o="circle"===n.type?n.radius+n.strokeWidth/2:yu(t,e,n,1),i="circle"===r.type?r.radius+r.strokeWidth/2:yu(e,t,r,1),[o,i]}function wu(e,t,n){const{x:r,y:o}=e,i=r-t.x,a=o-t.y;return{x:i*Math.cos(n)-a*Math.sin(n)+t.x,y:i*Math.sin(n)+a*Math.cos(n)+t.y}}function xu(e){return e>0?-(2*Math.PI-e):2*Math.PI+e}function Su(e,t,n,r){const o=[],i=ru.fromVectors(t,e),a=ru.fromVectors(t,n);let s=ku(i,a);r*s<0&&(s=xu(s));const l=tu.fromObject(wu(e,t,-s/2)),u=ru.fromVectors(t,l),c=du(u),d=ku(i,u);let f=du(i);if(Math.abs(d)<Math.PI/2){const e=vu(f,c);o.push(e)}else{const e=tu.fromObject(wu(l,t,d/2)),n=du(ru.fromVectors(t,tu.fromObject(e))),r=vu(f,n),i=vu(n,c);o.push(r,e,i)}o.push(l);const h=ku(a,u);if(f=du(a),Math.abs(h)<Math.PI/2){const e=vu(f,c);o.push(e)}else{const e=tu.fromObject(wu(l,t,h/2)),n=du(ru.fromVectors(t,tu.fromObject(e))),r=vu(c,n),i=vu(n,f);o.push(r,e,i)}return o}function ku(e,t){return Math.atan2(e.v.y*t.v.x-e.v.x*t.v.y,e.v.x*t.v.x+e.v.y*t.v.y)}function Eu(e,t,n){const r=e.x,o=e.y,i=t.x,a=t.y,s=n.x,l=n.y,u=r-i,c=o-a,d=s-i,f=l-a,h=(f*(u*(r+i)+c*(o+a))-c*(d*(s+i)+f*(l+a)))/(2*u*f-2*c*d),p=(-d*(u*(r+i)+c*(o+a))+u*(d*(s+i)+f*(l+a)))/(2*u*f-2*c*d),v=Math.sqrt(Math.pow(r-h,2)+Math.pow(o-p,2));return[new tu(h,p),v]}function _u(e){return"circle"==e.type?e.radius:Math.min(e.width,e.height)/2}function Pu(e,t,n,r,o,a,s){const l=(0,f.qj)({});(0,i.YP)((()=>new Set(Object.keys(e.value))),((i,s)=>{s||(s=new Set([]));for(const n of i)s.has(n)||Ou(e,l,n,!1,t,o);for(const e of s)i.has(e)||(n.delete(e),r.delete(e),null==a||a(e,l[e]),delete l[e])}),{immediate:!0}),(0,i.YP)((()=>[...n]),((e,t)=>{const n=t?e.filter((e=>!t.includes(e))):e,r=t?t.filter((t=>!e.includes(t))):[];n.forEach((e=>{const t=l[e];t&&!t.selected&&(t.selected=!0)})),r.forEach((e=>{const t=l[e];t&&t.selected&&(t.selected=!1)}))}),{immediate:!0}),(0,i.YP)((()=>[...r]),((e,t)=>{const n=e.filter((e=>!t.includes(e))),r=t.filter((t=>!e.includes(t)));n.forEach((e=>{const t=l[e];t&&!t.hovered&&(t.hovered=!0)})),r.forEach((e=>{const t=l[e];t&&t.hovered&&(t.hovered=!1)}))}));const u=(0,i.Fl)((()=>{const e=s?s():Object.values(l);return t.zOrder.enabled?Mu(e,t.zOrder,r,n):e}));return{states:l,zOrderedList:u}}function Ou(e,t,n,r,o,a){const s={id:n,selected:r,hovered:!1,selectable:(0,i.Fl)((()=>e.value[n]?ul.value(o.selectable,e.value[n]):(0,f.SU)(s.selectable))),zIndex:(0,i.Fl)((()=>e.value[n]?ul.value(o.zOrder.zIndex,e.value[n]):(0,f.SU)(s.zIndex)))};t[n]=s,a(e,n,t[n])}function Mu(e,t,n,r){return t.bringToFrontOnHover&&t.bringToFrontOnSelected?e.sort(((e,t)=>{const o=n.has(e.id),i=n.has(t.id);if(o!=i)return o?1:-1;const a=r.has(e.id),s=r.has(t.id);return a!=s?a?1:-1:e.zIndex-t.zIndex})):t.bringToFrontOnHover?e.sort(((e,t)=>{const r=n.has(e.id),o=n.has(t.id);return r!=o?r?1:-1:e.zIndex-t.zIndex})):t.bringToFrontOnSelected?e.sort(((e,t)=>{const n=r.has(e.id),o=r.has(t.id);return n!=o?n?1:-1:e.zIndex-t.zIndex})):e.sort(((e,t)=>e.zIndex-t.zIndex))}function ju(e){return void 0===typeof btoa?Buffer.from(e).toString("base64").replaceAll("=",""):btoa(e).replaceAll("=","")}function Au(){return{markers:(0,f.qj)({}),referenceCount:{}}}function Tu(e){const{markers:t,referenceCount:n}=e;function r(e,r){var o;const i=null!=(o=n[e])?o:0;n[e]=i+1,i||(t[e]=r)}function o(e){var r;const o=null!=(r=n[e])?r:0;o&&(o-1===0?(delete t[e],delete n[e]):n[e]=o-1)}function i(e){e&&o(e)}function a(e,t,n,o,a){if("none"===e.type)return void i(n);if("custom"===e.type)return i(n),e.customId;const s=zu(e,t,o),l=Iu(s,a);return l===n||(i(n),r(l,s)),l}return{makeMarker:a,clearMarker:i}}function zu(e,t,n){var r;return tl(el({},e),{color:null!=(r=e.color)?r:n,isSource:t})}function Iu(e,t){const n=ju(e.color),r=e.isSource?"L":"R",o="strokeWidth"===e.units?"rel":"abs";return`marker_${t}_${e.type}_${e.width}_${e.height}_${e.margin}_${n}_${r}_${o}`}function Uu(e,t,n){return{objects:e,selected:t,hovered:n}}const Cu=Symbol("states"),Du={type:"none",width:0,height:0,margin:0,units:"strokeWidth",color:null};function Nu(e,t,n,r,o,a,s){const l=(0,f.qj)({}),u=ol({});(0,i.m0)((()=>{const n=Object.fromEntries(Object.keys(e.objects.value).map((e=>[e,{}])));Object.entries(t.objects.value).forEach((([e,t])=>{null!=n&&n[t.source]||(n[t.source]={}),null!=n&&n[t.target]||(n[t.target]={}),n[t.source][e]=t.target,n[t.target][e]=t.source})),Al(u,n)}));const{states:c,zOrderedList:d}=Pu(e.objects,r.node,e.selected,e.hovered,((e,t,n)=>{Bu(e,t,n,r.node,u,o)}),((e,t)=>{const n=o.nodes;delete n[e]})),h=Ml(),p=Tl(e.objects,t.objects,r),v=(0,f.iH)([]),{states:g,zOrderedList:y}=Pu(t.objects,r.edge,t.selected,t.hovered,((e,t,n)=>{Ru(e,t,n,r.edge,a,c,p,o,s,h)}),((e,t)=>{var n;null==(n=t.stopWatchHandle)||n.call(t)}),(()=>v.value));(0,i.m0)((()=>{v.value=Vu(p.edgeGroups,g)})),(0,i.YP)(p.edgeGroups,(e=>Gu(l,p,r)),{immediate:!0});const{states:m,zOrderedList:b}=Pu(n.objects,r.path,n.selected,n.hovered,((e,n,o)=>{const a=o;a.clickable=(0,i.Fl)((()=>!!e.value[n]&&ul.value(r.path.clickable,e.value[n]))),a.hoverable=(0,i.Fl)((()=>!!e.value[n]&&ul.value(r.path.hoverable,e.value[n]))),a.path=e.value[n],a.edges=(0,i.Fl)((()=>e.value[n].edges.map((e=>({edgeId:e,edge:t.objects.value[e]}))).filter((e=>e.edge))))})),w={nodeStates:c,edgeStates:g,edgeGroupStates:p,summarizedEdgeStates:l,pathStates:m,layouts:o,nodeZOrderedList:d,edgeZOrderedList:y,pathZOrderedList:b};return(0,i.JJ)(Cu,w),w}function Fu(e){return e.summarized}function Lu(){return il((0,i.f3)(Cu),"states")}function Zu(e,t,n,r){return n&&r.hover?ul.values(r.hover,e):$u(e,t,r)}function $u(e,t,n){return t&&n.selected?ul.values(n.selected,e):ul.values(n.normal,e)}function Bu(e,t,n,r,o,a){n.shape=(0,i.Fl)((()=>e.value[t]?Zu(e.value[t],n.selected,n.hovered,r):(0,f.SU)(n.shape))),n.staticShape=(0,i.Fl)((()=>e.value[t]?$u(e.value[t],n.selected,r):(0,f.SU)(n.staticShape))),n.label=(0,i.Fl)((()=>e.value[t]?ul.values(r.label,e.value[t]):(0,f.SU)(n.label))),n.labelText=(0,i.Fl)((()=>{var o,i;return r.label.text instanceof Function?(0,f.SU)(n.label).text:e.value[t]?null!=(i=null==(o=e.value[t])?void 0:o[(0,f.SU)(n.label).text])?i:"":(0,f.SU)(n.labelText)})),n.draggable=(0,i.Fl)((()=>e.value[t]?ul.value(r.draggable,e.value[t]):(0,f.SU)(n.draggable))),n.oppositeNodeIds=(0,f.Vh)(o,t),n.oppositeNodes=(0,i.Fl)((()=>Object.entries(n.oppositeNodeIds).reduce(((e,t)=>{const[n,r]=t,o=a.nodes[r];return o&&(e[n]={nodeId:r,pos:el({},o)}),e}),{})))}function Hu(e,t,n,r){return t?ul.values(r.selected,e):n&&r.hover?ul.values(r.hover,e):ul.values(r.normal,e)}function Wu(e){return"none"===e.type?Du:e}function Ru(e,t,n,r,o,a,s,l,u,c){const{makeMarker:d,clearMarker:h}=Tu(o);Object.assign(n,{origin:{p1:{x:0,y:0},p2:{x:0,y:0}},labelPosition:{p1:{x:0,y:0},p2:{x:0,y:0}},position:{p1:{x:0,y:0},p2:{x:0,y:0}}});const p=(0,i.Fl)((()=>{const o=e.value[t],i=Hu(o,n.selected,n.hovered,r);isNaN(+i.width)&&(console.warn("[v-network-graph] Edge width is invalid value. id=[%s] value=[%s]",t,i.width),i.width=1),(void 0===i.color||null===i.color)&&(console.warn("[v-network-graph] Edge color is invalid value. id=[%s] value=[%s]",t,i.color),i.color="#000000");let a=ul.value(r.normal.width,o);isNaN(+a)&&(a=1);const s=Wu(ul.values(r.marker.source,[o,i])),l=Wu(ul.values(r.marker.target,[o,i]));return{stroke:i,normalWidth:a,source:s,target:l}}));n.line=p;const v=(0,f.Vh)(s.edgeLayoutPoints,t),g=(0,f.Vh)(s.summarizedEdges,t),y=(0,i.m0)((()=>{var o,i,s,c,d;const f=e.value[t];if(!f)return;const h=l.nodes[null==f?void 0:f.source],y=l.nodes[null==f?void 0:f.target],m=null==(o=a[f.source])?void 0:o.staticShape,b=null==(i=a[f.target])?void 0:i.staticShape;if(!h||!y||!m||!b)return;const w=zl(v.value,null!=(s=g.value)&&s,h,y,u.value,r.keepOrder),[x,S]=bu(h,y,m,b),k=u.value;n.labelPosition=lu(w,x*k,S*k);let E=0,_=0;const P=p.value;if("none"!==P.source.type){const e=P.source;E=e.margin+e.width,"strokeWidth"===e.units&&(E*=P.normalWidth)}if("none"!==P.target.type){const e=P.target;_=e.margin+e.width,"strokeWidth"===e.units&&(_*=P.normalWidth)}r.margin&&(E+=r.margin,_+=r.margin);const O=!!r.margin||"none"!==P.source.type||"none"!==P.target.type;if(f.source===f.target){n.origin=su(h,y);const e=ul.values(r.selfLoop,f),[t,o]=qu(h,m,e,O,E,_,null!=(d=null==(c=v.value)?void 0:c.pointInGroup)?d:0,k);return n.position=t,n.loop=o,void(n.curve=void 0)}if(n.loop=void 0,O&&(E+=x,_+=S),"straight"===r.type)n.origin=w,n.curve=void 0,n.position=0===E&&0===_?n.origin:lu(n.origin,E*k,_*k);else{n.origin=su(h,y);const e=v.value?v.value.groupWidth/2-v.value.pointInGroup:0,[t,r]=Yu(n.origin,w,e,E*k,_*k);n.position=t,n.curve=r}})),m=(0,i.m0)((()=>{e.value[t]&&(n.sourceMarkerId=d(p.value.source,!0,n.sourceMarkerId,p.value.stroke.color,c),n.targetMarkerId=d(p.value.target,!1,n.targetMarkerId,p.value.stroke.color,c))}));n.stopWatchHandle=()=>{y(),m(),h(n.sourceMarkerId),h(n.targetMarkerId)}}function Vu(e,t){return Object.entries(e).map((([e,n])=>{var r;return n.summarize?{id:null!=(r=Object.keys(n.edges)[0])?r:e,summarized:!0,key:e,group:n,zIndex:Object.keys(n.edges).map((e=>{var n,r;return null!=(r=null==(n=t[e])?void 0:n.zIndex)?r:0})).reduce(((e,t)=>Math.max(e,t)))}:Object.entries(n.edges).map((([e,n])=>{var r,o;return{id:e,summarized:!1,key:e,edge:n,zIndex:null!=(o=null==(r=t[e])?void 0:r.zIndex)?o:0}}))})).flat()}function Yu(e,t,n,r,o){const i=ru.fromLinePosition(e),a=ru.fromLinePosition(t),s=au(t),[l,u]=Eu(i.source,i.target,s);let c,d;if(0===n)return c=0===r&&0===o?e:lu(e,r,o),[c,d];const f=ru.fromVectors(l,s),h=ku(ru.fromVectors(l,i.source),f);if(0===r&&0===o)c=e;else{let e=r/u,t=o/u;h>0&&(e*=-1,t*=-1),c=su(wu(i.source,l,e),wu(i.target,l,-t));let n=ku(ru.fromVectors(l,i.source),ru.fromVectors(l,i.target)),f=ku(ru.fromPositions(l,c.p1),ru.fromPositions(l,c.p2));if(h*n<0&&(n=xu(n),h*f<0&&(f=xu(f))),n*f<0){const e=s.clone().add(a.v.normalize().multiplyScalar(.5));return c=su(s,e),[c,d]}}const[p,v]=iu(c),g=Su(p,l,v,h).map((e=>e.toObject()));return d={center:s,theta:h,circle:{center:l,radius:u},control:g},[c,d]}function qu(e,t,n,r,o,i,a,s){const l=s,u=(n.radius+a/2)*l,c=n.offset*l+u,d=(n.angle-90)*(Math.PI/180),f=tu.fromObject({x:e.x+c*Math.cos(d),y:e.y+c*Math.sin(d)}),h=n.isClockwise;let p,v;if(r){const n=gu(f,u,tu.fromObject(e),_u(t)*l);if(n){[p,v]=n;let e=1;if(h||([p,v]=[v,p],e=-1),0!==o||0!==i){const t=o*l/u*e,n=i*l/u*e;p=wu(p,f,t),v=wu(v,f,-n)}}}if(void 0===p||void 0===v){const t=tu.fromObject(e).subtract(f).normalize().multiplyScalar(u);let n=Math.PI/180*1;h||(n*=-1),p=f.clone().add(Gl(t,n)),v=f.clone().add(Gl(t,-n))}const g=tu.fromObject(p).subtract(f).angleDegree(),y=(tu.fromObject(v).subtract(f).angleDegree()+360-g)%360>=180;return[{p1:p,p2:v},{center:f,radius:[u,u],isLargeArc:h?y:!y,isClockwise:h}]}function Gu(e,t,n){const r=t.edgeGroups;Object.entries(r).filter((([t,n])=>n.summarize&&!(t in e))).forEach((([t,r])=>{const o={stroke:void 0};o.stroke=(0,i.Fl)((()=>ul.values(n.edge.summarized.stroke,r.edges))),e[t]=o})),Object.keys(e).forEach((n=>{var r;null!=(r=t.edgeGroups[n])&&r.summarize||delete e[n]}))}class Ku{static valueOf(e){return Array.from(e.values())}}const Xu=3,Ju=6,Qu=500;function ec(e){return"touch"===e?Ju:Xu}function tc(e,t,n,r){let o,i,a=e.get(t);if(a)a.id!==n&&(a=void 0);else{const t=Array.from(e.entries()).find((([e,t])=>t.id===n));if(t){const[n,r]=t;e.delete(n),a=r}}return[a,o,i]=nc(a,r,n),e.set(t,a),[o,i]}function nc(e,t,n){const r=Date.now();e&&r-e.lastTime<=Qu?(e.count++,e.lastTime=r):e={count:1,lastTime:r,id:n};const o={view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,button:t.button,buttons:t.buttons,detail:e.count};let i,a;return t instanceof PointerEvent?(Object.assign(o,{pointerId:t.pointerId,width:t.width,height:t.height,pressure:t.pressure,tangentialPressure:t.tangentialPressure,tiltX:t.tiltX,tiltY:t.tiltY,twist:t.twist,pointerType:t.pointerType,isPrimary:t.isPrimary}),i=new PointerEvent("click",o),2===e.count&&(a=new PointerEvent("dblclick",o))):(i=new MouseEvent("click",o),2===e.count&&(a=new MouseEvent("dblclick",o))),[e,i,a]}function rc(e){const t=Date.now();Array.from(e.entries()).filter((([e,n])=>t-n.lastTime>Qu)).map((([t,n])=>e.delete(t)))}function oc(e,t,n,r,o,a,s){const l={pointers:new Map,follow:{followedPointerId:-1,nodeBasePositions:{}},hoveredNodesPre:new Set,clicks:new Map},u={pointermove:p,pointerup:g,pointercancel:v};function c(n){const r=l.follow.followedPointerId===n.pointerId,i=o.has(n.nodeId),a=!(n.pointerId in l.pointers);if(r&&a||r&&!i){const e=Ku.valueOf(l.pointers).find((e=>o.has(e.nodeId)));if(!e)return void(l.follow={followedPointerId:-1,nodeBasePositions:{}});n=e,l.follow.followedPointerId=n.pointerId}else{const e=l.pointers.get(l.follow.followedPointerId);if(!e)return void(l.follow={followedPointerId:-1,nodeBasePositions:{}});n=e}if(r||i){const r=Ku.valueOf(l.pointers).map((e=>e.nodeId));l.follow.nodeBasePositions=Object.fromEntries(Array.from(o).filter((e=>!r.includes(e))).filter((t=>{var n;return null==(n=e[t])?void 0:n.draggable})).map((e=>[e,ic(t.nodes,e)]))),n.dragBasePosition=el({},n.latestPosition),n.nodeBasePosition=ic(t.nodes,n.nodeId)}}function d(e,t){const n=e.dragBasePosition.x-t.pageX,r=e.dragBasePosition.y-t.pageY,o=l.follow.followedPointerId==e.pointerId?el({[e.nodeId]:e.nodeBasePosition},l.follow.nodeBasePositions):{[e.nodeId]:e.nodeBasePosition},i=a.value;return Object.fromEntries(Object.entries(o).map((([e,t])=>[e,{x:t.x-n/i,y:t.y-r/i}])))}function f(t,r){var i,a;if(r.isTrusted||r.shiftKey&&!["container","node"].includes(n.selectionMode.value))return;n.selectionMode.value="node";const u=null!=(a=null==(i=e[t])?void 0:i.selectable)&&a;if(u){const e=Ku.valueOf(l.pointers).filter((e=>o.has(e.nodeId))).length>0;r.shiftKey||e?o.has(t)?o.delete(t):"number"==typeof u&&o.size>=u||o.add(t):o.has(t)||(o.clear(),o.add(t))}s.emit("node:click",{node:t,event:r})}function h(e,t){t.isTrusted||s.emit("node:dblclick",{node:e,event:t})}function p(t){var n;t.stopPropagation();const r=l.pointers.get(t.pointerId);if(!r)return;r.latestPosition={x:t.pageX,y:t.pageY},r.moveCounter++;const o=ec(t.pointerType);if(r.moveCounter<=o||null==(n=e[r.nodeId])||!n.draggable)return;if(r.moveCounter===o+1){const e=d(r,{pointerId:r.pointerId,pageX:r.dragBasePosition.x,pageY:r.dragBasePosition.y});s.emit("node:dragstart",e)}const i=d(r,t);s.emit("node:pointermove",i)}function v(e){e.stopPropagation();let t=l.pointers.get(e.pointerId);if(t){for(t of l.pointers.values()){const n=t.nodeId,r=ec(e.pointerType);if(t.moveCounter>r){const e=d(t,{pointerId:t.pointerId,pageX:t.latestPosition.x,pageY:t.latestPosition.y});s.emit("node:dragend",e)}s.emit("node:pointerup",{node:n,event:e})}l.pointers.clear(),l.follow={followedPointerId:-1,nodeBasePositions:{}},jl(u).forEach((([e,t])=>{document.removeEventListener(e,t)})),n.viewMode.value="default"}}function g(t){var o,i,a;t.stopPropagation();const f=l.pointers.get(t.pointerId);if(!f)return;l.pointers.delete(t.pointerId);const h=f.nodeId,p=ec(t.pointerType),v=f.moveCounter>p;if(v){if(null!=(o=e[f.nodeId])&&o.draggable){const e=d(f,t);s.emit("node:dragend",e),s.emit("node:pointerup",{node:h,event:t})}}else s.emit("node:pointerup",{node:h,event:t});if(!v){const[e,n]=tc(l.clicks,f.pointerId,h,t);null==(i=f.eventTarget)||i.dispatchEvent(e),n&&(null==(a=f.eventTarget)||a.dispatchEvent(n))}0===l.pointers.size?(l.follow={followedPointerId:-1,nodeBasePositions:{}},jl(u).forEach((([e,t])=>{document.removeEventListener(e,t)})),rc(l.clicks),n.viewMode.value="default"):c(f),r.clear(),l.hoveredNodesPre.forEach(r.add,r)}function y(e,r){if(2==r.button||(r.stopPropagation(),!["default","node"].includes(n.viewMode.value)))return;0==l.pointers.size&&(n.viewMode.value="node",jl(u).forEach((([e,t])=>{document.addEventListener(e,t)})));const i={pointerId:r.pointerId,nodeId:e,moveCounter:0,nodeBasePosition:ic(t.nodes,e),dragBasePosition:{x:r.pageX,y:r.pageY},latestPosition:{x:r.pageX,y:r.pageY},eventTarget:r.currentTarget};l.pointers.set(r.pointerId,i),o.has(e)&&(l.follow.followedPointerId<0?(l.follow.followedPointerId=r.pointerId,c(i)):delete l.follow.nodeBasePositions[i.nodeId]),s.emit("node:pointerdown",{node:e,event:r})}function m(e,t){l.hoveredNodesPre.add(e),!(l.pointers.size>0)&&(r.add(e),s.emit("node:pointerover",{node:e,event:t}))}function b(e,t){l.hoveredNodesPre.delete(e),!(l.pointers.size>0)&&(r.delete(e),s.emit("node:pointerout",{node:e,event:t}))}function w(e,t){t.stopPropagation(),s.emit("node:contextmenu",{node:e,event:t})}return(0,i.YP)(o,(e=>{const t=l.pointers.get(l.follow.followedPointerId);t&&c(t),e.size>0&&"node"!==n.selectionMode.value?n.selectionMode.value="node":0===e.size&&"node"===n.selectionMode.value&&(n.selectionMode.value="container")})),(0,i.YP)(n.selectionMode,(e=>{"node"!==e&&o.clear()})),{handleNodePointerDownEvent:y,handleNodePointerOverEvent:m,handleNodePointerOutEvent:b,handleNodeClickEvent:f,handleNodeDoubleClickEvent:h,handleNodeContextMenu:w}}function ic(e,t){var n;const r=null!=(n=e[t])?n:{x:0,y:0};return el({},r)}function ac(e,t,n,r,o){const a={pointers:new Map,pointerPeekCount:0,clicks:new Map},s={pointerup:u,pointercancel:c};function l(e,n){if(2==n.button||(n.stopPropagation(),!["default","edge"].includes(t.viewMode.value)))return;0==a.pointers.size&&(t.viewMode.value="edge",jl(s).forEach((([e,t])=>{document.addEventListener(e,t)})),a.pointerPeekCount=0),a.pointerPeekCount++;const r={pointerId:n.pointerId,id:e,eventTarget:n.currentTarget};a.pointers.set(n.pointerId,r),o.emit("edge:pointerdown",sc(e,n))}function u(e){var n,r;e.stopPropagation();const i=a.pointers.get(e.pointerId);if(!i)return;a.pointers.delete(e.pointerId);const l=i.id;o.emit("edge:pointerup",sc(l,e));const[u,c]=tc(a.clicks,i.pointerId,l instanceof Array?l.join(","):l,e);null==(n=i.eventTarget)||n.dispatchEvent(u),c&&(null==(r=i.eventTarget)||r.dispatchEvent(c)),0===a.pointers.size&&(a.pointerPeekCount=0,jl(s).forEach((([e,t])=>{document.removeEventListener(e,t)})),rc(a.clicks),t.viewMode.value="default")}function c(e){if(e.stopPropagation(),a.pointers.get(e.pointerId)){for(const t of a.pointers.values()){const n=t.id;o.emit("edge:pointerup",sc(n,e))}a.pointers.clear(),a.pointerPeekCount=0,jl(s).forEach((([e,t])=>{document.removeEventListener(e,t)})),o.emit("view:mode","default")}}function d(n,i){var s;if(i.isTrusted||i.shiftKey&&!["container","edge"].includes(t.selectionMode.value))return;t.selectionMode.value="edge";const l=n instanceof Array?n:[n],u=Ku.valueOf(a.pointers).filter((e=>(e.id instanceof Array?e.id:[e.id]).every((e=>r.has(e))))).length>0;if(n instanceof Array)l.find((t=>{var n;return null==(n=e[t])?void 0:n.selectable}))&&(i.shiftKey||u?l.some((e=>r.has(e)))?l.forEach((e=>r.delete(e))):l.forEach((t=>{var n;const o=null==(n=e[t])?void 0:n.selectable;"number"==typeof o&&r.size>=o||r.add(t)})):(r.clear(),l.forEach((e=>r.add(e)))));else{const t=null==(s=e[n])?void 0:s.selectable;t&&(i.shiftKey||u?r.has(n)?r.delete(n):"number"==typeof t&&r.size>=t||r.add(n):r.has(n)||(r.clear(),r.add(n)))}o.emit("edge:click",sc(n,i))}function f(e,t){t.isTrusted||o.emit("edge:dblclick",sc(e,t))}function h(e,t){n.add(e),o.emit("edge:pointerover",sc(e,t))}function p(e,t){n.delete(e),o.emit("edge:pointerout",sc(e,t))}function v(e,t){t.stopPropagation(),o.emit("edge:contextmenu",sc(e,t))}function g(e,n){if(2==n.button||(n.stopPropagation(),!["default","edge"].includes(t.viewMode.value)))return;0==a.pointers.size&&(t.viewMode.value="edge",jl(s).forEach((([e,t])=>{document.addEventListener(e,t)})),a.pointerPeekCount=0),a.pointerPeekCount++;const r={pointerId:n.pointerId,id:e,eventTarget:n.currentTarget};a.pointers.set(n.pointerId,r),o.emit("edge:pointerdown",sc(e,n))}function y(e,t){e.forEach((e=>n.add(e))),o.emit("edge:pointerover",sc(e,t))}function m(e,t){e.forEach((e=>n.delete(e))),o.emit("edge:pointerout",sc(e,t))}function b(e,t){d(e,t)}function w(e,t){f(e,t)}function x(e,t){t.stopPropagation(),o.emit("edge:contextmenu",sc(e,t))}return(0,i.YP)(r,(e=>{e.size>0&&"edge"!==t.selectionMode.value?t.selectionMode.value="edge":0===e.size&&"edge"===t.selectionMode.value&&(t.selectionMode.value="container")})),(0,i.YP)(t.selectionMode,(e=>{"edge"!==e&&r.clear()})),{handleEdgePointerDownEvent:l,handleEdgePointerOverEvent:h,handleEdgePointerOutEvent:p,handleEdgeClickEvent:d,handleEdgeDoubleClickEvent:f,handleEdgeContextMenu:v,handleEdgesPointerDownEvent:g,handleEdgesPointerOverEvent:y,handleEdgesPointerOutEvent:m,handleEdgesClickEvent:b,handleEdgesDoubleClickEvent:w,handleEdgesContextMenu:x}}function sc(e,t){return e instanceof Array?{edges:e,event:t,summarized:!0}:{edge:e,edges:[e],event:t,summarized:!1}}function lc(e,t,n,r){const o={moveCounter:0,pointerCounter:0,clickState:void 0},a={pointermove:l,pointerup:u,pointercancel:u};function s(e){o.moveCounter=0,0===o.pointerCounter&&jl(a).forEach((([e,t])=>{document.addEventListener(e,t,{passive:!0})})),o.pointerCounter++}function l(e){o.moveCounter++}function u(n){if(o.pointerCounter--,o.pointerCounter<=0){o.pointerCounter=0,jl(a).forEach((([e,t])=>{document.removeEventListener(e,t)}));const r=ec(n.pointerType);if(o.moveCounter<=r){if(n.shiftKey&&"container"!==t.selectionMode.value)return;t.selectionMode.value="container";const[r,i,a]=nc(o.clickState,n,"view");o.clickState=r,e.value.dispatchEvent(i),a&&e.value.dispatchEvent(a)}}}function c(e){e.isTrusted||(e.stopPropagation(),r.emit("view:click",{event:e}))}function d(e){e.isTrusted||(e.stopPropagation(),r.emit("view:dblclick",{event:e}))}function f(t){r.emit("view:contextmenu",{event:t}),o.pointerCounter>0&&(o.pointerCounter=0,jl(a).forEach((([t,n])=>{var r;null==(r=e.value)||r.removeEventListener(t,n)})))}const h=e=>{e.preventDefault()};(0,i.bv)((()=>{const t=e.value;t&&(t.addEventListener("pointerdown",s,{passive:!0}),t.addEventListener("click",c,{passive:!1}),t.addEventListener("dblclick",d,{passive:!1}),t.addEventListener("contextmenu",f,{passive:!1}),n.value&&t.addEventListener("wheel",h,{passive:!1}))})),(0,i.Ah)((()=>{const t=e.value;t&&(t.removeEventListener("pointerdown",s),t.removeEventListener("click",c),t.removeEventListener("dblclick",d),t.removeEventListener("contextmenu",f),n.value&&t.removeEventListener("wheel",h))})),(0,i.YP)(n,((t,n)=>{const r=e.value;!r||t===n||(t?r.addEventListener("wheel",h,{passive:!1}):r.removeEventListener("wheel",h))}))}function uc(e,t,n,r,o,a){const s={pointers:new Map,pointerPeekCount:0,clicks:new Map};function l(t,n){var r,i;return o.value?{path:null!=(i=null==(r=e[t])?void 0:r.path)?i:t,event:n}:{path:t,event:n}}const u={pointerup:d,pointercancel:f};function c(n,r){var o;if(null==(o=e[n])||!o.clickable||2==r.button||(r.stopPropagation(),!["default","path"].includes(t.viewMode.value)))return;0==s.pointers.size&&(t.viewMode.value="path",jl(u).forEach((([e,t])=>{document.addEventListener(e,t)})),s.pointerPeekCount=0),s.pointerPeekCount++;const i={pointerId:r.pointerId,id:n,eventTarget:r.currentTarget};s.pointers.set(r.pointerId,i),a.emit("path:pointerdown",l(n,r))}function d(e){var n,r;const o=s.pointers.get(e.pointerId);if(!o)return;e.stopPropagation(),s.pointers.delete(e.pointerId);const i=o.id;a.emit("path:pointerup",l(i,e));const[c,d]=tc(s.clicks,o.pointerId,i,e);null==(n=o.eventTarget)||n.dispatchEvent(c),d&&(null==(r=o.eventTarget)||r.dispatchEvent(d)),0===s.pointers.size&&(s.pointerPeekCount=0,jl(u).forEach((([e,t])=>{document.removeEventListener(e,t)})),rc(s.clicks),t.viewMode.value="default")}function f(e){if(s.pointers.get(e.pointerId)){e.stopPropagation();for(const t of s.pointers.values()){const n=t.id;a.emit("path:pointerup",l(n,e))}s.pointers.clear(),s.pointerPeekCount=0,jl(u).forEach((([e,t])=>{document.removeEventListener(e,t)})),a.emit("view:mode","default")}}function h(t,r){var o;null!=(o=e[t])&&o.hoverable&&(n.add(t),a.emit("path:pointerover",l(t,r)))}function p(t,r){var o;null!=(o=e[t])&&o.hoverable&&(n.delete(t),a.emit("path:pointerout",l(t,r)))}function v(n,o){var i,u,c;if(o.isTrusted||null==(i=e[n])||!i.clickable||o.shiftKey&&!["container","path"].includes(t.selectionMode.value))return;t.selectionMode.value="path";const d=null!=(c=null==(u=e[n])?void 0:u.selectable)&&c;if(d){const e=Ku.valueOf(s.pointers).filter((e=>r.has(e.id))).length>0;o.shiftKey||e?r.has(n)?r.delete(n):"number"==typeof d&&r.size>=d||r.add(n):r.has(n)||(r.clear(),r.add(n))}a.emit("path:click",l(n,o))}function g(t,n){var r;n.isTrusted||null!=(r=e[t])&&r.clickable&&a.emit("path:dblclick",l(t,n))}function y(t,n){var r;null!=(r=e[t])&&r.clickable&&(n.stopPropagation(),a.emit("path:contextmenu",l(t,n)))}return(0,i.YP)(r,(e=>{e.size>0&&"path"!==t.selectionMode.value?t.selectionMode.value="path":0===e.size&&"path"===t.selectionMode.value&&(t.selectionMode.value="container")})),(0,i.YP)(t.selectionMode,(e=>{"path"!==e&&r.clear()})),{handlePathPointerDownEvent:c,handlePathPointerOverEvent:h,handlePathPointerOutEvent:p,handlePathClickEvent:v,handlePathDoubleClickEvent:g,handlePathContextMenu:y}}function cc(e){return nl(this,null,(function*(){const t=yield(yield fetch(e)).blob();return new Promise(((e,n)=>{try{const n=new FileReader;n.onload=function(){e(this.result)},n.readAsDataURL(t)}catch(r){n(r)}}))}))}function dc(e,t,n){var r;const o=e.createSVGPoint();o.x=n.x,o.y=n.y;const i=o.matrixTransform(null==(r=t.getCTM())?void 0:r.inverse());return{x:i.x,y:i.y}}function fc(e,t,n){const r=e.createSVGPoint();r.x=n.x,r.y=n.y;const o=r.matrixTransform(t.getCTM());return{x:o.x,y:o.y}}function hc(e,t,n){var r;const o=e.cloneNode(!0),i=t.getBBox(),a=1/n,s={x:Math.floor((i.x-10)*a),y:Math.floor((i.y-10)*a),width:Math.ceil((i.width+20)*a),height:Math.ceil((i.height+20)*a)};o.setAttribute("width",s.width.toString()),o.setAttribute("height",s.height.toString());const l=o.querySelector(".v-ng-viewport");l.setAttribute("transform",`translate(${-s.x} ${-s.y}), scale(${a})`),l.removeAttribute("style"),o.setAttribute("viewBox",`0 0 ${s.width} ${s.height}`),o.removeAttribute("style");const u=document.createNodeIterator(o,NodeFilter.SHOW_COMMENT);for(;u.nextNode();){const e=u.referenceNode;null==(r=e.parentNode)||r.removeChild(e)}return o}function pc(e){return nl(this,null,(function*(){let t=!1,n=e.getAttribute("href");if(n||(t=!0,n=e.getAttribute("xlink:href")),n&&!n.startsWith("data:"))try{const r=yield cc(n);e.setAttribute(t?"xlink:href":"href",r)}catch(r){return void console.warn("Image download failed.",n)}}))}function vc(e,t,n){return nl(this,arguments,(function*(e,t,n,r={}){const o=hc(e,t,n);if(r.embedImages){const e=Array.from(o.querySelectorAll("image")).map((e=>pc(e)));yield Promise.all(e)}return o}))}function gc(e,t,n,r,o,a){const s=(0,i.Fl)((()=>!!a.node.selectable&&a.view.boxSelectionEnabled)),l=(0,i.Fl)((()=>"box-selection"===t.viewMode.value)),u=(0,f.iH)(),c=(0,f.iH)(),d={pointers:new Set,points:new Map,startPoint:null,selectedNodesAtSelectStarted:new Set,selectionType:"append",options:{stopTrigger:"pointerup",selectionType:"append",selectionTypeWithShiftKey:"same"}},h=ys((()=>{yc(il(e.value,"container"),il(u.value,"viewport"),c,n.nodes,r,o,d.selectedNodesAtSelectStarted,d.selectionType)}),50,{maxWait:100}),p=new mc(e,g,y,m,v,b);function v(e){if("click"!==d.options.stopTrigger||d.pointers.size>0)return;const t={x:e.offsetX,y:e.offsetY};d.startPoint&&tu.fromObject(d.startPoint).distance(t)>10||k()}function g(e){e.stopPropagation();const t={x:e.offsetX,y:e.offsetY};0===d.pointers.size&&(d.startPoint=t,p.activate(),d.selectedNodesAtSelectStarted.clear(),o.forEach((e=>d.selectedNodesAtSelectStarted.add(e))),"same"===d.options.selectionTypeWithShiftKey?d.selectionType=d.options.selectionType:d.selectionType=e.shiftKey?d.options.selectionTypeWithShiftKey:d.options.selectionType),d.pointers.has(e.pointerId)||d.pointers.add(e.pointerId),d.points.set(e.pointerId,t),w()}function y(t){if(d.pointers.delete(t.pointerId),1===d.pointers.size){const n=il(e.value).getBoundingClientRect(),r={x:t.x-n.x,y:t.y-n.y};d.startPoint=r}else 0===d.pointers.size&&(p.deactivate(),"pointerup"===d.options.stopTrigger&&k(),d.selectedNodesAtSelectStarted.clear());w()}function m(t){const n=il(e.value).getBoundingClientRect(),r={x:t.x-n.x,y:t.y-n.y};d.points.set(t.pointerId,r),w(),h()}function b(e){"Escape"===e.key&&"manual"!==d.options.stopTrigger&&(e.stopPropagation(),k())}function w(){let e,t;const n=Array.from(d.pointers);if(n.length>=2){const r=n[0],o=n[n.length-1];e=d.points.get(r),t=d.points.get(o)}else if(d.startPoint&&1===n.length){const r=n[0];e=d.startPoint,t=d.points.get(r)}else e=void 0,t=void 0;e&&t?(c.value={pos:{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y)},size:{width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}},0===c.value.size.width&&(c.value.size.width=1),0===c.value.size.height&&(c.value.size.height=1)):c.value&&(c.value=void 0)}const x=new bc(e,(e=>{s.value&&a.view.selection.detector(e)&&(S({stop:"manual",type:"append",withShiftKey:"invert"}),x.activate())}),(e=>{s.value&&a.view.selection.detector(e)&&(0===d.pointers.size?k():d.options.stopTrigger="pointerup",x.deactivate())}));function S(e={}){var n,r,o;d.options={stopTrigger:null!=(n=e.stop)?n:"pointerup",selectionType:null!=(r=e.type)?r:"append",selectionTypeWithShiftKey:null!=(o=e.withShiftKey)?o:"same"},"box-selection"!==t.viewMode.value&&(t.viewMode.value="box-selection",d.pointers.clear(),p.register())}function k(){"box-selection"===t.viewMode.value&&(t.viewMode.value="default",p.unregister())}return(0,i.YP)(s,(e=>{e?x.register():x.unregister()})),(0,i.bv)((()=>{var t;u.value=null==(t=e.value)?void 0:t.querySelector(".v-ng-viewport"),s.value&&x.register()})),(0,i.Ah)((()=>{k(),s.value&&x.unregister()})),{isBoxSelectionMode:l,selectionBox:c,startBoxSelection:S,stopBoxSelection:k}}function yc(e,t,n,r,o,i,a,s){if(!n.value)return;const l=n.value,u=dc(e,t,l.pos),c=dc(e,t,{x:l.pos.x+l.size.width,y:l.pos.y+l.size.height}),d=new Set(Object.entries(r).filter((([e,t])=>u.x<=t.x&&t.x<=c.x&&u.y<=t.y&&t.y<=c.y)).map((([e,t])=>e)));if("append"===s)i.forEach((e=>{d.has(e)||i.delete(e)})),d.forEach((e=>{var t,n;const r=null!=(n=null==(t=o[e])?void 0:t.selectable)&&n;(!0===r||"number"==typeof r&&i.size<r)&&i.add(e)}));else{const e=new Set(a);e.forEach((t=>{d.has(t)&&e.delete(t)})),d.forEach((t=>{var n,r;if(!a.has(t)){const i=null!=(r=null==(n=o[t])?void 0:n.selectable)&&r;(!0===i||"number"==typeof i&&e.size<i)&&e.add(t)}})),i.clear(),e.forEach((e=>i.add(e)))}}class mc{constructor(e,t,n,r,o,i){this._container=e,this._handlePointerDownEvent=t,this._handlePointerUpEvent=n,this._handlePointerMoveEvent=r,this._handleClickEvent=o,this._handleKeyDownEvent=i,this._ignoreEvent=e=>e.stopPropagation()}register(){const e={capture:!0,passive:!1},t=il(this._container.value,"container");t.addEventListener("pointerdown",this._handlePointerDownEvent,e),t.addEventListener("click",this._handleClickEvent,e),t.addEventListener("pointerenter",this._ignoreEvent,e),t.addEventListener("pointerleave",this._ignoreEvent,e),document.addEventListener("keydown",this._handleKeyDownEvent,e)}activate(){const e={capture:!0,passive:!1};document.addEventListener("pointermove",this._handlePointerMoveEvent,e),document.addEventListener("pointerup",this._handlePointerUpEvent,e)}deactivate(){const e={capture:!0};document.removeEventListener("pointermove",this._handlePointerMoveEvent,e),document.removeEventListener("pointerup",this._handlePointerUpEvent,e)}unregister(){this.deactivate();const e={capture:!0};if(this._container.value){const t=this._container.value;t.removeEventListener("pointerdown",this._handlePointerDownEvent,e),t.removeEventListener("click",this._handleClickEvent,e),t.removeEventListener("pointerenter",this._ignoreEvent,e),t.removeEventListener("pointerleave",this._ignoreEvent,e),document.removeEventListener("keydown",this._handleKeyDownEvent,e)}}}class bc{constructor(e,t,n){this._container=e,this._handleKeyDownEvent=t,this._handleKeyUpEvent=n,this._preventDefault=e=>{e.stopPropagation(),e.preventDefault()}}register(){document.addEventListener("keydown",this._handleKeyDownEvent,{capture:!0,passive:!0})}activate(){document.addEventListener("keyup",this._handleKeyUpEvent,{capture:!0,passive:!0}),il(this._container.value,"container").addEventListener("contextmenu",this._preventDefault,{passive:!1})}deactivate(){document.removeEventListener("keyup",this._handleKeyUpEvent,{capture:!0}),this._container.value&&this._container.value.removeEventListener("contextmenu",this._preventDefault)}unregister(){this.deactivate(),document.removeEventListener("keydown",this._handleKeyDownEvent,{capture:!0})}}const wc=Symbol("mouseEventHandlers");function xc(e,t,n,r,o,a,s,l,u,c,d,h,p,v,g,y){const m={selectionMode:(0,f.iH)("container"),viewMode:(0,f.iH)("default")};s.size>0?m.selectionMode.value="node":l.size>0?m.selectionMode.value="edge":u.size>0&&(m.selectionMode.value="path"),(0,i.YP)(m.viewMode,(e=>{y.emit("view:mode",e)})),lc(e,m,v,y);const b=el(el(el(el({selectedNodes:s,hoveredNodes:c,selectedEdges:l,hoveredEdges:d,selectedPaths:u,hoveredPaths:h},oc(r,t,m,c,s,n,y)),ac(o,m,d,l,y)),uc(a,m,h,u,p,y)),gc(e,m,t,r,s,g));return(0,i.JJ)(wc,b),b}function Sc(){return il((0,i.f3)(wc),"mouseEventHandlers")}function kc(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map((function(e){e(n)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,n)}))}}}const Ec=Symbol("emitter");function _c(){const e=kc();return(0,i.JJ)(Ec,e),e}function Pc(){return il((0,i.f3)(Ec),"event emitter")}var Oc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jc={getGlobalThis:function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof Oc)return Oc;if("undefined"!=typeof this)return this;throw new Error("Unable to locate global `this`")},extend:function(e,t){for(var n in e=e||{},t)this.isObject(t[n])?e[n]=this.extend(e[n],t[n]):e[n]=t[n];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var t,n;if(this.isElement(e))t=e;else{if(!("string"==typeof e||e instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(t=document.querySelector(e),!t)throw new Error("Provided selector did not find any elements. Selector: "+e)}if("svg"===t.tagName.toLowerCase())n=t;else if("object"===t.tagName.toLowerCase())n=t.contentDocument.documentElement;else{if("embed"!==t.tagName.toLowerCase())throw"img"===t.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=t.getSVGDocument().documentElement}return n},proxy:function(e,t){return function(){return e.apply(t,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,t){if(void 0===e.clientX||null===e.clientX)if(e.clientX=0,e.clientY=0,void 0!==e.touches&&e.touches.length){if(void 0!==e.touches[0].clientX)e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;else if(void 0!==e.touches[0].pageX){var n=t.getBoundingClientRect();e.clientX=e.touches[0].pageX-n.left,e.clientY=e.touches[0].pageY-n.top}}else void 0!==e.originalEvent&&void 0!==e.originalEvent.clientX&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},touchNormalize:function(e,t,n){if(void 0!==e.touches&&e.touches.length){if(void 0!==e.touches[n].clientX)e.clientX=e.touches[n].clientX,e.clientY=e.touches[n].clientY;else if(void 0!==e.touches[n].pageX){var r=t.getBoundingClientRect();e.clientX=e.touches[n].pageX-r.left,e.clientY=e.touches[n].pageY-r.top}}else(void 0===e.clientX||null===e.clientX)&&(e.clientX=0,e.clientY=0,void 0!==e.originalEvent&&void 0!==e.originalEvent.clientX&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY))},isDblClick:function(e,t){if(2===e.detail)return!0;if(null!=t){var n=e.timeStamp-t.timeStamp,r=Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2));return n<250&&r<10}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(e,t,n){var r,o,i,a=this,s=null,l=0;n||(n={});var u=function(){l=!1===n.leading?0:a.now(),s=null,i=e.apply(r,o),s||(r=o=null)};return function(){var c=a.now();!l&&!1===n.leading&&(l=c);var d=t-(c-l);return r=this,o=arguments,d<=0||d>t?(clearTimeout(s),s=null,l=c,i=e.apply(r,o),s||(r=o=null)):!s&&!1!==n.trailing&&(s=setTimeout(u,d)),i}},createRequestAnimationFrame:function(e){var t=null;return"auto"!==e&&e<60&&e>1&&(t=Math.floor(1e3/e)),null===t?window.requestAnimationFrame||Ac(33):Ac(t)},calculateDistance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}};function Ac(e){return function(t){window.setTimeout(t,e)}}var Tc=jc,zc=function(){var e,t,n,r="",o=[],i={passive:!0},a={passive:!1};function s(){return n||(n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"),n}function l(e,t){var n=function(e){!e&&(e=window.event);var n={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==s()?(n.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(n.deltaX=-.025*e.wheelDeltaX)):n.deltaY=e.detail,t(n)};return o.push({element:e,fn:n}),n}function u(e){for(var t=0;t<o.length;t++)if(o[t].element===e)return o[t].fn;return function(){}}function c(e){for(var t=0;t<o.length;t++)if(o[t].element===e)return o.splice(t,1)}function d(t,n,o,u){var c;c="wheel"===s()?o:l(t,o),t[e](r+n,c,u?i:a)}function f(e,n,o,l){var d;d="wheel"===s()?o:u(e),e[t](r+n,d,l?i:a),c(e)}function h(e,t,n){d(e,s(),t,n),"DOMMouseScroll"==s()&&d(e,"MozMousePixelScroll",t,n)}function p(e,t,n){f(e,s(),t,n),"DOMMouseScroll"==s()&&f(e,"MozMousePixelScroll",t,n)}return Tc.getGlobalThis().addEventListener?(e="addEventListener",t="removeEventListener"):(e="attachEvent",t="detachEvent",r="on"),{on:h,off:p}}(),Ic=jc,Uc="unknown";
/*@cc_on!@*/"undefined"!=typeof document&&document.documentMode&&(Uc="ie");var Cc={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,t){var n=null;if(n=Ic.isElement(t)?t:e.querySelector(t),!n){var r=Array.prototype.slice.call(e.childNodes||e.children).filter((function(e){return"defs"!==e.nodeName&&"#text"!==e.nodeName}));1===r.length&&"g"===r[0].nodeName&&null===r[0].getAttribute("transform")&&(n=r[0])}if(!n){var o="viewport-"+(new Date).toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",o);var i=e.childNodes||e.children;if(i&&i.length>0)for(var a=i.length;a>0;a--)"defs"!==i[i.length-a].nodeName&&n.appendChild(i[i.length-a]);e.appendChild(n)}var s=[];return n.getAttribute("class")&&(s=n.getAttribute("class").split(" ")),~s.indexOf("svg-pan-zoom_viewport")||(s.push("svg-pan-zoom_viewport"),n.setAttribute("class",s.join(" "))),n},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==e.parentNode){var t=e.getAttribute("style")||"";-1===t.toLowerCase().indexOf("overflow")&&e.setAttribute("style","overflow: hidden; "+t)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:Ic.throttle((function(){for(var e=document.querySelectorAll("defs"),t=e.length,n=0;n<t;n++){var r=e[n];r.parentNode.insertBefore(r,r)}}),Oc?Oc.internetExplorerRedisplayInterval:null),setCTM:function(e,t,n){var r=this,o="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttributeNS(null,"transform",o),"transform"in e.style?e.style.transform=o:"-ms-transform"in e.style?e.style["-ms-transform"]=o:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=o),"ie"===Uc&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout((function(){r.refreshDefsGlobal()}),r.internetExplorerRedisplayInterval))},getEventPoint:function(e,t){var n=t.createSVGPoint();return Ic.mouseAndTouchNormalize(e,t),n.x=e.clientX,n.y=e.clientY,n},getTouchPoint:function(e,t,n){var r=t.createSVGPoint();return Ic.touchNormalize(e,t,n),r.x=e.clientX,r.y=e.clientY,r},getSvgCenterPoint:function(e,t,n){return this.createSVGPoint(e,t/2,n/2)},createSVGPoint:function(e,t,n){var r=e.createSVGPoint();return r.x=t,r.y=n,r}},Dc=Cc,Nc={enable:function(e){var t=e.svg.querySelector("defs");t||(t=document.createElementNS(Dc.svgNS,"defs"),e.svg.appendChild(t));var n=t.querySelector("style#svg-pan-zoom-controls-styles");if(!n){var r=document.createElementNS(Dc.svgNS,"style");r.setAttribute("id","svg-pan-zoom-controls-styles"),r.setAttribute("type","text/css"),r.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",t.appendChild(r)}var o=document.createElementNS(Dc.svgNS,"g");o.setAttribute("id","svg-pan-zoom-controls"),o.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),o.setAttribute("class","svg-pan-zoom-control"),o.appendChild(this._createZoomIn(e)),o.appendChild(this._createZoomReset(e)),o.appendChild(this._createZoomOut(e)),e.svg.appendChild(o),e.controlIcons=o},_createZoomIn:function(e){var t=document.createElementNS(Dc.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-in"),t.setAttribute("transform","translate(30.5 5) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().zoomIn()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().zoomIn()}),!1);var n=document.createElementNS(Dc.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(Dc.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},_createZoomReset:function(e){var t=document.createElementNS(Dc.svgNS,"g");t.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),t.setAttribute("transform","translate(5 35) scale(0.4)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().reset()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().reset()}),!1);var n=document.createElementNS(Dc.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(Dc.svgNS,"path");r.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r);var o=document.createElementNS(Dc.svgNS,"path");return o.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),o.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(o),t},_createZoomOut:function(e){var t=document.createElementNS(Dc.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-out"),t.setAttribute("transform","translate(30.5 70) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().zoomOut()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().zoomOut()}),!1);var n=document.createElementNS(Dc.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(Dc.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}},Fc=Cc,Lc=jc,Zc=function(e,t){this.init(e,t)};Zc.prototype.init=function(e,t){this.viewport=e,this.options=t,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=Lc.proxy(this.updateCTM,this),this.requestAnimationFrame=Lc.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},Zc.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var t=e.split(/[\s\,]/).filter((function(e){return e})).map(parseFloat);this.viewBox.x=t[0],this.viewBox.y=t[1],this.viewBox.width=t[2],this.viewBox.height=t[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=isFinite(n)?n:1,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},Zc.prototype.simpleViewBoxCache=function(){var e=this.viewport.getBBox();this.viewBox.x=e.x,this.viewBox.y=e.y,this.viewBox.width=e.width,this.viewBox.height=e.height},Zc.prototype.getViewBox=function(){return Lc.extend({},this.viewBox)},Zc.prototype.processCTM=function(){var e,t=this.getCTM();(this.options.fit||this.options.contain)&&(e=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e=isFinite(e)?e:1,t.a=e,t.d=e,t.e=-this.viewBox.x*e,t.f=-this.viewBox.y*e);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*t.a),r=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*t.a);t.e=n,t.f=r}return this.originalState.zoom=t.a,this.originalState.x=t.e,this.originalState.y=t.f,t},Zc.prototype.getOriginalState=function(){return Lc.extend({},this.originalState)},Zc.prototype.getState=function(){return Lc.extend({},this.activeState)},Zc.prototype.getZoom=function(){return this.activeState.zoom},Zc.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},Zc.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom},Zc.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},Zc.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e},Zc.prototype.setCTM=function(e){var t=this.isZoomDifferent(e),n=this.isPanDifferent(e);if(t||n){if(t&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))?(e.a=e.d=this.activeState.zoom,t=!1):(this.updateCache(e),this.options.onZoom(this.getRelativeZoom()))),n){var r=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),o=!1,i=!1;!1===r?(e.e=this.getPan().x,e.f=this.getPan().y,o=i=!0):Lc.isObject(r)&&(!1===r.x?(e.e=this.getPan().x,o=!0):Lc.isNumber(r.x)&&(e.e=r.x),!1===r.y?(e.f=this.getPan().y,i=!0):Lc.isNumber(r.y)&&(e.f=r.y)),o&&i||!this.isPanDifferent(e)?n=!1:(this.updateCache(e),this.options.onPan(this.getPan()))}(t||n)&&this.updateCTMOnNextFrame()}},Zc.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a},Zc.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f},Zc.prototype.updateCache=function(e){this.activeState.zoom=e.a,this.activeState.x=e.e,this.activeState.y=e.f},Zc.prototype.pendingUpdate=!1,Zc.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},Zc.prototype.updateCTM=function(){var e=this.getCTM();Fc.setCTM(this.viewport,e,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(e)};var $c=function(e,t){return new Zc(e,t)},Bc=zc,Hc=Nc,Wc=jc,Rc=Cc,Vc=$c,Yc=function(e,t){this.init(e,t)},qc={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},Gc={passive:!0},Kc={passive:!1};Yc.prototype.init=function(e,t){var n=this;this.svg=e,this.defs=e.querySelector("defs"),Rc.setupSvgAttributes(this.svg),this.options=Wc.extend(Wc.extend({},qc),t),this.state="none";var r=Rc.getBoundingClientRectNormalized(e);this.width=r.width,this.height=r.height,this.viewport=Vc(Rc.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(e,t){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(e,t)},onZoom:function(e){if(n.viewport&&n.options.onZoom)return n.options.onZoom(e)},beforePan:function(e,t){if(n.viewport&&n.options.beforePan)return n.options.beforePan(e,t)},onPan:function(e){if(n.viewport&&n.options.onPan)return n.options.onPan(e)},onUpdatedCTM:function(e){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(e)}});var o=this.getPublicInstance();o.setBeforeZoom(this.options.beforeZoom),o.setOnZoom(this.options.onZoom),o.setBeforePan(this.options.beforePan),o.setOnPan(this.options.onPan),o.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&Hc.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},Yc.prototype.setupHandlers=function(){var e=this,t=null;if(this.eventListeners={pointerdown:function(n){if("touch"!==n.pointerType){var r=e.handleMouseDown(n,t);return t=n,r}},touchstart:function(n){var r=e.handleTouchStart(n,t);return t=n,r},pointerup:function(t){if("touch"!==t.pointerType)return e.handleMouseUp(t)},touchend:function(t){return e.handleTouchEnd(t)},pointermove:function(t){if("touch"!==t.pointerType)return e.handleMouseMove(t)},touchmove:function(t){return e.handleTouchMove(t)},pointerleave:function(t){if("touch"!==t.pointerType)return e.handleMouseUp(t)},pointercancel:function(t){if("touch"!==t.pointerType)return e.handleMouseUp(t)},touchleave:function(t){return e.handleTouchEnd(t)},touchcancel:function(t){return e.handleTouchEnd(t)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var r=n.length-1;r>=0;r--)this.eventListeners.hasOwnProperty(n[r])&&delete this.eventListeners[n[r]]}for(var o in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(o,this.eventListeners[o],this.options.preventMouseEventsDefault?Kc:Gc);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},Yc.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(t){return e.handleMouseWheel(t)};var t=!this.options.preventMouseEventsDefault;Bc.on(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!0}},Yc.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var e=!this.options.preventMouseEventsDefault;Bc.off(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!1}},Yc.prototype.handleMouseWheel=function(e){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=e.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,r=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&0===e.deltaMode&&e.wheelDelta&&(t=0===e.deltaY?0:Math.abs(e.wheelDelta)/e.deltaY),t=-.3<t&&t<.3?t:(t>0?1:-1)*Math.log(Math.abs(t)+10)/r;var o=this.svg.getScreenCTM().inverse(),i=Rc.getEventPoint(e,this.svg).matrixTransform(o),a=Math.pow(1+this.options.zoomScaleSensitivity,-1*t);this.zoomAtPoint(a,i)}},Yc.prototype.zoomAtPoint=function(e,t,n){var r=this.viewport.getOriginalState();n?(e=Math.max(this.options.minZoom*r.zoom,Math.min(this.options.maxZoom*r.zoom,e)),e/=this.getZoom()):this.getZoom()*e<this.options.minZoom*r.zoom?e=this.options.minZoom*r.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*r.zoom&&(e=this.options.maxZoom*r.zoom/this.getZoom());var o=this.viewport.getCTM(),i=t.matrixTransform(o.inverse()),a=this.svg.createSVGMatrix().translate(i.x,i.y).scale(e).translate(-i.x,-i.y),s=o.multiply(a);s.a!==o.a&&this.viewport.setCTM(s)},Yc.prototype.zoom=function(e,t){this.zoomAtPoint(e,Rc.getSvgCenterPoint(this.svg,this.width,this.height),t)},Yc.prototype.publicZoom=function(e,t){t&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,t)},Yc.prototype.publicZoomAtPoint=function(e,t,n){if(n&&(e=this.computeFromRelativeZoom(e)),"SVGPoint"!==Wc.getType(t)){if(!("x"in t)||!("y"in t))throw new Error("Given point is invalid");t=Rc.createSVGPoint(this.svg,t.x,t.y)}this.zoomAtPoint(e,t,n)},Yc.prototype.getZoom=function(){return this.viewport.getZoom()},Yc.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},Yc.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom},Yc.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)},Yc.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},Yc.prototype.reset=function(){this.resetZoom(),this.resetPan()},Yc.prototype.handleDblClick=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled){var t=e.target.getAttribute("class")||"";if(t.indexOf("svg-pan-zoom-control")>-1)return!1}var n;n=e.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var r=Rc.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(n,r)},Yc.prototype.handleMouseDown=function(e,t){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),Wc.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&Wc.isDblClick(e,t)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=Rc.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))},Yc.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var t=Rc.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(t.x-this.stateOrigin.x,t.y-this.stateOrigin.y);this.viewport.setCTM(n)}},Yc.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&(this.state="none")},Yc.prototype.handleTouchStart=function(e,t){if(1==e.touches.length)this.handleMouseDown(e,t);else{this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.firstEventCTM=this.viewport.getCTM();var n=Rc.getTouchPoint(e,this.svg,0),r=Rc.getTouchPoint(e,this.svg,1);this.firstDistance=Wc.calculateDistance(n,r),n.x=(n.x+r.x)/2,n.y=(n.y+r.y)/2,this.stateOrigin=n.matrixTransform(this.firstEventCTM.inverse()),this.firstZoomLevel=this.getZoom()}},Yc.prototype.handleTouchMove=function(e){if(1==e.touches.length)this.handleMouseMove(e);else{if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),!this.options.panEnabled&&!this.options.zoomEnabled)return;var t=Rc.getTouchPoint(e,this.svg,0),n=Rc.getTouchPoint(e,this.svg,1),r=this.svg.createSVGPoint();if(r.x=(t.x+n.x)/2,r.y=(t.y+n.y)/2,"pan"===this.state&&this.options.panEnabled){var o=r.matrixTransform(this.firstEventCTM.inverse()),i=this.firstEventCTM.translate(o.x-this.stateOrigin.x,o.y-this.stateOrigin.y);this.viewport.setCTM(i)}if(this.options.zoomEnabled){var a=Wc.calculateDistance(t,n),s=a/this.firstDistance,l=this.svg.getScreenCTM().inverse(),u=r.matrixTransform(l);this.zoomAtPoint(this.firstZoomLevel*s,u,!0)}}},Yc.prototype.handleTouchEnd=function(e){if(0==e.touches.length)this.handleMouseUp(e);else if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.firstEventCTM=this.viewport.getCTM(),1==e.touches.length)this.stateOrigin=Rc.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse());else{var t=Rc.getTouchPoint(e,this.svg,0),n=Rc.getTouchPoint(e,this.svg,1);this.firstDistance=Wc.calculateDistance(t,n),t.x=(t.x+n.x)/2,t.y=(t.y+n.y)/2,this.stateOrigin=t.matrixTransform(this.firstEventCTM.inverse())}},Yc.prototype.fit=function(){var e=this.viewport.getViewBox(),t=Math.min(this.width/e.width,this.height/e.height);this.zoom(t,!0)},Yc.prototype.contain=function(){var e=this.viewport.getViewBox(),t=Math.max(this.width/e.width,this.height/e.height);this.zoom(t,!0)},Yc.prototype.center=function(){var e=this.viewport.getViewBox(),t=.5*(this.width-(e.width+2*e.x)*this.getZoom()),n=.5*(this.height-(e.height+2*e.y)*this.getZoom());this.getPublicInstance().pan({x:t,y:n})},Yc.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},Yc.prototype.pan=function(e){var t=this.viewport.getCTM();t.e=e.x,t.f=e.y,this.viewport.setCTM(t)},Yc.prototype.panBy=function(e){var t=this.viewport.getCTM();t.e+=e.x,t.f+=e.y,this.viewport.setCTM(t)},Yc.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}},Yc.prototype.resize=function(){var e=Rc.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height;var t=this.viewport;t.options.width=this.width,t.options.height=this.height,t.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},Yc.prototype.destroy=function(){var e=this;for(var t in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(t,this.eventListeners[t],this.options.preventMouseEventsDefault?Kc:Gc);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),Xc=Xc.filter((function(t){return t.svg!==e.svg})),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},Yc.prototype.getPublicInstance=function(){var e=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return e.options.panEnabled=!0,e.pi},disablePan:function(){return e.options.panEnabled=!1,e.pi},isPanEnabled:function(){return!!e.options.panEnabled},pan:function(t){return e.pan(t),e.pi},panBy:function(t){return e.panBy(t),e.pi},getPan:function(){return e.getPan()},setBeforePan:function(t){return e.options.beforePan=null===t?null:Wc.proxy(t,e.publicInstance),e.pi},setOnPan:function(t){return e.options.onPan=null===t?null:Wc.proxy(t,e.publicInstance),e.pi},enableZoom:function(){return e.options.zoomEnabled=!0,e.pi},disableZoom:function(){return e.options.zoomEnabled=!1,e.pi},isZoomEnabled:function(){return!!e.options.zoomEnabled},enableControlIcons:function(){return e.options.controlIconsEnabled||(e.options.controlIconsEnabled=!0,Hc.enable(e)),e.pi},disableControlIcons:function(){return e.options.controlIconsEnabled&&(e.options.controlIconsEnabled=!1,Hc.disable(e)),e.pi},isControlIconsEnabled:function(){return!!e.options.controlIconsEnabled},enableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!0,e.pi},disableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!1,e.pi},isDblClickZoomEnabled:function(){return!!e.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return e.enableMouseWheelZoom(),e.pi},disableMouseWheelZoom:function(){return e.disableMouseWheelZoom(),e.pi},isMouseWheelZoomEnabled:function(){return!!e.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(t){return e.options.zoomScaleSensitivity=t,e.pi},setMinZoom:function(t){return e.options.minZoom=t,e.pi},setMaxZoom:function(t){return e.options.maxZoom=t,e.pi},setBeforeZoom:function(t){return e.options.beforeZoom=null===t?null:Wc.proxy(t,e.publicInstance),e.pi},setOnZoom:function(t){return e.options.onZoom=null===t?null:Wc.proxy(t,e.publicInstance),e.pi},zoom:function(t){return e.publicZoom(t,!0),e.pi},zoomBy:function(t){return e.publicZoom(t,!1),e.pi},zoomAtPoint:function(t,n){return e.publicZoomAtPoint(t,n,!0),e.pi},zoomAtPointBy:function(t,n){return e.publicZoomAtPoint(t,n,!1),e.pi},zoomIn:function(){return this.zoomBy(1+e.options.zoomScaleSensitivity),e.pi},zoomOut:function(){return this.zoomBy(1/(1+e.options.zoomScaleSensitivity)),e.pi},getZoom:function(){return e.getRelativeZoom()},setOnUpdatedCTM:function(t){return e.options.onUpdatedCTM=null===t?null:Wc.proxy(t,e.publicInstance),e.pi},resetZoom:function(){return e.resetZoom(),e.pi},resetPan:function(){return e.resetPan(),e.pi},reset:function(){return e.reset(),e.pi},fit:function(){return e.fit(),e.pi},contain:function(){return e.contain(),e.pi},center:function(){return e.center(),e.pi},updateBBox:function(){return e.updateBBox(),e.pi},resize:function(){return e.resize(),e.pi},getSizes:function(){return{width:e.width,height:e.height,realZoom:e.getZoom(),viewBox:e.viewport.getViewBox()}},destroy:function(){return e.destroy(),e.pi}}),this.publicInstance};var Xc=[],Jc=function(e,t){var n=Wc.getSvg(e);if(null===n)return null;for(var r=Xc.length-1;r>=0;r--)if(Xc[r].svg===n)return Xc[r].instance.getPublicInstance();return Xc.push({svg:n,instance:new Yc(n,t)}),Xc[Xc.length-1].instance.getPublicInstance()},Qc=Jc;const ed=Mc(Qc),td={fitToContents(){return this.fit().center().zoomOut().zoomOut(),this},getViewArea(){const e=this.getSizes(),t=this.getPan(),n=e.realZoom;t.x/=n,t.y/=n;const r={width:e.width/n,height:e.height/n};return{box:{top:-t.y,bottom:r.height-t.y,left:-t.x,right:r.width-t.x},center:{x:r.width/2-t.x,y:r.height/2-t.y}}},getViewBox(){return this.getViewArea().box},setViewBox(e){const t=e.right-e.left,n=e.bottom-e.top,{width:r,height:o}=this.getSizes(),i=t/n,a=r/o,s=i<a?n*a:t,l=i>a?t/a:n,u=Math.min(r/s,o/l),c=this.getRealZoom(),d=this.getZoom(),f=c/d;this.zoom(u/f);const h={x:(e.left+t/2)*u,y:(e.top+n/2)*u};this.pan({x:-h.x+s/2*u,y:-h.y+l/2*u})},getRealZoom(){return this.getSizes().realZoom},applyAbsoluteZoomLevel(e,t,n){const r=Math.max(1e-4,t),o=Math.max(r,n),i=Math.max(Math.min(o,e),r),a=this.getRealZoom(),s=this.getZoom(),l=a/s;this.setMinZoom(r/l).setMaxZoom(o/l).zoom(i/l)},isPanEnabled(){return this._isPanEnabled},enablePan(){return this._isPanEnabled=!0,this._internalEnablePan(),this},disablePan(){return this._isPanEnabled=!1,this._internalDisablePan(),this},isZoomEnabled(){return this._isZoomEnabled},enableZoom(){return this._isZoomEnabled=!0,this._internalEnableZoom(),this},disableZoom(){return this._isZoomEnabled=!1,this._internalDisableZoom(),this},setPanEnabled(e){return e?this.enablePan():this.disablePan(),this},setZoomEnabled(e){return e?(this.enableZoom(),this.enableDblClickZoom()):(this.disableZoom(),this.disableDblClickZoom()),this}};function nd(e,t){var n,r;const o=e;return o._isPanEnabled=null==(n=t.panEnabled)||n,o._isZoomEnabled=null==(r=null==t?void 0:t.zoomEnabled)||r,o._internalIsPanEnabled=o.isPanEnabled,o._internalEnablePan=o.enablePan,o._internalDisablePan=o.disablePan,o._internalIsZoomEnabled=o.isZoomEnabled,o._internalEnableZoom=o.enableZoom,o._internalDisableZoom=o.disableZoom,Object.assign(e,td),o}function rd(e,t){var n,r,o,i,a,s;const l=null!=(r=null==(n=t.customEventsHandler)?void 0:n.init)?r:e=>{},u=null!=(i=null==(o=t.customEventsHandler)?void 0:o.destroy)?i:e=>{},c=null!=(s=null==(a=t.customEventsHandler)?void 0:a.haltEventListeners)?s:[];return void 0===t.mouseWheelZoomEnabled&&(t.mouseWheelZoomEnabled=t.zoomEnabled),t.customEventsHandler={init:e=>{nd(e.instance,t),l(e)},destroy:e=>u(e),haltEventListeners:c},ed(e,t)}function od(e,t){const n=(0,f.iH)();let r=0;const o=[],a=[],s=()=>{r=1,o.forEach((e=>e())),o.length=0},l=()=>{r=2,a.forEach((e=>e())),a.length=0};return(0,i.bv)((()=>{var r,o,i,a,u,c;const d=il(e.value,"<svg>"),f=null!=(o=null==(r=t.customEventsHandler)?void 0:r.init)?o:e=>{},h=null!=(a=null==(i=t.customEventsHandler)?void 0:i.destroy)?a:e=>{},p=null!=(c=null==(u=t.customEventsHandler)?void 0:u.haltEventListeners)?c:[];t.customEventsHandler={init:e=>{n.value=e.instance,f(e),s()},destroy:e=>{l(),h(e)},haltEventListeners:p};const v=()=>{const e=d.getBoundingClientRect();0!==e.width&&0!==e.height?rd(d,t):setTimeout(v,200)};v()})),(0,i.Ah)((()=>{var e;null==(e=n.value)||e.destroy(),n.value=void 0})),{svgPanZoom:n,onSvgPanZoomMounted:e=>{0===r?o.push(e):1===r&&e()},onSvgPanZoomUnmounted:e=>{0===r||1===r?a.push(e):e()}}}const id=Symbol("zoomLevel");function ad(e,t){const n=(0,i.Fl)((()=>t.scalingObjects?1:1/e.value));return(0,i.JJ)(id,{zoomLevel:e,scale:n}),{scale:n}}function sd(){return il((0,i.f3)(id),"zoomLevel")}function ld(e){return e instanceof Promise||e&&"function"==typeof e.then}function ud(){let e=null;const t=(0,f.iH)({enabled:!1,duration:300,timingFunction:"linear"});function n(n,r=300,o="linear"){e&&(clearTimeout(e),e=null),t.value={enabled:!0,duration:r,timingFunction:o},(0,i.Y3)((()=>nl(this,null,(function*(){const o=n();ld(o)&&(yield o),e&&clearTimeout(e),e=null==window?void 0:window.setTimeout((()=>{t.value.enabled=!1,e=null}),r)}))))}return{transitionWhile:n,transitionOption:t}}function cd(e){const t=(0,f.iH)({}),n=(0,f.iH)(!1);let r=1;const o=new Map;return(0,i.m0)((()=>{if(e.value instanceof Array){const i=new Set([]);if(t.value=Object.fromEntries(e.value.map((e=>{let t=e.id;return t||(n.value||(n.value=!0,console.warn("[v-network-graph] Please specify the `id` field for the `Path` object. Currently, this works for compatibility, but in the future, the id field will be required.")),t=o.get(e),t||(t="path-"+r++,o.set(e,t))),i.add(t),[t,e]}))),n.value)for(const[e,t]of Array.from(o.entries()))i.has(t)||o.delete(e)}else t.value=e.value})),{objects:t,isInCompatibilityModeForPath:n}}function dd(e,t,n,r){if(r){const o=(0,f.iH)(r(e[t])),a=r=>{cs(r,o.value)||(o.value=r),cs(r,e[t])||n(`update:${t}`,r)};return(0,i.YP)((()=>r(o.value)),a),(0,i.YP)((()=>e[t]),(e=>a(r(e)))),o.value!==e[t]&&n(`update:${t}`,o.value),o}const o=(0,f.iH)(e[t]);return(0,i.YP)((()=>e[t]),(e=>{cs(e,o.value)||(o.value=e)})),(0,i.YP)(o,(r=>{cs(r,e[t])||n(`update:${t}`,r)})),o}function fd(e,t,n,r){const o=(0,f.qj)(new Set);return(0,i.YP)((()=>e[t]),(()=>{const r=e[t].filter((e=>e in n.value));cs(r,Array.from(o))||(o.clear(),r.forEach(o.add,o))}),{deep:!0,immediate:!0}),(0,i.YP)(o,(()=>{const n=Array.from(o);cs(e[t],n)||r(`update:${t}`,n)})),ol(o)}const hd=Symbol("selection");function pd(e,t,n){(0,i.JJ)(hd,{selectedNodes:e,selectedEdges:t,selectedPaths:n})}function vd(){return il((0,i.f3)(hd),"Selections")}const gd=Symbol("layouts");function yd(e){(0,i.JJ)(gd,e)}function md(){return il((0,i.f3)(gd),"Layouts")}function bd(e,t){for(let n=0;n<e.length-1;n++)t(e[n],e[n+1])}function wd(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function xd(e,t,n){const r=e.indexOf(t);r<0||e.splice(r+1,0,n)}function Sd(e,t){const n=["edges","edge-labels","focusring","nodes","node-labels","paths"];return(0,i.Fl)((()=>{const r=Ls(e.view.builtInLayerOrder).filter((e=>{const t=n.includes(e);return t||console.warn(`Layer ${e} is not a built-in layer.`),t})).reverse(),o=[...n];return bd(r,((e,t)=>{wd(o,t),xd(o,e,t)})),"edge-label"in t||"edges-label"in t||wd(o,"edge-labels"),e.node.focusring.visible||wd(o,"focusring"),!1===e.node.label.visible&&wd(o,"node-labels"),e.path.visible||wd(o,"paths"),o}))}const kd=["x","y","width","height","fill","stroke","stroke-width","stroke-dasharray"],Ed=(0,i.aZ)({__name:"VSelectionBox",props:{box:null,config:null},setup(e){return(t,n)=>((0,i.wg)(),(0,i.iD)("rect",{class:"v-ng-selection-box",x:Math.round(e.box.pos.x),y:Math.round(e.box.pos.y),width:Math.ceil(e.box.size.width),height:Math.ceil(e.box.size.height),fill:e.config.color,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth,"stroke-dasharray":e.config.strokeDasharray},null,8,kd))}}),_d=["points","fill"],Pd=(0,i.aZ)({__name:"VMarkerHeadArrow",props:{width:null,height:null,refX:null,color:null,isSource:{type:Boolean},units:null},setup(e){const t=e,n=(0,i.Fl)((()=>{const e=t.width,n=t.height;return t.isSource?`${e} ${n}, 0 ${n/2}, ${e} 0`:`0 0, ${e} ${n/2}, 0 ${n}`}));return(t,r)=>((0,i.wg)(),(0,i.iD)("polygon",{points:(0,f.SU)(n),fill:e.color},null,8,_d))}}),Od=["points","stroke-width","stroke"],Md=(0,i.aZ)({__name:"VMarkerHeadAngle",props:{width:null,height:null,refX:null,color:null,isSource:{type:Boolean},units:null},setup(e){const t=e,n=(0,i.Fl)((()=>"strokeWidth"===t.units?1:Math.min(t.width,t.height)/5)),r=(0,i.Fl)((()=>{const e=n.value/2,r=t.width,o=t.height;return t.isSource?`${r-e} ${o-e}, ${e} ${o/2}, ${r-e} ${e}`:`${e} ${e}, ${r-e} ${o/2}, ${e} ${o-e}`}));return(t,o)=>((0,i.wg)(),(0,i.iD)("polyline",{points:(0,f.SU)(r),fill:"none","stroke-width":(0,f.SU)(n),stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,Od))}}),jd=["fill","cx","cy","rx","ry"],Ad=(0,i.aZ)({__name:"VMarkerHeadCircle",props:{width:null,height:null,refX:null,color:null,isSource:{type:Boolean},units:null},setup(e){return(t,n)=>((0,i.wg)(),(0,i.iD)("ellipse",{fill:e.color,cx:e.width/2,cy:e.height/2,rx:e.width/2,ry:e.height/2},null,8,jd))}}),Td=["id","markerWidth","markerHeight","refX","refY","markerUnits"],zd=(0,i.aZ)({__name:"VMarkerHead",props:{id:null,marker:null,scale:null},setup(e){const t=e,n={arrow:Pd,angle:Md,circle:Ad},r=(0,i.Fl)((()=>t.marker.width*("strokeWidth"===t.marker.units?1:t.scale))),o=(0,i.Fl)((()=>t.marker.height*("strokeWidth"===t.marker.units?1:t.scale))),a=(0,i.Fl)((()=>{const e=t.marker.margin*("strokeWidth"===t.marker.units?1:t.scale);return t.marker.isSource?r.value+e:-e}));return(t,s)=>"none"!==e.marker.type&&"custom"!==e.marker.type?((0,i.wg)(),(0,i.iD)("marker",{key:0,id:e.id,markerWidth:(0,f.SU)(r),markerHeight:(0,f.SU)(o),refX:(0,f.SU)(a),refY:(0,f.SU)(o)/2,orient:"auto",markerUnits:e.marker.units,class:"v-ng-marker"},[((0,i.wg)(),(0,i.j4)((0,i.LL)(n[e.marker.type]),{width:(0,f.SU)(r),height:(0,f.SU)(o),refX:(0,f.SU)(a),color:e.marker.color,"is-source":e.marker.isSource,units:e.marker.units},null,8,["width","height","refX","color","is-source","units"]))],8,Td)):(0,i.kq)("",!0)}}),Id={class:"v-ng-background-grid","shape-rendering":"crispEdges"},Ud=["d"],Cd=["d"],Dd=["d"],Nd=["d"],Fd=(0,i.aZ)({__name:"VBackgroundGrid",setup(e){const{container:t,svgPanZoom:n}=ll(),{zoomLevel:r}=sd(),o=Pc(),a=kl(),s=(0,f.iH)({x:0,y:0}),l=(0,f.iH)({width:500,height:500});(0,i.bv)((()=>{var e;const r=null==(e=n.value)?void 0:e.getPan();r&&(s.value={x:-r.x,y:-r.y});const o=t.value.getBoundingClientRect();l.value={width:o.width,height:o.height}})),o.on("view:resize",(e=>{l.value={width:e.width,height:e.height}})),o.on("view:pan",(e=>{s.value={x:-e.x,y:-e.y}})),o.on("view:zoom",(()=>{var e;const t=null==(e=n.value)?void 0:e.getPan();t&&(s.value={x:-t.x,y:-t.y})}));const u=(0,f.iH)([]),c=(0,f.iH)([]),d=(0,f.iH)([]),h=(0,f.iH)([]);return(0,i.m0)((()=>{const e=[],t=[],n=[],o=[],i=1/r.value,f=a.grid.interval,p=s.value.x*i,v=s.value.y*i,g=Math.floor(l.value.width/f+1)*f,y=Math.floor(l.value.height/f+1)*f,m=(s.value.x+g)*i,b=(s.value.y+y)*i,w=a.grid.thickIncrements,x=a.grid.line.dasharray,S=a.grid.thick.dasharray;let k={stroke:a.grid.thick.color,"stroke-width":a.grid.thick.width,"stroke-dasharray":S,"stroke-dashoffset":S?p/i:void 0},E={stroke:a.grid.line.color,"stroke-width":a.grid.line.width,"stroke-dasharray":x,"stroke-dashoffset":x?p/i:void 0};const _=(s.value.x+g)*i;for(let r=v;r<=b;r+=f){const t=Math.floor(r/f);w&&t%w===0?e.push([t,t*f,p,_,k]):n.push([t,t*f,p,_,E])}k=el({},k),k["stroke-dashoffset"]=S?v/i:void 0,E=el({},E),E["stroke-dashoffset"]=x?v/i:void 0;const P=(s.value.y+y)*i;for(let r=p;r<=m;r+=f){const e=Math.floor(r/f);w&&e%w===0?t.push([e,e*f,v,P,k]):o.push([e,e*f,v,P,E])}c.value=e,u.value=t,h.value=n,d.value=o})),(e,t)=>((0,i.wg)(),(0,i.iD)("g",Id,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.value,(([e,t,n,r,o])=>((0,i.wg)(),(0,i.iD)("path",(0,i.dG)({key:`nv${e}`,d:`M ${n} ${t} L ${r} ${t}`},o,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,Ud)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.value,(([e,t,n,r,o])=>((0,i.wg)(),(0,i.iD)("path",(0,i.dG)({key:`nh${e}`,d:`M ${t} ${n} L ${t} ${r}`},o,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,Cd)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.value,(([e,t,n,r,o])=>((0,i.wg)(),(0,i.iD)("path",(0,i.dG)({key:`tv${e}`,d:`M ${n} ${t} L ${r} ${t}`},o,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,Dd)))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.value,(([e,t,n,r,o])=>((0,i.wg)(),(0,i.iD)("path",(0,i.dG)({key:`th${e}`,d:`M ${t} ${n} L ${t} ${r}`},o,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,Nd)))),128))]))}}),Ld=(0,i.aZ)({__name:"VBackgroundViewport",setup(e){const{viewport:t}=ll(),n=(0,f.iH)(),r=(e,t,n)=>{e.forEach((e=>{var r;return t.setAttribute(e,null!=(r=n.getAttribute(e))?r:"")}))},o=new MutationObserver((e=>{if(!n.value)return;const o=e.map((e=>{var t;return null!=(t=e.attributeName)?t:""})).filter(Boolean);r(o,n.value,t.value)}));return(0,i.bv)((()=>{const e=["transform","style"];o.observe(t.value,{attributes:!0,attributeFilter:e}),n.value&&r(e,n.value,t.value)})),(0,i.Ah)((()=>{o.disconnect()})),(e,t)=>((0,i.wg)(),(0,i.iD)("g",{ref_key:"background",ref:n,class:"v-ng-background-viewport"},[(0,i.WI)(e.$slots,"default")],512))}}),Zd=["d","stroke-width"],$d=(0,i.aZ)({__name:"VEdgeBackground",props:{id:null,state:null,sourcePos:{default:void 0},targetPos:{default:void 0}},setup(e){const t=e,{scale:n}=sd(),r=_l(),{handleEdgePointerDownEvent:o,handleEdgePointerOverEvent:a,handleEdgePointerOutEvent:s,handleEdgeClickEvent:l,handleEdgeDoubleClickEvent:u,handleEdgeContextMenu:c}=Sc(),d=(0,i.Fl)((()=>{const e=t.state.position;if(t.state.loop){const{radius:n,isLargeArc:r,isClockwise:o}=t.state.loop,[i,a]=n,s=r?1:0,l=o?1:0;return`M ${e.p1.x} ${e.p1.y} A ${i} ${a} 0 ${s} ${l} ${e.p2.x} ${e.p2.y}`}if("straight"===r.type||!t.state.curve)return`M ${e.p1.x} ${e.p1.y} L ${e.p2.x} ${e.p2.y}`;{const n=[...t.state.curve.control,{x:e.p2.x,y:e.p2.y}],r=[];return r.push(`M ${e.p1.x} ${e.p1.y}`),Rs(n,2).forEach((([e,t])=>r.push(`Q ${e.x} ${e.y} ${t.x} ${t.y}`))),r.join(" ")}})),v=(0,i.Fl)((()=>(t.state.line.stroke.width+10)*n.value));return(t,n)=>((0,i.wg)(),(0,i.iD)("path",{class:(0,h.C_)({"v-ng-line-background":!0,selectable:e.state.selectable}),d:(0,f.SU)(d),stroke:"transparent","stroke-width":(0,f.SU)(v),fill:"none",onPointerdown:n[0]||(n[0]=(0,p.iM)((t=>(0,f.SU)(o)(e.id,t)),["stop"])),onPointerenterPassive:n[1]||(n[1]=t=>(0,f.SU)(a)(e.id,t)),onPointerleavePassive:n[2]||(n[2]=t=>(0,f.SU)(s)(e.id,t)),onClick:n[3]||(n[3]=(0,p.iM)((t=>(0,f.SU)(l)(e.id,t)),["stop"])),onDblclick:n[4]||(n[4]=(0,p.iM)((t=>(0,f.SU)(u)(e.id,t)),["stop"])),onContextmenu:n[5]||(n[5]=t=>(0,f.SU)(c)(e.id,t))},null,42,Zd))}}),Bd=(0,i.aZ)({__name:"VEdgeBackgrounds",setup(e){const{edgeStates:t,edgeGroupStates:n,layouts:r}=Lu();return(e,o)=>((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(n).edgeGroups,(({summarize:e,edges:n})=>((0,i.wg)(),(0,i.iD)(i.HY,null,[e?(0,i.kq)("",!0):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(n,((e,n)=>((0,i.wg)(),(0,i.j4)($d,{key:n,id:n,state:(0,f.SU)(t)[n],"source-pos":(0,f.SU)(r).nodes[e.source],"target-pos":(0,f.SU)(r).nodes[e.target]},null,8,["id","state","source-pos","target-pos"])))),128))],64)))),256))}}),Hd=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap"],Wd=(0,i.aZ)({__name:"VLine",props:{p1:null,p2:null,config:null},setup(e){const t=e,{scale:n}=sd(),r=(0,i.Fl)((()=>t.config.width*n.value)),o=(0,i.Fl)((()=>pl(t.config.dasharray,n.value))),a=(0,i.Fl)((()=>{const e=!!t.config.animate&&vl(t.config.dasharray)*t.config.animationSpeed*n.value;return e?{"--animation-speed":e}:void 0}));return(t,n)=>((0,i.wg)(),(0,i.iD)("path",{class:(0,h.C_)({"v-ng-line":!0,animate:e.config.animate}),d:`M ${e.p1.x} ${e.p1.y} L ${e.p2.x} ${e.p2.y}`,stroke:e.config.color,"stroke-width":(0,f.SU)(r),"stroke-dasharray":(0,f.SU)(o),"stroke-linecap":e.config.linecap,style:(0,h.j5)((0,f.SU)(a))},null,14,Hd))}}),Rd=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap"],Vd=(0,i.aZ)({__name:"VArc",props:{p1:null,p2:null,radius:null,isLargeArc:{type:Boolean},isClockwise:{type:Boolean},config:null},setup(e){const t=e,{scale:n}=sd(),r=(0,i.Fl)((()=>t.config.width*n.value)),o=(0,i.Fl)((()=>pl(t.config.dasharray,n.value))),a=(0,i.Fl)((()=>{const e=!!t.config.animate&&vl(t.config.dasharray)*t.config.animationSpeed*n.value;return e?{"--animation-speed":e}:void 0})),s=(0,i.Fl)((()=>{const{p1:e,p2:n,radius:r,isLargeArc:o,isClockwise:i}=t,[a,s]=r,l=o?1:0,u=i?1:0;return`M ${e.x} ${e.y} A ${a} ${s} 0 ${l} ${u} ${n.x} ${n.y}`}));return(t,n)=>((0,i.wg)(),(0,i.iD)("path",{class:(0,h.C_)({"v-ng-line":!0,animate:e.config.animate}),d:(0,f.SU)(s),stroke:e.config.color,"stroke-width":(0,f.SU)(r),"stroke-dasharray":(0,f.SU)(o),"stroke-linecap":e.config.linecap,style:(0,h.j5)((0,f.SU)(a)),fill:"none"},null,14,Rd))}}),Yd=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap","marker-start","marker-end"],qd=(0,i.aZ)({__name:"VEdgeCurved",props:{state:null,config:null,markerStart:{default:void 0},markerEnd:{default:void 0}},setup(e){const t=e,{scale:n}=sd(),r=(0,i.Fl)((()=>{var e,n;const r=t.state.position,o=[...null!=(n=null==(e=t.state.curve)?void 0:e.control)?n:[],{x:r.p2.x,y:r.p2.y}],i=[];return i.push(`M ${r.p1.x} ${r.p1.y}`),Rs(o,2).forEach((([e,t])=>i.push(`Q ${e.x} ${e.y} ${t.x} ${t.y}`))),i.join(" ")})),o=(0,i.Fl)((()=>t.config.width*n.value)),a=(0,i.Fl)((()=>pl(t.config.dasharray,n.value))),s=(0,i.Fl)((()=>{const e=!!t.config.animate&&vl(t.config.dasharray)*t.config.animationSpeed*n.value;return e?{"--animation-speed":e}:void 0}));return(t,n)=>((0,i.wg)(),(0,i.iD)("path",{class:(0,h.C_)({"v-ng-line":!0,animate:e.config.animate}),d:(0,f.SU)(r),fill:"none",stroke:e.config.color,"stroke-width":(0,f.SU)(o),"stroke-dasharray":(0,f.SU)(a),"stroke-linecap":e.config.linecap,style:(0,h.j5)((0,f.SU)(s)),"marker-start":e.markerStart,"marker-end":e.markerEnd},null,14,Yd))}}),Gd=(0,i.aZ)({__name:"VEdge",props:{id:null,state:null,sourcePos:{default:void 0},targetPos:{default:void 0}},setup(e){const t=_l();return(n,r)=>e.state.loop?((0,i.wg)(),(0,i.j4)(Vd,(0,i.dG)({key:0},e.state.position,{radius:e.state.loop.radius,"is-large-arc":e.state.loop.isLargeArc,"is-clockwise":e.state.loop.isClockwise,class:[{selectable:e.state.selectable,hover:e.state.hovered,selected:e.state.selected},"v-ng-edge"],config:e.state.line.stroke,"marker-start":e.state.sourceMarkerId?`url('#${e.state.sourceMarkerId}')`:void 0,"marker-end":e.state.targetMarkerId?`url('#${e.state.targetMarkerId}')`:void 0}),null,16,["radius","is-large-arc","is-clockwise","class","config","marker-start","marker-end"])):"straight"!=(0,f.SU)(t).type&&e.state.curve?((0,i.wg)(),(0,i.j4)(qd,{key:2,"data-edge-id":e.id,class:(0,h.C_)([{selectable:e.state.selectable,hover:e.state.hovered,selected:e.state.selected},"v-ng-edge"]),state:e.state,config:e.state.line.stroke,"marker-start":e.state.sourceMarkerId?`url('#${e.state.sourceMarkerId}')`:void 0,"marker-end":e.state.targetMarkerId?`url('#${e.state.targetMarkerId}')`:void 0},null,8,["data-edge-id","class","state","config","marker-start","marker-end"])):((0,i.wg)(),(0,i.j4)(Wd,(0,i.dG)({key:1,"data-edge-id":e.id},e.state.position,{class:[{selectable:e.state.selectable,hover:e.state.hovered,selected:e.state.selected},"v-ng-edge"],config:e.state.line.stroke,"marker-start":e.state.sourceMarkerId?`url('#${e.state.sourceMarkerId}')`:void 0,"marker-end":e.state.targetMarkerId?`url('#${e.state.targetMarkerId}')`:void 0}),null,16,["data-edge-id","class","config","marker-start","marker-end"]))}}),Kd=["cx","cy","r","fill","stroke","stroke-width","stroke-dasharray"],Xd=["x","y","width","height","rx","ry","fill","stroke","stroke-width","stroke-dasharray"],Jd=(0,i.aZ)({__name:"VShape",props:{baseX:{default:0},baseY:{default:0},config:null},setup(e){const t=e,{scale:n}=sd(),r=(0,f.iH)(t.baseX),o=(0,f.iH)(t.baseY),a=(0,f.iH)(0),s=(0,f.iH)("#000000"),l=(0,f.iH)(void 0),u=(0,f.iH)(0),c=(0,f.iH)(0),d=(0,f.iH)(0),h=(0,f.iH)(0);return(0,i.m0)((()=>{var e;const i=n.value;a.value=t.config.strokeWidth*i,s.value=null!=(e=t.config.strokeColor)?e:"none",l.value=pl(t.config.strokeDasharray,i),"circle"===t.config.type?(r.value=t.baseX,o.value=t.baseY,u.value=t.config.radius*i):(c.value=t.config.width*i,d.value=t.config.height*i,h.value=t.config.borderRadius*i,r.value=t.baseX-c.value/2,o.value=t.baseY-d.value/2)})),(t,n)=>"circle"===e.config.type?((0,i.wg)(),(0,i.iD)("circle",{key:0,class:"v-ng-shape-circle",cx:r.value,cy:o.value,r:u.value,fill:e.config.color,stroke:s.value,"stroke-width":a.value,"stroke-dasharray":l.value},null,8,Kd)):((0,i.wg)(),(0,i.iD)("rect",{key:1,class:"v-ng-shape-rect",x:r.value,y:o.value,width:c.value,height:d.value,rx:h.value,ry:h.value,fill:e.config.color,stroke:s.value,"stroke-width":a.value,"stroke-dasharray":l.value},null,8,Xd))}}),Qd=["rx","ry","fill","transform"],ef=["x","y","dominant-baseline","font-family","font-size","fill"],tf=["x","dy","dominant-baseline"],nf=(0,i.aZ)({__name:"VLabelText",props:{text:null,x:{default:0},y:{default:0},dominantBaseline:{default:"central"},config:null},setup(e){const t=e,n=(0,i.l1)(),{scale:r}=sd(),o=(0,i.Fl)((()=>{var e,n;return null!=(n=null==(e=t.text)?void 0:e.toString().split(/\r?\n/))?n:""})),a=(0,i.Fl)((()=>{var e;return null!=(e=n["font-size"])?e:t.config.fontSize*r.value})),s=(0,i.Fl)((()=>a.value*t.config.lineHeight)),l=(0,i.Fl)((()=>{const e=t.dominantBaseline;return"hanging"===e?0:"central"===e?-s.value*(o.value.length-1)/2:-s.value*(o.value.length-1)})),u=(0,f.iH)(),c=(0,f.iH)(""),d=(0,f.qj)({x:0,y:0,width:0,height:0}),p=(0,i.Fl)((()=>{var e,n;const o=t.config.background;if(!o)return d;let i,l;o.padding instanceof Object?(i=o.padding.vertical,l=o.padding.horizontal):(i=null!=(e=o.padding)?e:0,l=null!=(n=o.padding)?n:0);const u=s.value-a.value;return{x:d.x-l*r.value,y:d.y-i*r.value-u/2,width:d.width+2*l*r.value,height:d.height+2*i*r.value+u}}));let v;const g=()=>{t.config.background&&t.config.background.visible?!v&&u.value&&(v=m(u.value,d,c)):(null==v||v.disconnect(),v=void 0)};function y(e,t,n){var r;const o=e.getBBox();t.x=o.x,t.y=o.y,t.width=o.width,t.height=o.height,n.value=null!=(r=e.getAttribute("transform"))?r:void 0}function m(e,t,n){const r=new MutationObserver((()=>{y(e,t,n)}));return r.observe(e,{attributes:!0,attributeFilter:["x","y","transform","font-size"]}),y(e,t,n),r}return(0,i.bv)((()=>g())),(0,i.YP)((()=>t.config.background&&t.config.background.visible),((e,t)=>{e!=t&&g()})),(0,i.Ah)((()=>{null==v||v.disconnect(),v=void 0})),(t,n)=>{var d,v,g,y,m,b;return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.config.background&&e.config.background.visible?((0,i.wg)(),(0,i.iD)("rect",(0,i.dG)({key:0,class:"v-ng-text-background"},(0,f.SU)(p),{rx:(null!=(v=null==(d=e.config.background)?void 0:d.borderRadius)?v:0)*(0,f.SU)(r),ry:(null!=(y=null==(g=e.config.background)?void 0:g.borderRadius)?y:0)*(0,f.SU)(r),fill:null!=(b=null==(m=e.config.background)?void 0:m.color)?b:"#ffffff",transform:c.value}),null,16,Qd)):(0,i.kq)("",!0),(0,i._)("text",(0,i.dG)({ref_key:"element",ref:u,class:"v-ng-text"},t.$attrs,{x:e.x,y:e.y,"dominant-baseline":e.dominantBaseline,"font-family":t.$attrs["font-family"]?`${t.$attrs["font-family"]}`:e.config.fontFamily,"font-size":(0,f.SU)(a),fill:t.$attrs.fill?`${t.$attrs.fill}`:e.config.color}),[(0,f.SU)(o).length<=1?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,h.zw)(e.text),1)],64)):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)((0,f.SU)(o),((t,n)=>((0,i.wg)(),(0,i.iD)("tspan",{key:n,x:e.x,dy:0==n?(0,f.SU)(l):(0,f.SU)(s),"dominant-baseline":e.dominantBaseline},(0,h.zw)(t),9,tf)))),128))],16,ef)],64)}}}),rf=(0,i.aZ)({__name:"VEdgeSummarized",props:{edges:null,layouts:null},setup(e){const t=e,n=_l(),{handleEdgesPointerDownEvent:r,handleEdgesPointerOverEvent:o,handleEdgesPointerOutEvent:a,handleEdgesClickEvent:s,handleEdgesDoubleClickEvent:l,handleEdgesContextMenu:u}=Sc(),{edgeStates:c}=Lu(),d=(0,f.iH)({p1:{x:0,y:0},p2:{x:0,y:0}}),v=(0,f.iH)({x:0,y:0});(0,i.m0)((()=>{const e=Object.keys(t.edges).find((e=>e in c));e&&(d.value=c[e].position,v.value={x:(d.value.p1.x+d.value.p2.x)/2,y:(d.value.p1.y+d.value.p2.y)/2})}));const g=(0,i.Fl)((()=>Object.keys(t.edges))),y=(0,i.Fl)((()=>ul.values(n.summarized.label,t.edges))),m=(0,i.Fl)((()=>ul.values(n.summarized.shape,t.edges))),b=(0,i.Fl)((()=>ul.values(n.summarized.stroke,t.edges))),w=(0,i.Fl)((()=>g.value.some((e=>c[e].hovered)))),x=(0,i.Fl)((()=>g.value.some((e=>c[e].selectable)))),S=(0,i.Fl)((()=>g.value.some((e=>c[e].selected))));return(t,n)=>((0,i.wg)(),(0,i.iD)("g",{class:(0,h.C_)({"v-ng-line-summarized":!0,hovered:(0,f.SU)(w),selectable:(0,f.SU)(x),selected:(0,f.SU)(S)}),onPointerdown:n[0]||(n[0]=(0,p.iM)((e=>(0,f.SU)(r)((0,f.SU)(g),e)),["stop"])),onPointerenterPassive:n[1]||(n[1]=e=>(0,f.SU)(o)((0,f.SU)(g),e)),onPointerleavePassive:n[2]||(n[2]=e=>(0,f.SU)(a)((0,f.SU)(g),e)),onClick:n[3]||(n[3]=(0,p.iM)((e=>(0,f.SU)(s)((0,f.SU)(g),e)),["stop"])),onDblclick:n[4]||(n[4]=(0,p.iM)((e=>(0,f.SU)(l)((0,f.SU)(g),e)),["stop"])),onContextmenu:n[5]||(n[5]=e=>(0,f.SU)(u)((0,f.SU)(g),e))},[(0,i.Wm)(Wd,(0,i.dG)(d.value,{config:(0,f.SU)(b),"data-edge-id":(0,f.SU)(g)[0]}),null,16,["config","data-edge-id"]),(0,i.Wm)(Jd,{"base-x":v.value.x,"base-y":v.value.y,config:(0,f.SU)(m)},null,8,["base-x","base-y","config"]),(0,i.Wm)(nf,{text:Object.keys(e.edges).length.toString(),x:v.value.x,y:v.value.y,config:(0,f.SU)(y),"text-anchor":"middle","dominant-baseline":"central"},null,8,["text","x","y","config"])],34))}}),of={class:"v-ng-edge-overlay"},af=(0,i.aZ)({__name:"VEdgeOverlay",props:{edgeId:{default:void 0},edge:{default:void 0},edges:{default:()=>({})},state:null,isSummarized:{type:Boolean}},setup(e){const t=e,{svg:n}=ll(),{scale:r}=sd(),o=_l();function a(){return t.isSummarized?ul.values(o.summarized.stroke,t.edges):t.state.line.stroke}function s(e){return{source:e.p1,target:e.p2}}function l(e){if(e.curve)return e.curve.center;{const t=e.origin.p1,n=e.origin.p2;return{x:(t.x+n.x)/2,y:(t.y+n.y)/2}}}function u(){var e;if(!n.value)return 0;const r=null!=(e=t.edgeId)?e:Object.keys(t.edges)[0],o=n.value.querySelector(`path[data-edge-id="${r}"]`);return o?o.getTotalLength():0}function c(e){var r;if(!n.value||!isFinite(e))return t.state.position.p1;t.state;const o=null!=(r=t.edgeId)?r:Object.keys(t.edges)[0],i=n.value.querySelector(`path[data-edge-id="${o}"]`);if(!i)return t.state.position.p1;const a=i.getPointAtLength(e);return{x:a.x,y:a.y}}return(t,n)=>((0,i.wg)(),(0,i.iD)("g",of,[e.isSummarized?(0,i.WI)(t.$slots,"default",{key:0,edges:e.edges,isSummarized:e.isSummarized,stroke:a(),position:s(e.state.origin),center:l(e.state),hovered:e.state.hovered,selected:e.state.selected,scale:(0,f.SU)(r),length:u(),pointAtLength:c}):(0,i.WI)(t.$slots,"default",{key:1,edgeId:e.edgeId,edge:e.edge,edges:{[e.edgeId]:e.edge},isSummarized:e.isSummarized,stroke:a(),position:s(e.state.origin),center:l(e.state),hovered:e.state.hovered,selected:e.state.selected,scale:(0,f.SU)(r),length:u(),pointAtLength:c})]))}}),sf=(0,i.aZ)({__name:"VEdgeGroups",props:{hasEdgeOverlaySlot:{type:Boolean}},setup(e){const{edgeStates:t,edgeZOrderedList:n,layouts:r}=Lu();return(o,a)=>((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(n),(n=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,f.SU)(Fu)(n)?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[((0,i.wg)(),(0,i.j4)(rf,{key:n.key,edges:n.group.edges,layouts:(0,f.SU)(r).nodes},null,8,["edges","layouts"])),e.hasEdgeOverlaySlot?((0,i.wg)(),(0,i.j4)(af,{key:n.key,edges:n.group.edges,state:(0,f.SU)(t)[Object.keys(n.group.edges)[0]],"is-summarized":!0},{default:(0,i.w5)((e=>[(0,i.WI)(o.$slots,"default",(0,h.vs)((0,i.F4)(e)))])),_:2},1032,["edges","state"])):(0,i.kq)("",!0)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[((0,i.wg)(),(0,i.j4)(Gd,{id:n.key,key:n.key,state:(0,f.SU)(t)[n.key],"source-pos":(0,f.SU)(r).nodes[n.edge.source],"target-pos":(0,f.SU)(r).nodes[n.edge.target]},null,8,["id","state","source-pos","target-pos"])),e.hasEdgeOverlaySlot?((0,i.wg)(),(0,i.j4)(af,{key:n.key,"edge-id":n.key,edge:n.edge,state:(0,f.SU)(t)[n.key],"is-summarized":!1},{default:(0,i.w5)((e=>[(0,i.WI)(o.$slots,"default",(0,h.vs)((0,i.F4)(e)))])),_:2},1032,["edge-id","edge","state"])):(0,i.kq)("",!0)],64))],64)))),256))}}),lf={class:"v-ng-layer-edges"},uf=(0,i.aZ)({__name:"VEdgesLayer",setup(e){const t=(0,i.Rr)(),n=(0,i.Fl)((()=>"edge-overlay"in t));return(e,t)=>((0,i.wg)(),(0,i.iD)("g",lf,[(0,i.Wm)(Bd),(0,i.Wm)(sf,{"has-edge-overlay-slot":(0,f.SU)(n)},(0,i.Nv)({_:2},[(0,f.SU)(n)?{name:"default",fn:(0,i.w5)((t=>[(0,i.WI)(e.$slots,"edge-overlay",(0,h.vs)((0,i.F4)(t)))])),key:"0"}:void 0]),1032,["has-edge-overlay-slot"])]))}}),cf=(0,i.aZ)({__name:"VEdgeLabelPlace",props:{edgeId:null,edge:null,config:null,state:null},setup(e){const t=e,{scale:n}=sd(),r=(0,i.Fl)((()=>mu(t.state.labelPosition,t.state.line.stroke,t.config.margin,t.config.padding,n.value)));return(t,o)=>e.state.loop?(0,i.kq)("",!0):(0,i.WI)(t.$slots,"default",{key:0,edgeId:e.edgeId,edge:e.edge,config:e.config,area:(0,f.SU)(r),hovered:e.state.hovered,selected:e.state.selected,scale:(0,f.SU)(n)})}}),df=(0,i.aZ)({__name:"VEdgeLabelsPlace",props:{edges:null,config:null,state:null,summarizeState:null},setup(e){const t=e,{scale:n}=sd(),r=(0,i.Fl)((()=>{var e,r;return mu(t.state.labelPosition,null!=(r=null==(e=t.summarizeState)?void 0:e.stroke)?r:t.state.line.stroke,t.config.margin,t.config.padding,n.value)}));return(t,o)=>e.state.loop?(0,i.kq)("",!0):(0,i.WI)(t.$slots,"default",{key:0,edges:e.edges,config:e.config,area:(0,f.SU)(r),hovered:e.state.hovered,selected:e.state.selected,scale:(0,f.SU)(n)})}}),ff={class:"v-ng-edge-labels"},hf=(0,i.aZ)({__name:"VEdgeLabels",props:{enableEdgeLabel:{type:Boolean,default:!1},enableEdgesLabel:{type:Boolean,default:!1}},setup(e){const t=_l(),{edgeStates:n,edgeGroupStates:r,summarizedEdgeStates:o}=Lu(),a=(0,i.Fl)((()=>{const e={},t={};return Object.entries(r.edgeGroups).forEach((([n,r])=>{Object.keys(r.edges).length>0&&(r.summarize?t[n]=r:e[n]=r)})),{individual:e,summarized:t}}));function s(e){return Object.keys(e.edges)[0]}return(r,l)=>((0,i.wg)(),(0,i.iD)("g",ff,[e.enableEdgeLabel?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)((0,f.SU)(a).individual,((e,o)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:o},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.edges,((e,o)=>((0,i.wg)(),(0,i.j4)(cf,{key:o,"edge-id":o,edge:e,config:(0,f.SU)(t).label,state:(0,f.SU)(n)[o]},{default:(0,i.w5)((e=>[(0,i.WI)(r.$slots,"edge-label",(0,h.vs)((0,i.F4)(e)))])),_:2},1032,["edge-id","edge","config","state"])))),128))],64)))),128)):(0,i.kq)("",!0),e.enableEdgesLabel?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)((0,f.SU)(a).summarized,((e,a)=>((0,i.wg)(),(0,i.j4)(df,{key:a,edges:e.edges,config:(0,f.SU)(t).label,state:(0,f.SU)(n)[s(e)],"summarize-state":(0,f.SU)(o)[s(e)]},{default:(0,i.w5)((e=>[(0,i.WI)(r.$slots,"edges-label",(0,h.vs)((0,i.F4)(e)))])),_:2},1032,["edges","config","state","summarize-state"])))),128)):(0,i.kq)("",!0)]))}}),pf=(0,i.aZ)({__name:"VEdgeLabelsLayer",props:{enableEdgeLabel:{type:Boolean,default:!1},enableEdgesLabel:{type:Boolean,default:!1}},setup(e){return(t,n)=>((0,i.wg)(),(0,i.j4)(hf,{"enable-edge-label":e.enableEdgeLabel,"enable-edges-label":e.enableEdgesLabel,class:"v-ng-layer-edge-labels"},(0,i.Nv)({_:2},[e.enableEdgeLabel?{name:"edge-label",fn:(0,i.w5)((e=>[(0,i.WI)(t.$slots,"edge-label",(0,h.vs)((0,i.F4)(e)))])),key:"0"}:void 0,e.enableEdgesLabel?{name:"edges-label",fn:(0,i.w5)((e=>[(0,i.WI)(t.$slots,"edges-label",(0,h.vs)((0,i.F4)(e)))])),key:"1"}:void 0]),1032,["enable-edge-label","enable-edges-label"]))}}),vf=(0,i.aZ)({__name:"VNodeFocusRing",props:{id:null,state:null,pos:{default:void 0}},setup(e){const t=e,n=(0,i.Fl)((()=>{var e;return(null==(e=t.pos)?void 0:e.x)||0})),r=(0,i.Fl)((()=>{var e;return(null==(e=t.pos)?void 0:e.y)||0})),o=El(),a=(0,f.qj)({});return(0,i.m0)((()=>{var e,n,r;const i=t.state.shape;if("circle"===i.type){const t={type:"circle",radius:i.radius+(null!=(e=i.strokeWidth)?e:0)/2+o.focusring.padding+o.focusring.width/2,color:"none",strokeWidth:o.focusring.width,strokeColor:o.focusring.color,strokeDasharray:o.focusring.dasharray};Object.assign(a,t)}else{const e={type:"rect",width:i.width+(null!=(n=i.strokeWidth)?n:0)+2*o.focusring.padding+o.focusring.width,height:i.height+(null!=(r=i.strokeWidth)?r:0)+2*o.focusring.padding+o.focusring.width,borderRadius:i.borderRadius>0?i.borderRadius+o.focusring.padding:0,color:"none",strokeWidth:o.focusring.width,strokeColor:o.focusring.color,strokeDasharray:o.focusring.dasharray};Object.assign(a,e)}})),(e,t)=>((0,i.wg)(),(0,i.j4)(Jd,{class:"v-ng-node-focusring","base-x":(0,f.SU)(n),"base-y":(0,f.SU)(r),config:a},null,8,["base-x","base-y","config"]))}}),gf={class:"v-ng-layer-nodes-selections"},yf=(0,i.aZ)({__name:"VFocusringLayer",setup(e){const{nodeStates:t}=Lu(),{selectedNodes:n}=vd(),r=md();return(e,o)=>((0,i.wg)(),(0,i.iD)("g",gf,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(n),(e=>((0,i.wg)(),(0,i.j4)(vf,{id:e,key:e,state:(0,f.SU)(t)[e],pos:(0,f.SU)(r).nodes[e]},null,8,["id","state","pos"])))),128))]))}}),mf=["transform"],bf=(0,i.aZ)({__name:"VNode",props:{id:null,state:null,pos:{default:void 0}},setup(e){const t=e,n=(0,i.Fl)((()=>{var e;return(null==(e=t.pos)?void 0:e.x)||0})),r=(0,i.Fl)((()=>{var e;return(null==(e=t.pos)?void 0:e.y)||0})),{scale:o}=sd(),{handleNodePointerDownEvent:a,handleNodePointerOverEvent:s,handleNodePointerOutEvent:l,handleNodeClickEvent:u,handleNodeDoubleClickEvent:c,handleNodeContextMenu:d}=Sc();return(t,v)=>((0,i.wg)(),(0,i.iD)("g",{class:(0,h.C_)({"v-ng-node":!0,hover:e.state.hovered,selected:e.state.selected}),transform:`translate(${(0,f.SU)(n)} ${(0,f.SU)(r)})`,onPointerdown:v[0]||(v[0]=(0,p.iM)((t=>(0,f.SU)(a)(e.id,t)),["stop"])),onPointerenterPassive:v[1]||(v[1]=t=>(0,f.SU)(s)(e.id,t)),onPointerleavePassive:v[2]||(v[2]=t=>(0,f.SU)(l)(e.id,t)),onClick:v[3]||(v[3]=(0,p.iM)((t=>(0,f.SU)(u)(e.id,t)),["stop"])),onDblclick:v[4]||(v[4]=(0,p.iM)((t=>(0,f.SU)(c)(e.id,t)),["stop"])),onContextmenu:v[5]||(v[5]=t=>(0,f.SU)(d)(e.id,t))},[(0,i.WI)(t.$slots,"override-node",{nodeId:e.id,scale:(0,f.SU)(o),config:e.state.shape,class:(0,h.C_)({draggable:e.state.draggable,selectable:e.state.selectable})},(()=>[(0,i.Wm)(Jd,{config:e.state.shape,class:(0,h.C_)({"v-ng-node-default":!0,draggable:e.state.draggable,selectable:e.state.selectable})},null,8,["config","class"])]))],42,mf))}}),wf=(0,i.aZ)({__name:"VNodesLayer",setup(e){const t=(0,i.Rr)(),n=(0,i.Fl)((()=>"override-node"in t)),{nodeZOrderedList:r}=Lu(),o=El(),a=md();return(e,t)=>(0,f.SU)(n)?((0,i.wg)(),(0,i.j4)(p.W3,{key:0,name:(0,f.SU)(o).transition,css:!!(0,f.SU)(o).transition,tag:"g",class:"v-ng-layer-nodes"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(r),(t=>((0,i.wg)(),(0,i.j4)(bf,{id:t.id,key:t.id,state:t,pos:(0,f.SU)(a).nodes[t.id]},{"override-node":(0,i.w5)((t=>[(0,i.WI)(e.$slots,"override-node",(0,h.vs)((0,i.F4)(t)))])),_:2},1032,["id","state","pos"])))),128))])),_:3},8,["name","css"])):((0,i.wg)(),(0,i.j4)(p.W3,{key:1,name:(0,f.SU)(o).transition,css:!!(0,f.SU)(o).transition,tag:"g",class:"v-ng-layer-nodes"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(r),(e=>((0,i.wg)(),(0,i.j4)(bf,{id:e.id,key:e.id,state:e,pos:(0,f.SU)(a).nodes[e.id]},null,8,["id","state","pos"])))),128))])),_:1},8,["name","css"]))}}),xf={[cl.NORTH]:0,[cl.NORTH_EAST]:1,[cl.EAST]:2,[cl.SOUTH_EAST]:3,[cl.SOUTH]:4,[cl.SOUTH_WEST]:5,[cl.WEST]:6,[cl.NORTH_WEST]:7,[cl.CENTER]:-1},Sf=[(e,t)=>Ef(e,0,t?90:60),(e,t)=>Ef(e,45,t?90:45),(e,t)=>Ef(e,90,t?60:30),(e,t)=>Ef(e,135,t?90:45),(e,t)=>Ef(e,180,t?90:60),(e,t)=>Ef(e,225,t?90:45),(e,t)=>Ef(e,270,t?60:30),(e,t)=>Ef(e,315,t?90:45)];function kf(e,t,n,r,o){if(o===cl.CENTER)return cl.CENTER;const i=[];Object.entries(n).forEach((([n,o])=>{let a=!1;if(o.nodeId===e){const e=r(n);e&&(a=!0,o=tl(el({},o),{pos:{x:e.x,y:e.y}}))}const s=(Ql(Fl(o.pos,t))+360+90)%360;i.push([s,a])}));const a=_f(o),s=[a,(a+4)%8,(a+2)%8,(a-2+8)%8,(a+1)%8,(a-1+8)%8,(a+3)%8,(a-3+8)%8].find((e=>i.every((t=>!Sf[e](...t)))));return void 0===s?o:Pf(s,o)}function Ef(e,t,n){e%=360;const r=(t-n+360)%360,o=(t+n)%360;return r<=o?r<e&&e<o:r<e||e<o}function _f(e){var t;return null!=(t=xf[e])?t:0}function Pf(e,t){var n,r;return null!=(r=null==(n=Object.entries(xf)[e])?void 0:n[0])?r:t}const Of=["transform"],Mf=(0,i.aZ)({__name:"VNodeLabel",props:{id:null,state:null,pos:{default:void 0}},setup(e){const t=e,n=El(),{edgeStates:r}=Lu(),{scale:o}=sd(),{handleNodePointerDownEvent:a,handleNodePointerOverEvent:s,handleNodePointerOutEvent:l,handleNodeClickEvent:u,handleNodeDoubleClickEvent:c,handleNodeContextMenu:d}=Sc(),p=(0,i.Fl)((()=>{var e;return(null==(e=t.pos)?void 0:e.x)||0})),v=(0,i.Fl)((()=>{var e;return(null==(e=t.pos)?void 0:e.y)||0})),g=(0,i.Fl)((()=>t.state.label.direction===cl.CENTER?0:t.state.label.margin*o.value)),y=(0,f.iH)(0),m=(0,f.iH)(0),b=(0,f.iH)(0),w=(0,f.iH)(0),x=(0,i.Fl)((()=>{var e;const n=t.state.label.direction,o=t.state.label.directionAutoAdjustment;if(!1===o)return n;const i={x:p.value,y:v.value};return!0===o?kf(t.state.id,i,t.state.oppositeNodes,(e=>{var t,n;return null==(n=null==(t=r[e])?void 0:t.loop)?void 0:n.center}),n):null!=(e=o({nodeId:t.state.id,pos:i,oppositeNodes:t.state.oppositeNodes}))?e:n})),S=(0,i.Fl)((()=>{switch(x.value){case cl.CENTER:case cl.NORTH:case cl.SOUTH:return"middle";case cl.EAST:case cl.NORTH_EAST:case cl.SOUTH_EAST:return"start";case cl.WEST:case cl.NORTH_WEST:case cl.SOUTH_WEST:default:return"end"}})),k=(0,i.Fl)((()=>{switch(x.value){case cl.NORTH:case cl.NORTH_EAST:case cl.NORTH_WEST:return"text-top";case cl.SOUTH:case cl.SOUTH_EAST:case cl.SOUTH_WEST:return"hanging";case cl.CENTER:case cl.EAST:case cl.WEST:default:return"central"}})),E=(0,i.Fl)((()=>{switch(x.value){case cl.CENTER:case cl.NORTH:case cl.SOUTH:return 0;case cl.EAST:return m.value;case cl.WEST:return-m.value;case cl.NORTH_EAST:case cl.SOUTH_EAST:return w.value;case cl.NORTH_WEST:case cl.SOUTH_WEST:default:return-w.value}})),_=(0,i.Fl)((()=>{switch(x.value){case cl.NORTH:return-y.value;case cl.SOUTH:return y.value;case cl.CENTER:case cl.EAST:case cl.WEST:return 0;case cl.NORTH_EAST:case cl.NORTH_WEST:return-b.value;case cl.SOUTH_EAST:case cl.SOUTH_WEST:default:return b.value}}));(0,i.m0)((()=>{const e=o.value,n=t.state.shape;if("circle"==n.type){const t=n.radius*e,r=t+g.value,o=Math.sqrt(Js(r,2)/2);y.value=t+g.value,m.value=t+g.value,b.value=o,w.value=o}else{const t=n.borderRadius*e,r=n.width*e,o=n.height*e,i=t+g.value,a=Math.sqrt(Js(i,2)/2);y.value=o/2+g.value,m.value=r/2+g.value,b.value=o/2-t+a,w.value=r/2-t+a}}));const P=(0,i.Fl)((()=>e=>n.label.handleNodeEvents?{pointerdown:t=>{t.stopPropagation(),a(e,t)},pointerenter:t=>s(e,t),pointerleave:t=>l(e,t),click:t=>{t.stopPropagation(),u(e,t)},dblclick:t=>{t.stopPropagation(),c(e,t)},contextmenu:t=>{d(e,t)}}:{})),O=(0,i.Fl)((()=>{const e=n.label.handleNodeEvents;return{"v-ng-node-label":!0,hover:e&&t.state.hovered,selected:e&&t.state.selected}})),M=(0,i.Fl)((()=>{const e=n.label.handleNodeEvents;return{draggable:e&&t.state.draggable,selectable:e&&t.state.selectable}}));return(t,n)=>((0,i.wg)(),(0,i.iD)("g",(0,i.dG)({class:(0,f.SU)(O),transform:`translate(${(0,f.SU)(p)} ${(0,f.SU)(v)})`},(0,i.mx)((0,f.SU)(P)(e.id),!0)),[(0,i.WI)(t.$slots,"override-node-label",{nodeId:e.id,scale:(0,f.SU)(o),text:e.state.labelText,x:(0,f.SU)(E),y:(0,f.SU)(_),config:e.state.label,shape:e.state.shape,textAnchor:(0,f.SU)(S),dominantBaseline:(0,f.SU)(k),class:(0,h.C_)((0,f.SU)(M))},(()=>[(0,i.Wm)(nf,{text:e.state.labelText,x:0,y:0,config:e.state.label,"text-anchor":(0,f.SU)(S),"dominant-baseline":(0,f.SU)(k),class:(0,h.C_)((0,f.SU)(M)),transform:`translate(${(0,f.SU)(E)} ${(0,f.SU)(_)})`},null,8,["text","config","text-anchor","dominant-baseline","class","transform"])]))],16,Of))}}),jf=(0,i.aZ)({__name:"VNodeLabelsLayer",setup(e){const t=(0,i.Rr)(),n=(0,i.Fl)((()=>"override-node-label"in t)),{nodeZOrderedList:r}=Lu(),o=El(),a=md(),s=(0,i.Fl)((()=>l(r.value)));function l(e){return e.filter((e=>{var t;return e.label.visible&&null!=(t=e.labelText)&&t}))}return(e,t)=>(0,f.SU)(n)?((0,i.wg)(),(0,i.j4)(p.W3,{key:0,name:(0,f.SU)(o).transition,css:!!(0,f.SU)(o).transition,tag:"g",class:"v-ng-layer-node-labels"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(s),(t=>((0,i.wg)(),(0,i.j4)(Mf,{id:t.id,key:t.id,state:t,pos:(0,f.SU)(a).nodes[t.id]},{"override-node-label":(0,i.w5)((t=>[(0,i.WI)(e.$slots,"override-node-label",(0,h.vs)((0,i.F4)(t)))])),_:2},1032,["id","state","pos"])))),128))])),_:3},8,["name","css"])):((0,i.wg)(),(0,i.j4)(p.W3,{key:1,name:(0,f.SU)(o).transition,css:!!(0,f.SU)(o).transition,tag:"g",class:"v-ng-layer-node-labels"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(s),(e=>((0,i.wg)(),(0,i.j4)(Mf,{id:e.id,key:e.id,state:e,pos:(0,f.SU)(a).nodes[e.id]},null,8,["id","state","pos"])))),128))])),_:1},8,["name","css"]))}});function Af(...e){return e.find((e=>!!e))}const Tf=100*Number.EPSILON;function zf(e,t,n,r,o,i,a,s){var l,u;const c=e.edges,d=If(c),f=c.map(((e,t)=>Nf(e,d[t],r[e.edgeId]))),h=[];let p=!1,v=!1;{const e=f[0];let r=_u(t[e.source].shape)*o;const i=s+("edgeOfNode"===a?r:0),l=i<=0?e.line.source:Uf(e,i,n,!0);h.push(l),r=_u(t[e.target].shape)*o,s>0&&nu.distance(e.line.source,e.line.target)<=i+r&&(p=!0)}const g=c.length;for(let y=1;y<g;y++){const e=f[y-1],r=f[y],a=r.source,s=tu.fromObject(null!=(l=n[a])?l:{x:0,y:0}),u=Cf(e,r,s),c=_u(t[a].shape)*o,d=Math.max(c*(2/3),c-4*o),p=Zf(e),v=Zf(r),g=Df(e,s,d,p),m=Df(r,s,d,!v),b=Df(e,s,c,p),w=Df(r,s,c,!v);let x;if(u){const t=nu.distance(u,s);if(t<d)x=[Af(g,b,e.line.target),u,Af(m,w,r.line.source)];else if(t<=c){let t,n;t=b&&g?nu.distance(u,g)<nu.distance(u,b)?g:b:b||e.line.target,n=w&&m?nu.distance(u,m)<nu.distance(u,w)?m:w:w||r.line.source,x=[t,u,n]}else x=g&&m?[g,s,m]:b&&w?[b,s,w]:[Af(g,b,e.line.target),s,Af(m,w,r.line.source)]}else x=g&&m?[g,s,m]:b&&w?[b,s,w]:[e.line.target,s,r.line.source];if(e.curve){const t=h[h.length-1];if(t){const n=t instanceof Array?t[t.length-1]:t;let r;r=x instanceof Array?i?x[0]:x[1]:x;const o=Su(n,e.curve.circle.center,r,e.curve.theta);x instanceof Array&&i?h.push([...o,...x]):h.push([...o,r])}}else if(e.loop){const[t,n,r]=Lf(s,e,c);h.push(t),h.push(r),x instanceof Array&&i?h.push([n,x[1],x[2]]):h.push(x[2])}else!i&&x instanceof Array?r.curve?h.push(x[1]):r.loop?h.push(x[0]):h.push(x[0],x[2]):h.push(x)}{const e=f[f.length-1];let r=_u(t[e.target].shape)*o;const i=s+("edgeOfNode"===a?r:0),l=i<=0?e.line.target:Uf(e,i,n,!1);if(r=_u(t[e.source].shape)*o,e.loop){const t=tu.fromObject(null!=(u=n[e.target])?u:{x:0,y:0}),[o,i,a]=Lf(t,e,r);h.push(o),h.push(a)}else if(e.curve){const t=h[h.length-1],n=t instanceof Array?t[t.length-1]:t,r=Su(n,e.curve.circle.center,l,e.curve.theta);h.push([...r,l])}else h.push(l);s>0&&nu.distance(e.line.source,e.line.target)<=i+r&&(v=!0)}return p&&(h.shift(),h[0]instanceof Array&&h.unshift(h[0][0])),v&&h.pop(),h}function If(e){const t=e.length;if(t<=1)return[!0];const n=[];let r=null,o=!0;for(let i=0;i<t;i++){const a=e[i].edge.source,s=e[i].edge.target;if(0===i)if(t>2){const t=[a,s].sort(),n=[e[1].edge.source,e[1].edge.target].sort();o=t[0]===n[0]&&t[1]===n[1]?[e[2].edge.source,e[2].edge.target].includes(e[1].edge.target)?s===e[1].edge.source:s===e[1].edge.target:[e[1].edge.source,e[1].edge.target].includes(s)}else o=[e[1].edge.source,e[1].edge.target].includes(s);else a===s||(o=r===a);n.push(o),r=o?s:a}return n}function Uf(e,t,n,r){const o=r?e.source:e.target,i=e.curve;if(i){let n=t/i.circle.radius;return i.theta>0&&(n*=-1),r||(n*=-1),tu.fromObject(wu(r?e.line.source:e.line.target,i.circle.center,n))}{let i,a;if(r?(i=e.line.target,a=e.line.source):(i=e.line.source,a=e.line.target),n[o]){const e=hu(i,a,tu.fromObject(n[o]),t);return null===e?i:e}return i}}function Cf(e,t,n){let r=null;if(e.loop||t.loop)r=null;else if(e.curve)if(t.curve){if(e.line.target.isEqualTo(t.line.source))return e.line.target.clone();r=gu(e.curve.circle.center,e.curve.circle.radius,t.curve.circle.center,t.curve.circle.radius,e.curve.center)}else r=pu(t.line.target,t.line.source,e.curve.circle.center,e.curve.circle.radius,n);else if(t.curve)r=hu(e.line.source,e.line.target,t.curve.circle.center,t.curve.circle.radius);else{const n=Ff(e.line),o=Ff(t.line);r=!isFinite(n)&&!isFinite(o)||Math.abs(n-o)<Tf?null:vu(e.line,t.line)}return r}function Df(e,t,n,r){if(e.loop){const o=gu(t,n,e.loop.center,e.loop.radius[0]);return o?r?o[0]:o[1]:null}return e.curve?gu(t,n,e.curve.circle.center,e.curve.circle.radius,tu.fromObject(e.curve.center)):hu(r?e.line.source:e.line.target,r?e.line.target:e.line.source,t,n)}function Nf(e,t,n){let r=n.origin,o=e.edge.source,i=e.edge.target,a=n.curve;const s=n.loop;s?r=n.position:t||(r=cu(r),o=e.edge.target,i=e.edge.source,a&&(a=tl(el({},a),{theta:-a.theta})));const l=ru.fromLinePosition(r);return{edgeId:e.edgeId,source:o,target:i,line:l,direction:t,curve:a,loop:s}}function Ff(e){return(e.target.y-e.source.y)/(e.target.x-e.source.x)}function Lf(e,t,n){const{radius:r,center:o}=il(t.loop,"Loop of edge parameter"),[i,a]=r,s=gu(e,n,o,r[0]);let[l,u]=s?s.reverse():[t.line.source,t.line.target];const c=Zf(t);c||([l,u]=[u,l]);const d=l,f=u,h=tu.fromObject(d).subtract(o).angleDegree();let p=(tu.fromObject(f).subtract(o).angleDegree()+360-h)%360>=180;return p=c?p:!p,[d,f,`A ${i} ${a} 0 ${p?1:0} ${c?1:0} ${f.x} ${f.y}`]}function Zf(e){return!e.loop||(e.direction?e.loop.isClockwise:!e.loop.isClockwise)}const $f=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap","stroke-linejoin"],Bf=(0,i.aZ)({__name:"VPath",props:{path:null},setup(e){const t=e,{nodeStates:n,edgeStates:r,layouts:o}=Lu(),{scale:a}=sd(),s=Pl();function l(e){if(0===e.edges.length)return[];const t=ul.value(s.margin,e.path)*a.value;return zf(e,n,o.nodes,r,a.value,s.curveInNode,s.end,t)}function u(e){const t=l(e);let n=!0;return t.map((e=>{if(null!==e){if("string"==typeof e)return e;if(e instanceof Array){e=[...e];const t=[];if(e.length%2===1){const n=e[0];e=e.slice(1),t.push(`L ${n.x} ${n.y}`)}return Rs(e,2).map((([e,n])=>t.push(`Q ${e.x} ${e.y} ${n.x} ${n.y}`))),t.join(" ")}{const t=n;return n=!1,`${t?"M ":"L "}${e.x} ${e.y}`}}n=!0})).join(" ")}const c=(0,i.Fl)((()=>{const e=t.path;return e.selected?ul.values(s.selected,e.path):e.hovered&&s.hover?ul.values(s.hover,e.path):ul.values(s.normal,e.path)})),d=(0,i.Fl)((()=>pl(c.value.dasharray,a.value))),p=(0,i.Fl)((()=>{const e=!!c.value.animate&&vl(c.value.dasharray)*c.value.animationSpeed*a.value;return e?{"--animation-speed":e}:void 0}));return(t,n)=>((0,i.wg)(),(0,i.iD)("path",{class:(0,h.C_)({"v-ng-path":!0,animate:(0,f.SU)(c).animate,clickable:e.path.clickable,hoverable:e.path.hoverable}),d:u(e.path),fill:"none",stroke:(0,f.SU)(c).color,"stroke-width":(0,f.SU)(c).width*(0,f.SU)(a),"stroke-dasharray":(0,f.SU)(d),"stroke-linecap":(0,f.SU)(c).linecap,"stroke-linejoin":(0,f.SU)(c).linejoin,style:(0,h.j5)((0,f.SU)(p))},null,14,$f))}}),Hf=(0,i.aZ)({__name:"VPaths",setup(e){const{pathZOrderedList:t}=Lu(),n=Pl(),{handlePathPointerDownEvent:r,handlePathPointerOverEvent:o,handlePathPointerOutEvent:a,handlePathClickEvent:s,handlePathDoubleClickEvent:l,handlePathContextMenu:u}=Sc();return(e,c)=>((0,i.wg)(),(0,i.j4)(p.W3,{name:(0,f.SU)(n).transition,css:!!(0,f.SU)(n).transition,tag:"g",class:"v-ng-paths"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(t),(e=>((0,i.wg)(),(0,i.j4)(Bf,{key:e.id,path:e,onPointerdown:t=>(0,f.SU)(r)(e.id,t),onPointerenterPassive:t=>(0,f.SU)(o)(e.id,t),onPointerleavePassive:t=>(0,f.SU)(a)(e.id,t),onClick:(0,p.iM)((t=>(0,f.SU)(s)(e.id,t)),["stop"]),onDblclick:(0,p.iM)((t=>(0,f.SU)(l)(e.id,t)),["stop"]),onContextmenu:t=>(0,f.SU)(u)(e.id,t)},null,8,["path","onPointerdown","onPointerenterPassive","onPointerleavePassive","onClick","onDblclick","onContextmenu"])))),128))])),_:1},8,["name","css"]))}}),Wf=(0,i.aZ)({__name:"VPathsLayer",setup(e){return(e,t)=>((0,i.wg)(),(0,i.j4)(Hf))}}),Rf={key:0},Vf=(0,i.aZ)({__name:"VNetworkGraph",props:{nodes:{default:()=>({})},edges:{default:()=>({})},paths:{default:()=>({})},layouts:{default:()=>({})},zoomLevel:{default:1},selectedNodes:{default:()=>[]},selectedEdges:{default:()=>[]},selectedPaths:{default:()=>[]},configs:{default:()=>({})},layers:{default:()=>({})},eventHandlers:{default:()=>({})}},emits:["update:zoomLevel","update:selectedNodes","update:selectedEdges","update:selectedPaths","update:layouts"],setup(e,{expose:t,emit:n}){const r=e,o=["override-node","override-node-label","edge-overlay","edge-label","edges-label"],a=(0,i.Rr)(),s=(0,f.Vh)(r,"nodes"),l=(0,f.Vh)(r,"edges"),{objects:u,isInCompatibilityModeForPath:c}=cd((0,f.Vh)(r,"paths")),d=_c();Object.entries(r.eventHandlers).forEach((([e,t])=>{d.on(e,t)}));const p=xl((0,f.Vh)(r,"configs")),v=(0,i.Fl)((()=>{const e=new Set(Object.keys(a));o.forEach((t=>e.delete(t)));const t=Object.fromEntries(rl.map((e=>[e,[]])));return Object.assign(t,Object.entries(r.layers).reduce(((t,[n,r])=>(e.delete(n),r in t?t[r].push(n):t[r]=[n],t)),{})),t.root.push(...e),t})),g=(0,i.Fl)((()=>p.view.grid.visible)),y=(0,i.Fl)((()=>{const e=v.value;return g.value||e.background.length>0||e.grid.length>0})),m=Sd(p,a),b=(0,f.iH)(),w=(0,f.iH)(),x=(0,f.iH)(),S=(0,f.iH)(0),k=(0,i.Fl)((()=>0!==S.value)),E=dd(r,"zoomLevel",n,(e=>(e=Math.max(e,p.view.minZoomLevel),e=Math.min(e,p.view.maxZoomLevel),e))),{svgPanZoom:_,onSvgPanZoomMounted:P,onSvgPanZoomUnmounted:O}=od(w,{viewportSelector:".v-ng-viewport",minZoom:p.view.minZoomLevel,maxZoom:p.view.maxZoomLevel,dblClickZoomEnabled:ye(p.view),mouseWheelZoomEnabled:me(p.view),fit:!0,center:!0,zoomEnabled:p.view.zoomEnabled,preventMouseEventsDefault:!1,onZoom:e=>{var t,n;if(2===S.value)return;const r=null!=(n=null==(t=_.value)?void 0:t.getRealZoom())?n:1;Math.abs(E.value-r)>=1e-6&&(E.value=r,d.emit("view:zoom",r))},panEnabled:p.view.panEnabled,onPan:e=>{2!==S.value&&d.emit("view:pan",e)}});sl({container:b,svg:w,viewport:x,svgPanZoom:_});const M={width:0,height:0},j=globalThis.ResizeObserver?new ResizeObserver((()=>{var e,t,n;if(null==(e=_.value)||e.resize(),!p.view.autoPanOnResize)return;const r=null==(t=b.value)?void 0:t.getBoundingClientRect();if(r){const e=-(M.width-r.width)/2,t=-(M.height-r.height)/2;null==(n=_.value)||n.panBy({x:e,y:t});const{width:o,height:i}=r;(M.width!==o||M.height!==i)&&(Object.assign(M,{width:o,height:i}),d.emit("view:resize",{x:r.x,y:r.y,width:o,height:i}))}})):void 0;P((()=>{var e,t,n;const r=il(b.value,"svg-pan-zoom container");null==j||j.observe(r),null==(t=(e=p.view).onSvgPanZoomInitialized)||t.call(e,il(_.value,"svg-pan-zoom instance"));const o=r.getBoundingClientRect(),{width:i,height:a}=o;Object.assign(M,{width:i,height:a}),null==(n=x.value)||n.addEventListener("touchstart",be,{passive:!1})})),O((()=>{var e;null==j||j.disconnect(),null==(e=x.value)||e.removeEventListener("touchstart",be)}));const A=e=>{var t;null==(t=_.value)||t.applyAbsoluteZoomLevel(e,p.view.minZoomLevel,p.view.maxZoomLevel)};(0,i.YP)((()=>p.view.panEnabled),(e=>{var t;null==(t=_.value)||t.setPanEnabled(e)})),(0,i.YP)((()=>[p.view.zoomEnabled,ye(p.view),me(p.view)]),(()=>{const e=_.value;e&&ge(e,p.view.zoomEnabled,p.view.doubleClickZoomEnabled,p.view.mouseWheelZoomEnabled)})),(0,i.YP)(E,(e=>A(e))),(0,i.YP)((()=>[p.view.minZoomLevel,p.view.maxZoomLevel]),(e=>{A(E.value)}));const{scale:T}=ad(E,p.view);P((()=>{const e=r.zoomLevel;A(e)}));const z=e=>{var t;Object.keys(r.nodes).length>0?(null==(t=_.value)||t.updateBBox(),(0,i.Y3)(e)):e()},I=()=>{z((()=>{_.value&&(_.value.fitToContents(),d.emit("view:fit",void 0))}))},U=()=>{z((()=>{var e;null==(e=_.value)||e.center()}))},C=()=>{var e,t;return null!=(t=null==(e=_.value)?void 0:e.getViewBox())?t:{top:0,bottom:0,left:0,right:0}},D=e=>{var t;return null==(t=_.value)?void 0:t.setViewBox(e)},N=fd(r,"selectedNodes",s,n);(0,i.YP)(N,(e=>d.emit("node:select",Array.from(e))));const F=fd(r,"selectedEdges",l,n);(0,i.YP)(F,(e=>d.emit("edge:select",Array.from(e))));const L=fd(r,"selectedPaths",u,n);(0,i.YP)(L,(e=>d.emit("path:select",Array.from(e)))),pd(N,F,L);const Z=ol(new Set),$=ol(new Set),B=ol(new Set),H=ol({nodes:{}});yd(H),(0,i.YP)((()=>r.layouts),(()=>Object.assign(H,r.layouts)),{deep:!0,immediate:!0}),(0,i.YP)(H,(()=>n("update:layouts",H)),{deep:!0});const W=Au(),R=(0,f.iH)(!1);d.on("node:dragstart",(e=>R.value=!0)),d.on("node:dragend",(e=>R.value=!1)),d.on("view:mode",(e=>{var t,n,r,o;p.view.panEnabled&&("default"===e?null==(t=_.value)||t.enablePan():null==(n=_.value)||n.disablePan()),p.view.zoomEnabled&&("default"===e?null==(r=_.value)||r.enableZoom():null==(o=_.value)||o.disableZoom())}));const V=(0,i.Fl)((()=>p.view.panEnabled||p.view.zoomEnabled||p.node.draggable)),{nodeStates:Y,edgeStates:q,pathStates:G}=Nu(Uu(s,N,Z),Uu(l,F,$),Uu(u,L,B),(0,f.OT)(p),H,W,T),K=(0,i.Fl)((()=>me(p.view))),{isBoxSelectionMode:X,selectionBox:J,startBoxSelection:Q,stopBoxSelection:ee}=xc(w,(0,f.OT)(H),(0,f.OT)(E),Y,q,G,N,F,L,Z,$,B,c,K,p,d),te=()=>({layouts:ol(H.nodes),nodePositions:(0,f.Vh)(H,"nodes"),nodes:s,edges:l,configs:(0,f.OT)(p),scale:(0,f.OT)(T),emitter:d,svgPanZoom:il(_.value)});(0,i.YP)((()=>p.view.layoutHandler),((e,t)=>{t.deactivate(),e.activate(te())}));const{transitionWhile:ne,transitionOption:re}=ud(),oe=(0,i.Fl)((()=>{const e=re.value;return e.enabled?{"--transition-duration":e.duration+"ms","--transition-function":e.timingFunction}:{}}));function ie(){var e;null==(e=_.value)||e.zoomIn()}function ae(){var e;null==(e=_.value)||e.zoomOut()}function se(e){var t;null==(t=_.value)||t.pan(e)}function le(e){var t;null==(t=_.value)||t.panBy(e)}function ue(){return il(_.value).getPan()}function ce(){const e=il(_.value).getSizes();return{width:e.width,height:e.height,viewBox:e.viewBox}}function de(e){return dc(il(w.value,"svg"),il(x.value,"viewport"),e)}function fe(e){return fc(il(w.value,"svg"),il(x.value,"viewport"),e)}function he(){return hc(il(w.value,"svg"),il(x.value,"viewport"),T.value).outerHTML}function pe(){return nl(this,arguments,(function*(e={}){return(yield ve(e)).outerHTML}))}function ve(){return nl(this,arguments,(function*(e={}){return vc(il(w.value,"svg"),il(x.value,"viewport"),T.value,e)}))}function ge(e,t,n,r){e.setZoomEnabled(t),t&&n?e.enableDblClickZoom():e.disableDblClickZoom(),t&&r?e.enableMouseWheelZoom():e.disableMouseWheelZoom()}function ye(e){return e.zoomEnabled&&e.doubleClickZoomEnabled}function me(e){return e.zoomEnabled&&e.mouseWheelZoomEnabled}function be(e){e.stopPropagation()}return P((()=>{z((()=>{const e=il(_.value,"svg-pan-zoom");p.view.layoutHandler.activate(te()),(0,i.Y3)((()=>{const t=p.view.autoPanAndZoomOnLoad;if(p.view.fit||!1!==t){const n=0==Object.keys(r.nodes).length,o=e.getPan();if(n||"center-zero"===t){const t=e.getSizes();e.pan({x:t.width/2,y:t.height/2})}else"fit-content"===t||p.view.fit?I():"center-content"===t&&U();(0,i.Y3)((()=>{const t=e.getPan();o.x===t.x&&o.y===t.y&&d.emit("view:pan",t)}))}d.emit("view:load"),S.value=1}))}))})),O((()=>{S.value=2,d.emit("view:unload"),p.view.layoutHandler.deactivate()})),t({fitToContents:I,panToCenter:U,getViewBox:C,setViewBox:D,transitionWhile:ne,startBoxSelection:Q,stopBoxSelection:ee,zoomIn:ie,zoomOut:ae,panTo:se,panBy:le,getPan:ue,getSizes:ce,translateFromDomToSvgCoordinates:de,translateFromSvgToDomCoordinates:fe,getAsSvg:he,exportAsSvgText:pe,exportAsSvgElement:ve}),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{ref_key:"container",ref:b,class:"v-network-graph v-ng-container"},[((0,i.wg)(),(0,i.iD)("svg",{ref_key:"svg",ref:w,class:(0,h.C_)(["v-ng-canvas",{show:(0,f.SU)(k),dragging:R.value,touches:(0,f.SU)(V),"box-selection-mode":(0,f.SU)(X)}]),width:"100%",height:"100%"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(v).root,(t=>(0,i.WI)(e.$slots,t,{key:t,scale:(0,f.SU)(T)}))),128)),Object.keys((0,f.SU)(W).markers).length>0?((0,i.wg)(),(0,i.iD)("defs",Rf,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(W).markers,((e,t)=>((0,i.wg)(),(0,i.j4)(zd,{id:t,key:t,marker:e,scale:(0,f.SU)(T)},null,8,["id","marker","scale"])))),128))])):(0,i.kq)("",!0),(0,f.SU)(y)?((0,i.wg)(),(0,i.j4)(Ld,{key:1},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(v).background,(t=>((0,i.wg)(),(0,i.iD)("g",{key:t,class:"v-ng-layer"},[(0,i.WI)(e.$slots,t,{scale:(0,f.SU)(T)})])))),128)),(0,f.SU)(g)?((0,i.wg)(),(0,i.j4)(Fd,{key:0})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(v).grid,(t=>((0,i.wg)(),(0,i.iD)("g",{key:t,class:"v-ng-layer"},[(0,i.WI)(e.$slots,t,{scale:(0,f.SU)(T)})])))),128))])),_:3})):(0,i.kq)("",!0),(0,i._)("g",{ref_key:"viewport",ref:x,class:(0,h.C_)(["v-ng-viewport",{"v-ng-transition":(0,f.SU)(re).enabled}]),style:(0,h.j5)((0,f.SU)(oe))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(v).base,(t=>((0,i.wg)(),(0,i.iD)("g",{key:t,class:"v-ng-layer"},[(0,i.WI)(e.$slots,t,{scale:(0,f.SU)(T)})])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(m),(t=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t},["edges"===t?((0,i.wg)(),(0,i.j4)(uf,{key:0},{"edge-overlay":(0,i.w5)((t=>[(0,i.WI)(e.$slots,"edge-overlay",(0,h.vs)((0,i.F4)(t)))])),_:3})):"edge-labels"===t?((0,i.wg)(),(0,i.j4)(pf,{key:1,"enable-edge-label":"edge-label"in(0,f.SU)(a),"enable-edges-label":"edges-label"in(0,f.SU)(a)},{"edge-label":(0,i.w5)((t=>[(0,i.WI)(e.$slots,"edge-label",(0,h.vs)((0,i.F4)(t)))])),"edges-label":(0,i.w5)((t=>[(0,i.WI)(e.$slots,"edges-label",(0,h.vs)((0,i.F4)(t)))])),_:3},8,["enable-edge-label","enable-edges-label"])):"focusring"===t?((0,i.wg)(),(0,i.j4)(yf,{key:2})):"nodes"===t?((0,i.wg)(),(0,i.j4)(wf,{key:3},{"override-node":(0,i.w5)((t=>[(0,i.WI)(e.$slots,"override-node",(0,h.vs)((0,i.F4)(t)))])),_:3})):"node-labels"===t?((0,i.wg)(),(0,i.j4)(jf,{key:4},{"override-node-label":(0,i.w5)((t=>[(0,i.WI)(e.$slots,"override-node-label",(0,h.vs)((0,i.F4)(t)))])),_:3})):"paths"===t?((0,i.wg)(),(0,i.j4)(Wf,{key:5})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(v)[t],(t=>((0,i.wg)(),(0,i.iD)("g",{key:t,class:"v-ng-layer"},[(0,i.WI)(e.$slots,t,{scale:(0,f.SU)(T)})])))),128))],64)))),128))],6),(0,f.SU)(J)?((0,i.wg)(),(0,i.j4)(Ed,{key:2,box:(0,f.SU)(J),config:(0,f.SU)(p).view.selection.box},null,8,["box","config"])):(0,i.kq)("",!0)],2))],512))}}),Yf=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},qf={};function Gf(e,t){return(0,i.wg)(),(0,i.iD)("defs",null,[((0,i.wg)(),(0,i.j4)((0,i.LL)("style"),null,{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"default")])),_:3}))])}const Kf=Yf(qf,[["render",Gf]]),Xf=(0,i.aZ)({__name:"VEdgeLabel",props:{area:null,config:null,text:{default:""},align:{default:"center"},verticalAlign:{default:"center"},edge:{default:void 0},hovered:{type:Boolean,default:void 0},selected:{type:Boolean,default:void 0},scale:{default:void 0}},setup(e){const t=e,n=(0,f.iH)(0),r=(0,f.iH)(0),o=(0,f.iH)("middle"),a=(0,f.iH)("central"),s=(0,f.iH)(0);(0,i.m0)((()=>{const e=t.area.source,i=t.area.target;"source"===t.align?(e.above.x==i.above.x?o.value=e.above.y>i.above.y?"start":"end":o.value=e.above.x<i.above.x?"start":"end","above"===t.verticalAlign?(n.value=e.above.x,r.value=e.above.y,a.value="text-top"):"below"===t.verticalAlign?(n.value=e.below.x,r.value=e.below.y,a.value="hanging"):(n.value=(e.above.x+e.below.x)/2,r.value=(e.above.y+e.below.y)/2,a.value="central")):"target"===t.align?(e.above.x==i.above.x?o.value=e.above.y<i.above.y?"start":"end":o.value=e.above.x>i.above.x?"start":"end","above"===t.verticalAlign?(n.value=i.above.x,r.value=i.above.y,a.value="text-top"):"below"===t.verticalAlign?(n.value=i.below.x,r.value=i.below.y,a.value="hanging"):(n.value=(i.above.x+i.below.x)/2,r.value=(i.above.y+i.below.y)/2,a.value="central")):(o.value="middle","above"===t.verticalAlign?(n.value=(e.above.x+i.above.x)/2,r.value=(e.above.y+i.above.y)/2,a.value="text-top"):"below"===t.verticalAlign?(n.value=(e.below.x+i.below.x)/2,r.value=(e.below.y+i.below.y)/2,a.value="hanging"):(n.value=(e.above.x+i.below.x)/2,r.value=(e.above.y+i.below.y)/2,a.value="central"));let l=ru.fromPositions(e.above,i.above).v.angleDegree();(l<-90||l>=90)&&(l+=180,l>180&&(l-=360)),s.value=l}));const l=(0,i.Fl)((()=>"central"!==a.value||t.config.background?t.config:tl(el({},t.config),{background:{visible:!0,color:"#ffffff",padding:{vertical:1,horizontal:4},borderRadius:2}})));return(t,u)=>((0,i.wg)(),(0,i.j4)(nf,{class:"v-ng-edge-label",text:e.text,x:n.value,y:r.value,config:(0,f.SU)(l),"text-anchor":o.value,"dominant-baseline":a.value,transform:`rotate(${s.value} ${n.value} ${r.value})`},null,8,["text","x","y","config","text-anchor","dominant-baseline","transform"]))}});Symbol.toStringTag;function Jf(e,t){var n,r=1;function o(){var o,i,a=n.length,s=0,l=0;for(o=0;o<a;++o)i=n[o],s+=i.x,l+=i.y;for(s=(s/a-e)*r,l=(l/a-t)*r,o=0;o<a;++o)i=n[o],i.x-=s,i.y-=l}return null==e&&(e=0),null==t&&(t=0),o.initialize=function(e){n=e},o.x=function(t){return arguments.length?(e=+t,o):e},o.y=function(e){return arguments.length?(t=+e,o):t},o.strength=function(e){return arguments.length?(r=+e,o):r},o}function Qf(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return eh(this.cover(t,n),t,n,e)}function eh(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,s,l,u,c,d,f,h=e._root,p={data:r},v=e._x0,g=e._y0,y=e._x1,m=e._y1;if(!h)return e._root=p,e;while(h.length)if((u=t>=(i=(v+y)/2))?v=i:y=i,(c=n>=(a=(g+m)/2))?g=a:m=a,o=h,!(h=h[d=c<<1|u]))return o[d]=p,e;if(s=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===s&&n===l)return p.next=h,o?o[d]=p:e._root=p,e;do{o=o?o[d]=new Array(4):e._root=new Array(4),(u=t>=(i=(v+y)/2))?v=i:y=i,(c=n>=(a=(g+m)/2))?g=a:m=a}while((d=c<<1|u)===(f=(l>=a)<<1|s>=i));return o[f]=h,o[d]=p,e}function th(e){var t,n,r,o,i=e.length,a=new Array(i),s=new Array(i),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=r,s[n]=o,r<l&&(l=r),r>c&&(c=r),o<u&&(u=o),o>d&&(d=o));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<i;++n)eh(this,a[n],s[n],e[n]);return this}function nh(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{var a,s,l=o-n||1,u=this._root;while(n>e||e>=o||r>t||t>=i)switch(s=(t<r)<<1|e<n,a=new Array(4),a[s]=u,u=a,l*=2,s){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this}function rh(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e}function oh(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ih(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function ah(e,t,n){var r,o,i,a,s,l,u,c=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],v=this._root;v&&p.push(new ih(v,c,d,f,h)),null==n?n=1/0:(c=e-n,d=t-n,f=e+n,h=t+n,n*=n);while(l=p.pop())if(!(!(v=l.node)||(o=l.x0)>f||(i=l.y0)>h||(a=l.x1)<c||(s=l.y1)<d))if(v.length){var g=(o+a)/2,y=(i+s)/2;p.push(new ih(v[3],g,y,a,s),new ih(v[2],o,y,g,s),new ih(v[1],g,i,a,y),new ih(v[0],o,i,g,y)),(u=(t>=y)<<1|e>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var m=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),w=m*m+b*b;if(w<n){var x=Math.sqrt(n=w);c=e-x,d=t-x,f=e+x,h=t+x,r=v.data}}return r}function sh(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,s,l,u,c,d,f,h=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!h)return this;if(h.length)while(1){if((u=i>=(s=(p+g)/2))?p=s:g=s,(c=a>=(l=(v+y)/2))?v=l:y=l,t=h,!(h=h[d=c<<1|u]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}while(h.data!==e)if(r=h,!(h=h.next))return this;return(o=h.next)&&delete h.next,r?(o?r.next=o:delete r.next,this):t?(o?t[d]=o:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=o,this)}function lh(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function uh(){return this._root}function ch(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e}function dh(e){var t,n,r,o,i,a,s=[],l=this._root;l&&s.push(new ih(l,this._x0,this._y0,this._x1,this._y1));while(t=s.pop())if(!e(l=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&l.length){var u=(r+i)/2,c=(o+a)/2;(n=l[3])&&s.push(new ih(n,u,c,i,a)),(n=l[2])&&s.push(new ih(n,r,c,u,a)),(n=l[1])&&s.push(new ih(n,u,o,i,c)),(n=l[0])&&s.push(new ih(n,r,o,u,c))}return this}function fh(e){var t,n=[],r=[];this._root&&n.push(new ih(this._root,this._x0,this._y0,this._x1,this._y1));while(t=n.pop()){var o=t.node;if(o.length){var i,a=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(a+l)/2,d=(s+u)/2;(i=o[0])&&n.push(new ih(i,a,s,c,d)),(i=o[1])&&n.push(new ih(i,c,s,l,d)),(i=o[2])&&n.push(new ih(i,a,d,c,u)),(i=o[3])&&n.push(new ih(i,c,d,l,u))}r.push(t)}while(t=r.pop())e(t.node,t.x0,t.y0,t.x1,t.y1);return this}function hh(e){return e[0]}function ph(e){return arguments.length?(this._x=e,this):this._x}function vh(e){return e[1]}function gh(e){return arguments.length?(this._y=e,this):this._y}function yh(e,t,n){var r=new mh(null==t?hh:t,null==n?vh:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function mh(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function bh(e){var t={data:e.data},n=t;while(e=e.next)n=n.next={data:e.data};return t}var wh=yh.prototype=mh.prototype;function xh(e){return function(){return e}}function Sh(e){return 1e-6*(e()-.5)}function kh(e){return e.x+e.vx}function Eh(e){return e.y+e.vy}function _h(e){var t,n,r,o=1,i=1;function a(){for(var e,a,l,u,c,d,f,h=t.length,p=0;p<i;++p)for(a=yh(t,kh,Eh).visitAfter(s),e=0;e<h;++e)l=t[e],d=n[l.index],f=d*d,u=l.x+l.vx,c=l.y+l.vy,a.visit(v);function v(e,t,n,i,a){var s=e.data,h=e.r,p=d+h;if(!s)return t>u+p||i<u-p||n>c+p||a<c-p;if(s.index>l.index){var v=u-s.x-s.vx,g=c-s.y-s.vy,y=v*v+g*g;y<p*p&&(0===v&&(v=Sh(r),y+=v*v),0===g&&(g=Sh(r),y+=g*g),y=(p-(y=Math.sqrt(y)))/y*o,l.vx+=(v*=y)*(p=(h*=h)/(f+h)),l.vy+=(g*=y)*p,s.vx-=v*(p=1-p),s.vy-=g*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,o,i=t.length;for(n=new Array(i),r=0;r<i;++r)o=t[r],n[o.index]=+e(o,r,t)}}return"function"!==typeof e&&(e=xh(null==e?1:+e)),a.initialize=function(e,n){t=e,r=n,l()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(o=+e,a):o},a.radius=function(t){return arguments.length?(e="function"===typeof t?t:xh(+t),l(),a):e},a}function Ph(e){return e.index}function Oh(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function Mh(e){var t,n,r,o,i,a,s=Ph,l=d,u=xh(30),c=1;function d(e){return 1/Math.min(o[e.source.index],o[e.target.index])}function f(r){for(var o=0,s=e.length;o<c;++o)for(var l,u,d,f,h,p,v,g=0;g<s;++g)l=e[g],u=l.source,d=l.target,f=d.x+d.vx-u.x-u.vx||Sh(a),h=d.y+d.vy-u.y-u.vy||Sh(a),p=Math.sqrt(f*f+h*h),p=(p-n[g])/p*r*t[g],f*=p,h*=p,d.vx-=f*(v=i[g]),d.vy-=h*v,u.vx+=f*(v=1-v),u.vy+=h*v}function h(){if(r){var a,l,u=r.length,c=e.length,d=new Map(r.map(((e,t)=>[s(e,t,r),e])));for(a=0,o=new Array(u);a<c;++a)l=e[a],l.index=a,"object"!==typeof l.source&&(l.source=Oh(d,l.source)),"object"!==typeof l.target&&(l.target=Oh(d,l.target)),o[l.source.index]=(o[l.source.index]||0)+1,o[l.target.index]=(o[l.target.index]||0)+1;for(a=0,i=new Array(c);a<c;++a)l=e[a],i[a]=o[l.source.index]/(o[l.source.index]+o[l.target.index]);t=new Array(c),p(),n=new Array(c),v()}}function p(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+l(e[n],n,e)}function v(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,a=t,h()},f.links=function(t){return arguments.length?(e=t,h(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(c=+e,f):c},f.strength=function(e){return arguments.length?(l="function"===typeof e?e:xh(+e),p(),f):l},f.distance=function(e){return arguments.length?(u="function"===typeof e?e:xh(+e),v(),f):u},f}wh.copy=function(){var e,t,n=new mh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=bh(r),n;e=[{source:r,target:n._root=new Array(4)}];while(r=e.pop())for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=new Array(4)}):r.target[o]=bh(t));return n},wh.add=Qf,wh.addAll=th,wh.cover=nh,wh.data=rh,wh.extent=oh,wh.find=ah,wh.remove=sh,wh.removeAll=lh,wh.root=uh,wh.size=ch,wh.visit=dh,wh.visitAfter=fh,wh.x=ph,wh.y=gh;var jh={value:()=>{}};function Ah(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Th(r)}function Th(e){this._=e}function zh(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Ih(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function Uh(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=jh,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Th.prototype=Ah.prototype={constructor:Th,on:function(e,t){var n,r=this._,o=zh(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);while(++i<a)if(n=(e=o[i]).type)r[n]=Uh(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Uh(r[n],e.name,null);return this}while(++i<a)if((n=(e=o[i]).type)&&(n=Ih(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Th(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var Ch,Dh,Nh=Ah,Fh=0,Lh=0,Zh=0,$h=1e3,Bh=0,Hh=0,Wh=0,Rh="object"===typeof performance&&performance.now?performance:Date,Vh="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yh(){return Hh||(Vh(qh),Hh=Rh.now()+Wh)}function qh(){Hh=0}function Gh(){this._call=this._time=this._next=null}function Kh(e,t,n){var r=new Gh;return r.restart(e,t,n),r}function Xh(){Yh(),++Fh;var e,t=Ch;while(t)(e=Hh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Fh}function Jh(){Hh=(Bh=Rh.now())+Wh,Fh=Lh=0;try{Xh()}finally{Fh=0,ep(),Hh=0}}function Qh(){var e=Rh.now(),t=e-Bh;t>$h&&(Wh-=t,Bh=e)}function ep(){var e,t,n=Ch,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ch=t);Dh=e,tp(r)}function tp(e){if(!Fh){Lh&&(Lh=clearTimeout(Lh));var t=e-Hh;t>24?(e<1/0&&(Lh=setTimeout(Jh,e-Rh.now()-Wh)),Zh&&(Zh=clearInterval(Zh))):(Zh||(Bh=Rh.now(),Zh=setInterval(Qh,$h)),Fh=1,Vh(Jh))}}Gh.prototype=Kh.prototype={constructor:Gh,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Yh():+n)+(null==t?0:+t),this._next||Dh===this||(Dh?Dh._next=this:Ch=this,Dh=this),this._call=e,this._time=n,tp()},stop:function(){this._call&&(this._call=null,this._time=1/0,tp())}};const np=1664525,rp=1013904223,op=4294967296;function ip(){let e=1;return()=>(e=(np*e+rp)%op)/op}function ap(e){return e.x}function sp(e){return e.y}var lp=10,up=Math.PI*(3-Math.sqrt(5));function cp(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=new Map,l=Kh(d),u=Nh("tick","end"),c=ip();function d(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(r){var l,u,c=e.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(i-n)*o,s.forEach((function(e){e(n)})),l=0;l<c;++l)u=e[l],null==u.fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if(t=e[n],t.index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=lp*Math.sqrt(.5+n),i=n*up;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var o,i,a,s,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)s=e[u],o=t-s.x,i=n-s.y,a=o*o+i*i,a<r&&(l=s,r=a);return l},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}}function dp(){var e,t,n,r,o,i=xh(-30),a=1,s=1/0,l=.81;function u(n){var o,i=e.length,a=yh(e,ap,sp).visitAfter(d);for(r=n,o=0;o<i;++o)t=e[o],a.visit(f)}function c(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+i(n,t,e)}}function d(e){var t,n,r,i,a,s=0,l=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,r+=n*t.x,i+=n*t.y);e.x=r/l,e.y=i/l}else{t=e,t.x=t.data.x,t.y=t.data.y;do{s+=o[t.data.index]}while(t=t.next)}e.value=s}function f(e,i,u,c){if(!e.value)return!0;var d=e.x-t.x,f=e.y-t.y,h=c-i,p=d*d+f*f;if(h*h/l<p)return p<s&&(0===d&&(d=Sh(n),p+=d*d),0===f&&(f=Sh(n),p+=f*f),p<a&&(p=Math.sqrt(a*p)),t.vx+=d*e.value*r/p,t.vy+=f*e.value*r/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===d&&(d=Sh(n),p+=d*d),0===f&&(f=Sh(n),p+=f*f),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(h=o[e.data.index]*r/p,t.vx+=d*h,t.vy+=f*h)}while(e=e.next)}}return u.initialize=function(t,r){e=t,n=r,c()},u.strength=function(e){return arguments.length?(i="function"===typeof e?e:xh(+e),c(),u):i},u.distanceMin=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.distanceMax=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u.theta=function(e){return arguments.length?(l=e*e,u):Math.sqrt(l)},u}function fp(e,t,n){var r,o,i,a=xh(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var l=r[a],u=l.x-t||1e-6,c=l.y-n||1e-6,d=Math.sqrt(u*u+c*c),f=(i[a]-d)*o[a]*e/d;l.vx+=u*f,l.vy+=c*f}}function l(){if(r){var t,n=r.length;for(o=new Array(n),i=new Array(n),t=0;t<n;++t)i[t]=+e(r[t],t,r),o[t]=isNaN(i[t])?0:+a(r[t],t,r)}}return"function"!==typeof e&&(e=xh(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,l()},s.strength=function(e){return arguments.length?(a="function"===typeof e?e:xh(+e),l(),s):a},s.radius=function(t){return arguments.length?(e="function"===typeof t?t:xh(+t),l(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s}function hp(e){var t,n,r,o=xh(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)o=t[i],o.vx+=(r[i]-o.x)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!==typeof e&&(e=xh(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"===typeof e?e:xh(+e),a(),i):o},i.x=function(t){return arguments.length?(e="function"===typeof t?t:xh(+t),a(),i):e},i}function pp(e){var t,n,r,o=xh(.1);function i(e){for(var o,i=0,a=t.length;i<a;++i)o=t[i],o.vy+=(r[i]-o.y)*n[i]*e}function a(){if(t){var i,a=t.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!==typeof e&&(e=xh(null==e?0:+e)),i.initialize=function(e){t=e,a()},i.strength=function(e){return arguments.length?(o="function"===typeof e?e:xh(+e),a(),i):o},i.y=function(t){return arguments.length?(e="function"===typeof t?t:xh(+t),a(),i):e},i}var vp=Object.defineProperty,gp=Object.defineProperties,yp=Object.getOwnPropertyDescriptors,mp=Object.getOwnPropertySymbols,bp=Object.prototype.hasOwnProperty,wp=Object.prototype.propertyIsEnumerable,xp=(e,t,n)=>t in e?vp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sp=(e,t)=>{for(var n in t||(t={}))bp.call(t,n)&&xp(e,n,t[n]);if(mp)for(var n of mp(t))wp.call(t,n)&&xp(e,n,t[n]);return e},kp=(e,t)=>gp(e,yp(t));class Ep{constructor(e={}){this.options=e}activate(e){const{nodePositions:t,nodes:n,edges:r,emitter:o}=e;let{nodeLayouts:a,nodeLayoutMap:s}=this.buildNodeLayouts(n.value,t);const l=this.createSimulation(a,this.forceLayoutEdges(r.value,n.value));this.onTick=()=>{var e,n,r,o,i;for(const s of a){const a=null==(e=t.value)?void 0:e[s.id];if(a){const e=null!=(n=s.x)?n:0,t=null!=(r=s.y)?r:0;(a.x!==e||a.y!==e)&&Object.assign(a,{x:e,y:t})}else t.value[s.id]={x:null!=(o=s.x)?o:0,y:null!=(i=s.y)?i:0}}},l.on("tick",this.onTick),this.onTick();const u=()=>{this.options.noAutoRestartSimulation||l.alpha(.1).restart()},c=e=>{var n;if(this.options.noAutoRestartSimulation)for(const[r,o]of Object.entries(e)){const e=null==(n=t.value)?void 0:n[r];e.x=o.x,e.y=o.y}else{for(const[t,n]of Object.entries(e)){const e=s[t];e.fx=n.x,e.fy=n.y}u()}},d=e=>{var n;for(const[r,o]of Object.entries(e)){const e=this.getNodeLayout(t,r),i=null!=(n=null==s?void 0:s[r])?n:{x:0,y:0};e.value.fixed||this.options.positionFixedByDrag?(i.fx=o.x,i.fy=o.y,e.value.fixed=!0):(i.x=o.x,i.y=o.y,delete i.fx,delete i.fy)}u()},f=({node:e,event:n})=>{if(this.options.positionFixedByClickWithAltKey&&n.altKey){const n=this.getNodeLayout(t,e);let r=null==s?void 0:s[e];r||(r={id:e,x:0,y:0},s[e]=r),n.value.fixed?(delete n.value.fixed,r.x=r.fx||r.x,r.y=r.fy||r.y,delete r.fx,delete r.fy):(n.value.fixed=!0,r.fx=r.x,r.fy=r.y),u()}},h=(0,i.YP)((()=>[Object.keys(n.value),Object.values(r.value).map((e=>`${e.source}=${e.target}`))]),(()=>{({nodeLayouts:a,nodeLayoutMap:s}=this.buildNodeLayouts(n.value,t)),l.nodes(a);const e=l.force("edge");e&&e.links(this.forceLayoutEdges(r.value,n.value)),u()}));o.on("node:dragstart",c),o.on("node:pointermove",c),o.on("node:dragend",d),o.on("node:click",f),this.onDeactivate=()=>{l.stop(),h(),o.off("node:dragstart",c),o.off("node:pointermove",c),o.off("node:dragend",d),o.off("node:click",f)}}deactivate(){this.onDeactivate&&this.onDeactivate(),this.onTick=void 0}ticked(){var e;null==(e=this.onTick)||e.call(this)}createSimulation(e,t){if(this.options.createSimulation)return this.options.createSimulation(r,e,t);{const n=Mh(t).id((e=>e.id));return cp(e).force("edge",n.distance(100)).force("charge",dp()).force("collide",_h(50).strength(.2)).force("center",Jf().strength(.05)).alphaMin(.001)}}buildNodeLayouts(e,t){const n=Object.keys(e).filter((e=>!(e in t.value))),r=this.forceNodeLayouts(t.value,n),o=Object.fromEntries(r.map((e=>[e.id,e])));return{nodeLayouts:r,nodeLayoutMap:o}}forceNodeLayouts(e,t){const n=Object.entries(e).map((([e,t])=>t.fixed?kp(Sp({id:e},t),{fx:t.x,fy:t.y}):Sp({id:e},t)));return t.map((e=>({id:e}))).forEach((e=>n.push(e))),n}forceLayoutEdges(e,t){return Object.values(e).filter((e=>e.source in t&&e.target in t)).map((e=>({source:e.source,target:e.target})))}getNodeLayout(e,t){const n=(0,f.Vh)(e.value,t);return n.value||(n.value={x:0,y:0}),n}}var _p=n(3907),Pp={name:"graph",components:{"v-network-graph":Vf,"v-edge-label":Xf},setup(){const e=(0,_p.oR)(),t=(0,f.iH)(null),n=(0,f.iH)(null),r=(0,f.iH)([null]),o={},a={view:{layoutHandler:new Ep({positionFixedByDrag:!1,positionFixedByClickWithAltKey:!0,createSimulation:(e,n,r)=>{const o=e.forceLink(r).id((e=>e.id));return e.forceSimulation(n).force("edge",o.distance(200)).force("charge",e.forceManyBody().strength(-2e3)).force("collide",e.forceCollide().radius(60).iterations(2)).force("center",e.forceCenter()).alphaMin(.001).alpha(.5).on("end",(()=>{t.value.fitToContents()}))}})},node:{selectable:!0,normal:{strokeWidth:1,type:"circle",radius:16,color:"#E6F5FC",strokeColor:"#80bed9"},selected:{strokeWidth:1,type:"circle",radius:16,color:"#fab600",strokeColor:"#E1A400"},hover:{strokeWidth:1,type:"circle",radius:16,color:"#8fd2f1",strokeColor:"#4aa2c9"},focusring:{visible:!1},label:{visible:!0,fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",margin:12,direction:"south",directionAutoAdjustment:!0,text:e=>{var t=20;if(e.label.length<t)return e.label;var n="",r="",o=e.label.split(" ");return o.forEach((e=>{(r+e).length>t&&r.includes(" ")&&(n+=r.trim()+"\n",r=""),r+=e+" ";while(r.length>t)n+=r.slice(0,t)+"\n",r=r.slice(t)})),n+=r,n.trim()}}},edge:{type:"curve",normal:{color:"#80bed9"},hover:{color:"#4aa2c9"},marker:{target:{type:"arrow"}},label:{visible:!0,fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",margin:4,direction:"south"}}},s=(0,i.Fl)((()=>e.state.visited)),l=(0,i.Fl)((()=>(0,f.IU)(e.state.nodes))),u=(0,i.Fl)((()=>(0,f.IU)(e.state.edges))),c=(0,i.Fl)((()=>e.getters.lastId)),d=(0,i.Fl)((()=>e.getters.getSetByIndex)),h=(0,i.Fl)((()=>n.value<1)),p=(0,i.Fl)((()=>n.value>=s.value.length-1)),v=(0,i.Fl)((()=>0===s.value.length)),g=({node:e})=>{var t=e;window.location.href="//"+t},y=()=>{e.commit("CLEAR_GRAPH"),n.value=0},m=()=>{r.value=[c.value.replace(/http.?:\/\//,"")]},b=()=>{const e=d.value(--n.value)?.id;e&&(r.value=[e.replace(/http.?:\/\//,"")])},w=()=>{const e=d.value(++n.value)?.id;e&&(r.value=[e.replace(/http.?:\/\//,"")])};return(0,i.YP)(s,(()=>{n.value=s.value.length})),(0,i.bv)((()=>{n.value=s.value.length,m()})),o["node:click"]=g,{networkRef:t,configs:a,nodes:l,edges:u,disablePrevious:h,disableNext:p,disableDelete:v,selectCurrent:m,selectPrevious:b,selectNext:w,clearNodes:y,navigate:g,selectedNodes:r,eventHandlers:o}}},Op=n(3744);const Mp=(0,Op.Z)(Pp,[["render",d],["__scopeId","data-v-47f14fc4"]]);var jp=Mp;const Ap={data(){return{dataset:null,title:null,id:null,loaded:!1}},components:{graph:jp},created(){this.fetchData()},watch:{$route:"fetchData"},methods:{getTitle(){return(0,o.YQ)(this.dataset)},async setTitle(){this.title=await this.getTitle(),document.title=`${this.title} | LOD`},tripleReducer(e,t){const n=t.p.value;let r=n.lastIndexOf("#")>-1?n.lastIndexOf("#"):n.lastIndexOf("/"),o=n.substr(r+1);return e[o]||(e[o]=[]),e[o].push(t),e}}}},384:function(e){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},5955:function(e,t,n){"use strict";var r=n(2584),o=n(8662),i=n(6430),a=n(5692);function s(e){return e.call.bind(e)}var l="undefined"!==typeof BigInt,u="undefined"!==typeof Symbol,c=s(Object.prototype.toString),d=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(l)var p=s(BigInt.prototype.valueOf);if(u)var v=s(Symbol.prototype.valueOf);function g(e,t){if("object"!==typeof e)return!1;try{return t(e),!0}catch(n){return!1}}function y(e){return"undefined"!==typeof Promise&&e instanceof Promise||null!==e&&"object"===typeof e&&"function"===typeof e.then&&"function"===typeof e.catch}function m(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||$(e)}function b(e){return"Uint8Array"===i(e)}function w(e){return"Uint8ClampedArray"===i(e)}function x(e){return"Uint16Array"===i(e)}function S(e){return"Uint32Array"===i(e)}function k(e){return"Int8Array"===i(e)}function E(e){return"Int16Array"===i(e)}function _(e){return"Int32Array"===i(e)}function P(e){return"Float32Array"===i(e)}function O(e){return"Float64Array"===i(e)}function M(e){return"BigInt64Array"===i(e)}function j(e){return"BigUint64Array"===i(e)}function A(e){return"[object Map]"===c(e)}function T(e){return"undefined"!==typeof Map&&(A.working?A(e):e instanceof Map)}function z(e){return"[object Set]"===c(e)}function I(e){return"undefined"!==typeof Set&&(z.working?z(e):e instanceof Set)}function U(e){return"[object WeakMap]"===c(e)}function C(e){return"undefined"!==typeof WeakMap&&(U.working?U(e):e instanceof WeakMap)}function D(e){return"[object WeakSet]"===c(e)}function N(e){return D(e)}function F(e){return"[object ArrayBuffer]"===c(e)}function L(e){return"undefined"!==typeof ArrayBuffer&&(F.working?F(e):e instanceof ArrayBuffer)}function Z(e){return"[object DataView]"===c(e)}function $(e){return"undefined"!==typeof DataView&&(Z.working?Z(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=o,t.isTypedArray=a,t.isPromise=y,t.isArrayBufferView=m,t.isUint8Array=b,t.isUint8ClampedArray=w,t.isUint16Array=x,t.isUint32Array=S,t.isInt8Array=k,t.isInt16Array=E,t.isInt32Array=_,t.isFloat32Array=P,t.isFloat64Array=O,t.isBigInt64Array=M,t.isBigUint64Array=j,A.working="undefined"!==typeof Map&&A(new Map),t.isMap=T,z.working="undefined"!==typeof Set&&z(new Set),t.isSet=I,U.working="undefined"!==typeof WeakMap&&U(new WeakMap),t.isWeakMap=C,D.working="undefined"!==typeof WeakSet&&D(new WeakSet),t.isWeakSet=N,F.working="undefined"!==typeof ArrayBuffer&&F(new ArrayBuffer),t.isArrayBuffer=L,Z.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&Z(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=$;var B="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function H(e){return"[object SharedArrayBuffer]"===c(e)}function W(e){return"undefined"!==typeof B&&("undefined"===typeof H.working&&(H.working=H(new B)),H.working?H(e):e instanceof B)}function R(e){return"[object AsyncFunction]"===c(e)}function V(e){return"[object Map Iterator]"===c(e)}function Y(e){return"[object Set Iterator]"===c(e)}function q(e){return"[object Generator]"===c(e)}function G(e){return"[object WebAssembly.Module]"===c(e)}function K(e){return g(e,d)}function X(e){return g(e,f)}function J(e){return g(e,h)}function Q(e){return l&&g(e,p)}function ee(e){return u&&g(e,v)}function te(e){return K(e)||X(e)||J(e)||Q(e)||ee(e)}function ne(e){return"undefined"!==typeof Uint8Array&&(L(e)||W(e))}t.isSharedArrayBuffer=W,t.isAsyncFunction=R,t.isMapIterator=V,t.isSetIterator=Y,t.isGeneratorObject=q,t.isWebAssemblyCompiledModule=G,t.isNumberObject=K,t.isStringObject=X,t.isBooleanObject=J,t.isBigIntObject=Q,t.isSymbolObject=ee,t.isBoxedPrimitive=te,t.isAnyArrayBuffer=ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},9539:function(e,t,n){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!k(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])w(s)||!O(s)?a+=" "+s:a+=" "+l(s);return a},t.deprecate=function(e,n){if("undefined"!==typeof process&&!0===process.noDeprecation)return e;if("undefined"===typeof process)return function(){return t.deprecate(e,n).apply(this,arguments)};var r=!1;function o(){if(!r){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),r=!0}return e.apply(this,arguments)}return o};var i={},a=/^$/;if({VUE_APP_SPARQL_ENDPOINT:"https://stad.gent/sparql",VUE_APP_SUBDOMAIN:"",NODE_ENV:"production",BASE_URL:"/data/"}.NODE_DEBUG){var s={VUE_APP_SPARQL_ENDPOINT:"https://stad.gent/sparql",VUE_APP_SUBDOMAIN:"",NODE_ENV:"production",BASE_URL:"/data/"}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+s+"$","i")}function l(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(n)?r.showHidden=n:n&&t._extend(r,n),_(r.showHidden)&&(r.showHidden=!1),_(r.depth)&&(r.depth=2),_(r.colors)&&(r.colors=!1),_(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),f(r,e,r.depth)}function u(e,t){var n=l.styles[t];return n?"["+l.colors[n][0]+"m"+e+"["+l.colors[n][1]+"m":e}function c(e,t){return e}function d(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function f(e,n,r){if(e.customInspect&&n&&A(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return k(o)||(o=f(e,o,r)),o}var i=h(e,n);if(i)return i;var a=Object.keys(n),s=d(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),j(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(A(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(P(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(M(n))return e.stylize(Date.prototype.toString.call(n),"date");if(j(n))return p(n)}var u,c="",b=!1,w=["{","}"];if(m(n)&&(b=!0,w=["[","]"]),A(n)){var x=n.name?": "+n.name:"";c=" [Function"+x+"]"}return P(n)&&(c=" "+RegExp.prototype.toString.call(n)),M(n)&&(c=" "+Date.prototype.toUTCString.call(n)),j(n)&&(c=" "+p(n)),0!==a.length||b&&0!=n.length?r<0?P(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=b?v(e,n,r,s,a):a.map((function(t){return g(e,n,r,s,t,b)})),e.seen.pop(),y(u,c,w)):w[0]+c+w[1]}function h(e,t){if(_(t))return e.stylize("undefined","undefined");if(k(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return S(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):w(t)?e.stylize("null","null"):void 0}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function v(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)D(t,String(a))?i.push(g(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(g(e,t,n,r,o,!0))})),i}function g(e,t,n,r,o,i){var a,s,l;if(l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),D(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=w(n)?f(e,l.value,null):f(e,l.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n"))):s=e.stylize("[Circular]","special")),_(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function m(e){return Array.isArray(e)}function b(e){return"boolean"===typeof e}function w(e){return null===e}function x(e){return null==e}function S(e){return"number"===typeof e}function k(e){return"string"===typeof e}function E(e){return"symbol"===typeof e}function _(e){return void 0===e}function P(e){return O(e)&&"[object RegExp]"===z(e)}function O(e){return"object"===typeof e&&null!==e}function M(e){return O(e)&&"[object Date]"===z(e)}function j(e){return O(e)&&("[object Error]"===z(e)||e instanceof Error)}function A(e){return"function"===typeof e}function T(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function z(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!i[e])if(a.test(e)){var n=process.pid;i[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else i[e]=function(){};return i[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(5955),t.isArray=m,t.isBoolean=b,t.isNull=w,t.isNullOrUndefined=x,t.isNumber=S,t.isString=k,t.isSymbol=E,t.isUndefined=_,t.isRegExp=P,t.types.isRegExp=P,t.isObject=O,t.isDate=M,t.types.isDate=M,t.isError=j,t.types.isNativeError=j,t.isFunction=A,t.isPrimitive=T,t.isBuffer=n(384);var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),U[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=n(5717),t._extend=function(e,t){if(!t||!O(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e};var N="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function F(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function L(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var r=t.pop();if("function"!==typeof r)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return r.apply(o,arguments)};e.apply(this,t).then((function(e){process.nextTick(i.bind(null,null,e))}),(function(e){process.nextTick(F.bind(null,e,i))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,r(e)),t}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t=e[N];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(a){n(a)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=N,t.callbackify=L},8802:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(6252),o=n(3577);const i={class:"dataset"},a={key:0},s=["title"],l={key:1},u=["title"],c={"aria-hidden":"true",class:"predicate"},d={key:0},f=["href"],h=["innerHTML"],p=["href"],v=["innerHTML"];function g(e,t,n,g,y,m){return(0,r.wg)(),(0,r.iD)("dl",i,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.sortKeys(Object.keys(n.resource)),((e,t)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[((0,r.wg)(),(0,r.iD)("dt",{key:`dt-${t}`},[m.isSubject(n.resource[e][0].o)?((0,r.wg)(),(0,r.iD)("span",a,[(0,r.Uk)(" Is predicate "),(0,r._)("abbr",{title:m.getPredicate(e)},(0,o.zw)(e),9,s),(0,r.Uk)(" of ")])):((0,r.wg)(),(0,r.iD)("span",l,[(0,r.Uk)(" Has predicate "),(0,r._)("abbr",{title:m.getPredicate(e)},(0,o.zw)(e),9,u)])),(0,r._)("div",c,(0,o.zw)(m.getPredicate(e)),1)])),((0,r.wg)(),(0,r.iD)("dd",{key:`dd-${t}`},[n.resource[e].length>1?((0,r.wg)(),(0,r.iD)("ul",d,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.resource[e],((t,n)=>((0,r.wg)(),(0,r.iD)("li",{key:`${e}-${n}`},[m.isUri(t.o)?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"uri",href:m.getDataUri(t)},(0,o.zw)(m.getUri(t)),9,f)):((0,r.wg)(),(0,r.iD)("div",{key:1,innerHTML:m.getMarkdown(t)},null,8,h))])))),128))])):((0,r.wg)(!0),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(n.resource[e],((t,n)=>((0,r.wg)(),(0,r.iD)(r.HY,{key:`${e}-${n}`},[m.isUri(t.o)?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"uri",href:m.getDataUri(t)},(0,o.zw)(m.getUri(t)),9,p)):m.isHTML(t)?((0,r.wg)(),(0,r.iD)("code",{key:`${e}-${n}`},(0,o.zw)(m.getValue(t)),1)):((0,r.wg)(),(0,r.iD)("div",{innerHTML:m.getMarkdown(t),key:`${e}-${n}`},null,8,v))],64)))),128))]))],64)))),256))])}var y=n(3841),m={props:{resource:{type:Object},id:{type:String}},methods:{sortKeys(e){return e.sort(((e,t)=>e.localeCompare(t)))},isSubject(e){const t=/^http[s]*:\/\/stad.gent\/id(.)*\/${this.id}(.)*/gi;return t.test(e.value)},isUri(e){return"uri"===e.type},isHTML(e){let t=this.getValue(e).trim();return/^<.+>$/gms.test(t)},getUri(e){return this.isSubject(e.o)?e.s.value:e.o.value},getValue(e){return(this.isSubject(e.o)?e.s.value:e.o.value)+""},getDataUri(e){return this.getUri(e).replace(".gent/id/",".gent/data/")},getMarkdown(e){let t=(this.isSubject(e.o)?e.s.value:e.o.value)+"";return y.Q(t)},getPredicate(e){return this.resource[e][0].p.value}}},b=n(3744);const w=(0,b.Z)(m,[["render",g]]);var x=w},6430:function(e,t,n){"use strict";var r=n(4029),o=n(3083),i=n(1924),a=n(7296),s=i("Object.prototype.toString"),l=n(6410)(),u="undefined"===typeof globalThis?n.g:globalThis,c=o(),d=i("String.prototype.slice"),f={},h=Object.getPrototypeOf;l&&a&&h&&r(c,(function(e){if("function"===typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var n=h(t),r=a(n,Symbol.toStringTag);if(!r){var o=h(n);r=a(o,Symbol.toStringTag)}f[e]=r.get}}}));var p=function(e){var t=!1;return r(f,(function(n,r){if(!t)try{var o=n.call(e);o===r&&(t=o)}catch(i){}})),t},v=n(5692);e.exports=function(e){return!!v(e)&&(l&&Symbol.toStringTag in e?p(e):d(s(e),8,-1))}},3083:function(e,t,n){"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"===typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"===typeof o[r[t]]&&(e[e.length]=r[t]);return e}}}]);
//# sourceMappingURL=796.5da47206.js.map