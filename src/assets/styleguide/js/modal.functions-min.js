"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define(t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.Modal=t()}(window,function(){return Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),function(o,i){if("undefined"!=typeof gent_styleguide){if(o&&o.id){i||(i={}),void 0===i.changeHash&&(i.changeHash=!0);var r=[],a=void 0,s=void 0,t=new gent_styleguide.TabTrap(o),e=function(e){var t=o.parentNode.closest(".modal.visible");t?t.style.overflow=e?"":"hidden":document.body.style.overflow=e?"":"hidden"},d=function(){(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&!1!==i.changeHash&&(history.pushState(null,null,"#"+o.id),s="#"+o.id),o.classList.add("visible"),o.setAttribute("aria-hidden","false"),e(),document.addEventListener("keydown",l),a&&a.setAttribute("aria-expanded","true"),o.focus()},n=function(){o.classList.remove("visible"),o.setAttribute("aria-hidden","true"),e(!0),document.removeEventListener("keydown",l),a&&(a.setAttribute("aria-expanded","false"),a.focus())},l=function(e){if(t&&t.hasFocusables&&e)switch(e.keyCode||e.which){case 9:e.shiftKey?t.back(e):t.next(e);break;case 27:e.preventDefault(),c()}},c=function(){i.changeHash?history.back():n()},u=function(){var e=void 0;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(i.resizeEvent,250)})},f=function(){window.addEventListener("hashchange",function(){s==="#"+o.id&&n(),(s=window.location.hash)==="#"+o.id&&d(!1)}),s==="#"+o.id&&(history.replaceState(null,null,window.location.href.split("#")[0]),d())};return function(){if(r=document.querySelectorAll('[aria-controls="'+o.id+'"]'),i.changeHash||0!==r.length){o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true");for(var e=r.length;e--;)(a=r[e]).setAttribute("aria-expanded","false"),a.addEventListener("click",function(){d()});for(var t=o.querySelectorAll(i.closeBtns||".modal-close"),n=t.length;n--;)t[n].dataset.target&&t[n].dataset.target!==o.id||t[n].addEventListener("click",c);i.resizeEvent&&(i.resizeEvent(),u()),s=window.location.hash,i.changeHash&&f()}}(),{}}}else console.error("You need to include base.js.")}});