"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"function"==typeof define&&define.amd?define(t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e.Accordion=t()}(window,function(){return function(r,o){var i=[];o=function(){for(var e={expand:function(e,t){t.style.maxHeight=t.scrollHeight+"px"},collapse:function(e,t){t.style.maxHeight=0},transitionEnd:function(e){"max-height"===e.propertyName&&(e.currentTarget.classList.contains("accordion--expanded")||e.currentTarget.setAttribute("hidden","true"))},resizeEvent:function(e,t){for(var n=t.length;n--;)r.expand(null,t[n])},init:!0,buttonSelector:"button.accordion--button",accordionExpandedClass:"accordion--expanded"},t=Object.keys(e),r=r||{},n=t.length;n--;)r[t[n]]=r[t[n]]||e[t[n]];return r}();var a=r.querySelectorAll(o.buttonSelector),n=function(e){e.preventDefault();var t=e.currentTarget;t.setAttribute("aria-expanded","true"===t.getAttribute("aria-expanded")?"false":"true"),c(t)},u=function(t){var e=t.keyCode||t.which,n=function(){for(var e=a.length;e--;)if(a[e]===t.currentTarget)return e}();switch(e){case 40:t.preventDefault(),n===a.length-1&&(n=-1),a[n+1].focus();break;case 38:t.preventDefault(),0===n&&(n=a.length),a[n-1].focus();break;case 36:t.preventDefault(),a[0].focus();break;case 35:t.preventDefault(),a[a.length-1].focus()}},c=function(e,t){var n=r.querySelector("#"+e.getAttribute("aria-controls"));n&&("true"===e.getAttribute("aria-expanded")?(n.classList.add(o.accordionExpandedClass),n.setAttribute("aria-hidden","false"),n.removeAttribute("hidden"),i.push(n),o.expand(e,n)):(n.classList.remove(o.accordionExpandedClass),n.setAttribute("aria-hidden","true"),t&&n.setAttribute("hidden","true"),i.filter(function(e){return e!==n}),o.collapse(e,n)))},e=function(){!function(){for(var e=a.length;e--;)c(a[e],!0)}(),function(){for(var e=a.length;e--;){var t=a[e];t.addEventListener("click",n),t.addEventListener("keydown",u),r.querySelector("#"+t.getAttribute("aria-controls")).addEventListener("transitionend",o.transitionEnd),o.resizeEvent&&window.addEventListener("resize",function(e){o.resizeEvent(e,i)})}}()};return!1!==o.init&&e(),{init:e,closeAll:function(){for(var e=a.length;e--;)a[e].setAttribute("aria-expanded","false"),c(a[e])},openAll:function(){for(var e=a.length;e--;)a[e].setAttribute("aria-expanded","true"),c(a[e])}}}});